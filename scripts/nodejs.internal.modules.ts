export const modules: any[] = [
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";module.exports=require("assert").strict;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const dnsPromises=require("internal/dns/promises");dnsPromises.setServers=require("dns").setServers,module.exports=dnsPromises;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";module.exports=require("internal/fs/promises").exports;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";module.exports=require("path").posix;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";module.exports=require("path").win32;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Promise}=primordials,{Readline}=require("internal/readline/promises"),{Interface:_Interface,kQuestionCancel}=require("internal/readline/interface"),{AbortError}=require("internal/errors"),{validateAbortSignal}=require("internal/validators");class Interface extends _Interface{constructor(n,e,r,t){super(n,e,r,t)}question(n,e={}){return new Promise((r,t)=>{let a=r;if(e?.signal){if(validateAbortSignal(e.signal,"options.signal"),e.signal.aborted)return t(new AbortError);const s=()=>{this[kQuestionCancel](),t(new AbortError)};e.signal.addEventListener("abort",s,{once:!0}),a=o=>{e.signal.removeEventListener("abort",s),r(o)}}super.question(n,a)})}}function createInterface(i,n,e,r){return new Interface(i,n,e,r)}module.exports={Interface,Readline,createInterface};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectAssign,ObjectDefineProperties,ObjectSetPrototypeOf,ObjectDefineProperty,Symbol,SymbolToStringTag}=primordials,{defineEventHandler,EventTarget,Event,kTrustEvent}=require("internal/event_target"),{customInspectSymbol}=require("internal/util"),{inspect}=require("internal/util/inspect"),{codes:{ERR_ILLEGAL_CONSTRUCTOR,ERR_INVALID_THIS}}=require("internal/errors"),kAborted=Symbol("kAborted");function customInspect(t,e,r,n){if(r<0)return t;const o=ObjectAssign({},n,{depth:n.depth===null?null:n.depth-1});return`${t.constructor.name} ${inspect(e,o)}`}function validateAbortSignal(t){if(t?.[kAborted]===void 0)throw new ERR_INVALID_THIS("AbortSignal")}class AbortSignal extends EventTarget{constructor(){throw new ERR_ILLEGAL_CONSTRUCTOR}get aborted(){return validateAbortSignal(this),!!this[kAborted]}[customInspectSymbol](e,r){return customInspect(this,{aborted:this.aborted},e,r)}static abort(){return createAbortSignal(!0)}}ObjectDefineProperties(AbortSignal.prototype,{aborted:{enumerable:!0}}),ObjectDefineProperty(AbortSignal.prototype,SymbolToStringTag,{writable:!1,enumerable:!1,configurable:!0,value:"AbortSignal"}),defineEventHandler(AbortSignal.prototype,"abort");function createAbortSignal(t=!1){const e=new EventTarget;return ObjectSetPrototypeOf(e,AbortSignal.prototype),e[kAborted]=t,e}function abortSignal(t){if(t[kAborted])return;t[kAborted]=!0;const e=new Event("abort",{[kTrustEvent]:!0});t.dispatchEvent(e)}const kSignal=Symbol("signal");function validateAbortController(t){if(t?.[kSignal]===void 0)throw new ERR_INVALID_THIS("AbortController")}class AbortController{constructor(){this[kSignal]=createAbortSignal()}get signal(){return validateAbortController(this),this[kSignal]}abort(){validateAbortController(this),abortSignal(this[kSignal])}[customInspectSymbol](e,r){return customInspect(this,{signal:this.signal},e,r)}}ObjectDefineProperties(AbortController.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),ObjectDefineProperty(AbortController.prototype,SymbolToStringTag,{writable:!1,enumerable:!1,configurable:!0,value:"AbortController"}),module.exports={kAborted,AbortController,AbortSignal};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";let error;function lazyError(){return error||(error=require("internal/errors").codes.ERR_INTERNAL_ASSERTION),error}function assert(r,e){if(!r){const t=lazyError();throw new t(e)}}function fail(r){const e=lazyError();throw new e(r)}assert.fail=fail,module.exports=assert;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeSlice,ErrorCaptureStackTrace,ObjectPrototypeHasOwnProperty,ObjectDefineProperty,Symbol}=primordials,async_wrap=internalBinding("async_wrap"),{setCallbackTrampoline}=async_wrap,{async_hook_fields,async_id_fields,execution_async_resources}=async_wrap,{pushAsyncContext:pushAsyncContext_,popAsyncContext:popAsyncContext_,executionAsyncResource:executionAsyncResource_,clearAsyncIdStack}=async_wrap,{setPromiseHooks}=async_wrap,active_hooks={array:[],call_depth:0,tmp_array:null,tmp_fields:null},{registerDestroyHook}=async_wrap,{enqueueMicrotask}=internalBinding("task_queue"),{owner_symbol}=internalBinding("symbols"),{kInit,kBefore,kAfter,kDestroy,kTotals,kPromiseResolve,kCheck,kExecutionAsyncId,kAsyncIdCounter,kTriggerAsyncId,kDefaultTriggerAsyncId,kStackLength,kUsesExecutionAsyncResource}=async_wrap.constants,{async_id_symbol,trigger_async_id_symbol}=internalBinding("symbols");let inspect;const init_symbol=Symbol("init"),before_symbol=Symbol("before"),after_symbol=Symbol("after"),destroy_symbol=Symbol("destroy"),promise_resolve_symbol=Symbol("promiseResolve"),emitBeforeNative=emitHookFactory(before_symbol,"emitBeforeNative"),emitAfterNative=emitHookFactory(after_symbol,"emitAfterNative"),emitDestroyNative=emitHookFactory(destroy_symbol,"emitDestroyNative"),emitPromiseResolveNative=emitHookFactory(promise_resolve_symbol,"emitPromiseResolveNative");let domain_cb;function useDomainTrampoline(t){domain_cb=t}function callbackTrampoline(t,n,e,...o){const r=async_hook_fields[kStackLength]-1;execution_async_resources[r]=n,t!==0&&hasHooks(kBefore)&&emitBeforeNative(t);let i;return t===0&&typeof domain_cb=="function"?(o.unshift(e),i=domain_cb.apply(this,o)):i=e.apply(this,o),t!==0&&hasHooks(kAfter)&&emitAfterNative(t),execution_async_resources.pop(),i}setCallbackTrampoline(callbackTrampoline);const topLevelResource={};function executionAsyncResource(){async_hook_fields[kUsesExecutionAsyncResource]=1;const t=async_hook_fields[kStackLength]-1;if(t===-1)return topLevelResource;const n=execution_async_resources[t]||executionAsyncResource_(t);return lookupPublicResource(n)}function inspectExceptionValue(t){return inspect??=require("internal/util/inspect").inspect,{message:inspect(t)}}function fatalError(t){if(typeof t?.stack=="string")process._rawDebug(t.stack);else{const e=inspectExceptionValue(t);ErrorCaptureStackTrace(e,fatalError),process._rawDebug(e.stack)}const{getOptionValue:n}=require("internal/options");n("--abort-on-uncaught-exception")&&process.abort(),process.exit(1)}function lookupPublicResource(t){if(typeof t!="object"||t===null)return t;const n=t[owner_symbol];return n??t}function emitInitNative(t,n,e,o){active_hooks.call_depth+=1,o=lookupPublicResource(o);try{for(var r=0;r<active_hooks.array.length;r++)typeof active_hooks.array[r][init_symbol]=="function"&&active_hooks.array[r][init_symbol](t,n,e,o)}catch(i){fatalError(i)}finally{active_hooks.call_depth-=1}active_hooks.call_depth===0&&active_hooks.tmp_array!==null&&restoreActiveHooks()}function emitHook(t,n){active_hooks.call_depth+=1;try{for(var e=0;e<active_hooks.array.length;e++)typeof active_hooks.array[e][t]=="function"&&active_hooks.array[e][t](n)}catch(o){fatalError(o)}finally{active_hooks.call_depth-=1}active_hooks.call_depth===0&&active_hooks.tmp_array!==null&&restoreActiveHooks()}function emitHookFactory(t,n){const e=emitHook.bind(void 0,t);return ObjectDefineProperty(e,"name",{value:n}),e}function getHookArrays(){return active_hooks.call_depth===0?[active_hooks.array,async_hook_fields]:(active_hooks.tmp_array===null&&storeActiveHooks(),[active_hooks.tmp_array,active_hooks.tmp_fields])}function storeActiveHooks(){active_hooks.tmp_array=ArrayPrototypeSlice(active_hooks.array),active_hooks.tmp_fields=[],copyHooks(active_hooks.tmp_fields,async_hook_fields)}function copyHooks(t,n){t[kInit]=n[kInit],t[kBefore]=n[kBefore],t[kAfter]=n[kAfter],t[kDestroy]=n[kDestroy],t[kPromiseResolve]=n[kPromiseResolve]}function restoreActiveHooks(){active_hooks.array=active_hooks.tmp_array,copyHooks(async_hook_fields,active_hooks.tmp_fields),active_hooks.tmp_array=null,active_hooks.tmp_fields=null}function trackPromise(t,n){if(t[async_id_symbol])return;const e=n?getOrSetAsyncId(n):getDefaultTriggerAsyncId();t[async_id_symbol]=newAsyncId(),t[trigger_async_id_symbol]=e}function promiseInitHook(t,n){trackPromise(t,n);const e=t[async_id_symbol],o=t[trigger_async_id_symbol];emitInitScript(e,"PROMISE",o,t)}function promiseInitHookWithDestroyTracking(t,n){promiseInitHook(t,n),destroyTracking(t,n)}const destroyedSymbol=Symbol("destroyed");function destroyTracking(t,n){trackPromise(t,n);const e=t[async_id_symbol],o={destroyed:!1};t[destroyedSymbol]=o,registerDestroyHook(t,e,o)}function promiseBeforeHook(t){trackPromise(t);const n=t[async_id_symbol],e=t[trigger_async_id_symbol];emitBeforeScript(n,e,t)}function promiseAfterHook(t){trackPromise(t);const n=t[async_id_symbol];hasHooks(kAfter)&&emitAfterNative(n),n===executionAsyncId()&&popAsyncContext(n)}function promiseResolveHook(t){trackPromise(t);const n=t[async_id_symbol];emitPromiseResolveNative(n)}let wantPromiseHook=!1;function enableHooks(){async_hook_fields[kCheck]+=1}function updatePromiseHookMode(){wantPromiseHook=!0;let t;initHooksExist()?t=destroyHooksExist()?promiseInitHookWithDestroyTracking:promiseInitHook:destroyHooksExist()&&(t=destroyTracking),setPromiseHooks(t,promiseBeforeHook,promiseAfterHook,promiseResolveHooksExist()?promiseResolveHook:void 0)}function disableHooks(){async_hook_fields[kCheck]-=1,wantPromiseHook=!1,enqueueMicrotask(disablePromiseHookIfNecessary)}function disablePromiseHookIfNecessary(){wantPromiseHook||setPromiseHooks(void 0,void 0,void 0,void 0)}function newAsyncId(){return++async_id_fields[kAsyncIdCounter]}function getOrSetAsyncId(t){return ObjectPrototypeHasOwnProperty(t,async_id_symbol)?t[async_id_symbol]:t[async_id_symbol]=newAsyncId()}function getDefaultTriggerAsyncId(){const t=async_id_fields[kDefaultTriggerAsyncId];return t<0?async_id_fields[kExecutionAsyncId]:t}function clearDefaultTriggerAsyncId(){async_id_fields[kDefaultTriggerAsyncId]=-1}function defaultTriggerAsyncIdScope(t,n,...e){if(t===void 0)return n.apply(null,e);const o=async_id_fields[kDefaultTriggerAsyncId];async_id_fields[kDefaultTriggerAsyncId]=t;try{return n.apply(null,e)}finally{async_id_fields[kDefaultTriggerAsyncId]=o}}function hasHooks(t){return async_hook_fields[t]>0}function enabledHooksExist(){return hasHooks(kCheck)}function initHooksExist(){return hasHooks(kInit)}function afterHooksExist(){return hasHooks(kAfter)}function destroyHooksExist(){return hasHooks(kDestroy)}function promiseResolveHooksExist(){return hasHooks(kPromiseResolve)}function emitInitScript(t,n,e,o){!hasHooks(kInit)||(e===null&&(e=getDefaultTriggerAsyncId()),emitInitNative(t,n,e,o))}function emitBeforeScript(t,n,e){pushAsyncContext(t,n,e),hasHooks(kBefore)&&emitBeforeNative(t)}function emitAfterScript(t){hasHooks(kAfter)&&emitAfterNative(t),popAsyncContext(t)}function emitDestroyScript(t){!hasHooks(kDestroy)||t<=0||async_wrap.queueDestroyAsyncId(t)}function hasAsyncIdStack(){return hasHooks(kStackLength)}function pushAsyncContext(t,n,e){const o=async_hook_fields[kStackLength];if(execution_async_resources[o]=e,o*2>=async_wrap.async_ids_stack.length)return pushAsyncContext_(t,n);async_wrap.async_ids_stack[o*2]=async_id_fields[kExecutionAsyncId],async_wrap.async_ids_stack[o*2+1]=async_id_fields[kTriggerAsyncId],async_hook_fields[kStackLength]++,async_id_fields[kExecutionAsyncId]=t,async_id_fields[kTriggerAsyncId]=n}function popAsyncContext(t){const n=async_hook_fields[kStackLength];if(n===0)return!1;if(enabledHooksExist()&&async_id_fields[kExecutionAsyncId]!==t)return popAsyncContext_(t);const e=n-1;return async_id_fields[kExecutionAsyncId]=async_wrap.async_ids_stack[2*e],async_id_fields[kTriggerAsyncId]=async_wrap.async_ids_stack[2*e+1],execution_async_resources.pop(),async_hook_fields[kStackLength]=e,e>0}function executionAsyncId(){return async_id_fields[kExecutionAsyncId]}function triggerAsyncId(){return async_id_fields[kTriggerAsyncId]}module.exports={executionAsyncId,triggerAsyncId,getHookArrays,symbols:{async_id_symbol,trigger_async_id_symbol,init_symbol,before_symbol,after_symbol,destroy_symbol,promise_resolve_symbol,owner_symbol},constants:{kInit,kBefore,kAfter,kDestroy,kTotals,kPromiseResolve},enableHooks,disableHooks,updatePromiseHookMode,clearDefaultTriggerAsyncId,clearAsyncIdStack,hasAsyncIdStack,executionAsyncResource,newAsyncId,getOrSetAsyncId,getDefaultTriggerAsyncId,defaultTriggerAsyncIdScope,enabledHooksExist,initHooksExist,afterHooksExist,destroyHooksExist,emitInit:emitInitScript,emitBefore:emitBeforeScript,emitAfter:emitAfterScript,emitDestroy:emitDestroyScript,pushAsyncContext,popAsyncContext,registerDestroyHook,useDomainTrampoline,nativeHooks:{init:emitInitNative,before:emitBeforeNative,after:emitAfterNative,destroy:emitDestroyNative,promise_resolve:emitPromiseResolveNative}};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayFrom,MathMax,MathMin,ObjectDefineProperty,PromiseResolve,PromiseReject,SafePromisePrototypeFinally,ReflectConstruct,RegExpPrototypeSymbolReplace,RegExpPrototypeTest,StringPrototypeToLowerCase,StringPrototypeSplit,Symbol,SymbolIterator,SymbolToStringTag,Uint8Array}=primordials,{createBlob:_createBlob,FixedSizeBlobCopyJob,getDataObject}=internalBinding("blob"),{TextDecoder,TextEncoder}=require("internal/encoding"),{makeTransferable,kClone,kDeserialize}=require("internal/worker/js_transferable"),{isAnyArrayBuffer,isArrayBufferView}=require("internal/util/types"),{createDeferredPromise,customInspectSymbol:kInspect,emitExperimentalWarning}=require("internal/util"),{inspect}=require("internal/util/inspect"),{AbortError,codes:{ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_INVALID_THIS,ERR_BUFFER_TOO_LARGE}}=require("internal/errors"),{validateObject,isUint32}=require("internal/validators"),kHandle=Symbol("kHandle"),kState=Symbol("kState"),kType=Symbol("kType"),kLength=Symbol("kLength"),kArrayBufferPromise=Symbol("kArrayBufferPromise"),kMaxChunkSize=65536,disallowedTypeCharacters=/[^\u{0020}-\u{007E}]/u;let ReadableStream,URL,EOL;const enc=new TextEncoder;function lazyURL(t){return URL??=require("internal/url").URL,new URL(t)}function lazyReadableStream(t){return ReadableStream??=require("internal/webstreams/readablestream").ReadableStream,new ReadableStream(t)}function lazyEOL(){return EOL??=require("os").EOL,EOL}function isBlob(t){return t?.[kHandle]!==void 0}function getSource(t,e){return isBlob(t)?[t.size,t[kHandle]]:(isAnyArrayBuffer(t)?t=new Uint8Array(t):isArrayBufferView(t)||(t=`${t}`,e==="native"&&(t=RegExpPrototypeSymbolReplace(/\n|\r\n/g,t,lazyEOL())),t=enc.encode(t)),t=new Uint8Array(t),[t.byteLength,t])}class Blob{constructor(e=[],n={}){if(emitExperimentalWarning("buffer.Blob"),e===null||typeof e[SymbolIterator]!="function"||typeof e=="string")throw new ERR_INVALID_ARG_TYPE("sources","Iterable",e);validateObject(n,"options");let{type:r="",endings:i="transparent"}=n;if(i=`${i}`,i!=="transparent"&&i!=="native")throw new ERR_INVALID_ARG_VALUE("options.endings",i);let s=0;const o=ArrayFrom(e,l=>{const{0:a,1:h}=getSource(l,i);return s+=a,h});if(!isUint32(s))throw new ERR_BUFFER_TOO_LARGE(4294967295);return this[kHandle]=_createBlob(o,s),this[kLength]=s,r=`${r}`,this[kType]=RegExpPrototypeTest(disallowedTypeCharacters,r)?"":StringPrototypeToLowerCase(r),makeTransferable(this)}[kInspect](e,n){if(e<0)return this;const r={...n,depth:n.depth==null?null:n.depth-1};return`Blob ${inspect({size:this.size,type:this.type},r)}`}[kClone](){const e=this[kHandle],n=this[kType],r=this[kLength];return{data:{handle:e,type:n,length:r},deserializeInfo:"internal/blob:ClonedBlob"}}[kDeserialize]({handle:e,type:n,length:r}){this[kHandle]=e,this[kType]=n,this[kLength]=r}get type(){if(!isBlob(this))throw new ERR_INVALID_THIS("Blob");return this[kType]}get size(){if(!isBlob(this))throw new ERR_INVALID_THIS("Blob");return this[kLength]}slice(e=0,n=this[kLength],r=""){if(!isBlob(this))throw new ERR_INVALID_THIS("Blob");e<0?e=MathMax(this[kLength]+e,0):e=MathMin(e,this[kLength]),e|=0,n<0?n=MathMax(this[kLength]+n,0):n=MathMin(n,this[kLength]),n|=0,r=`${r}`,RegExpPrototypeTest(disallowedTypeCharacters,r)?r="":r=StringPrototypeToLowerCase(r);const i=MathMax(n-e,0);return createBlob(this[kHandle].slice(e,e+i),i,r)}arrayBuffer(){if(!isBlob(this))return PromiseReject(new ERR_INVALID_THIS("Blob"));if(this[kArrayBufferPromise])return this[kArrayBufferPromise];const e=new FixedSizeBlobCopyJob(this[kHandle]),n=e.run();if(n!==void 0)return PromiseResolve(n);const{promise:r,resolve:i,reject:s}=createDeferredPromise();return e.ondone=(o,l)=>{if(o!==void 0)return s(new AbortError);i(l)},this[kArrayBufferPromise]=SafePromisePrototypeFinally(r,()=>this[kArrayBufferPromise]=void 0),this[kArrayBufferPromise]}async text(){if(!isBlob(this))throw new ERR_INVALID_THIS("Blob");return new TextDecoder().decode(await this.arrayBuffer())}stream(){if(!isBlob(this))throw new ERR_INVALID_THIS("Blob");const e=this;return new lazyReadableStream({async start(){this[kState]=await e.arrayBuffer()},pull(n){if(this[kState].byteLength<=kMaxChunkSize)n.enqueue(new Uint8Array(this[kState])),n.close(),this[kState]=void 0;else{const r=this[kState].slice(0,kMaxChunkSize);this[kState]=this[kState].slice(kMaxChunkSize),n.enqueue(new Uint8Array(r))}}})}}function ClonedBlob(){return makeTransferable(ReflectConstruct(function(){},[],Blob))}ClonedBlob.prototype[kDeserialize]=()=>{};function createBlob(t,e,n=""){return makeTransferable(ReflectConstruct(function(){this[kHandle]=t,this[kType]=n,this[kLength]=e},[],Blob))}ObjectDefineProperty(Blob.prototype,SymbolToStringTag,{configurable:!0,value:"Blob"});function resolveObjectURL(t){t=`${t}`;try{const e=new lazyURL(t),n=StringPrototypeSplit(e.pathname,":");if(n.length!==2)return;const{0:r,1:i}=n;if(r!=="nodedata")return;const s=getDataObject(i);if(s===void 0)return;const{0:o,1:l,2:a}=s;if(o!==void 0)return createBlob(o,l,a)}catch{}}module.exports={Blob,ClonedBlob,createBlob,isBlob,kHandle,resolveObjectURL};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Boolean,ObjectSetPrototypeOf,Symbol}=primordials,{BlockList:BlockListHandle}=internalBinding("block_list"),{customInspectSymbol:kInspect}=require("internal/util"),{SocketAddress,kHandle:kSocketAddressHandle}=require("internal/socketaddress"),{JSTransferable,kClone,kDeserialize}=require("internal/worker/js_transferable"),{inspect}=require("internal/util/inspect"),kHandle=Symbol("kHandle"),{owner_symbol}=internalBinding("symbols"),{ERR_INVALID_ARG_VALUE}=require("internal/errors").codes,{validateInt32,validateString}=require("internal/validators");class BlockList extends JSTransferable{constructor(){super();this[kHandle]=new BlockListHandle,this[kHandle][owner_symbol]=this}[kInspect](e,t){if(e<0)return this;const s={...t,depth:t.depth==null?null:t.depth-1};return`BlockList ${inspect({rules:this.rules},s)}`}addAddress(e,t="ipv4"){SocketAddress.isSocketAddress(e)||(validateString(e,"address"),validateString(t,"family"),e=new SocketAddress({address:e,family:t})),this[kHandle].addAddress(e[kSocketAddressHandle])}addRange(e,t,s="ipv4"){if(SocketAddress.isSocketAddress(e)||(validateString(e,"start"),validateString(s,"family"),e=new SocketAddress({address:e,family:s})),SocketAddress.isSocketAddress(t)||(validateString(t,"end"),validateString(s,"family"),t=new SocketAddress({address:t,family:s})),this[kHandle].addRange(e[kSocketAddressHandle],t[kSocketAddressHandle])===!1)throw new ERR_INVALID_ARG_VALUE("start",e,"must come before end")}addSubnet(e,t,s="ipv4"){switch(SocketAddress.isSocketAddress(e)||(validateString(e,"network"),validateString(s,"family"),e=new SocketAddress({address:e,family:s})),e.family){case"ipv4":validateInt32(t,"prefix",0,32);break;case"ipv6":validateInt32(t,"prefix",0,128);break}this[kHandle].addSubnet(e[kSocketAddressHandle],t)}check(e,t="ipv4"){if(!SocketAddress.isSocketAddress(e)){validateString(e,"address"),validateString(t,"family");try{e=new SocketAddress({address:e,family:t})}catch{return!1}}return Boolean(this[kHandle].check(e[kSocketAddressHandle]))}get rules(){return this[kHandle].getRules()}[kClone](){return{data:{handle:this[kHandle]},deserializeInfo:"internal/blocklist:InternalBlockList"}}[kDeserialize]({handle:e}){this[kHandle]=e,this[kHandle][owner_symbol]=this}}class InternalBlockList extends JSTransferable{constructor(e){super();this[kHandle]=e,e!==void 0&&(e[owner_symbol]=this)}}InternalBlockList.prototype.constructor=BlockList.prototype.constructor,ObjectSetPrototypeOf(InternalBlockList.prototype,BlockList.prototype),module.exports={BlockList,InternalBlockList};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{BigInt,Float32Array,Float64Array,MathFloor,Number,Uint8Array}=primordials,{ERR_BUFFER_OUT_OF_BOUNDS,ERR_INVALID_ARG_TYPE,ERR_OUT_OF_RANGE}=require("internal/errors").codes,{validateNumber}=require("internal/validators"),{asciiSlice,base64Slice,base64urlSlice,latin1Slice,hexSlice,ucs2Slice,utf8Slice,asciiWrite,base64Write,base64urlWrite,latin1Write,hexWrite,ucs2Write,utf8Write,getZeroFillToggle}=internalBinding("buffer"),{untransferable_object_private_symbol,setHiddenValue}=internalBinding("util"),float32Array=new Float32Array(1),uInt8Float32Array=new Uint8Array(float32Array.buffer),float64Array=new Float64Array(1),uInt8Float64Array=new Uint8Array(float64Array.buffer);float32Array[0]=-1;const bigEndian=uInt8Float32Array[3]===0;function checkBounds(n,i,r){validateNumber(i,"offset"),(n[i]===void 0||n[i+r]===void 0)&&boundsError(i,n.length-(r+1))}function checkInt(n,i,r,t,d,c){if(n>r||n<i){const h=typeof i=="bigint"?"n":"";let E;throw c>3?i===0||i===0n?E=`>= 0${h} and < 2${h} ** ${(c+1)*8}${h}`:E=`>= -(2${h} ** ${(c+1)*8-1}${h}) and < 2${h} ** ${(c+1)*8-1}${h}`:E=`>= ${i}${h} and <= ${r}${h}`,new ERR_OUT_OF_RANGE("value",E,n)}checkBounds(t,d,c)}function boundsError(n,i,r){throw MathFloor(n)!==n?(validateNumber(n,r),new ERR_OUT_OF_RANGE(r||"offset","an integer",n)):i<0?new ERR_BUFFER_OUT_OF_BOUNDS:new ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${i}`,n)}function readBigUInt64LE(n=0){validateNumber(n,"offset");const i=this[n],r=this[n+7];(i===void 0||r===void 0)&&boundsError(n,this.length-8);const t=i+this[++n]*2**8+this[++n]*2**16+this[++n]*2**24,d=this[++n]+this[++n]*2**8+this[++n]*2**16+r*2**24;return BigInt(t)+(BigInt(d)<<32n)}function readBigUInt64BE(n=0){validateNumber(n,"offset");const i=this[n],r=this[n+7];(i===void 0||r===void 0)&&boundsError(n,this.length-8);const t=i*2**24+this[++n]*2**16+this[++n]*2**8+this[++n],d=this[++n]*2**24+this[++n]*2**16+this[++n]*2**8+r;return(BigInt(t)<<32n)+BigInt(d)}function readBigInt64LE(n=0){validateNumber(n,"offset");const i=this[n],r=this[n+7];(i===void 0||r===void 0)&&boundsError(n,this.length-8);const t=this[n+4]+this[n+5]*2**8+this[n+6]*2**16+(r<<24);return(BigInt(t)<<32n)+BigInt(i+this[++n]*2**8+this[++n]*2**16+this[++n]*2**24)}function readBigInt64BE(n=0){validateNumber(n,"offset");const i=this[n],r=this[n+7];(i===void 0||r===void 0)&&boundsError(n,this.length-8);const t=(i<<24)+this[++n]*2**16+this[++n]*2**8+this[++n];return(BigInt(t)<<32n)+BigInt(this[++n]*2**24+this[++n]*2**16+this[++n]*2**8+r)}function readUIntLE(n,i){if(n===void 0)throw new ERR_INVALID_ARG_TYPE("offset","number",n);if(i===6)return readUInt48LE(this,n);if(i===5)return readUInt40LE(this,n);if(i===3)return readUInt24LE(this,n);if(i===4)return this.readUInt32LE(n);if(i===2)return this.readUInt16LE(n);if(i===1)return this.readUInt8(n);boundsError(i,6,"byteLength")}function readUInt48LE(n,i=0){validateNumber(i,"offset");const r=n[i],t=n[i+5];return(r===void 0||t===void 0)&&boundsError(i,n.length-6),r+n[++i]*2**8+n[++i]*2**16+n[++i]*2**24+(n[++i]+t*2**8)*2**32}function readUInt40LE(n,i=0){validateNumber(i,"offset");const r=n[i],t=n[i+4];return(r===void 0||t===void 0)&&boundsError(i,n.length-5),r+n[++i]*2**8+n[++i]*2**16+n[++i]*2**24+t*2**32}function readUInt32LE(n=0){validateNumber(n,"offset");const i=this[n],r=this[n+3];return(i===void 0||r===void 0)&&boundsError(n,this.length-4),i+this[++n]*2**8+this[++n]*2**16+r*2**24}function readUInt24LE(n,i=0){validateNumber(i,"offset");const r=n[i],t=n[i+2];return(r===void 0||t===void 0)&&boundsError(i,n.length-3),r+n[++i]*2**8+t*2**16}function readUInt16LE(n=0){validateNumber(n,"offset");const i=this[n],r=this[n+1];return(i===void 0||r===void 0)&&boundsError(n,this.length-2),i+r*2**8}function readUInt8(n=0){validateNumber(n,"offset");const i=this[n];return i===void 0&&boundsError(n,this.length-1),i}function readUIntBE(n,i){if(n===void 0)throw new ERR_INVALID_ARG_TYPE("offset","number",n);if(i===6)return readUInt48BE(this,n);if(i===5)return readUInt40BE(this,n);if(i===3)return readUInt24BE(this,n);if(i===4)return this.readUInt32BE(n);if(i===2)return this.readUInt16BE(n);if(i===1)return this.readUInt8(n);boundsError(i,6,"byteLength")}function readUInt48BE(n,i=0){validateNumber(i,"offset");const r=n[i],t=n[i+5];return(r===void 0||t===void 0)&&boundsError(i,n.length-6),(r*2**8+n[++i])*2**32+n[++i]*2**24+n[++i]*2**16+n[++i]*2**8+t}function readUInt40BE(n,i=0){validateNumber(i,"offset");const r=n[i],t=n[i+4];return(r===void 0||t===void 0)&&boundsError(i,n.length-5),r*2**32+n[++i]*2**24+n[++i]*2**16+n[++i]*2**8+t}function readUInt32BE(n=0){validateNumber(n,"offset");const i=this[n],r=this[n+3];return(i===void 0||r===void 0)&&boundsError(n,this.length-4),i*2**24+this[++n]*2**16+this[++n]*2**8+r}function readUInt24BE(n,i=0){validateNumber(i,"offset");const r=n[i],t=n[i+2];return(r===void 0||t===void 0)&&boundsError(i,n.length-3),r*2**16+n[++i]*2**8+t}function readUInt16BE(n=0){validateNumber(n,"offset");const i=this[n],r=this[n+1];return(i===void 0||r===void 0)&&boundsError(n,this.length-2),i*2**8+r}function readIntLE(n,i){if(n===void 0)throw new ERR_INVALID_ARG_TYPE("offset","number",n);if(i===6)return readInt48LE(this,n);if(i===5)return readInt40LE(this,n);if(i===3)return readInt24LE(this,n);if(i===4)return this.readInt32LE(n);if(i===2)return this.readInt16LE(n);if(i===1)return this.readInt8(n);boundsError(i,6,"byteLength")}function readInt48LE(n,i=0){validateNumber(i,"offset");const r=n[i],t=n[i+5];(r===void 0||t===void 0)&&boundsError(i,n.length-6);const d=n[i+4]+t*2**8;return(d|(d&2**15)*131070)*2**32+r+n[++i]*2**8+n[++i]*2**16+n[++i]*2**24}function readInt40LE(n,i=0){validateNumber(i,"offset");const r=n[i],t=n[i+4];return(r===void 0||t===void 0)&&boundsError(i,n.length-5),(t|(t&2**7)*33554430)*2**32+r+n[++i]*2**8+n[++i]*2**16+n[++i]*2**24}function readInt32LE(n=0){validateNumber(n,"offset");const i=this[n],r=this[n+3];return(i===void 0||r===void 0)&&boundsError(n,this.length-4),i+this[++n]*2**8+this[++n]*2**16+(r<<24)}function readInt24LE(n,i=0){validateNumber(i,"offset");const r=n[i],t=n[i+2];(r===void 0||t===void 0)&&boundsError(i,n.length-3);const d=r+n[++i]*2**8+t*2**16;return d|(d&2**23)*510}function readInt16LE(n=0){validateNumber(n,"offset");const i=this[n],r=this[n+1];(i===void 0||r===void 0)&&boundsError(n,this.length-2);const t=i+r*2**8;return t|(t&2**15)*131070}function readInt8(n=0){validateNumber(n,"offset");const i=this[n];return i===void 0&&boundsError(n,this.length-1),i|(i&2**7)*33554430}function readIntBE(n,i){if(n===void 0)throw new ERR_INVALID_ARG_TYPE("offset","number",n);if(i===6)return readInt48BE(this,n);if(i===5)return readInt40BE(this,n);if(i===3)return readInt24BE(this,n);if(i===4)return this.readInt32BE(n);if(i===2)return this.readInt16BE(n);if(i===1)return this.readInt8(n);boundsError(i,6,"byteLength")}function readInt48BE(n,i=0){validateNumber(i,"offset");const r=n[i],t=n[i+5];(r===void 0||t===void 0)&&boundsError(i,n.length-6);const d=n[++i]+r*2**8;return(d|(d&2**15)*131070)*2**32+n[++i]*2**24+n[++i]*2**16+n[++i]*2**8+t}function readInt40BE(n,i=0){validateNumber(i,"offset");const r=n[i],t=n[i+4];return(r===void 0||t===void 0)&&boundsError(i,n.length-5),(r|(r&2**7)*33554430)*2**32+n[++i]*2**24+n[++i]*2**16+n[++i]*2**8+t}function readInt32BE(n=0){validateNumber(n,"offset");const i=this[n],r=this[n+3];return(i===void 0||r===void 0)&&boundsError(n,this.length-4),(i<<24)+this[++n]*2**16+this[++n]*2**8+r}function readInt24BE(n,i=0){validateNumber(i,"offset");const r=n[i],t=n[i+2];(r===void 0||t===void 0)&&boundsError(i,n.length-3);const d=r*2**16+n[++i]*2**8+t;return d|(d&2**23)*510}function readInt16BE(n=0){validateNumber(n,"offset");const i=this[n],r=this[n+1];(i===void 0||r===void 0)&&boundsError(n,this.length-2);const t=i*2**8+r;return t|(t&2**15)*131070}function readFloatBackwards(n=0){validateNumber(n,"offset");const i=this[n],r=this[n+3];return(i===void 0||r===void 0)&&boundsError(n,this.length-4),uInt8Float32Array[3]=i,uInt8Float32Array[2]=this[++n],uInt8Float32Array[1]=this[++n],uInt8Float32Array[0]=r,float32Array[0]}function readFloatForwards(n=0){validateNumber(n,"offset");const i=this[n],r=this[n+3];return(i===void 0||r===void 0)&&boundsError(n,this.length-4),uInt8Float32Array[0]=i,uInt8Float32Array[1]=this[++n],uInt8Float32Array[2]=this[++n],uInt8Float32Array[3]=r,float32Array[0]}function readDoubleBackwards(n=0){validateNumber(n,"offset");const i=this[n],r=this[n+7];return(i===void 0||r===void 0)&&boundsError(n,this.length-8),uInt8Float64Array[7]=i,uInt8Float64Array[6]=this[++n],uInt8Float64Array[5]=this[++n],uInt8Float64Array[4]=this[++n],uInt8Float64Array[3]=this[++n],uInt8Float64Array[2]=this[++n],uInt8Float64Array[1]=this[++n],uInt8Float64Array[0]=r,float64Array[0]}function readDoubleForwards(n=0){validateNumber(n,"offset");const i=this[n],r=this[n+7];return(i===void 0||r===void 0)&&boundsError(n,this.length-8),uInt8Float64Array[0]=i,uInt8Float64Array[1]=this[++n],uInt8Float64Array[2]=this[++n],uInt8Float64Array[3]=this[++n],uInt8Float64Array[4]=this[++n],uInt8Float64Array[5]=this[++n],uInt8Float64Array[6]=this[++n],uInt8Float64Array[7]=r,float64Array[0]}function writeBigU_Int64LE(n,i,r,t,d){checkInt(i,t,d,n,r,7);let c=Number(i&0xffffffffn);n[r++]=c,c=c>>8,n[r++]=c,c=c>>8,n[r++]=c,c=c>>8,n[r++]=c;let h=Number(i>>32n&0xffffffffn);return n[r++]=h,h=h>>8,n[r++]=h,h=h>>8,n[r++]=h,h=h>>8,n[r++]=h,r}function writeBigUInt64LE(n,i=0){return writeBigU_Int64LE(this,n,i,0n,0xffffffffffffffffn)}function writeBigU_Int64BE(n,i,r,t,d){checkInt(i,t,d,n,r,7);let c=Number(i&0xffffffffn);n[r+7]=c,c=c>>8,n[r+6]=c,c=c>>8,n[r+5]=c,c=c>>8,n[r+4]=c;let h=Number(i>>32n&0xffffffffn);return n[r+3]=h,h=h>>8,n[r+2]=h,h=h>>8,n[r+1]=h,h=h>>8,n[r]=h,r+8}function writeBigUInt64BE(n,i=0){return writeBigU_Int64BE(this,n,i,0n,0xffffffffffffffffn)}function writeBigInt64LE(n,i=0){return writeBigU_Int64LE(this,n,i,-0x8000000000000000n,0x7fffffffffffffffn)}function writeBigInt64BE(n,i=0){return writeBigU_Int64BE(this,n,i,-0x8000000000000000n,0x7fffffffffffffffn)}function writeUIntLE(n,i,r){if(r===6)return writeU_Int48LE(this,n,i,0,281474976710655);if(r===5)return writeU_Int40LE(this,n,i,0,1099511627775);if(r===3)return writeU_Int24LE(this,n,i,0,16777215);if(r===4)return writeU_Int32LE(this,n,i,0,4294967295);if(r===2)return writeU_Int16LE(this,n,i,0,65535);if(r===1)return writeU_Int8(this,n,i,0,255);boundsError(r,6,"byteLength")}function writeU_Int48LE(n,i,r,t,d){i=+i,checkInt(i,t,d,n,r,5);const c=MathFloor(i*2**-32);return n[r++]=i,i=i>>>8,n[r++]=i,i=i>>>8,n[r++]=i,i=i>>>8,n[r++]=i,n[r++]=c,n[r++]=c>>>8,r}function writeU_Int40LE(n,i,r,t,d){i=+i,checkInt(i,t,d,n,r,4);const c=i;return n[r++]=i,i=i>>>8,n[r++]=i,i=i>>>8,n[r++]=i,i=i>>>8,n[r++]=i,n[r++]=MathFloor(c*2**-32),r}function writeU_Int32LE(n,i,r,t,d){return i=+i,checkInt(i,t,d,n,r,3),n[r++]=i,i=i>>>8,n[r++]=i,i=i>>>8,n[r++]=i,i=i>>>8,n[r++]=i,r}function writeUInt32LE(n,i=0){return writeU_Int32LE(this,n,i,0,4294967295)}function writeU_Int24LE(n,i,r,t,d){return i=+i,checkInt(i,t,d,n,r,2),n[r++]=i,i=i>>>8,n[r++]=i,i=i>>>8,n[r++]=i,r}function writeU_Int16LE(n,i,r,t,d){return i=+i,checkInt(i,t,d,n,r,1),n[r++]=i,n[r++]=i>>>8,r}function writeUInt16LE(n,i=0){return writeU_Int16LE(this,n,i,0,65535)}function writeU_Int8(n,i,r,t,d){if(i=+i,validateNumber(r,"offset"),i>d||i<t)throw new ERR_OUT_OF_RANGE("value",`>= ${t} and <= ${d}`,i);return n[r]===void 0&&boundsError(r,n.length-1),n[r]=i,r+1}function writeUInt8(n,i=0){return writeU_Int8(this,n,i,0,255)}function writeUIntBE(n,i,r){if(r===6)return writeU_Int48BE(this,n,i,0,281474976710655);if(r===5)return writeU_Int40BE(this,n,i,0,1099511627775);if(r===3)return writeU_Int24BE(this,n,i,0,16777215);if(r===4)return writeU_Int32BE(this,n,i,0,4294967295);if(r===2)return writeU_Int16BE(this,n,i,0,65535);if(r===1)return writeU_Int8(this,n,i,0,255);boundsError(r,6,"byteLength")}function writeU_Int48BE(n,i,r,t,d){i=+i,checkInt(i,t,d,n,r,5);const c=MathFloor(i*2**-32);return n[r++]=c>>>8,n[r++]=c,n[r+3]=i,i=i>>>8,n[r+2]=i,i=i>>>8,n[r+1]=i,i=i>>>8,n[r]=i,r+4}function writeU_Int40BE(n,i,r,t,d){return i=+i,checkInt(i,t,d,n,r,4),n[r++]=MathFloor(i*2**-32),n[r+3]=i,i=i>>>8,n[r+2]=i,i=i>>>8,n[r+1]=i,i=i>>>8,n[r]=i,r+4}function writeU_Int32BE(n,i,r,t,d){return i=+i,checkInt(i,t,d,n,r,3),n[r+3]=i,i=i>>>8,n[r+2]=i,i=i>>>8,n[r+1]=i,i=i>>>8,n[r]=i,r+4}function writeUInt32BE(n,i=0){return writeU_Int32BE(this,n,i,0,4294967295)}function writeU_Int24BE(n,i,r,t,d){return i=+i,checkInt(i,t,d,n,r,2),n[r+2]=i,i=i>>>8,n[r+1]=i,i=i>>>8,n[r]=i,r+3}function writeU_Int16BE(n,i,r,t,d){return i=+i,checkInt(i,t,d,n,r,1),n[r++]=i>>>8,n[r++]=i,r}function writeUInt16BE(n,i=0){return writeU_Int16BE(this,n,i,0,65535)}function writeIntLE(n,i,r){if(r===6)return writeU_Int48LE(this,n,i,-140737488355328,140737488355327);if(r===5)return writeU_Int40LE(this,n,i,-549755813888,549755813887);if(r===3)return writeU_Int24LE(this,n,i,-8388608,8388607);if(r===4)return writeU_Int32LE(this,n,i,-2147483648,2147483647);if(r===2)return writeU_Int16LE(this,n,i,-32768,32767);if(r===1)return writeU_Int8(this,n,i,-128,127);boundsError(r,6,"byteLength")}function writeInt32LE(n,i=0){return writeU_Int32LE(this,n,i,-2147483648,2147483647)}function writeInt16LE(n,i=0){return writeU_Int16LE(this,n,i,-32768,32767)}function writeInt8(n,i=0){return writeU_Int8(this,n,i,-128,127)}function writeIntBE(n,i,r){if(r===6)return writeU_Int48BE(this,n,i,-140737488355328,140737488355327);if(r===5)return writeU_Int40BE(this,n,i,-549755813888,549755813887);if(r===3)return writeU_Int24BE(this,n,i,-8388608,8388607);if(r===4)return writeU_Int32BE(this,n,i,-2147483648,2147483647);if(r===2)return writeU_Int16BE(this,n,i,-32768,32767);if(r===1)return writeU_Int8(this,n,i,-128,127);boundsError(r,6,"byteLength")}function writeInt32BE(n,i=0){return writeU_Int32BE(this,n,i,-2147483648,2147483647)}function writeInt16BE(n,i=0){return writeU_Int16BE(this,n,i,-32768,32767)}function writeDoubleForwards(n,i=0){return n=+n,checkBounds(this,i,7),float64Array[0]=n,this[i++]=uInt8Float64Array[0],this[i++]=uInt8Float64Array[1],this[i++]=uInt8Float64Array[2],this[i++]=uInt8Float64Array[3],this[i++]=uInt8Float64Array[4],this[i++]=uInt8Float64Array[5],this[i++]=uInt8Float64Array[6],this[i++]=uInt8Float64Array[7],i}function writeDoubleBackwards(n,i=0){return n=+n,checkBounds(this,i,7),float64Array[0]=n,this[i++]=uInt8Float64Array[7],this[i++]=uInt8Float64Array[6],this[i++]=uInt8Float64Array[5],this[i++]=uInt8Float64Array[4],this[i++]=uInt8Float64Array[3],this[i++]=uInt8Float64Array[2],this[i++]=uInt8Float64Array[1],this[i++]=uInt8Float64Array[0],i}function writeFloatForwards(n,i=0){return n=+n,checkBounds(this,i,3),float32Array[0]=n,this[i++]=uInt8Float32Array[0],this[i++]=uInt8Float32Array[1],this[i++]=uInt8Float32Array[2],this[i++]=uInt8Float32Array[3],i}function writeFloatBackwards(n,i=0){return n=+n,checkBounds(this,i,3),float32Array[0]=n,this[i++]=uInt8Float32Array[3],this[i++]=uInt8Float32Array[2],this[i++]=uInt8Float32Array[1],this[i++]=uInt8Float32Array[0],i}class FastBuffer extends Uint8Array{constructor(i,r,t){super(i,r,t)}}function addBufferPrototypeMethods(n){n.readBigUInt64LE=readBigUInt64LE,n.readBigUInt64BE=readBigUInt64BE,n.readBigUint64LE=readBigUInt64LE,n.readBigUint64BE=readBigUInt64BE,n.readBigInt64LE=readBigInt64LE,n.readBigInt64BE=readBigInt64BE,n.writeBigUInt64LE=writeBigUInt64LE,n.writeBigUInt64BE=writeBigUInt64BE,n.writeBigUint64LE=writeBigUInt64LE,n.writeBigUint64BE=writeBigUInt64BE,n.writeBigInt64LE=writeBigInt64LE,n.writeBigInt64BE=writeBigInt64BE,n.readUIntLE=readUIntLE,n.readUInt32LE=readUInt32LE,n.readUInt16LE=readUInt16LE,n.readUInt8=readUInt8,n.readUIntBE=readUIntBE,n.readUInt32BE=readUInt32BE,n.readUInt16BE=readUInt16BE,n.readUintLE=readUIntLE,n.readUint32LE=readUInt32LE,n.readUint16LE=readUInt16LE,n.readUint8=readUInt8,n.readUintBE=readUIntBE,n.readUint32BE=readUInt32BE,n.readUint16BE=readUInt16BE,n.readIntLE=readIntLE,n.readInt32LE=readInt32LE,n.readInt16LE=readInt16LE,n.readInt8=readInt8,n.readIntBE=readIntBE,n.readInt32BE=readInt32BE,n.readInt16BE=readInt16BE,n.writeUIntLE=writeUIntLE,n.writeUInt32LE=writeUInt32LE,n.writeUInt16LE=writeUInt16LE,n.writeUInt8=writeUInt8,n.writeUIntBE=writeUIntBE,n.writeUInt32BE=writeUInt32BE,n.writeUInt16BE=writeUInt16BE,n.writeUintLE=writeUIntLE,n.writeUint32LE=writeUInt32LE,n.writeUint16LE=writeUInt16LE,n.writeUint8=writeUInt8,n.writeUintBE=writeUIntBE,n.writeUint32BE=writeUInt32BE,n.writeUint16BE=writeUInt16BE,n.writeIntLE=writeIntLE,n.writeInt32LE=writeInt32LE,n.writeInt16LE=writeInt16LE,n.writeInt8=writeInt8,n.writeIntBE=writeIntBE,n.writeInt32BE=writeInt32BE,n.writeInt16BE=writeInt16BE,n.readFloatLE=bigEndian?readFloatBackwards:readFloatForwards,n.readFloatBE=bigEndian?readFloatForwards:readFloatBackwards,n.readDoubleLE=bigEndian?readDoubleBackwards:readDoubleForwards,n.readDoubleBE=bigEndian?readDoubleForwards:readDoubleBackwards,n.writeFloatLE=bigEndian?writeFloatBackwards:writeFloatForwards,n.writeFloatBE=bigEndian?writeFloatForwards:writeFloatBackwards,n.writeDoubleLE=bigEndian?writeDoubleBackwards:writeDoubleForwards,n.writeDoubleBE=bigEndian?writeDoubleForwards:writeDoubleBackwards,n.asciiSlice=asciiSlice,n.base64Slice=base64Slice,n.base64urlSlice=base64urlSlice,n.latin1Slice=latin1Slice,n.hexSlice=hexSlice,n.ucs2Slice=ucs2Slice,n.utf8Slice=utf8Slice,n.asciiWrite=asciiWrite,n.base64Write=base64Write,n.base64urlWrite=base64urlWrite,n.latin1Write=latin1Write,n.hexWrite=hexWrite,n.ucs2Write=ucs2Write,n.utf8Write=utf8Write}function markAsUntransferable(n){typeof n!="object"&&typeof n!="function"||n===null||setHiddenValue(n,untransferable_object_private_symbol,!0)}let zeroFill=getZeroFillToggle();function createUnsafeBuffer(n){zeroFill[0]=0;try{return new FastBuffer(n)}finally{zeroFill[0]=1}}function reconnectZeroFillToggle(){zeroFill=getZeroFillToggle()}module.exports={FastBuffer,addBufferPrototypeMethods,markAsUntransferable,createUnsafeBuffer,readUInt16BE,readUInt32BE,reconnectZeroFillToggle};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,ArrayPrototypePush,ArrayPrototypeReduce,ArrayPrototypeSlice,FunctionPrototype,FunctionPrototypeCall,ObjectDefineProperty,ObjectSetPrototypeOf,ReflectApply,StringPrototypeSlice,Symbol,Uint8Array}=primordials,{errnoException,codes:{ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_INVALID_HANDLE_TYPE,ERR_INVALID_SYNC_FORK_INPUT,ERR_IPC_CHANNEL_CLOSED,ERR_IPC_DISCONNECTED,ERR_IPC_ONE_PIPE,ERR_IPC_SYNC_FORK,ERR_MISSING_ARGS}}=require("internal/errors"),{validateArray,validateObject,validateOneOf,validateString}=require("internal/validators"),EventEmitter=require("events"),net=require("net"),dgram=require("dgram"),inspect=require("internal/util/inspect").inspect,assert=require("internal/assert"),{Process}=internalBinding("process_wrap"),{WriteWrap,kReadBytesOrError,kArrayBufferOffset,kLastWriteWasAsync,streamBaseState}=internalBinding("stream_wrap"),{Pipe,constants:PipeConstants}=internalBinding("pipe_wrap"),{TCP}=internalBinding("tcp_wrap"),{TTY}=internalBinding("tty_wrap"),{UDP}=internalBinding("udp_wrap"),SocketList=require("internal/socket_list"),{owner_symbol}=require("internal/async_hooks").symbols,{convertToValidSignal,deprecate}=require("internal/util"),{isArrayBufferView}=require("internal/util/types"),spawn_sync=internalBinding("spawn_sync"),{kStateSymbol}=require("internal/dgram"),{UV_EACCES,UV_EAGAIN,UV_EINVAL,UV_EMFILE,UV_ENFILE,UV_ENOENT,UV_ENOSYS,UV_ESRCH}=internalBinding("uv"),{SocketListSend,SocketListReceive}=SocketList;let freeParser,HTTPParser;const MAX_HANDLE_RETRANSMISSIONS=3,kChannelHandle=Symbol("kChannelHandle"),kIsUsedAsStdio=Symbol("kIsUsedAsStdio"),handleConversion={"net.Native":{simultaneousAccepts:!0,send(e,n,t){return n},got(e,n,t){t(n)}},"net.Server":{simultaneousAccepts:!0,send(e,n,t){return n._handle},got(e,n,t){const s=new net.Server;s.listen(n,()=>{t(s)})}},"net.Socket":{send(e,n,t){if(!n._handle)return;if(n.server){e.key=n.server._connectionKey;const l=!this[kChannelHandle].sockets.send[e.key],r=getSocketList("send",this,e.key);l&&n.server._setupWorker(r),t.keepOpen||n.server._connections--}const s=n._handle;return t.keepOpen||(s.onread=nop,n._handle=null,n.setTimeout(0),freeParser===void 0&&(freeParser=require("_http_common").freeParser),HTTPParser===void 0&&(HTTPParser=require("_http_common").HTTPParser),n.parser&&n.parser instanceof HTTPParser&&(freeParser(n.parser,null,n),n._httpMessage&&n._httpMessage.detachSocket(n))),s},postSend(e,n,t,s,l){n&&!t.keepOpen&&(l?(assert(!l._pendingMessage),l._pendingMessage={callback:s,message:e,handle:n,options:t,retransmissions:0}):n.close())},got(e,n,t){const s=new net.Socket({handle:n,readable:!0,writable:!0});e.key&&getSocketList("got",this,e.key).add({socket:s}),t(s)}},"dgram.Native":{simultaneousAccepts:!1,send(e,n,t){return n},got(e,n,t){t(n)}},"dgram.Socket":{simultaneousAccepts:!1,send(e,n,t){return e.dgramType=n.type,n[kStateSymbol].handle},got(e,n,t){const s=new dgram.Socket(e.dgramType);s.bind(n,()=>{t(s)})}}};function stdioStringToArray(e,n){const t=[];switch(e){case"ignore":case"overlapped":case"pipe":ArrayPrototypePush(t,e,e,e);break;case"inherit":ArrayPrototypePush(t,0,1,2);break;default:throw new ERR_INVALID_ARG_VALUE("stdio",e)}return n&&ArrayPrototypePush(t,n),t}function ChildProcess(){FunctionPrototypeCall(EventEmitter,this),this._closesNeeded=1,this._closesGot=0,this.connected=!1,this.signalCode=null,this.exitCode=null,this.killed=!1,this.spawnfile=null,this._handle=new Process,this._handle[owner_symbol]=this,this._handle.onexit=(e,n)=>{if(n?this.signalCode=n:this.exitCode=e,this.stdin&&this.stdin.destroy(),this._handle.close(),this._handle=null,e<0){const t=this.spawnfile?"spawn "+this.spawnfile:"spawn",s=errnoException(e,t);this.spawnfile&&(s.path=this.spawnfile),s.spawnargs=ArrayPrototypeSlice(this.spawnargs,1),this.emit("error",s)}else this.emit("exit",this.exitCode,this.signalCode);process.nextTick(flushStdio,this),maybeClose(this)}}ObjectSetPrototypeOf(ChildProcess.prototype,EventEmitter.prototype),ObjectSetPrototypeOf(ChildProcess,EventEmitter);function flushStdio(e){const n=e.stdio;if(n!=null)for(let t=0;t<n.length;t++){const s=n[t];!s||!s.readable||s[kIsUsedAsStdio]||s.resume()}}function createSocket(e,n){return net.Socket({handle:e,readable:n})}function getHandleWrapType(e){return e instanceof Pipe?"pipe":e instanceof TTY?"tty":e instanceof TCP?"tcp":e instanceof UDP?"udp":!1}function closePendingHandle(e){e._pendingMessage.handle.close(),e._pendingMessage=null}ChildProcess.prototype.spawn=function(e){let n=0;validateObject(e,"options");let t=e.stdio||"pipe";t=getValidStdio(t,!1);const s=t.ipc,l=t.ipcFd;t=e.stdio=t.stdio,validateOneOf(e.serialization,"options.serialization",[void 0,"json","advanced"]);const r=e.serialization||"json";s!==void 0&&(e.envPairs===void 0?e.envPairs=[]:validateArray(e.envPairs,"options.envPairs"),ArrayPrototypePush(e.envPairs,`NODE_CHANNEL_FD=${l}`),ArrayPrototypePush(e.envPairs,`NODE_CHANNEL_SERIALIZATION_MODE=${r}`)),validateString(e.file,"options.file"),this.spawnfile=e.file,e.args===void 0?this.spawnargs=[]:(validateArray(e.args,"options.args"),this.spawnargs=e.args);const d=this._handle.spawn(e);if(d===UV_EACCES||d===UV_EAGAIN||d===UV_EMFILE||d===UV_ENFILE||d===UV_ENOENT){if(process.nextTick(onErrorNT,this,d),d===UV_EMFILE||d===UV_ENFILE)return d}else if(d){for(n=0;n<t.length;n++){const c=t[n];c.type==="pipe"&&c.handle.close()}throw this._handle.close(),this._handle=null,errnoException(d,"spawn")}else process.nextTick(onSpawnNT,this);for(this.pid=this._handle.pid,n=0;n<t.length;n++){const c=t[n];if(c.type!=="ignore"){if(c.ipc){this._closesNeeded++;continue}if(c.type==="wrap"){c.handle.reading=!1,c.handle.readStop(),c._stdio.pause(),c._stdio.readableFlowing=!1,c._stdio._readableState.reading=!1,c._stdio[kIsUsedAsStdio]=!0;continue}c.handle&&(c.socket=createSocket(this.pid!==0?c.handle:null,n>0),n>0&&this.pid!==0&&(this._closesNeeded++,c.socket.on("close",()=>{maybeClose(this)})))}}for(this.stdin=t.length>=1&&t[0].socket!==void 0?t[0].socket:null,this.stdout=t.length>=2&&t[1].socket!==void 0?t[1].socket:null,this.stderr=t.length>=3&&t[2].socket!==void 0?t[2].socket:null,this.stdio=[],n=0;n<t.length;n++)ArrayPrototypePush(this.stdio,t[n].socket===void 0?null:t[n].socket);return s!==void 0&&setupChannel(this,s,r),d};function onErrorNT(e,n){e._handle.onexit(n)}function onSpawnNT(e){e.emit("spawn")}ChildProcess.prototype.kill=function(e){const n=e===0?e:convertToValidSignal(e===void 0?"SIGTERM":e);if(this._handle){const t=this._handle.kill(n);if(t===0)return this.killed=!0,!0;if(t!==UV_ESRCH){if(t===UV_EINVAL||t===UV_ENOSYS)throw errnoException(t,"kill");this.emit("error",errnoException(t,"kill"))}}return!1},ChildProcess.prototype.ref=function(){this._handle&&this._handle.ref()},ChildProcess.prototype.unref=function(){this._handle&&this._handle.unref()};class Control extends EventEmitter{#e=null;#t=0;#n=!1;constructor(n){super();this.#e=n}refCounted(){++this.#t==1&&!this.#n&&this.#e.ref()}unrefCounted(){--this.#t==0&&!this.#n&&(this.#e.unref(),this.emit("unref"))}ref(){this.#n=!0,this.#e.ref()}unref(){this.#n=!0,this.#e.unref()}get fd(){return this.#e?this.#e.fd:void 0}}const channelDeprecationMsg="_channel is deprecated. Use ChildProcess.channel instead.";let serialization;function setupChannel(e,n,t){const s=new Control(n);e.channel=s,e[kChannelHandle]=n,ObjectDefineProperty(e,"_channel",{get:deprecate(()=>e.channel,channelDeprecationMsg,"DEP0129"),set:deprecate(i=>{e.channel=i},channelDeprecationMsg,"DEP0129"),configurable:!0,enumerable:!1}),e._handleQueue=null,e._pendingMessage=null,serialization===void 0&&(serialization=require("internal/child_process/serialization"));const{initMessageChannel:l,parseChannelMessages:r,writeChannelMessage:d}=serialization[t];let c=null;l(n),n.pendingHandle=null,n.onread=function(i){const o=n.pendingHandle;if(n.pendingHandle=null,i){const f=streamBaseState[kReadBytesOrError],u=streamBaseState[kArrayBufferOffset],a=new Uint8Array(i,u,f);o&&(c=o);for(const h of r(n,a))isInternal(h)?h.cmd==="NODE_HANDLE"?(_(h,c,!0),c=null):_(h,void 0,!0):_(h,void 0,!1)}else this.buffering=!1,e.disconnect(),n.onread=nop,n.close(),e.channel=null,maybeClose(e)},n.sockets={got:{},send:{}},e.on("internalMessage",function(i,o){if(i.cmd==="NODE_HANDLE_ACK"||i.cmd==="NODE_HANDLE_NACK"){e._pendingMessage&&(i.cmd==="NODE_HANDLE_ACK"?closePendingHandle(e):e._pendingMessage.retransmissions++===MAX_HANDLE_RETRANSMISSIONS&&(closePendingHandle(e),process.emitWarning("Handle did not reach the receiving process correctly","SentHandleNotReceivedWarning"))),assert(ArrayIsArray(e._handleQueue));const u=e._handleQueue;e._handleQueue=null,e._pendingMessage&&e._send(e._pendingMessage.message,e._pendingMessage.handle,e._pendingMessage.options,e._pendingMessage.callback);for(let a=0;a<u.length;a++){const h=u[a];e._send(h.message,h.handle,h.options,h.callback)}!e.connected&&e.channel&&!e._handleQueue&&e._disconnect();return}if(i.cmd!=="NODE_HANDLE")return;if(!o)return e._send({cmd:"NODE_HANDLE_NACK"},null,!0);e._send({cmd:"NODE_HANDLE_ACK"},null,!0);const f=handleConversion[i.type];process.platform==="win32"&&o.setSimultaneousAccepts(!1),f.got.call(this,i,o,u=>{_(i.msg,u,isInternal(i.msg))})}),e.send=function(i,o,f,u){if(typeof o=="function"?(u=o,o=void 0,f=void 0):typeof f=="function"?(u=f,f=void 0):f!==void 0&&validateObject(f,"options"),f={swallowErrors:!1,...f},this.connected)return this._send(i,o,f,u);const a=new ERR_IPC_CHANNEL_CLOSED;return typeof u=="function"?process.nextTick(u,a):process.nextTick(()=>this.emit("error",a)),!1},e._send=function(i,o,f,u){if(assert(this.connected||this.channel),i===void 0)throw new ERR_MISSING_ARGS("message");if(typeof i!="string"&&typeof i!="object"&&typeof i!="number"&&typeof i!="boolean")throw new ERR_INVALID_ARG_TYPE("message",["string","object","number","boolean"],i);typeof f=="boolean"&&(f={swallowErrors:f});let a;if(o){if(i={cmd:"NODE_HANDLE",type:null,msg:i},o instanceof net.Socket)i.type="net.Socket";else if(o instanceof net.Server)i.type="net.Server";else if(o instanceof TCP||o instanceof Pipe)i.type="net.Native";else if(o instanceof dgram.Socket)i.type="dgram.Socket";else if(o instanceof UDP)i.type="dgram.Native";else throw new ERR_INVALID_HANDLE_TYPE;if(this._handleQueue)return ArrayPrototypePush(this._handleQueue,{callback:u,handle:o,options:f,message:i.msg}),this._handleQueue.length===1;a=handleConversion[i.type],o=ReflectApply(handleConversion[i.type].send,e,[i,o,f]),o||(i=i.msg),a.simultaneousAccepts&&process.platform==="win32"&&o.setSimultaneousAccepts(!0)}else if(this._handleQueue&&!(i&&(i.cmd==="NODE_HANDLE_ACK"||i.cmd==="NODE_HANDLE_NACK")))return ArrayPrototypePush(this._handleQueue,{callback:u,handle:null,options:f,message:i}),this._handleQueue.length===1;const h=new WriteWrap,y=d(n,h,i,o),E=streamBaseState[kLastWriteWasAsync];if(y===0)o&&(this._handleQueue||(this._handleQueue=[]),a&&a.postSend&&a.postSend(i,o,f,u,e)),E?(h.oncomplete=()=>{s.unrefCounted(),typeof u=="function"&&u(null)},s.refCounted()):typeof u=="function"&&process.nextTick(u,null);else if(a&&a.postSend&&a.postSend(i,o,f,u),!f.swallowErrors){const w=errnoException(y,"write");typeof u=="function"?process.nextTick(u,w):process.nextTick(()=>this.emit("error",w))}return n.writeQueueSize<65536*2},e.connected=!0,e.disconnect=function(){if(!this.connected){this.emit("error",new ERR_IPC_DISCONNECTED);return}this.connected=!1,this._handleQueue||this._disconnect()},e._disconnect=function(){assert(this.channel),this.channel=null,this[kChannelHandle]=null,this._pendingMessage&&closePendingHandle(this);let i=!1;function o(){i||(i=!0,n.close(),e.emit("disconnect"))}if(n.buffering){this.once("message",o),this.once("internalMessage",o);return}process.nextTick(o)};function p(i,o,f){e.emit(i,o,f)}function _(i,o,f){if(!e.channel)return;const u=f?"internalMessage":"message";process.nextTick(p,u,i,o)}return n.readStart(),s}const INTERNAL_PREFIX="NODE_";function isInternal(e){return e!==null&&typeof e=="object"&&typeof e.cmd=="string"&&e.cmd.length>INTERNAL_PREFIX.length&&StringPrototypeSlice(e.cmd,0,INTERNAL_PREFIX.length)===INTERNAL_PREFIX}const nop=FunctionPrototype;function getValidStdio(e,n){let t,s;if(typeof e=="string")e=stdioStringToArray(e);else if(!ArrayIsArray(e))throw new ERR_INVALID_ARG_VALUE("stdio",e);for(;e.length<3;)ArrayPrototypePush(e,void 0);return e=ArrayPrototypeReduce(e,(l,r,d)=>{function c(){for(let p=0;p<l.length;p++)(l[p].type==="pipe"||l[p].type==="ipc")&&l[p].handle&&l[p].handle.close()}if(r==null&&(r=d<3?"pipe":"ignore"),r==="ignore")ArrayPrototypePush(l,{type:"ignore"});else if(r==="pipe"||r==="overlapped"||typeof r=="number"&&r<0){const p={type:r==="overlapped"?"overlapped":"pipe",readable:d===0,writable:d!==0};n||(p.handle=new Pipe(PipeConstants.SOCKET)),ArrayPrototypePush(l,p)}else if(r==="ipc"){if(n||t!==void 0)throw c(),n?new ERR_IPC_SYNC_FORK:new ERR_IPC_ONE_PIPE;t=new Pipe(PipeConstants.IPC),s=d,ArrayPrototypePush(l,{type:"pipe",handle:t,ipc:!0})}else if(r==="inherit")ArrayPrototypePush(l,{type:"inherit",fd:d});else if(typeof r=="number"||typeof r.fd=="number")ArrayPrototypePush(l,{type:"fd",fd:typeof r=="number"?r:r.fd});else if(getHandleWrapType(r)||getHandleWrapType(r.handle)||getHandleWrapType(r._handle)){const p=getHandleWrapType(r)?r:getHandleWrapType(r.handle)?r.handle:r._handle;ArrayPrototypePush(l,{type:"wrap",wrapType:getHandleWrapType(p),handle:p,_stdio:r})}else if(isArrayBufferView(r)||typeof r=="string"){if(!n)throw c(),new ERR_INVALID_SYNC_FORK_INPUT(inspect(r))}else throw c(),new ERR_INVALID_ARG_VALUE("stdio",r);return l},[]),{stdio:e,ipc:t,ipcFd:s}}function getSocketList(e,n,t){const s=n[kChannelHandle].sockets[e];let l=s[t];if(!l){const r=e==="send"?SocketListSend:SocketListReceive;l=s[t]=new r(n,t)}return l}function maybeClose(e){e._closesGot++,e._closesGot===e._closesNeeded&&e.emit("close",e.exitCode,e.signalCode)}function spawnSync(e){const n=spawn_sync.spawn(e);if(n.output&&e.encoding&&e.encoding!=="buffer")for(let t=0;t<n.output.length;t++)!n.output[t]||(n.output[t]=n.output[t].toString(e.encoding));return n.stdout=n.output&&n.output[1],n.stderr=n.output&&n.output[2],n.error&&(n.error=errnoException(n.error,"spawnSync "+e.file),n.error.path=e.file,n.error.spawnargs=ArrayPrototypeSlice(e.args,1)),n}module.exports={ChildProcess,kChannelHandle,setupChannel,getValidStdio,stdioStringToArray,spawnSync};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeJoin,ArrayPrototypeMap,MathCeil,MathMax,MathMaxApply,ObjectPrototypeHasOwnProperty,StringPrototypeRepeat}=primordials,{getStringWidth}=require("internal/util/inspect"),tableChars={middleMiddle:"\u2500",rowMiddle:"\u253C",topRight:"\u2510",topLeft:"\u250C",leftMiddle:"\u251C",topMiddle:"\u252C",bottomRight:"\u2518",bottomLeft:"\u2514",bottomMiddle:"\u2534",rightMiddle:"\u2524",left:"\u2502 ",right:" \u2502",middle:" \u2502 "},renderRow=(i,r)=>{let o=tableChars.left;for(let e=0;e<i.length;e++){const s=i[e],n=getStringWidth(s),d=(r[e]-n)/2;o+=StringPrototypeRepeat(" ",d)+s+StringPrototypeRepeat(" ",MathCeil(d)),e!==i.length-1&&(o+=tableChars.middle)}return o+=tableChars.right,o},table=(i,r)=>{const o=[],e=ArrayPrototypeMap(i,t=>getStringWidth(t)),s=MathMaxApply(ArrayPrototypeMap(r,t=>t.length));for(let t=0;t<i.length;t++){const c=r[t];for(let l=0;l<s;l++){o[l]===void 0&&(o[l]=[]);const p=o[l][t]=ObjectPrototypeHasOwnProperty(c,l)?c[l]:"",M=e[t]||0,h=getStringWidth(p);e[t]=MathMax(M,h)}}const n=ArrayPrototypeMap(e,t=>StringPrototypeRepeat(tableChars.middleMiddle,t+2));let d=tableChars.topLeft+ArrayPrototypeJoin(n,tableChars.topMiddle)+tableChars.topRight+`
`+renderRow(i,e)+`
`+tableChars.leftMiddle+ArrayPrototypeJoin(n,tableChars.rowMiddle)+tableChars.rightMiddle+`
`;for(const t of o)d+=`${renderRow(t,e)}
`;return d+=tableChars.bottomLeft+ArrayPrototypeJoin(n,tableChars.bottomMiddle)+tableChars.bottomRight,d};module.exports=table;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const isWindows=process.platform==="win32";module.exports={CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_UPPERCASE_C:67,CHAR_LOWERCASE_B:98,CHAR_LOWERCASE_E:101,CHAR_LOWERCASE_N:110,CHAR_DOT:46,CHAR_FORWARD_SLASH:47,CHAR_BACKWARD_SLASH:92,CHAR_VERTICAL_LINE:124,CHAR_COLON:58,CHAR_QUESTION_MARK:63,CHAR_UNDERSCORE:95,CHAR_LINE_FEED:10,CHAR_CARRIAGE_RETURN:13,CHAR_TAB:9,CHAR_FORM_FEED:12,CHAR_EXCLAMATION_MARK:33,CHAR_HASH:35,CHAR_SPACE:32,CHAR_NO_BREAK_SPACE:160,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_LEFT_CURLY_BRACKET:123,CHAR_RIGHT_CURLY_BRACKET:125,CHAR_HYPHEN_MINUS:45,CHAR_PLUS:43,CHAR_DOUBLE_QUOTE:34,CHAR_SINGLE_QUOTE:39,CHAR_PERCENT:37,CHAR_SEMICOLON:59,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_GRAVE_ACCENT:96,CHAR_AT:64,CHAR_AMPERSAND:38,CHAR_EQUAL:61,CHAR_0:48,CHAR_9:57,EOL:isWindows?`\r
`:`
`};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{FunctionPrototypeBind,Symbol}=primordials,{codes}=require("internal/errors"),{UDP}=internalBinding("udp_wrap"),{guessHandleType}=internalBinding("util"),{isInt32,validateFunction}=require("internal/validators"),{UV_EINVAL}=internalBinding("uv"),{ERR_SOCKET_BAD_TYPE}=codes,kStateSymbol=Symbol("state symbol");let dns;function lookup4(t,e,n){return t(e||"127.0.0.1",4,n)}function lookup6(t,e,n){return t(e||"::1",6,n)}function newHandle(t,e){if(e===void 0?(dns===void 0&&(dns=require("dns")),e=dns.lookup):validateFunction(e,"lookup"),t==="udp4"){const n=new UDP;return n.lookup=FunctionPrototypeBind(lookup4,n,e),n}if(t==="udp6"){const n=new UDP;return n.lookup=FunctionPrototypeBind(lookup6,n,e),n.bind=n.bind6,n.connect=n.connect6,n.send=n.send6,n}throw new ERR_SOCKET_BAD_TYPE}function _createSocketHandle(t,e,n,o,s){const r=newHandle(n);let i;return isInt32(o)&&o>0?guessHandleType(o)!=="UDP"?i=UV_EINVAL:i=r.open(o):(e||t)&&(i=r.bind(t,e||0,s)),i?(r.close(),i):r}module.exports={kStateSymbol,_createSocketHandle,newHandle};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const config=internalBinding("config"),{DTRACE_HTTP_CLIENT_REQUEST=()=>{},DTRACE_HTTP_CLIENT_RESPONSE=()=>{},DTRACE_HTTP_SERVER_REQUEST=()=>{},DTRACE_HTTP_SERVER_RESPONSE=()=>{},DTRACE_NET_SERVER_CONNECTION=()=>{},DTRACE_NET_STREAM_END=()=>{}}=config.hasDtrace?internalBinding("dtrace"):{};module.exports={DTRACE_HTTP_CLIENT_REQUEST,DTRACE_HTTP_CLIENT_RESPONSE,DTRACE_HTTP_SERVER_REQUEST,DTRACE_HTTP_SERVER_RESPONSE,DTRACE_NET_SERVER_CONNECTION,DTRACE_NET_STREAM_END};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectCreate,ObjectDefineProperties,ObjectGetOwnPropertyDescriptors,SafeMap,StringPrototypeSlice,Symbol,SymbolToStringTag,Uint32Array,Uint8Array}=primordials,{ERR_ENCODING_INVALID_ENCODED_DATA,ERR_ENCODING_NOT_SUPPORTED,ERR_INVALID_ARG_TYPE,ERR_INVALID_THIS,ERR_NO_ICU}=require("internal/errors").codes,kHandle=Symbol("handle"),kFlags=Symbol("flags"),kEncoding=Symbol("encoding"),kDecoder=Symbol("decoder"),kEncoder=Symbol("encoder"),{getConstructorOf,customInspectSymbol:inspect}=require("internal/util"),{isAnyArrayBuffer,isArrayBufferView,isUint8Array}=require("internal/util/types"),{validateString,validateObject}=require("internal/validators"),{encodeInto,encodeUtf8String}=internalBinding("buffer");let Buffer;function lazyBuffer(){return Buffer===void 0&&(Buffer=require("buffer").Buffer),Buffer}function validateEncoder(i){if(i==null||i[kEncoder]!==!0)throw new ERR_INVALID_THIS("TextEncoder")}function validateDecoder(i){if(i==null||i[kDecoder]!==!0)throw new ERR_INVALID_THIS("TextDecoder")}const CONVERTER_FLAGS_FLUSH=1,CONVERTER_FLAGS_FATAL=2,CONVERTER_FLAGS_IGNORE_BOM=4,empty=new Uint8Array(0),encodings=new SafeMap([["unicode-1-1-utf-8","utf-8"],["utf8","utf-8"],["utf-8","utf-8"],["866","ibm866"],["cp866","ibm866"],["csibm866","ibm866"],["ibm866","ibm866"],["csisolatin2","iso-8859-2"],["iso-8859-2","iso-8859-2"],["iso-ir-101","iso-8859-2"],["iso8859-2","iso-8859-2"],["iso88592","iso-8859-2"],["iso_8859-2","iso-8859-2"],["iso_8859-2:1987","iso-8859-2"],["l2","iso-8859-2"],["latin2","iso-8859-2"],["csisolatin3","iso-8859-3"],["iso-8859-3","iso-8859-3"],["iso-ir-109","iso-8859-3"],["iso8859-3","iso-8859-3"],["iso88593","iso-8859-3"],["iso_8859-3","iso-8859-3"],["iso_8859-3:1988","iso-8859-3"],["l3","iso-8859-3"],["latin3","iso-8859-3"],["csisolatin4","iso-8859-4"],["iso-8859-4","iso-8859-4"],["iso-ir-110","iso-8859-4"],["iso8859-4","iso-8859-4"],["iso88594","iso-8859-4"],["iso_8859-4","iso-8859-4"],["iso_8859-4:1988","iso-8859-4"],["l4","iso-8859-4"],["latin4","iso-8859-4"],["csisolatincyrillic","iso-8859-5"],["cyrillic","iso-8859-5"],["iso-8859-5","iso-8859-5"],["iso-ir-144","iso-8859-5"],["iso8859-5","iso-8859-5"],["iso88595","iso-8859-5"],["iso_8859-5","iso-8859-5"],["iso_8859-5:1988","iso-8859-5"],["arabic","iso-8859-6"],["asmo-708","iso-8859-6"],["csiso88596e","iso-8859-6"],["csiso88596i","iso-8859-6"],["csisolatinarabic","iso-8859-6"],["ecma-114","iso-8859-6"],["iso-8859-6","iso-8859-6"],["iso-8859-6-e","iso-8859-6"],["iso-8859-6-i","iso-8859-6"],["iso-ir-127","iso-8859-6"],["iso8859-6","iso-8859-6"],["iso88596","iso-8859-6"],["iso_8859-6","iso-8859-6"],["iso_8859-6:1987","iso-8859-6"],["csisolatingreek","iso-8859-7"],["ecma-118","iso-8859-7"],["elot_928","iso-8859-7"],["greek","iso-8859-7"],["greek8","iso-8859-7"],["iso-8859-7","iso-8859-7"],["iso-ir-126","iso-8859-7"],["iso8859-7","iso-8859-7"],["iso88597","iso-8859-7"],["iso_8859-7","iso-8859-7"],["iso_8859-7:1987","iso-8859-7"],["sun_eu_greek","iso-8859-7"],["csiso88598e","iso-8859-8"],["csisolatinhebrew","iso-8859-8"],["hebrew","iso-8859-8"],["iso-8859-8","iso-8859-8"],["iso-8859-8-e","iso-8859-8"],["iso-ir-138","iso-8859-8"],["iso8859-8","iso-8859-8"],["iso88598","iso-8859-8"],["iso_8859-8","iso-8859-8"],["iso_8859-8:1988","iso-8859-8"],["visual","iso-8859-8"],["csiso88598i","iso-8859-8-i"],["iso-8859-8-i","iso-8859-8-i"],["logical","iso-8859-8-i"],["csisolatin6","iso-8859-10"],["iso-8859-10","iso-8859-10"],["iso-ir-157","iso-8859-10"],["iso8859-10","iso-8859-10"],["iso885910","iso-8859-10"],["l6","iso-8859-10"],["latin6","iso-8859-10"],["iso-8859-13","iso-8859-13"],["iso8859-13","iso-8859-13"],["iso885913","iso-8859-13"],["iso-8859-14","iso-8859-14"],["iso8859-14","iso-8859-14"],["iso885914","iso-8859-14"],["csisolatin9","iso-8859-15"],["iso-8859-15","iso-8859-15"],["iso8859-15","iso-8859-15"],["iso885915","iso-8859-15"],["iso_8859-15","iso-8859-15"],["l9","iso-8859-15"],["cskoi8r","koi8-r"],["koi","koi8-r"],["koi8","koi8-r"],["koi8-r","koi8-r"],["koi8_r","koi8-r"],["koi8-ru","koi8-u"],["koi8-u","koi8-u"],["csmacintosh","macintosh"],["mac","macintosh"],["macintosh","macintosh"],["x-mac-roman","macintosh"],["dos-874","windows-874"],["iso-8859-11","windows-874"],["iso8859-11","windows-874"],["iso885911","windows-874"],["tis-620","windows-874"],["windows-874","windows-874"],["cp1250","windows-1250"],["windows-1250","windows-1250"],["x-cp1250","windows-1250"],["cp1251","windows-1251"],["windows-1251","windows-1251"],["x-cp1251","windows-1251"],["ansi_x3.4-1968","windows-1252"],["ascii","windows-1252"],["cp1252","windows-1252"],["cp819","windows-1252"],["csisolatin1","windows-1252"],["ibm819","windows-1252"],["iso-8859-1","windows-1252"],["iso-ir-100","windows-1252"],["iso8859-1","windows-1252"],["iso88591","windows-1252"],["iso_8859-1","windows-1252"],["iso_8859-1:1987","windows-1252"],["l1","windows-1252"],["latin1","windows-1252"],["us-ascii","windows-1252"],["windows-1252","windows-1252"],["x-cp1252","windows-1252"],["cp1253","windows-1253"],["windows-1253","windows-1253"],["x-cp1253","windows-1253"],["cp1254","windows-1254"],["csisolatin5","windows-1254"],["iso-8859-9","windows-1254"],["iso-ir-148","windows-1254"],["iso8859-9","windows-1254"],["iso88599","windows-1254"],["iso_8859-9","windows-1254"],["iso_8859-9:1989","windows-1254"],["l5","windows-1254"],["latin5","windows-1254"],["windows-1254","windows-1254"],["x-cp1254","windows-1254"],["cp1255","windows-1255"],["windows-1255","windows-1255"],["x-cp1255","windows-1255"],["cp1256","windows-1256"],["windows-1256","windows-1256"],["x-cp1256","windows-1256"],["cp1257","windows-1257"],["windows-1257","windows-1257"],["x-cp1257","windows-1257"],["cp1258","windows-1258"],["windows-1258","windows-1258"],["x-cp1258","windows-1258"],["x-mac-cyrillic","x-mac-cyrillic"],["x-mac-ukrainian","x-mac-cyrillic"],["chinese","gbk"],["csgb2312","gbk"],["csiso58gb231280","gbk"],["gb2312","gbk"],["gb_2312","gbk"],["gb_2312-80","gbk"],["gbk","gbk"],["iso-ir-58","gbk"],["x-gbk","gbk"],["gb18030","gb18030"],["big5","big5"],["big5-hkscs","big5"],["cn-big5","big5"],["csbig5","big5"],["x-x-big5","big5"],["cseucpkdfmtjapanese","euc-jp"],["euc-jp","euc-jp"],["x-euc-jp","euc-jp"],["csiso2022jp","iso-2022-jp"],["iso-2022-jp","iso-2022-jp"],["csshiftjis","shift_jis"],["ms932","shift_jis"],["ms_kanji","shift_jis"],["shift-jis","shift_jis"],["shift_jis","shift_jis"],["sjis","shift_jis"],["windows-31j","shift_jis"],["x-sjis","shift_jis"],["cseuckr","euc-kr"],["csksc56011987","euc-kr"],["euc-kr","euc-kr"],["iso-ir-149","euc-kr"],["korean","euc-kr"],["ks_c_5601-1987","euc-kr"],["ks_c_5601-1989","euc-kr"],["ksc5601","euc-kr"],["ksc_5601","euc-kr"],["windows-949","euc-kr"],["utf-16be","utf-16be"],["utf-16le","utf-16le"],["utf-16","utf-16le"]]);function trimAsciiWhitespace(i){let s=0,o=i.length;for(;s<o&&(i[s]==="	"||i[s]===`
`||i[s]==="\f"||i[s]==="\r"||i[s]===" ");)s++;for(;o>s&&(i[o-1]==="	"||i[o-1]===`
`||i[o-1]==="\f"||i[o-1]==="\r"||i[o-1]===" ");)o--;return StringPrototypeSlice(i,s,o)}function getEncodingFromLabel(i){const s=encodings.get(i);return s!==void 0?s:encodings.get(trimAsciiWhitespace(i.toLowerCase()))}const encodeIntoResults=new Uint32Array(2);class TextEncoder{constructor(){this[kEncoder]=!0}get encoding(){return validateEncoder(this),"utf-8"}encode(s=""){return validateEncoder(this),encodeUtf8String(`${s}`)}encodeInto(s,o){if(validateEncoder(this),validateString(s,"src"),!o||!isUint8Array(o))throw new ERR_INVALID_ARG_TYPE("dest","Uint8Array",o);return encodeInto(s,o,encodeIntoResults),{read:encodeIntoResults[0],written:encodeIntoResults[1]}}[inspect](s,o){if(validateEncoder(this),typeof s=="number"&&s<0)return this;const c=getConstructorOf(this),t=ObjectCreate({constructor:c===null?TextEncoder:c});return t.encoding=this.encoding,require("internal/util/inspect").inspect(t,o)}}ObjectDefineProperties(TextEncoder.prototype,{encode:{enumerable:!0},encodeInto:{enumerable:!0},encoding:{enumerable:!0},[SymbolToStringTag]:{configurable:!0,value:"TextEncoder"}});const TextDecoder=internalBinding("config").hasIntl?makeTextDecoderICU():makeTextDecoderJS();function makeTextDecoderICU(){const{decode:i,getConverter:s}=internalBinding("icu");class o{constructor(t="utf-8",w={}){t=`${t}`,validateObject(w,"options",{nullable:!0,allowArray:!0,allowFunction:!0});const e=getEncodingFromLabel(t);if(e===void 0)throw new ERR_ENCODING_NOT_SUPPORTED(t);let n=0;w!==null&&(n|=w.fatal?CONVERTER_FLAGS_FATAL:0,n|=w.ignoreBOM?CONVERTER_FLAGS_IGNORE_BOM:0);const r=s(e,n);if(r===void 0)throw new ERR_ENCODING_NOT_SUPPORTED(t);this[kDecoder]=!0,this[kHandle]=r,this[kFlags]=n,this[kEncoding]=e}decode(t=empty,w={}){if(validateDecoder(this),isAnyArrayBuffer(t))t=lazyBuffer().from(t);else if(!isArrayBufferView(t))throw new ERR_INVALID_ARG_TYPE("input",["ArrayBuffer","ArrayBufferView"],t);validateObject(w,"options",{nullable:!0,allowArray:!0,allowFunction:!0});let e=0;w!==null&&(e|=w.stream?0:CONVERTER_FLAGS_FLUSH);const n=i(this[kHandle],t,e);if(typeof n=="number")throw new ERR_ENCODING_INVALID_ENCODED_DATA(this.encoding,n);return n.toString("ucs2")}}return o}function makeTextDecoderJS(){let i;function s(){return i===void 0&&({StringDecoder:i}=require("string_decoder")),i}const o=Symbol("BOM seen");function c(w){return w==="utf-8"||w==="utf-16le"}class t{constructor(e="utf-8",n={}){e=`${e}`,validateObject(n,"options",{nullable:!0,allowArray:!0,allowFunction:!0});const r=getEncodingFromLabel(e);if(r===void 0||!c(r))throw new ERR_ENCODING_NOT_SUPPORTED(e);let u=0;if(n!==null){if(n.fatal)throw new ERR_NO_ICU('"fatal" option');u|=n.ignoreBOM?CONVERTER_FLAGS_IGNORE_BOM:0}this[kDecoder]=!0,this[kHandle]=new(s())(r),this[kFlags]=u,this[kEncoding]=r,this[o]=!1}decode(e=empty,n={}){if(validateDecoder(this),isAnyArrayBuffer(e))e=lazyBuffer().from(e);else if(isArrayBufferView(e))e=lazyBuffer().from(e.buffer,e.byteOffset,e.byteLength);else throw new ERR_INVALID_ARG_TYPE("input",["ArrayBuffer","ArrayBufferView"],e);validateObject(n,"options",{nullable:!0,allowArray:!0,allowFunction:!0}),this[kFlags]&CONVERTER_FLAGS_FLUSH&&(this[o]=!1),n!==null&&n.stream?this[kFlags]&=~CONVERTER_FLAGS_FLUSH:this[kFlags]|=CONVERTER_FLAGS_FLUSH;let r=this[kFlags]&CONVERTER_FLAGS_FLUSH?this[kHandle].end(e):this[kHandle].write(e);return r.length>0&&!this[o]&&!(this[kFlags]&CONVERTER_FLAGS_IGNORE_BOM)&&(r[0]==="\uFEFF"&&(r=StringPrototypeSlice(r,1)),this[o]=!0),r}}return t}ObjectDefineProperties(TextDecoder.prototype,ObjectGetOwnPropertyDescriptors({get encoding(){return validateDecoder(this),this[kEncoding]},get fatal(){return validateDecoder(this),(this[kFlags]&CONVERTER_FLAGS_FATAL)===CONVERTER_FLAGS_FATAL},get ignoreBOM(){return validateDecoder(this),(this[kFlags]&CONVERTER_FLAGS_IGNORE_BOM)===CONVERTER_FLAGS_IGNORE_BOM},[inspect](i,s){if(validateDecoder(this),typeof i=="number"&&i<0)return this;const o=getConstructorOf(this)||TextDecoder,c=ObjectCreate({constructor:o});c.encoding=this.encoding,c.fatal=this.fatal,c.ignoreBOM=this.ignoreBOM,s.showHidden&&(c[kFlags]=this[kFlags],c[kHandle]=this[kHandle]);const{inspect:t}=require("internal/util/inspect");return`${o.name} ${t(c)}`}})),ObjectDefineProperties(TextDecoder.prototype,{decode:{enumerable:!0},[inspect]:{enumerable:!1},[SymbolToStringTag]:{configurable:!0,value:"TextDecoder"}}),module.exports={getEncodingFromLabel,TextDecoder,TextEncoder};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const Buffer=require("buffer").Buffer,{ArrayPrototypeForEach,Error,EvalError,FunctionPrototypeCall,ObjectAssign,ObjectCreate,ObjectDefineProperty,ObjectGetOwnPropertyDescriptor,ObjectGetOwnPropertyNames,ObjectGetPrototypeOf,ObjectKeys,ObjectPrototypeToString,RangeError,ReferenceError,SafeSet,SymbolToStringTag,SyntaxError,TypeError,URIError}=primordials,kSerializedError=0,kSerializedObject=1,kInspectedError=2,errors={Error,TypeError,RangeError,URIError,SyntaxError,ReferenceError,EvalError},errorConstructorNames=new SafeSet(ObjectKeys(errors));function TryGetAllProperties(e,t=e){const r=ObjectCreate(null);if(e===null)return r;ObjectAssign(r,TryGetAllProperties(ObjectGetPrototypeOf(e),t));const n=ObjectGetOwnPropertyNames(e);return ArrayPrototypeForEach(n,c=>{let o;try{o=ObjectGetOwnPropertyDescriptor(e,c)}catch{return}const s=o.get;if(s&&c!=="__proto__")try{o.value=FunctionPrototypeCall(s,t)}catch{}"value"in o&&typeof o.value!="function"&&(delete o.get,delete o.set,r[c]=o)}),r}function GetConstructors(e){const t=[];for(let r=e;r!==null;r=ObjectGetPrototypeOf(r)){const n=ObjectGetOwnPropertyDescriptor(r,"constructor");n&&n.value&&ObjectDefineProperty(t,t.length,{value:n.value,enumerable:!0})}return t}function GetName(e){const t=ObjectGetOwnPropertyDescriptor(e,"name");return t&&t.value}let internalUtilInspect;function inspect(...e){return internalUtilInspect||(internalUtilInspect=require("internal/util/inspect")),internalUtilInspect.inspect(...e)}let serialize;function serializeError(e){serialize||(serialize=require("v8").serialize);try{if(typeof e=="object"&&ObjectPrototypeToString(e)==="[object Error]"){const t=GetConstructors(e);for(let r=0;r<t.length;r++){const n=GetName(t[r]);if(errorConstructorNames.has(n)){const c=serialize({constructor:n,properties:TryGetAllProperties(e)});return Buffer.concat([Buffer.from([kSerializedError]),c])}}}}catch{}try{const t=serialize(e);return Buffer.concat([Buffer.from([kSerializedObject]),t])}catch{}return Buffer.concat([Buffer.from([kInspectedError]),Buffer.from(inspect(e),"utf8")])}let deserialize;function deserializeError(e){switch(deserialize||(deserialize=require("v8").deserialize),e[0]){case kSerializedError:const{constructor:t,properties:r}=deserialize(e.subarray(1)),n=errors[t];return ObjectDefineProperty(r,SymbolToStringTag,{value:{value:"Error",configurable:!0},enumerable:!0}),ObjectCreate(n.prototype,r);case kSerializedObject:return deserialize(e.subarray(1));case kInspectedError:return Buffer.from(e.buffer,e.byteOffset+1,e.byteLength-1).toString("utf8")}require("assert").fail("This should not happen")}module.exports={serializeError,deserializeError};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{AggregateError,ArrayFrom,ArrayIsArray,ArrayPrototypeFilter,ArrayPrototypeIncludes,ArrayPrototypeIndexOf,ArrayPrototypeJoin,ArrayPrototypeMap,ArrayPrototypePop,ArrayPrototypePush,ArrayPrototypeSlice,ArrayPrototypeSplice,ArrayPrototypeUnshift,Error,ErrorCaptureStackTrace,ErrorPrototypeToString,JSONStringify,MapPrototypeGet,MathAbs,MathMax,Number,NumberIsInteger,ObjectDefineProperty,ObjectDefineProperties,ObjectIsExtensible,ObjectGetOwnPropertyDescriptor,ObjectKeys,ObjectPrototypeHasOwnProperty,RangeError,ReflectApply,RegExpPrototypeTest,SafeArrayIterator,SafeMap,SafeWeakMap,String,StringPrototypeEndsWith,StringPrototypeIncludes,StringPrototypeMatch,StringPrototypeSlice,StringPrototypeSplit,StringPrototypeStartsWith,StringPrototypeToLowerCase,Symbol,SymbolFor,SyntaxError,TypeError,URIError}=primordials,kIsNodeError=Symbol("kIsNodeError"),isWindows=process.platform==="win32",messages=new SafeMap,codes={},classRegExp=/^([A-Z][a-z0-9]*)+$/,kTypes=["string","function","number","object","Function","Object","boolean","bigint","symbol"],MainContextError=Error,overrideStackTrace=new SafeWeakMap,kNoOverride=Symbol("kNoOverride");let userStackTraceLimit;const nodeInternalPrefix="__node_internal_",prepareStackTrace=(e,n,t)=>{if(overrideStackTrace.has(n)){const o=overrideStackTrace.get(n);return overrideStackTrace.delete(n),o(n,t)}const s=t[0]?.getFunctionName();if(s&&StringPrototypeStartsWith(s,nodeInternalPrefix)){for(let o=t.length-1;o>=0;o--){const a=t[o]?.getFunctionName();if(a&&StringPrototypeStartsWith(a,nodeInternalPrefix)){ArrayPrototypeSplice(t,0,o+1);break}}t.length>userStackTraceLimit&&ArrayPrototypeSplice(t,userStackTraceLimit)}const i=maybeOverridePrepareStackTrace(e,n,t);if(i!==kNoOverride)return i;let r;return kIsNodeError in n?r=`${n.name} [${n.code}]: ${n.message}`:r=ErrorPrototypeToString(n),t.length===0?r:`${r}
    at ${ArrayPrototypeJoin(t,`
    at `)}`},maybeOverridePrepareStackTrace=(e,n,t)=>typeof e.Error?.prepareStackTrace=="function"?e.Error.prepareStackTrace(n,t):typeof MainContextError.prepareStackTrace=="function"?MainContextError.prepareStackTrace(n,t):kNoOverride,aggregateTwoErrors=hideStackFrames((e,n)=>{if(e&&n&&e!==n){if(ArrayIsArray(n.errors))return ArrayPrototypePush(n.errors,e),n;const t=new AggregateError(new SafeArrayIterator([n,e]),n.message);return t.code=n.code,t}return e||n});let util,assert,internalUtil=null;function lazyInternalUtil(){return internalUtil||(internalUtil=require("internal/util")),internalUtil}let internalUtilInspect=null;function lazyInternalUtilInspect(){return internalUtilInspect||(internalUtilInspect=require("internal/util/inspect")),internalUtilInspect}let buffer;function lazyBuffer(){return buffer===void 0&&(buffer=require("buffer").Buffer),buffer}function isErrorStackTraceLimitWritable(){const e=ObjectGetOwnPropertyDescriptor(Error,"stackTraceLimit");return e===void 0?ObjectIsExtensible(Error):ObjectPrototypeHasOwnProperty(e,"writable")?e.writable:e.set!==void 0}class SystemError extends Error{constructor(n,t){const s=Error.stackTraceLimit;isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=0);super();isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=s);let r=`${getMessage(n,[],this)}: ${t.syscall} returned ${t.code} (${t.message})`;t.path!==void 0&&(r+=` ${t.path}`),t.dest!==void 0&&(r+=` => ${t.dest}`),captureLargerStackTrace(this),this.code=n,ObjectDefineProperties(this,{[kIsNodeError]:{value:!0,enumerable:!1,writable:!1,configurable:!0},name:{value:"SystemError",enumerable:!1,writable:!0,configurable:!0},message:{value:r,enumerable:!1,writable:!0,configurable:!0},info:{value:t,enumerable:!0,configurable:!0,writable:!1},errno:{get(){return t.errno},set:o=>{t.errno=o},enumerable:!0,configurable:!0},syscall:{get(){return t.syscall},set:o=>{t.syscall=o},enumerable:!0,configurable:!0}}),t.path!==void 0&&ObjectDefineProperty(this,"path",{get(){return t.path!=null?t.path.toString():t.path},set:o=>{t.path=o?lazyBuffer().from(o.toString()):void 0},enumerable:!0,configurable:!0}),t.dest!==void 0&&ObjectDefineProperty(this,"dest",{get(){return t.dest!=null?t.dest.toString():t.dest},set:o=>{t.dest=o?lazyBuffer().from(o.toString()):void 0},enumerable:!0,configurable:!0})}toString(){return`${this.name} [${this.code}]: ${this.message}`}[SymbolFor("nodejs.util.inspect.custom")](n,t){return lazyInternalUtilInspect().inspect(this,{...t,getters:!0,customInspect:!1})}}function makeSystemErrorWithCode(e){return class extends SystemError{constructor(t){super(e,t)}}}function makeNodeErrorWithCode(e,n){return function(...s){const i=Error.stackTraceLimit;isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=0);const r=new e;isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=i);const o=getMessage(n,s,r);return ObjectDefineProperties(r,{[kIsNodeError]:{value:!0,enumerable:!1,writable:!1,configurable:!0},message:{value:o,enumerable:!1,writable:!0,configurable:!0},toString:{value(){return`${this.name} [${n}]: ${this.message}`},enumerable:!1,writable:!0,configurable:!0}}),captureLargerStackTrace(r),r.code=n,r}}function hideStackFrames(e){const n=nodeInternalPrefix+e.name;return ObjectDefineProperty(e,"name",{value:n}),e}function E(e,n,t,...s){messages.set(e,n),t===SystemError?t=makeSystemErrorWithCode(e):t=makeNodeErrorWithCode(t,e),s.length!==0&&s.forEach(i=>{t[i.name]=makeNodeErrorWithCode(i,e)}),codes[e]=t}function getMessage(e,n,t){const s=messages.get(e);if(assert===void 0&&(assert=require("internal/assert")),typeof s=="function")return assert(s.length<=n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${s.length}).`),ReflectApply(s,t,n);const i=(StringPrototypeMatch(s,/%[dfijoOs]/g)||[]).length;return assert(i===n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${i}).`),n.length===0?s:(ArrayPrototypeUnshift(n,s),ReflectApply(lazyInternalUtilInspect().format,null,n))}let uvBinding;function lazyUv(){return uvBinding||(uvBinding=internalBinding("uv")),uvBinding}const uvUnmappedError=["UNKNOWN","unknown error"];function uvErrmapGet(e){return uvBinding=lazyUv(),uvBinding.errmap||(uvBinding.errmap=uvBinding.getErrorMap()),MapPrototypeGet(uvBinding.errmap,e)}const captureLargerStackTrace=hideStackFrames(function(n){const t=isErrorStackTraceLimitWritable();return t&&(userStackTraceLimit=Error.stackTraceLimit,Error.stackTraceLimit=1/0),ErrorCaptureStackTrace(n),t&&(Error.stackTraceLimit=userStackTraceLimit),n}),uvException=hideStackFrames(function(n){const{0:t,1:s}=uvErrmapGet(n.errno)||uvUnmappedError;let i=`${t}: ${n.message||s}, ${n.syscall}`,r,o;n.path&&(r=n.path.toString(),i+=` '${r}'`),n.dest&&(o=n.dest.toString(),i+=` -> '${o}'`);const a=Error.stackTraceLimit;isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=0);const _=new Error(i);isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=a);for(const R of ObjectKeys(n))R==="message"||R==="path"||R==="dest"||(_[R]=n[R]);return _.code=t,r&&(_.path=r),o&&(_.dest=o),captureLargerStackTrace(_)}),uvExceptionWithHostPort=hideStackFrames(function(n,t,s,i){const{0:r,1:o}=uvErrmapGet(n)||uvUnmappedError,a=`${t} ${r}: ${o}`;let _="";i&&i>0?_=` ${s}:${i}`:s&&(_=` ${s}`);const R=Error.stackTraceLimit;isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=0);const c=new Error(`${a}${_}`);return isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=R),c.code=r,c.errno=n,c.syscall=t,c.address=s,i&&(c.port=i),captureLargerStackTrace(c)}),errnoException=hideStackFrames(function(n,t,s){util===void 0&&(util=require("util"));const i=util.getSystemErrorName(n),r=s?`${t} ${i} ${s}`:`${t} ${i}`,o=Error.stackTraceLimit;isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=0);const a=new Error(r);return isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=o),a.errno=n,a.code=i,a.syscall=t,captureLargerStackTrace(a)}),exceptionWithHostPort=hideStackFrames(function(n,t,s,i,r){util===void 0&&(util=require("util"));const o=util.getSystemErrorName(n);let a="";i&&i>0?a=` ${s}:${i}`:s&&(a=` ${s}`),r&&(a+=` - Local (${r})`);const _=Error.stackTraceLimit;isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=0);const R=new Error(`${t} ${o}${a}`);return isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=_),R.errno=n,R.code=o,R.syscall=t,R.address=s,i&&(R.port=i),captureLargerStackTrace(R)}),dnsException=hideStackFrames(function(e,n,t){let s;typeof e=="number"&&(s=e,e===lazyUv().UV_EAI_NODATA||e===lazyUv().UV_EAI_NONAME?e="ENOTFOUND":e=lazyInternalUtil().getSystemErrorName(e));const i=`${n} ${e}${t?` ${t}`:""}`,r=Error.stackTraceLimit;isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=0);const o=new Error(i);return isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=r),o.errno=s,o.code=e,o.syscall=n,t&&(o.hostname=t),captureLargerStackTrace(o)});function connResetException(e){const n=new Error(e);return n.code="ECONNRESET",n}let maxStack_ErrorName,maxStack_ErrorMessage;function isStackOverflowError(e){if(maxStack_ErrorMessage===void 0)try{let n=function(){n()};n()}catch(n){maxStack_ErrorMessage=n.message,maxStack_ErrorName=n.name}return e&&e.name===maxStack_ErrorName&&e.message===maxStack_ErrorMessage}function addNumericalSeparator(e){let n="",t=e.length;const s=e[0]==="-"?1:0;for(;t>=s+4;t-=3)n=`_${StringPrototypeSlice(e,t-3,t)}${n}`;return`${StringPrototypeSlice(e,0,t)}${n}`}const kEnhanceStackBeforeInspector=Symbol("kEnhanceStackBeforeInspector"),fatalExceptionStackEnhancers={beforeInspector(e){if(typeof e[kEnhanceStackBeforeInspector]!="function")return e.stack;try{e.stack=e[kEnhanceStackBeforeInspector]()}catch{}return e.stack},afterInspector(e){const n=e.stack;let t=!0;if(process.platform==="win32"){const o=internalBinding("os").getOSInformation(),a=ArrayPrototypeMap(StringPrototypeSplit(o[2],"."),Number);(a[0]!==10||a[2]<14393)&&(t=!1)}const{inspect:s,inspectDefaultOptions:{colors:i}}=lazyInternalUtilInspect(),r=t&&(internalBinding("util").guessHandleType(2)==="TTY"&&require("internal/tty").hasColors()||i);try{return s(e,{colors:r,customInspect:!1,depth:MathMax(s.defaultOptions.depth,5)})}catch{return n}}};let _kArrowMessagePrivateSymbol,_setHiddenValue;function setArrowMessage(e,n){_kArrowMessagePrivateSymbol||({arrow_message_private_symbol:_kArrowMessagePrivateSymbol,setHiddenValue:_setHiddenValue}=internalBinding("util")),_setHiddenValue(e,_kArrowMessagePrivateSymbol,n)}function hideInternalStackFrames(e){overrideStackTrace.set(e,(n,t)=>{let s=t;return typeof t=="object"&&(s=ArrayPrototypeFilter(t,i=>!StringPrototypeStartsWith(i.getFileName()||"","node:internal"))),ArrayPrototypeUnshift(s,n),ArrayPrototypeJoin(s,`
    at `)})}class AbortError extends Error{constructor(){super("The operation was aborted");this.code="ABORT_ERR",this.name="AbortError"}}module.exports={aggregateTwoErrors,codes,dnsException,errnoException,exceptionWithHostPort,getMessage,hideStackFrames,hideInternalStackFrames,isErrorStackTraceLimitWritable,isStackOverflowError,setArrowMessage,connResetException,uvErrmapGet,uvException,uvExceptionWithHostPort,SystemError,AbortError,E,kNoOverride,prepareStackTrace,maybeOverridePrepareStackTrace,overrideStackTrace,kEnhanceStackBeforeInspector,fatalExceptionStackEnhancers,kIsNodeError,captureLargerStackTrace},E("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),E("ERR_ARG_NOT_ITERABLE","%s must be iterable",TypeError),E("ERR_ASSERTION","%s",Error),E("ERR_ASYNC_CALLBACK","%s must be a function",TypeError),E("ERR_ASYNC_TYPE",'Invalid name for async "type": %s',TypeError),E("ERR_BROTLI_INVALID_PARAM","%s is not a valid Brotli parameter",RangeError),E("ERR_BUFFER_OUT_OF_BOUNDS",(e=void 0)=>e?`"${e}" is outside of buffer bounds`:"Attempt to access memory outside buffer bounds",RangeError),E("ERR_BUFFER_TOO_LARGE","Cannot create a Buffer larger than %s bytes",RangeError),E("ERR_CANNOT_WATCH_SIGINT","Cannot watch for SIGINT signals",Error),E("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received",Error),E("ERR_CHILD_PROCESS_IPC_REQUIRED","Forked processes must have an IPC channel, missing value 'ipc' in %s",Error),E("ERR_CHILD_PROCESS_STDIO_MAXBUFFER","%s maxBuffer length exceeded",RangeError),E("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s",TypeError),E("ERR_CONTEXT_NOT_INITIALIZED","context used is not initialized",Error),E("ERR_CRYPTO_CUSTOM_ENGINE_NOT_SUPPORTED","Custom engines not supported by this OpenSSL",Error),E("ERR_CRYPTO_ECDH_INVALID_FORMAT","Invalid ECDH format: %s",TypeError),E("ERR_CRYPTO_ECDH_INVALID_PUBLIC_KEY","Public key is not valid for specified curve",Error),E("ERR_CRYPTO_ENGINE_UNKNOWN",'Engine "%s" was not found',Error),E("ERR_CRYPTO_FIPS_FORCED","Cannot set FIPS mode, it was forced with --force-fips at startup.",Error),E("ERR_CRYPTO_FIPS_UNAVAILABLE","Cannot set FIPS mode in a non-FIPS build.",Error),E("ERR_CRYPTO_HASH_FINALIZED","Digest already called",Error),E("ERR_CRYPTO_HASH_UPDATE_FAILED","Hash update failed",Error),E("ERR_CRYPTO_INCOMPATIBLE_KEY","Incompatible %s: %s",Error),E("ERR_CRYPTO_INCOMPATIBLE_KEY_OPTIONS","The selected key encoding %s %s.",Error),E("ERR_CRYPTO_INVALID_DIGEST","Invalid digest: %s",TypeError),E("ERR_CRYPTO_INVALID_JWK","Invalid JWK data",TypeError),E("ERR_CRYPTO_INVALID_KEY_OBJECT_TYPE","Invalid key object type %s, expected %s.",TypeError),E("ERR_CRYPTO_INVALID_STATE","Invalid state for operation %s",Error),E("ERR_CRYPTO_PBKDF2_ERROR","PBKDF2 error",Error),E("ERR_CRYPTO_SCRYPT_INVALID_PARAMETER","Invalid scrypt parameter",Error),E("ERR_CRYPTO_SCRYPT_NOT_SUPPORTED","Scrypt algorithm not supported",Error),E("ERR_CRYPTO_SIGN_KEY_REQUIRED","No key provided to sign",Error),E("ERR_DEBUGGER_ERROR","%s",Error),E("ERR_DEBUGGER_STARTUP_ERROR","%s",Error),E("ERR_DIR_CLOSED","Directory handle was closed",Error),E("ERR_DIR_CONCURRENT_OPERATION","Cannot do synchronous work on directory handle with concurrent asynchronous operations",Error),E("ERR_DNS_SET_SERVERS_FAILED",'c-ares failed to set servers: "%s" [%s]',Error),E("ERR_DOMAIN_CALLBACK_NOT_AVAILABLE","A callback was registered through process.setUncaughtExceptionCaptureCallback(), which is mutually exclusive with using the `domain` module",Error),E("ERR_DOMAIN_CANNOT_SET_UNCAUGHT_EXCEPTION_CAPTURE","The `domain` module is in use, which is mutually exclusive with calling process.setUncaughtExceptionCaptureCallback()",Error),E("ERR_ENCODING_INVALID_ENCODED_DATA",function(e,n){return this.errno=n,`The encoded data was not valid for encoding ${e}`},TypeError),E("ERR_ENCODING_NOT_SUPPORTED",'The "%s" encoding is not supported',RangeError),E("ERR_EVAL_ESM_CANNOT_PRINT","--print cannot be used with ESM input",Error),E("ERR_EVENT_RECURSION",'The event "%s" is already being dispatched',Error),E("ERR_FALSY_VALUE_REJECTION",function(e){return this.reason=e,"Promise was rejected with falsy value"},Error),E("ERR_FEATURE_UNAVAILABLE_ON_PLATFORM","The feature %s is unavailable on the current platform, which is being used to run Node.js",TypeError),E("ERR_FS_CP_DIR_TO_NON_DIR","Cannot overwrite directory with non-directory",SystemError),E("ERR_FS_CP_EEXIST","Target already exists",SystemError),E("ERR_FS_CP_EINVAL","Invalid src or dest",SystemError),E("ERR_FS_CP_FIFO_PIPE","Cannot copy a FIFO pipe",SystemError),E("ERR_FS_CP_NON_DIR_TO_DIR","Cannot overwrite non-directory with directory",SystemError),E("ERR_FS_CP_SOCKET","Cannot copy a socket file",SystemError),E("ERR_FS_CP_SYMLINK_TO_SUBDIRECTORY","Cannot overwrite symlink in subdirectory of self",SystemError),E("ERR_FS_CP_UNKNOWN","Cannot copy an unknown file type",SystemError),E("ERR_FS_EISDIR","Path is a directory",SystemError),E("ERR_FS_FILE_TOO_LARGE","File size (%s) is greater than 2 GB",RangeError),E("ERR_FS_INVALID_SYMLINK_TYPE",'Symlink type must be one of "dir", "file", or "junction". Received "%s"',Error),E("ERR_HTTP2_ALTSVC_INVALID_ORIGIN","HTTP/2 ALTSVC frames require a valid origin",TypeError),E("ERR_HTTP2_ALTSVC_LENGTH","HTTP/2 ALTSVC frames are limited to 16382 bytes",TypeError),E("ERR_HTTP2_CONNECT_AUTHORITY",":authority header is required for CONNECT requests",Error),E("ERR_HTTP2_CONNECT_PATH","The :path header is forbidden for CONNECT requests",Error),E("ERR_HTTP2_CONNECT_SCHEME","The :scheme header is forbidden for CONNECT requests",Error),E("ERR_HTTP2_GOAWAY_SESSION","New streams cannot be created after receiving a GOAWAY",Error),E("ERR_HTTP2_HEADERS_AFTER_RESPOND","Cannot specify additional headers after response initiated",Error),E("ERR_HTTP2_HEADERS_SENT","Response has already been initiated.",Error),E("ERR_HTTP2_HEADER_SINGLE_VALUE",'Header field "%s" must only have a single value',TypeError),E("ERR_HTTP2_INFO_STATUS_NOT_ALLOWED","Informational status codes cannot be used",RangeError),E("ERR_HTTP2_INVALID_CONNECTION_HEADERS",'HTTP/1 Connection specific headers are forbidden: "%s"',TypeError),E("ERR_HTTP2_INVALID_HEADER_VALUE",'Invalid value "%s" for header "%s"',TypeError),E("ERR_HTTP2_INVALID_INFO_STATUS","Invalid informational status code: %s",RangeError),E("ERR_HTTP2_INVALID_ORIGIN","HTTP/2 ORIGIN frames require a valid origin",TypeError),E("ERR_HTTP2_INVALID_PACKED_SETTINGS_LENGTH","Packed settings length must be a multiple of six",RangeError),E("ERR_HTTP2_INVALID_PSEUDOHEADER",'"%s" is an invalid pseudoheader or is used incorrectly',TypeError),E("ERR_HTTP2_INVALID_SESSION","The session has been destroyed",Error),E("ERR_HTTP2_INVALID_SETTING_VALUE",function(e,n,t=void 0,s=void 0){return this.actual=n,t!==void 0&&(this.min=t,this.max=s),`Invalid value for setting "${e}": ${n}`},TypeError,RangeError),E("ERR_HTTP2_INVALID_STREAM","The stream has been destroyed",Error),E("ERR_HTTP2_MAX_PENDING_SETTINGS_ACK","Maximum number of pending settings acknowledgements",Error),E("ERR_HTTP2_NESTED_PUSH","A push stream cannot initiate another push stream.",Error),E("ERR_HTTP2_NO_MEM","Out of memory",Error),E("ERR_HTTP2_NO_SOCKET_MANIPULATION","HTTP/2 sockets should not be directly manipulated (e.g. read and written)",Error),E("ERR_HTTP2_ORIGIN_LENGTH","HTTP/2 ORIGIN frames are limited to 16382 bytes",TypeError),E("ERR_HTTP2_OUT_OF_STREAMS","No stream ID is available because maximum stream ID has been reached",Error),E("ERR_HTTP2_PAYLOAD_FORBIDDEN","Responses with %s status must not have a payload",Error),E("ERR_HTTP2_PING_CANCEL","HTTP2 ping cancelled",Error),E("ERR_HTTP2_PING_LENGTH","HTTP2 ping payload must be 8 bytes",RangeError),E("ERR_HTTP2_PSEUDOHEADER_NOT_ALLOWED","Cannot set HTTP/2 pseudo-headers",TypeError),E("ERR_HTTP2_PUSH_DISABLED","HTTP/2 client has disabled push streams",Error),E("ERR_HTTP2_SEND_FILE","Directories cannot be sent",Error),E("ERR_HTTP2_SEND_FILE_NOSEEK","Offset or length can only be specified for regular files",Error),E("ERR_HTTP2_SESSION_ERROR","Session closed with error code %s",Error),E("ERR_HTTP2_SETTINGS_CANCEL","HTTP2 session settings canceled",Error),E("ERR_HTTP2_SOCKET_BOUND","The socket is already bound to an Http2Session",Error),E("ERR_HTTP2_SOCKET_UNBOUND","The socket has been disconnected from the Http2Session",Error),E("ERR_HTTP2_STATUS_101","HTTP status code 101 (Switching Protocols) is forbidden in HTTP/2",Error),E("ERR_HTTP2_STATUS_INVALID","Invalid status code: %s",RangeError),E("ERR_HTTP2_STREAM_CANCEL",function(e){let n="The pending stream has been canceled";return e&&(this.cause=e,typeof e.message=="string"&&(n+=` (caused by: ${e.message})`)),n},Error),E("ERR_HTTP2_STREAM_ERROR","Stream closed with error code %s",Error),E("ERR_HTTP2_STREAM_SELF_DEPENDENCY","A stream cannot depend on itself",Error),E("ERR_HTTP2_TOO_MANY_INVALID_FRAMES","Too many invalid HTTP/2 frames",Error),E("ERR_HTTP2_TRAILERS_ALREADY_SENT","Trailing headers have already been sent",Error),E("ERR_HTTP2_TRAILERS_NOT_READY","Trailing headers cannot be sent until after the wantTrailers event is emitted",Error),E("ERR_HTTP2_UNSUPPORTED_PROTOCOL",'protocol "%s" is unsupported.',Error),E("ERR_HTTP_HEADERS_SENT","Cannot %s headers after they are sent to the client",Error),E("ERR_HTTP_INVALID_HEADER_VALUE",'Invalid value "%s" for header "%s"',TypeError),E("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s",RangeError),E("ERR_HTTP_REQUEST_TIMEOUT","Request timeout",Error),E("ERR_HTTP_SOCKET_ENCODING","Changing the socket encoding is not allowed per RFC7230 Section 3.",Error),E("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding",Error),E("ERR_ILLEGAL_CONSTRUCTOR","Illegal constructor",TypeError),E("ERR_INCOMPATIBLE_OPTION_PAIR",'Option "%s" cannot be used in combination with option "%s"',TypeError),E("ERR_INPUT_TYPE_NOT_ALLOWED","--input-type can only be used with string input via --eval, --print, or STDIN",Error),E("ERR_INSPECTOR_ALREADY_ACTIVATED","Inspector is already activated. Close it with inspector.close() before activating it again.",Error),E("ERR_INSPECTOR_ALREADY_CONNECTED","%s is already connected",Error),E("ERR_INSPECTOR_CLOSED","Session was closed",Error),E("ERR_INSPECTOR_COMMAND","Inspector error %d: %s",Error),E("ERR_INSPECTOR_NOT_ACTIVE","Inspector is not active",Error),E("ERR_INSPECTOR_NOT_AVAILABLE","Inspector is not available",Error),E("ERR_INSPECTOR_NOT_CONNECTED","Session is not connected",Error),E("ERR_INSPECTOR_NOT_WORKER","Current thread is not a worker",Error),E("ERR_INTERNAL_ASSERTION",e=>{const n=`This is caused by either a bug in Node.js or incorrect usage of Node.js internals.
Please open an issue with this stack trace at https://github.com/nodejs/node/issues
`;return e===void 0?n:`${e}
${n}`},Error),E("ERR_INVALID_ADDRESS_FAMILY",function(e,n,t){return this.host=n,this.port=t,`Invalid address family: ${e} ${n}:${t}`},RangeError),E("ERR_INVALID_ARG_TYPE",(e,n,t)=>{assert(typeof e=="string","'name' must be a string"),ArrayIsArray(n)||(n=[n]);let s="The ";if(StringPrototypeEndsWith(e," argument"))s+=`${e} `;else{const a=StringPrototypeIncludes(e,".")?"property":"argument";s+=`"${e}" ${a} `}s+="must be ";const i=[],r=[],o=[];for(const a of n)assert(typeof a=="string","All expected entries have to be of type string"),ArrayPrototypeIncludes(kTypes,a)?ArrayPrototypePush(i,StringPrototypeToLowerCase(a)):RegExpPrototypeTest(classRegExp,a)?ArrayPrototypePush(r,a):(assert(a!=="object",'The value "object" should be written as "Object"'),ArrayPrototypePush(o,a));if(r.length>0){const a=ArrayPrototypeIndexOf(i,"object");a!==-1&&(ArrayPrototypeSplice(i,a,1),ArrayPrototypePush(r,"Object"))}if(i.length>0){if(i.length>2){const a=ArrayPrototypePop(i);s+=`one of type ${ArrayPrototypeJoin(i,", ")}, or ${a}`}else i.length===2?s+=`one of type ${i[0]} or ${i[1]}`:s+=`of type ${i[0]}`;(r.length>0||o.length>0)&&(s+=" or ")}if(r.length>0){if(r.length>2){const a=ArrayPrototypePop(r);s+=`an instance of ${ArrayPrototypeJoin(r,", ")}, or ${a}`}else s+=`an instance of ${r[0]}`,r.length===2&&(s+=` or ${r[1]}`);o.length>0&&(s+=" or ")}if(o.length>0)if(o.length>2){const a=ArrayPrototypePop(o);s+=`one of ${ArrayPrototypeJoin(o,", ")}, or ${a}`}else o.length===2?s+=`one of ${o[0]} or ${o[1]}`:(StringPrototypeToLowerCase(o[0])!==o[0]&&(s+="an "),s+=`${o[0]}`);if(t==null)s+=`. Received ${t}`;else if(typeof t=="function"&&t.name)s+=`. Received function ${t.name}`;else if(typeof t=="object")t.constructor&&t.constructor.name?s+=`. Received an instance of ${t.constructor.name}`:s+=`. Received ${lazyInternalUtilInspect().inspect(t,{depth:-1})}`;else{let a=lazyInternalUtilInspect().inspect(t,{colors:!1});a.length>25&&(a=`${StringPrototypeSlice(a,0,25)}...`),s+=`. Received type ${typeof t} (${a})`}return s},TypeError),E("ERR_INVALID_ARG_VALUE",(e,n,t="is invalid")=>{let s=lazyInternalUtilInspect().inspect(n);return s.length>128&&(s=`${StringPrototypeSlice(s,0,128)}...`),`The ${StringPrototypeIncludes(e,".")?"property":"argument"} '${e}' ${t}. Received ${s}`},TypeError,RangeError),E("ERR_INVALID_ASYNC_ID","Invalid %s value: %s",RangeError),E("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s",RangeError),E("ERR_INVALID_CALLBACK","Callback must be a function. Received %O",TypeError),E("ERR_INVALID_CHAR",(e,n=void 0)=>{let t=`Invalid character in ${e}`;return n!==void 0&&(t+=` ["${n}"]`),t},TypeError),E("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column",TypeError),E("ERR_INVALID_FD",'"fd" must be a positive integer: %s',RangeError),E("ERR_INVALID_FD_TYPE","Unsupported fd type: %s",TypeError),E("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s',TypeError),E("ERR_INVALID_FILE_URL_PATH","File URL path %s",TypeError),E("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent",TypeError),E("ERR_INVALID_HTTP_TOKEN",'%s must be a valid HTTP token ["%s"]',TypeError),E("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s",TypeError),E("ERR_INVALID_MODULE_SPECIFIER",(e,n,t=void 0)=>`Invalid module "${e}" ${n}${t?` imported from ${t}`:""}`,TypeError),E("ERR_INVALID_PACKAGE_CONFIG",(e,n,t)=>`Invalid package config ${e}${n?` while importing ${n}`:""}${t?`. ${t}`:""}`,Error),E("ERR_INVALID_PACKAGE_TARGET",(e,n,t,s=!1,i=void 0)=>{const r=typeof t=="string"&&!s&&t.length&&!StringPrototypeStartsWith(t,"./");return n==="."?(assert(s===!1),`Invalid "exports" main target ${JSONStringify(t)} defined in the package config ${e}package.json${i?` imported from ${i}`:""}${r?'; targets must start with "./"':""}`):`Invalid "${s?"imports":"exports"}" target ${JSONStringify(t)} defined for '${n}' in the package config ${e}package.json${i?` imported from ${i}`:""}${r?'; targets must start with "./"':""}`},Error),E("ERR_INVALID_PROTOCOL",'Protocol "%s" not supported. Expected "%s"',TypeError),E("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL',TypeError),E("ERR_INVALID_REPL_INPUT","%s",TypeError),E("ERR_INVALID_RETURN_PROPERTY",(e,n,t,s)=>`Expected a valid ${e} to be returned for the "${t}" from the "${n}" function but got ${s}.`,TypeError),E("ERR_INVALID_RETURN_PROPERTY_VALUE",(e,n,t,s)=>{let i;return s&&s.constructor&&s.constructor.name?i=`instance of ${s.constructor.name}`:i=`type ${typeof s}`,`Expected ${e} to be returned for the "${t}" from the "${n}" function but got ${i}.`},TypeError),E("ERR_INVALID_RETURN_VALUE",(e,n,t)=>{let s;return t&&t.constructor&&t.constructor.name?s=`instance of ${t.constructor.name}`:s=`type ${typeof t}`,`Expected ${e} to be returned from the "${n}" function but got ${s}.`},TypeError,RangeError),E("ERR_INVALID_STATE","Invalid state: %s",Error,TypeError,RangeError),E("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, TypedArray, DataView or string input: %s",TypeError),E("ERR_INVALID_THIS",'Value of "this" must be of type %s',TypeError),E("ERR_INVALID_TUPLE","%s must be an iterable %s tuple",TypeError),E("ERR_INVALID_URI","URI malformed",URIError),E("ERR_INVALID_URL",function(e){return this.input=e,"Invalid URL"},TypeError),E("ERR_INVALID_URL_SCHEME",e=>(typeof e=="string"&&(e=[e]),assert(e.length<=2),`The URL must be ${e.length===2?`one of scheme ${e[0]} or ${e[1]}`:`of scheme ${e[0]}`}`),TypeError),E("ERR_IPC_CHANNEL_CLOSED","Channel closed",Error),E("ERR_IPC_DISCONNECTED","IPC channel is already disconnected",Error),E("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe",Error),E("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks",Error),E("ERR_MANIFEST_ASSERT_INTEGRITY",(e,n)=>{let t=`The content of "${e}" does not match the expected integrity.`;return n.size?t+=` Integrities found are: ${ArrayPrototypeJoin(ArrayFrom(n.entries(),({0:i,1:r})=>`${i}-${r}`)," ")}`:t+=" The resource was not found in the policy.",t},Error),E("ERR_MANIFEST_DEPENDENCY_MISSING","Manifest resource %s does not list %s as a dependency specifier for conditions: %s",Error),E("ERR_MANIFEST_INTEGRITY_MISMATCH","Manifest resource %s has multiple entries but integrity lists do not match",SyntaxError),E("ERR_MANIFEST_INVALID_RESOURCE_FIELD","Manifest resource %s has invalid property value for %s",TypeError),E("ERR_MANIFEST_INVALID_SPECIFIER","Manifest resource %s has invalid dependency mapping %s",TypeError),E("ERR_MANIFEST_TDZ","Manifest initialization has not yet run",Error),E("ERR_MANIFEST_UNKNOWN_ONERROR",'Manifest specified unknown error behavior "%s".',SyntaxError),E("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),E("ERR_MISSING_ARGS",(...e)=>{assert(e.length>0,"At least one arg needs to be specified");let n="The ";const t=e.length,s=i=>`"${i}"`;switch(e=ArrayPrototypeMap(e,i=>ArrayIsArray(i)?ArrayPrototypeJoin(ArrayPrototypeMap(i,s)," or "):s(i)),t){case 1:n+=`${e[0]} argument`;break;case 2:n+=`${e[0]} and ${e[1]} arguments`;break;default:n+=ArrayPrototypeJoin(ArrayPrototypeSlice(e,0,t-1),", "),n+=`, and ${e[t-1]} arguments`;break}return`${n} must be specified`},TypeError),E("ERR_MISSING_OPTION","%s is required",TypeError),E("ERR_MODULE_NOT_FOUND",(e,n,t="package")=>`Cannot find ${t} '${e}' imported from ${n}`,Error),E("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),E("ERR_NAPI_CONS_FUNCTION","Constructor must be a function",TypeError),E("ERR_NAPI_INVALID_DATAVIEW_ARGS","byte_offset + byte_length should be less than or equal to the size in bytes of the array passed in",RangeError),E("ERR_NAPI_INVALID_TYPEDARRAY_ALIGNMENT","start offset of %s should be a multiple of %s",RangeError),E("ERR_NAPI_INVALID_TYPEDARRAY_LENGTH","Invalid typed array length",RangeError),E("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support",Error),E("ERR_NO_ICU","%s is not supported on Node.js compiled without ICU",TypeError),E("ERR_OPERATION_FAILED","Operation failed: %s",Error,TypeError),E("ERR_OUT_OF_RANGE",(e,n,t,s=!1)=>{assert(n,'Missing "range" argument');let i=s?e:`The value of "${e}" is out of range.`,r;return NumberIsInteger(t)&&MathAbs(t)>2**32?r=addNumericalSeparator(String(t)):typeof t=="bigint"?(r=String(t),(t>2n**32n||t<-(2n**32n))&&(r=addNumericalSeparator(r)),r+="n"):r=lazyInternalUtilInspect().inspect(t),i+=` It must be ${n}. Received ${r}`,i},RangeError),E("ERR_PACKAGE_IMPORT_NOT_DEFINED",(e,n,t)=>`Package import specifier "${e}" is not defined${n?` in package ${n}package.json`:""} imported from ${t}`,TypeError),E("ERR_PACKAGE_PATH_NOT_EXPORTED",(e,n,t=void 0)=>n==="."?`No "exports" main defined in ${e}package.json${t?` imported from ${t}`:""}`:`Package subpath '${n}' is not defined by "exports" in ${e}package.json${t?` imported from ${t}`:""}`,Error),E("ERR_PERFORMANCE_INVALID_TIMESTAMP","%d is not a valid timestamp",TypeError),E("ERR_PERFORMANCE_MEASURE_INVALID_OPTIONS","%s",TypeError),E("ERR_REQUIRE_ESM",function(e,n,t=null,s=null){hideInternalStackFrames(this);let i=`require() of ES Module ${e}${t?` from ${t}`:""} not supported.`;if(!s)return StringPrototypeEndsWith(e,".mjs")&&(i+=`
Instead change the require of ${e} to a dynamic import() which is available in all CommonJS modules.`),i;const r=require("path"),o=r.basename(e)===r.basename(t)?e:r.basename(e);return n?(i+=`
Instead change the require of ${o} in ${t} to a dynamic import() which is available in all CommonJS modules.`,i):(i+=`
${o} is treated as an ES module file as it is a .js file whose nearest parent package.json contains "type": "module" which declares all .js files in that package scope as ES modules.
Instead rename ${o} to end in .cjs, change the requiring code to use dynamic import() which is available in all CommonJS modules, or change "type": "module" to "type": "commonjs" in ${s} to treat all .js files as CommonJS (using .mjs for all ES modules instead).
`,i)},Error),E("ERR_SCRIPT_EXECUTION_INTERRUPTED","Script execution was interrupted by `SIGINT`",Error),E("ERR_SERVER_ALREADY_LISTEN","Listen method has been called more than once without closing.",Error),E("ERR_SERVER_NOT_RUNNING","Server is not running.",Error),E("ERR_SOCKET_ALREADY_BOUND","Socket is already bound",Error),E("ERR_SOCKET_BAD_BUFFER_SIZE","Buffer size must be a positive integer",TypeError),E("ERR_SOCKET_BAD_PORT",(e,n,t=!0)=>(assert(typeof t=="boolean","The 'allowZero' argument must be of type boolean."),`${e} should be ${t?">=":">"} 0 and < 65536. Received ${n}.`),RangeError),E("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6",TypeError),E("ERR_SOCKET_BUFFER_SIZE","Could not get or set buffer size",SystemError),E("ERR_SOCKET_CLOSED","Socket is closed",Error),E("ERR_SOCKET_DGRAM_IS_CONNECTED","Already connected",Error),E("ERR_SOCKET_DGRAM_NOT_CONNECTED","Not connected",Error),E("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running",Error),E("ERR_SRI_PARSE","Subresource Integrity string %j had an unexpected %j at position %d",SyntaxError),E("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),E("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),E("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),E("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode",Error),E("ERR_STREAM_WRITE_AFTER_END","write after end",Error),E("ERR_SYNTHETIC","JavaScript Callstack",Error),E("ERR_SYSTEM_ERROR","A system error occurred",SystemError),E("ERR_TLS_CERT_ALTNAME_INVALID",function(e,n,t){return this.reason=e,this.host=n,this.cert=t,`Hostname/IP does not match certificate's altnames: ${e}`},Error),E("ERR_TLS_DH_PARAM_SIZE","DH parameter size %s is less than 2048",Error),E("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout",Error),E("ERR_TLS_INVALID_CONTEXT","%s must be a SecureContext",TypeError),E("ERR_TLS_INVALID_PROTOCOL_VERSION","%j is not a valid %s TLS protocol version",TypeError),E("ERR_TLS_INVALID_STATE","TLS socket connection must be securely established",Error),E("ERR_TLS_PROTOCOL_VERSION_CONFLICT","TLS protocol version %j conflicts with secureProtocol %j",TypeError),E("ERR_TLS_RENEGOTIATION_DISABLED","TLS session renegotiation disabled for this socket",Error),E("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext',Error),E("ERR_TLS_SESSION_ATTACK","TLS session renegotiation attack detected",Error),E("ERR_TLS_SNI_FROM_SERVER","Cannot issue SNI from a TLS server-side socket",Error),E("ERR_TRACE_EVENTS_CATEGORY_REQUIRED","At least one category is required",TypeError),E("ERR_TRACE_EVENTS_UNAVAILABLE","Trace events are unavailable",Error),E("ERR_TTY_INIT_FAILED","TTY initialization failed",SystemError),E("ERR_UNAVAILABLE_DURING_EXIT","Cannot call function in process exit handler",Error),E("ERR_UNCAUGHT_EXCEPTION_CAPTURE_ALREADY_SET","`process.setupUncaughtExceptionCapture()` was called while a capture callback was already active",Error),E("ERR_UNESCAPED_CHARACTERS","%s contains unescaped characters",TypeError),E("ERR_UNHANDLED_ERROR",(e=void 0)=>{const n="Unhandled error.";return e===void 0?n:`${n} (${e})`},Error),E("ERR_UNKNOWN_BUILTIN_MODULE","No such built-in module: %s",Error),E("ERR_UNKNOWN_CREDENTIAL","%s identifier does not exist: %s",Error),E("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),E("ERR_UNKNOWN_FILE_EXTENSION",'Unknown file extension "%s" for %s',TypeError),E("ERR_UNKNOWN_MODULE_FORMAT","Unknown module format: %s",RangeError),E("ERR_UNKNOWN_SIGNAL","Unknown signal: %s",TypeError),E("ERR_UNSUPPORTED_DIR_IMPORT","Directory import '%s' is not supported resolving ES modules imported from %s",Error),E("ERR_UNSUPPORTED_ESM_URL_SCHEME",e=>{let n="Only file and data URLs are supported by the default ESM loader";return isWindows&&e.protocol.length===2&&(n+=". On Windows, absolute paths must be valid file:// URLs"),n+=`. Received protocol '${e.protocol}'`,n},Error),E("ERR_VALID_PERFORMANCE_ENTRY_TYPE","At least one valid performance entry type is required",Error),E("ERR_VM_DYNAMIC_IMPORT_CALLBACK_MISSING","A dynamic import callback was not specified.",TypeError),E("ERR_VM_MODULE_ALREADY_LINKED","Module has already been linked",Error),E("ERR_VM_MODULE_CANNOT_CREATE_CACHED_DATA","Cached data cannot be created for a module which has been evaluated",Error),E("ERR_VM_MODULE_DIFFERENT_CONTEXT","Linked modules must use the same context",Error),E("ERR_VM_MODULE_LINKING_ERRORED","Linking has already failed for the provided module",Error),E("ERR_VM_MODULE_NOT_MODULE","Provided module is not an instance of Module",Error),E("ERR_VM_MODULE_STATUS","Module status %s",Error),E("ERR_WASI_ALREADY_STARTED","WASI instance has already started",Error),E("ERR_WORKER_INIT_FAILED","Worker initialization failure: %s",Error),E("ERR_WORKER_INVALID_EXEC_ARGV",(e,n="invalid execArgv flags")=>`Initiated Worker with ${n}: ${ArrayPrototypeJoin(e,", ")}`,Error),E("ERR_WORKER_NOT_RUNNING","Worker instance not running",Error),E("ERR_WORKER_OUT_OF_MEMORY","Worker terminated due to reaching memory limit: %s",Error),E("ERR_WORKER_PATH",e=>"The worker script or module filename must be an absolute path or a relative path starting with './' or '../'."+(StringPrototypeStartsWith(e,"file://")?" Wrap file:// URLs with `new URL`.":"")+(StringPrototypeStartsWith(e,"data:text/javascript")?" Wrap data: URLs with `new URL`.":"")+` Received "${e}"`,TypeError),E("ERR_WORKER_UNSERIALIZABLE_ERROR","Serializing an uncaught exception failed",Error),E("ERR_WORKER_UNSUPPORTED_OPERATION","%s is not supported in workers",TypeError),E("ERR_ZLIB_INITIALIZATION_FAILED","Initialization failed",Error);
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayFrom,Boolean,Error,FunctionPrototypeBind,FunctionPrototypeCall,NumberIsInteger,ObjectAssign,ObjectCreate,ObjectDefineProperties,ObjectDefineProperty,ObjectGetOwnPropertyDescriptor,ObjectGetOwnPropertyDescriptors,ReflectApply,SafeArrayIterator,SafeFinalizationRegistry,SafeMap,SafeWeakMap,SafeWeakRef,SafeWeakSet,String,Symbol,SymbolFor,SymbolToStringTag}=primordials,{codes:{ERR_INVALID_ARG_TYPE,ERR_EVENT_RECURSION,ERR_MISSING_ARGS,ERR_INVALID_THIS}}=require("internal/errors"),{validateObject,validateString}=require("internal/validators"),{customInspectSymbol}=require("internal/util"),{inspect}=require("util"),kIsEventTarget=SymbolFor("nodejs.event_target"),kIsNodeEventTarget=Symbol("kIsNodeEventTarget"),EventEmitter=require("events"),{kMaxEventTargetListeners,kMaxEventTargetListenersWarned}=EventEmitter,kEvents=Symbol("kEvents"),kIsBeingDispatched=Symbol("kIsBeingDispatched"),kStop=Symbol("kStop"),kTarget=Symbol("kTarget"),kHandlers=Symbol("khandlers"),kWeakHandler=Symbol("kWeak"),kHybridDispatch=SymbolFor("nodejs.internal.kHybridDispatch"),kCreateEvent=Symbol("kCreateEvent"),kNewListener=Symbol("kNewListener"),kRemoveListener=Symbol("kRemoveListener"),kIsNodeStyleListener=Symbol("kIsNodeStyleListener"),kTrustEvent=Symbol("kTrustEvent"),{now}=require("internal/perf/utils"),kType=Symbol("type"),kDefaultPrevented=Symbol("defaultPrevented"),kCancelable=Symbol("cancelable"),kTimestamp=Symbol("timestamp"),kBubbles=Symbol("bubbles"),kComposed=Symbol("composed"),kPropagationStopped=Symbol("propagationStopped"),isTrustedSet=new SafeWeakSet,isTrusted=ObjectGetOwnPropertyDescriptor({get isTrusted(){return isTrustedSet.has(this)}},"isTrusted").get;function isEvent(r){return typeof r?.[kType]=="string"}class Event{constructor(e,t=null){if(arguments.length===0)throw new ERR_MISSING_ARGS("type");validateObject(t,"options",{allowArray:!0,allowFunction:!0,nullable:!0});const{cancelable:n,bubbles:i,composed:a}={...t};this[kCancelable]=!!n,this[kBubbles]=!!i,this[kComposed]=!!a,this[kType]=`${e}`,this[kDefaultPrevented]=!1,this[kTimestamp]=now(),this[kPropagationStopped]=!1,t?.[kTrustEvent]&&isTrustedSet.add(this),ObjectDefineProperty(this,"isTrusted",{get:isTrusted,enumerable:!0,configurable:!1}),this[kTarget]=null,this[kIsBeingDispatched]=!1}[customInspectSymbol](e,t){if(!isEvent(this))throw new ERR_INVALID_THIS("Event");const n=this.constructor.name;if(e<0)return n;const i=ObjectAssign({},t,{depth:NumberIsInteger(t.depth)?t.depth-1:t.depth});return`${n} ${inspect({type:this[kType],defaultPrevented:this[kDefaultPrevented],cancelable:this[kCancelable],timeStamp:this[kTimestamp]},i)}`}stopImmediatePropagation(){if(!isEvent(this))throw new ERR_INVALID_THIS("Event");this[kStop]=!0}preventDefault(){if(!isEvent(this))throw new ERR_INVALID_THIS("Event");this[kDefaultPrevented]=!0}get target(){if(!isEvent(this))throw new ERR_INVALID_THIS("Event");return this[kTarget]}get currentTarget(){if(!isEvent(this))throw new ERR_INVALID_THIS("Event");return this[kTarget]}get srcElement(){if(!isEvent(this))throw new ERR_INVALID_THIS("Event");return this[kTarget]}get type(){if(!isEvent(this))throw new ERR_INVALID_THIS("Event");return this[kType]}get cancelable(){if(!isEvent(this))throw new ERR_INVALID_THIS("Event");return this[kCancelable]}get defaultPrevented(){if(!isEvent(this))throw new ERR_INVALID_THIS("Event");return this[kCancelable]&&this[kDefaultPrevented]}get timeStamp(){if(!isEvent(this))throw new ERR_INVALID_THIS("Event");return this[kTimestamp]}composedPath(){if(!isEvent(this))throw new ERR_INVALID_THIS("Event");return this[kIsBeingDispatched]?[this[kTarget]]:[]}get returnValue(){if(!isEvent(this))throw new ERR_INVALID_THIS("Event");return!this.defaultPrevented}get bubbles(){if(!isEvent(this))throw new ERR_INVALID_THIS("Event");return this[kBubbles]}get composed(){if(!isEvent(this))throw new ERR_INVALID_THIS("Event");return this[kComposed]}get eventPhase(){if(!isEvent(this))throw new ERR_INVALID_THIS("Event");return this[kIsBeingDispatched]?Event.AT_TARGET:Event.NONE}get cancelBubble(){if(!isEvent(this))throw new ERR_INVALID_THIS("Event");return this[kPropagationStopped]}set cancelBubble(e){if(!isEvent(this))throw new ERR_INVALID_THIS("Event");e&&this.stopPropagation()}stopPropagation(){if(!isEvent(this))throw new ERR_INVALID_THIS("Event");this[kPropagationStopped]=!0}static NONE=0;static CAPTURING_PHASE=1;static AT_TARGET=2;static BUBBLING_PHASE=3}const kEnumerableProperty=ObjectCreate(null);kEnumerableProperty.enumerable=!0,ObjectDefineProperties(Event.prototype,{[SymbolToStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:"Event"},stopImmediatePropagation:kEnumerableProperty,preventDefault:kEnumerableProperty,target:kEnumerableProperty,currentTarget:kEnumerableProperty,srcElement:kEnumerableProperty,type:kEnumerableProperty,cancelable:kEnumerableProperty,defaultPrevented:kEnumerableProperty,timeStamp:kEnumerableProperty,composedPath:kEnumerableProperty,returnValue:kEnumerableProperty,bubbles:kEnumerableProperty,composed:kEnumerableProperty,eventPhase:kEnumerableProperty,cancelBubble:kEnumerableProperty,stopPropagation:kEnumerableProperty});class NodeCustomEvent extends Event{constructor(e,t){super(e,t);t?.detail&&(this.detail=t.detail)}}let weakListenersState=null,objectToWeakListenerMap=null;function weakListeners(){return weakListenersState??=new SafeFinalizationRegistry(r=>r.remove()),objectToWeakListenerMap??=new SafeWeakMap,{registry:weakListenersState,map:objectToWeakListenerMap}}class Listener{constructor(e,t,n,i,a,s,o){this.next=void 0,e!==void 0&&(e.next=this),this.previous=e,this.listener=t,this.once=n,this.capture=i,this.passive=a,this.isNodeStyleListener=s,this.removed=!1,this.weak=Boolean(o),this.weak?(this.callback=new SafeWeakRef(t),weakListeners().registry.register(t,this,this),weakListeners().map.set(o,t),this.listener=this.callback):typeof t=="function"?(this.callback=t,this.listener=t):(this.callback=FunctionPrototypeBind(t.handleEvent,t),this.listener=t)}same(e,t){return(this.weak?this.listener.deref():this.listener)===e&&this.capture===t}remove(){this.previous!==void 0&&(this.previous.next=this.next),this.next!==void 0&&(this.next.previous=this.previous),this.removed=!0,this.weak&&weakListeners().registry.unregister(this)}}function initEventTarget(r){r[kEvents]=new SafeMap,r[kMaxEventTargetListeners]=EventEmitter.defaultMaxListeners,r[kMaxEventTargetListenersWarned]=!1}class EventTarget{static[kIsEventTarget]=!0;constructor(){initEventTarget(this)}[kNewListener](e,t,n,i,a,s){if(this[kMaxEventTargetListeners]>0&&e>this[kMaxEventTargetListeners]&&!this[kMaxEventTargetListenersWarned]){this[kMaxEventTargetListenersWarned]=!0;const o=new Error(`Possible EventTarget memory leak detected. ${e} ${t} listeners added to ${inspect(this,{depth:-1})}. Use events.setMaxListeners() to increase limit`);o.name="MaxListenersExceededWarning",o.target=this,o.type=t,o.count=e,process.emitWarning(o)}}[kRemoveListener](e,t,n,i){}addEventListener(e,t,n={}){if(!isEventTarget(this))throw new ERR_INVALID_THIS("EventTarget");if(arguments.length<2)throw new ERR_MISSING_ARGS("type","listener");const{once:i,capture:a,passive:s,signal:o,isNodeStyleListener:u,weak:c}=validateEventListenerOptions(n);if(!shouldAddListener(t)){const d=new Error(`addEventListener called with ${t} which has no effect.`);d.name="AddEventListenerArgumentTypeWarning",d.target=this,d.type=e,process.emitWarning(d);return}if(e=String(e),o){if(o.aborted)return;o.addEventListener("abort",()=>{this.removeEventListener(e,t,n)},{once:!0,[kWeakHandler]:this})}let h=this[kEvents].get(e);if(h===void 0){h={size:1,next:void 0},new Listener(h,t,i,a,s,u,c),this[kNewListener](h.size,e,t,i,a,s),this[kEvents].set(e,h);return}let l=h.next,f=h;for(;l!==void 0&&!l.same(t,a);)f=l,l=l.next;l===void 0&&(new Listener(f,t,i,a,s,u,c),h.size++,this[kNewListener](h.size,e,t,i,a,s))}removeEventListener(e,t,n={}){if(!isEventTarget(this))throw new ERR_INVALID_THIS("EventTarget");if(!shouldAddListener(t))return;e=String(e);const i=n?.capture===!0,a=this[kEvents].get(e);if(a===void 0||a.next===void 0)return;let s=a.next;for(;s!==void 0;){if(s.same(t,i)){s.remove(),a.size--,a.size===0&&this[kEvents].delete(e),this[kRemoveListener](a.size,e,t,i);break}s=s.next}}dispatchEvent(e){if(!isEventTarget(this))throw new ERR_INVALID_THIS("EventTarget");if(!(e instanceof Event))throw new ERR_INVALID_ARG_TYPE("event","Event",e);if(e[kIsBeingDispatched])throw new ERR_EVENT_RECURSION(e.type);return this[kHybridDispatch](e,e.type,e),e.defaultPrevented!==!0}[kHybridDispatch](e,t,n){const i=()=>(n===void 0&&(n=this[kCreateEvent](e,t),n[kTarget]=this,n[kIsBeingDispatched]=!0),n);n!==void 0&&(n[kTarget]=this,n[kIsBeingDispatched]=!0);const a=this[kEvents].get(t);if(a===void 0||a.next===void 0)return!0;let s=a.next,o;for(;s!==void 0&&(s.passive||n?.[kStop]!==!0);){if(o=s.next,s.removed){s=o;continue}if(s.once){s.remove(),a.size--;const{listener:u,capture:c}=s;this[kRemoveListener](a.size,t,u,c)}try{let u;s.isNodeStyleListener?u=e:u=i();const c=s.weak?s.callback.deref():s.callback;let h;c&&(h=FunctionPrototypeCall(c,this,u),s.isNodeStyleListener||(u[kIsBeingDispatched]=!1)),h!=null&&addCatch(h)}catch(u){emitUncaughtException(u)}s=o}n!==void 0&&(n[kIsBeingDispatched]=!1)}[kCreateEvent](e,t){return new NodeCustomEvent(t,{detail:e})}[customInspectSymbol](e,t){if(!isEventTarget(this))throw new ERR_INVALID_THIS("EventTarget");const n=this.constructor.name;if(e<0)return n;const i=ObjectAssign({},t,{depth:NumberIsInteger(t.depth)?t.depth-1:t.depth});return`${n} ${inspect({},i)}`}}ObjectDefineProperties(EventTarget.prototype,{addEventListener:kEnumerableProperty,removeEventListener:kEnumerableProperty,dispatchEvent:kEnumerableProperty,[SymbolToStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:"EventTarget"}});function initNodeEventTarget(r){initEventTarget(r)}class NodeEventTarget extends EventTarget{static[kIsNodeEventTarget]=!0;static defaultMaxListeners=10;constructor(){super();initNodeEventTarget(this)}setMaxListeners(e){if(!isNodeEventTarget(this))throw new ERR_INVALID_THIS("NodeEventTarget");EventEmitter.setMaxListeners(e,this)}getMaxListeners(){if(!isNodeEventTarget(this))throw new ERR_INVALID_THIS("NodeEventTarget");return this[kMaxEventTargetListeners]}eventNames(){if(!isNodeEventTarget(this))throw new ERR_INVALID_THIS("NodeEventTarget");return ArrayFrom(this[kEvents].keys())}listenerCount(e){if(!isNodeEventTarget(this))throw new ERR_INVALID_THIS("NodeEventTarget");const t=this[kEvents].get(String(e));return t!==void 0?t.size:0}off(e,t,n){if(!isNodeEventTarget(this))throw new ERR_INVALID_THIS("NodeEventTarget");return this.removeEventListener(e,t,n),this}removeListener(e,t,n){if(!isNodeEventTarget(this))throw new ERR_INVALID_THIS("NodeEventTarget");return this.removeEventListener(e,t,n),this}on(e,t){if(!isNodeEventTarget(this))throw new ERR_INVALID_THIS("NodeEventTarget");return this.addEventListener(e,t,{[kIsNodeStyleListener]:!0}),this}addListener(e,t){if(!isNodeEventTarget(this))throw new ERR_INVALID_THIS("NodeEventTarget");return this.addEventListener(e,t,{[kIsNodeStyleListener]:!0}),this}emit(e,t){if(!isNodeEventTarget(this))throw new ERR_INVALID_THIS("NodeEventTarget");validateString(e,"type");const n=this.listenerCount(e)>0;return this[kHybridDispatch](t,e),n}once(e,t){if(!isNodeEventTarget(this))throw new ERR_INVALID_THIS("NodeEventTarget");return this.addEventListener(e,t,{once:!0,[kIsNodeStyleListener]:!0}),this}removeAllListeners(e){if(!isNodeEventTarget(this))throw new ERR_INVALID_THIS("NodeEventTarget");return e!==void 0?this[kEvents].delete(String(e)):this[kEvents].clear(),this}}ObjectDefineProperties(NodeEventTarget.prototype,{setMaxListeners:kEnumerableProperty,getMaxListeners:kEnumerableProperty,eventNames:kEnumerableProperty,listenerCount:kEnumerableProperty,off:kEnumerableProperty,removeListener:kEnumerableProperty,on:kEnumerableProperty,addListener:kEnumerableProperty,once:kEnumerableProperty,emit:kEnumerableProperty,removeAllListeners:kEnumerableProperty});function shouldAddListener(r){if(typeof r=="function"||typeof r?.handleEvent=="function")return!0;if(r==null)return!1;throw new ERR_INVALID_ARG_TYPE("listener","EventListener",r)}function validateEventListenerOptions(r){return typeof r=="boolean"?{capture:r}:r===null?{}:(validateObject(r,"options",{allowArray:!0,allowFunction:!0}),{once:Boolean(r.once),capture:Boolean(r.capture),passive:Boolean(r.passive),signal:r.signal,weak:r[kWeakHandler],isNodeStyleListener:Boolean(r[kIsNodeStyleListener])})}function isEventTarget(r){return r?.constructor?.[kIsEventTarget]}function isNodeEventTarget(r){return r?.constructor?.[kIsNodeEventTarget]}function addCatch(r){const e=r.then;typeof e=="function"&&FunctionPrototypeCall(e,r,void 0,function(t){emitUncaughtException(t)})}function emitUncaughtException(r){process.nextTick(()=>{throw r})}function makeEventHandler(r){function e(...t){if(typeof e.handler=="function")return ReflectApply(e.handler,this,t)}return e.handler=r,e}function defineEventHandler(r,e){ObjectDefineProperty(r,`on${e}`,{get(){return this[kHandlers]?.get(e)?.handler},set(t){this[kHandlers]||(this[kHandlers]=new SafeMap);let n=this[kHandlers]?.get(e);if(n){if(typeof n.handler=="function"){this[kEvents].get(e).size--;const i=this[kEvents].get(e).size;this[kRemoveListener](i,e,n.handler,!1)}if(n.handler=t,typeof n.handler=="function"){this[kEvents].get(e).size++;const i=this[kEvents].get(e).size;this[kNewListener](i,e,t,!1,!1,!1)}}else n=makeEventHandler(t),this.addEventListener(e,n);this[kHandlers].set(e,n)},configurable:!0,enumerable:!0})}const EventEmitterMixin=r=>{class e extends r{constructor(...i){i=new SafeArrayIterator(i);super(...i);FunctionPrototypeCall(EventEmitter,this)}}const t=ObjectGetOwnPropertyDescriptors(EventEmitter.prototype);return delete t.constructor,ObjectDefineProperties(e.prototype,t),e};module.exports={Event,EventEmitterMixin,EventTarget,NodeEventTarget,defineEventHandler,initEventTarget,initNodeEventTarget,kCreateEvent,kNewListener,kTrustEvent,kRemoveListener,kEvents,kWeakHandler,isEventTarget};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Array}=primordials,kSize=2048,kMask=kSize-1;class FixedCircularBuffer{constructor(){this.bottom=0,this.top=0,this.list=new Array(kSize),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&kMask)===this.bottom}push(t){this.list[this.top]=t,this.top=this.top+1&kMask}shift(){const t=this.list[this.bottom];return t===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&kMask,t)}}module.exports=class{constructor(){this.head=this.tail=new FixedCircularBuffer}isEmpty(){return this.head.isEmpty()}push(t){this.head.isFull()&&(this.head=this.head.next=new FixedCircularBuffer),this.head.push(t)}shift(){const t=this.tail,i=t.shift();return t.isEmpty()&&t.next!==null&&(this.tail=t.next),i}};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ReflectApply}=primordials;class FreeList{constructor(t,s,i){this.name=t,this.ctor=i,this.max=s,this.list=[]}alloc(){return this.list.length>0?this.list.pop():ReflectApply(this.ctor,this,arguments)}free(t){return this.list.length<this.max?(this.list.push(t),!0):!1}}module.exports=FreeList;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{AggregateError,AggregateErrorPrototype,Array,ArrayBuffer,ArrayBufferPrototype,ArrayIteratorPrototype,ArrayPrototype,ArrayPrototypeForEach,ArrayPrototypePush,BigInt,BigInt64Array,BigInt64ArrayPrototype,BigIntPrototype,BigUint64Array,BigUint64ArrayPrototype,Boolean,BooleanPrototype,DataView,DataViewPrototype,Date,DatePrototype,Error,ErrorPrototype,EvalError,EvalErrorPrototype,FinalizationRegistry,FinalizationRegistryPrototype,Float32Array,Float32ArrayPrototype,Float64Array,Float64ArrayPrototype,Function,FunctionPrototype,Int16Array,Int16ArrayPrototype,Int32Array,Int32ArrayPrototype,Int8Array,Int8ArrayPrototype,Map,MapPrototype,Number,NumberPrototype,Object,ObjectDefineProperty,ObjectFreeze,ObjectGetOwnPropertyDescriptor,ObjectGetOwnPropertyDescriptors,ObjectGetOwnPropertyNames,ObjectGetOwnPropertySymbols,ObjectGetPrototypeOf,ObjectPrototype,ObjectPrototypeHasOwnProperty,Promise,PromisePrototype,Proxy,RangeError,RangeErrorPrototype,ReferenceError,ReferenceErrorPrototype,ReflectOwnKeys,RegExp,RegExpPrototype,SafeSet,Set,SetPrototype,String,StringIteratorPrototype,StringPrototype,Symbol,SymbolIterator,SymbolMatchAll,SymbolPrototype,SyntaxError,SyntaxErrorPrototype,TypeError,TypeErrorPrototype,TypedArray,TypedArrayPrototype,Uint16Array,Uint16ArrayPrototype,Uint32Array,Uint32ArrayPrototype,Uint8Array,Uint8ArrayPrototype,Uint8ClampedArray,Uint8ClampedArrayPrototype,URIError,URIErrorPrototype,WeakMap,WeakMapPrototype,WeakRef,WeakRefPrototype,WeakSet,WeakSetPrototype,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,globalThis}=primordials,{Atomics,Intl,SharedArrayBuffer,WebAssembly}=globalThis;module.exports=function(){const{clearImmediate:m,clearInterval:A,clearTimeout:g,setImmediate:d,setInterval:b,setTimeout:E}=require("timers"),l=[ObjectPrototype,FunctionPrototype,BooleanPrototype,SymbolPrototype,ErrorPrototype,AggregateErrorPrototype,EvalErrorPrototype,RangeErrorPrototype,ReferenceErrorPrototype,SyntaxErrorPrototype,TypeErrorPrototype,URIErrorPrototype,NumberPrototype,BigIntPrototype,DatePrototype,StringPrototype,StringIteratorPrototype,RegExpPrototype,ObjectGetPrototypeOf(/e/[SymbolMatchAll]()),ArrayPrototype,ArrayIteratorPrototype,TypedArrayPrototype,Int8ArrayPrototype,Uint8ArrayPrototype,Uint8ClampedArrayPrototype,Int16ArrayPrototype,Uint16ArrayPrototype,Int32ArrayPrototype,Uint32ArrayPrototype,Float32ArrayPrototype,Float64ArrayPrototype,BigInt64ArrayPrototype,BigUint64ArrayPrototype,MapPrototype,ObjectGetPrototypeOf(new Map()[SymbolIterator]()),SetPrototype,ObjectGetPrototypeOf(new Set()[SymbolIterator]()),WeakMapPrototype,WeakSetPrototype,ArrayBufferPrototype,SharedArrayBuffer.prototype,DataViewPrototype,WeakRefPrototype,FinalizationRegistryPrototype,ObjectGetPrototypeOf(ArrayIteratorPrototype),ObjectGetPrototypeOf(ObjectGetPrototypeOf(ObjectGetPrototypeOf(async function*(){}()))),PromisePrototype,console.Console.prototype,WebAssembly.Module.prototype,WebAssembly.Instance.prototype,WebAssembly.Table.prototype,WebAssembly.Memory.prototype,WebAssembly.CompileError.prototype,WebAssembly.LinkError.prototype,WebAssembly.RuntimeError.prototype],u=[ObjectGetOwnPropertyDescriptor(FunctionPrototype,"caller").get,eval,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Object,Function,Boolean,Symbol,Error,AggregateError,EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,Number,BigInt,Math,Date,String,StringIteratorPrototype,RegExp,ObjectGetPrototypeOf(/e/[SymbolMatchAll]()),Array,ArrayIteratorPrototype,TypedArray,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array,Map,ObjectGetPrototypeOf(new Map()[SymbolIterator]()),Set,ObjectGetPrototypeOf(new Set()[SymbolIterator]()),WeakMap,WeakSet,ArrayBuffer,SharedArrayBuffer,DataView,Atomics,JSON,WeakRef,FinalizationRegistry,ObjectGetPrototypeOf(ArrayIteratorPrototype),ObjectGetPrototypeOf(ObjectGetPrototypeOf(ObjectGetPrototypeOf(async function*(){}()))),Promise,ObjectGetPrototypeOf(function*(){}),ObjectGetPrototypeOf(async function*(){}),ObjectGetPrototypeOf(async function(){}),Reflect,Proxy,escape,unescape,m,A,g,d,b,E,console,WebAssembly];typeof Intl!="undefined"&&(ArrayPrototypePush(l,Intl.Collator.prototype,Intl.DateTimeFormat.prototype,Intl.ListFormat.prototype,Intl.NumberFormat.prototype,Intl.PluralRules.prototype,Intl.RelativeTimeFormat.prototype),ArrayPrototypePush(u,Intl)),ArrayPrototypeForEach(l,R);const c=new WeakSet;ArrayPrototypeForEach(u,I),ObjectDefineProperty(globalThis,"globalThis",{configurable:!1,writable:!1,value:globalThis});function I(e){function r(t){const a=new SafeSet;function n(o){if(Object(o)!==o)return;const i=typeof o;c.has(o)||a.has(o)||a.add(o)}function s(o){ObjectFreeze(o);const i=ObjectGetPrototypeOf(o),P=ObjectGetOwnPropertyDescriptors(o);n(i),ArrayPrototypeForEach(ReflectOwnKeys(P),S=>{const p=P[S];"value"in p?n(p.value):(n(p.get),n(p.set))})}function y(){a.forEach(s)}function O(){a.forEach(c.add,c)}n(t),y(),O()}return r(e),e}function f(e,r,t){if("value"in t&&t.configurable){let n=function(){return a},s=function(y){if(e===this)throw new TypeError(`Cannot assign to read only property '${r}' of object '${e}'`);ObjectPrototypeHasOwnProperty(this,r)?this[r]=y:ObjectDefineProperty(this,r,{value:y,writable:!0,enumerable:!0,configurable:!0})};const a=t.value;n.value=a,ObjectDefineProperty(e,r,{get:n,set:s,enumerable:t.enumerable,configurable:t.configurable})}}function R(e){if(!e)return;const r=ObjectGetOwnPropertyDescriptors(e);!r||(ArrayPrototypeForEach(ObjectGetOwnPropertyNames(e),t=>f(e,t,r[t])),ArrayPrototypeForEach(ObjectGetOwnPropertySymbols(e),t=>f(e,t,r[t])))}};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Symbol}=primordials,{kUpdateTimer,onStreamRead}=require("internal/stream_base_commons"),{owner_symbol}=require("internal/async_hooks").symbols,{Readable}=require("stream"),kHandle=Symbol("kHandle");class HeapSnapshotStream extends Readable{constructor(e){super({autoDestroy:!0});this[kHandle]=e,e[owner_symbol]=this,e.onread=onStreamRead}_read(){this[kHandle]&&this[kHandle].readStart()}_destroy(){this[kHandle][owner_symbol]=void 0,this[kHandle]=void 0}[kUpdateTimer](){}}module.exports={HeapSnapshotStream};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{NumberIsNaN,NumberIsInteger,NumberMAX_SAFE_INTEGER,ObjectSetPrototypeOf,SafeMap,Symbol}=primordials,{Histogram:_Histogram}=internalBinding("performance"),{customInspectSymbol:kInspect}=require("internal/util"),{inspect}=require("util"),{codes:{ERR_ILLEGAL_CONSTRUCTOR,ERR_INVALID_ARG_VALUE,ERR_INVALID_ARG_TYPE,ERR_OUT_OF_RANGE}}=require("internal/errors"),{validateNumber}=require("internal/validators"),kDestroy=Symbol("kDestroy"),kHandle=Symbol("kHandle"),kMap=Symbol("kMap"),{kClone,kDeserialize,JSTransferable}=require("internal/worker/js_transferable");function isHistogram(t){return t?.[kHandle]!==void 0}class Histogram extends JSTransferable{constructor(e){super();this[kHandle]=e,this[kMap]=new SafeMap}[kInspect](e,r){if(e<0)return this;const s={...r,depth:r.depth==null?null:r.depth-1};return`Histogram ${inspect({min:this.min,max:this.max,mean:this.mean,exceeds:this.exceeds,stddev:this.stddev,percentiles:this.percentiles},s)}`}get min(){return this[kHandle]?.min()}get max(){return this[kHandle]?.max()}get mean(){return this[kHandle]?.mean()}get exceeds(){return this[kHandle]?.exceeds()}get stddev(){return this[kHandle]?.stddev()}percentile(e){if(validateNumber(e,"percentile"),NumberIsNaN(e)||e<=0||e>100)throw new ERR_INVALID_ARG_VALUE.RangeError("percentile",e);return this[kHandle]?.percentile(e)}get percentiles(){return this[kMap].clear(),this[kHandle]?.percentiles(this[kMap]),this[kMap]}reset(){this[kHandle]?.reset()}[kDestroy](){this[kHandle]=void 0}[kClone](){return{data:{handle:this[kHandle]},deserializeInfo:"internal/histogram:InternalHistogram"}}[kDeserialize]({handle:e}){this[kHandle]=e}}class RecordableHistogram extends Histogram{constructor(){throw new ERR_ILLEGAL_CONSTRUCTOR}record(e){if(typeof e=="bigint"){this[kHandle]?.record(e);return}if(!NumberIsInteger(e))throw new ERR_INVALID_ARG_TYPE("val",["integer","bigint"],e);if(e<1||e>NumberMAX_SAFE_INTEGER)throw new ERR_OUT_OF_RANGE("val","a safe integer greater than 0",e);this[kHandle]?.record(e)}recordDelta(){this[kHandle]?.recordDelta()}[kClone](){return{data:{handle:this[kHandle]},deserializeInfo:"internal/histogram:InternalRecordableHistogram"}}}class InternalHistogram extends JSTransferable{constructor(e){super();this[kHandle]=e,this[kMap]=new SafeMap}}class InternalRecordableHistogram extends JSTransferable{constructor(e){super();this[kHandle]=e,this[kMap]=new SafeMap}}InternalHistogram.prototype.constructor=Histogram,ObjectSetPrototypeOf(InternalHistogram.prototype,Histogram.prototype),InternalRecordableHistogram.prototype.constructor=RecordableHistogram,ObjectSetPrototypeOf(InternalRecordableHistogram.prototype,RecordableHistogram.prototype);function createHistogram(){return new InternalRecordableHistogram(new _Histogram)}module.exports={Histogram,RecordableHistogram,InternalHistogram,InternalRecordableHistogram,isHistogram,kDestroy,kHandle,createHistogram};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Symbol,Date,DatePrototypeGetMilliseconds,DatePrototypeToUTCString}=primordials,{setUnrefTimeout}=require("internal/timers"),{InternalPerformanceEntry}=require("internal/perf/performance_entry"),{enqueue,hasObserver}=require("internal/perf/observe");let utcCache;function utcDate(){return utcCache||cache(),utcCache}function cache(){const e=new Date;utcCache=DatePrototypeToUTCString(e),setUnrefTimeout(resetCache,1e3-DatePrototypeGetMilliseconds(e))}function resetCache(){utcCache=void 0}function emitStatistics(e){if(!hasObserver("http")||e==null)return;const t=e.startTime,n=process.hrtime(t),r=new InternalPerformanceEntry("HttpRequest","http",t[0]*1e3+t[1]/1e6,n[0]*1e3+n[1]/1e6,void 0);enqueue(r)}module.exports={kOutHeaders:Symbol("kOutHeaders"),kNeedDrain:Symbol("kNeedDrain"),utcDate,emitStatistics};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";if(internalBinding("config").hasIntl){const{toASCII:n,toUnicode:o}=internalBinding("icu");module.exports={toASCII:n,toUnicode:o}}else{const{domainToASCII:n,domainToUnicode:o}=require("internal/url");module.exports={toASCII:n,toUnicode:o}}
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";let hook,config;const{SafeSet}=primordials;function lazyHookCreation(){const i=internalBinding("inspector"),{createHook:n}=require("async_hooks");config=internalBinding("config"),hook=n({init(e,s,t,o){const r=!0;s==="PROMISE"?this.promiseIds.add(e):i.asyncTaskScheduled(s,e,r)},before(e){this.promiseIds.has(e)||i.asyncTaskStarted(e)},after(e){this.promiseIds.has(e)||i.asyncTaskFinished(e)},destroy(e){if(this.promiseIds.has(e))return this.promiseIds.delete(e);i.asyncTaskCanceled(e)}}),hook.promiseIds=new SafeSet}function enable(){hook===void 0&&lazyHookCreation(),config.bits<64?process.emitWarning(`Warning: Async stack traces in debugger are not available on ${config.bits}bit platforms. The feature is disabled.`,{code:"INSPECTOR_ASYNC_STACK_TRACES_NOT_AVAILABLE"}):hook.enable()}function disable(){hook===void 0&&lazyHookCreation(),hook.disable()}module.exports={enable,disable};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Symbol}=primordials,{setImmediate}=require("timers"),assert=require("internal/assert"),{Socket}=require("net"),{JSStream}=internalBinding("js_stream"),uv=internalBinding("uv");let debug=require("internal/util/debuglog").debuglog("stream_socket",s=>{debug=s});const{owner_symbol}=require("internal/async_hooks").symbols,{ERR_STREAM_WRAP}=require("internal/errors").codes,kCurrentWriteRequest=Symbol("kCurrentWriteRequest"),kCurrentShutdownRequest=Symbol("kCurrentShutdownRequest"),kPendingShutdownRequest=Symbol("kPendingShutdownRequest");function checkReusedHandle(s){let t=s[owner_symbol];return t.constructor.name==="ReusedHandle"&&(t=t.handle),t}function isClosing(){return checkReusedHandle(this).isClosing()}function onreadstart(){return checkReusedHandle(this).readStart()}function onreadstop(){return checkReusedHandle(this).readStop()}function onshutdown(s){return checkReusedHandle(this).doShutdown(s)}function onwrite(s,t){return checkReusedHandle(this).doWrite(s,t)}class JSStreamSocket extends Socket{constructor(t){const e=new JSStream;e.close=n=>{debug("close"),this.doClose(n)},e.isClosing=isClosing,e.onreadstart=onreadstart,e.onreadstop=onreadstop,e.onshutdown=onshutdown,e.onwrite=onwrite,t.pause(),t.on("error",n=>this.emit("error",n));const i=n=>{if(typeof n=="string"||t.readableObjectMode===!0){t.pause(),t.removeListener("data",i),this.emit("error",new ERR_STREAM_WRAP);return}debug("data",n.length),this._handle&&this._handle.readBuffer(n)};t.on("data",i),t.once("end",()=>{debug("end"),this._handle&&this._handle.emitEOF()}),t.once("close",()=>{this.destroy()});super({handle:e,manualStart:!0});this.stream=t,this[kCurrentWriteRequest]=null,this[kCurrentShutdownRequest]=null,this[kPendingShutdownRequest]=null,this.readable=t.readable,this.writable=t.writable,this.read(0)}static get StreamWrap(){return JSStreamSocket}isClosing(){return!this.readable||!this.writable}readStart(){return this.stream.resume(),0}readStop(){return this.stream.pause(),0}doShutdown(t){if(this[kCurrentWriteRequest]!==null)return this[kPendingShutdownRequest]=t,0;assert(this[kCurrentWriteRequest]===null),assert(this[kCurrentShutdownRequest]===null),this[kCurrentShutdownRequest]=t;const e=this._handle;return setImmediate(()=>{this.stream.end(()=>{this.finishShutdown(e,0)})}),0}finishShutdown(t,e){if(this[kCurrentShutdownRequest]===null)return;const i=this[kCurrentShutdownRequest];this[kCurrentShutdownRequest]=null,t.finishShutdown(i,e)}doWrite(t,e){assert(this[kCurrentWriteRequest]===null),assert(this[kCurrentShutdownRequest]===null);const i=this._handle,n=this;let h=e.length;this.stream.cork();for(var r=0;r<e.length;++r)this.stream.write(e[r],l);this.stream.uncork(),this[kCurrentWriteRequest]=t;function l(o){if(!o&&--h!=0)return;h=0;let u=0;o&&(u=uv[`UV_${o.code}`]||uv.UV_EPIPE),setImmediate(()=>{n.finishWrite(i,u)})}return 0}finishWrite(t,e){if(this[kCurrentWriteRequest]===null)return;const i=this[kCurrentWriteRequest];if(this[kCurrentWriteRequest]=null,t.finishWrite(i,e),this[kPendingShutdownRequest]){const n=this[kPendingShutdownRequest];this[kPendingShutdownRequest]=null,this.doShutdown(n)}}doClose(t){const e=this._handle;this.stream.destroy(),setImmediate(()=>{assert(this._handle===null),this.finishWrite(e,uv.UV_ECANCELED),this.finishShutdown(e,uv.UV_ECANCELED),t()})}}module.exports=JSStreamSocket;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";function init(e){e._idleNext=e,e._idlePrev=e}function peek(e){return e._idlePrev===e?null:e._idlePrev}function remove(e){e._idleNext&&(e._idleNext._idlePrev=e._idlePrev),e._idlePrev&&(e._idlePrev._idleNext=e._idleNext),e._idleNext=null,e._idlePrev=null}function append(e,d){(d._idleNext||d._idlePrev)&&remove(d),d._idleNext=e._idleNext,d._idlePrev=e,e._idleNext._idlePrev=d,e._idleNext=d}function isEmpty(e){return e._idleNext===e}module.exports={init,peek,remove,append,isEmpty};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{RegExp,RegExpPrototypeTest,Symbol}=primordials,Buffer=require("buffer").Buffer,{writeBuffer}=internalBinding("fs"),errors=require("internal/errors"),v4Seg="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",v4Str=`(${v4Seg}[.]){3}${v4Seg}`,IPv4Reg=new RegExp(`^${v4Str}$`),v6Seg="(?:[0-9a-fA-F]{1,4})",IPv6Reg=new RegExp(`^((?:${v6Seg}:){7}(?:${v6Seg}|:)|(?:${v6Seg}:){6}(?:${v4Str}|:${v6Seg}|:)|(?:${v6Seg}:){5}(?::${v4Str}|(:${v6Seg}){1,2}|:)|(?:${v6Seg}:){4}(?:(:${v6Seg}){0,1}:${v4Str}|(:${v6Seg}){1,3}|:)|(?:${v6Seg}:){3}(?:(:${v6Seg}){0,2}:${v4Str}|(:${v6Seg}){1,4}|:)|(?:${v6Seg}:){2}(?:(:${v6Seg}){0,3}:${v4Str}|(:${v6Seg}){1,5}|:)|(?:${v6Seg}:){1}(?:(:${v6Seg}){0,4}:${v4Str}|(:${v6Seg}){1,6}|:)|(?::((?::${v6Seg}){0,5}:${v4Str}|(?::${v6Seg}){1,7}|:)))(%[0-9a-zA-Z-.:]{1,})?$`);function isIPv4(e){return RegExpPrototypeTest(IPv4Reg,e)}function isIPv6(e){return RegExpPrototypeTest(IPv6Reg,e)}function isIP(e){return isIPv4(e)?4:isIPv6(e)?6:0}function makeSyncWrite(e){return function(r,t,o){t!=="buffer"&&(r=Buffer.from(r,t)),this._handle.bytesWritten+=r.length;const n={};if(writeBuffer(e,r,0,r.length,null,void 0,n),n.errno!==void 0){const $=errors.uvException(n);return $.errno=n.errno,o($)}o()}}module.exports={isIP,isIPv4,isIPv6,makeSyncWrite,normalizedArgsSymbol:Symbol("normalizedArgs")};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{getOptions,noGlobalSearchPaths,shouldNotRegisterESMLoader}=internalBinding("options");let warnOnAllowUnauthorized=!0,optionsMap,aliasesMap;function getOptionsFromBinding(){return optionsMap||({options:optionsMap}=getOptions()),optionsMap}function getAliasesFromBinding(){return aliasesMap||({aliases:aliasesMap}=getOptions()),aliasesMap}function getOptionValue(t){const e=getOptionsFromBinding();if(t.startsWith("--no-")){const n=e.get("--"+t.slice(5));return n&&!n.value}return e.get(t)?.value}function getAllowUnauthorized(){const t=process.env.NODE_TLS_REJECT_UNAUTHORIZED==="0";return t&&warnOnAllowUnauthorized&&(warnOnAllowUnauthorized=!1,process.emitWarning("Setting the NODE_TLS_REJECT_UNAUTHORIZED environment variable to '0' makes TLS connections and HTTPS requests insecure by disabling certificate verification.")),t}module.exports={get options(){return getOptionsFromBinding()},get aliases(){return getAliasesFromBinding()},getOptionValue,getAllowUnauthorized,noGlobalSearchPaths,shouldNotRegisterESMLoader};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Array,Symbol}=primordials,kCompare=Symbol("compare"),kHeap=Symbol("heap"),kSetPosition=Symbol("setPosition"),kSize=Symbol("size");module.exports=class{constructor(e,t){e!==void 0&&(this[kCompare]=e),t!==void 0&&(this[kSetPosition]=t),this[kHeap]=new Array(64),this[kSize]=0}[kCompare](e,t){return e-t}insert(e){const t=this[kHeap],i=++this[kSize];t[i]=e,t.length===i&&(t.length*=2),this.percolateUp(i)}peek(){return this[kHeap][1]}percolateDown(e){const t=this[kCompare],i=this[kSetPosition],n=this[kHeap],h=this[kSize],s=n[e];for(;e*2<=h;){let c=e*2+1;(c>h||t(n[e*2],n[c])<0)&&(c=e*2);const r=n[c];if(t(s,r)<=0)break;i!==void 0&&i(r,e),n[e]=r,e=c}n[e]=s,i!==void 0&&i(s,e)}percolateUp(e){const t=this[kHeap],i=this[kCompare],n=this[kSetPosition],h=t[e];for(;e>1;){const s=t[e/2|0];if(i(s,h)<=0)break;t[e]=s,n!==void 0&&n(s,e),e=e/2|0}t[e]=h,n!==void 0&&n(h,e)}removeAt(e){const t=this[kHeap],i=--this[kSize];t[e]=t[i+1],t[i+1]=void 0,i>0&&e<=i&&(e>1&&this[kCompare](t[e/2|0],t[e])>0?this.percolateUp(e):this.percolateDown(e))}shift(){const t=this[kHeap][1];if(t!==void 0)return this.removeAt(1),t}};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Array,Int8Array,NumberPrototypeToString,StringPrototypeCharCodeAt,StringPrototypeSlice,StringPrototypeToUpperCase}=primordials,{ERR_INVALID_URI}=require("internal/errors").codes,hexTable=new Array(256);for(let r=0;r<256;++r)hexTable[r]="%"+StringPrototypeToUpperCase((r<16?"0":"")+NumberPrototypeToString(r,16));const isHexTable=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function encodeStr(r,c,i){const x=r.length;if(x===0)return"";let e="",n=0,o=0;t:for(;o<x;o++){let t=StringPrototypeCharCodeAt(r,o);for(;t<128;){if(c[t]!==1&&(n<o&&(e+=StringPrototypeSlice(r,n,o)),n=o+1,e+=i[t]),++o===x)break t;t=StringPrototypeCharCodeAt(r,o)}if(n<o&&(e+=StringPrototypeSlice(r,n,o)),t<2048){n=o+1,e+=i[192|t>>6]+i[128|t&63];continue}if(t<55296||t>=57344){n=o+1,e+=i[224|t>>12]+i[128|t>>6&63]+i[128|t&63];continue}if(++o,o>=x)throw new ERR_INVALID_URI;const f=StringPrototypeCharCodeAt(r,o)&1023;n=o+1,t=65536+((t&1023)<<10|f),e+=i[240|t>>18]+i[128|t>>12&63]+i[128|t>>6&63]+i[128|t&63]}return n===0?r:n<x?e+StringPrototypeSlice(r,n):e}module.exports={encodeStr,hexTable,isHexTable};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Number,NumberIsNaN,NumberParseInt,ObjectCreate}=primordials,REPL=require("repl"),{kStandaloneREPL}=require("internal/repl/utils");module.exports=ObjectCreate(REPL),module.exports.createInternalRepl=createRepl;function createRepl(r,e,t){typeof e=="function"&&(t=e,e=null),e={[kStandaloneREPL]:!0,ignoreUndefined:!1,useGlobal:!0,breakEvalOnSigint:!0,...e},NumberParseInt(r.NODE_NO_READLINE)&&(e.terminal=!1),r.NODE_REPL_MODE&&(e.replMode={strict:REPL.REPL_MODE_STRICT,sloppy:REPL.REPL_MODE_SLOPPY}[r.NODE_REPL_MODE.toLowerCase().trim()]),e.replMode===void 0&&(e.replMode=REPL.REPL_MODE_SLOPPY);const i=Number(r.NODE_REPL_HISTORY_SIZE);!NumberIsNaN(i)&&i>0?e.historySize=i:e.historySize=1e3;const l=REPL.start(e),n="terminal"in e?e.terminal:process.stdout.isTTY;l.setupHistory(n?r.NODE_REPL_HISTORY:"",t)}
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ERR_CHILD_CLOSED_BEFORE_REPLY}=require("internal/errors").codes,EventEmitter=require("events");class SocketListSend extends EventEmitter{constructor(e,n){super();this.key=n,this.child=e,e.once("exit",()=>this.emit("exit",this))}_request(e,n,i,t){const s=this;if(!this.child.connected)return c();this.child._send(e,void 0,i);function c(){s.child.removeListener("internalMessage",o),t(new ERR_CHILD_CLOSED_BEFORE_REPLY)}function o(r){r.cmd===n&&r.key===s.key&&(s.child.removeListener("disconnect",c),s.child.removeListener("internalMessage",o),t(null,r))}this.child.once("disconnect",c),this.child.on("internalMessage",o)}close(e){this._request({cmd:"NODE_SOCKET_NOTIFY_CLOSE",key:this.key},"NODE_SOCKET_ALL_CLOSED",!0,e)}getConnections(e){this._request({cmd:"NODE_SOCKET_GET_COUNT",key:this.key},"NODE_SOCKET_COUNT",!1,(n,i)=>{if(n)return e(n);e(null,i.count)})}}class SocketListReceive extends EventEmitter{constructor(e,n){super();this.connections=0,this.key=n,this.child=e;function i(t){!t.child.connected||t.child._send({cmd:"NODE_SOCKET_ALL_CLOSED",key:t.key},void 0,!0)}this.child.on("internalMessage",t=>{if(t.key===this.key){if(t.cmd==="NODE_SOCKET_NOTIFY_CLOSE"){if(this.connections===0)return i(this);this.once("empty",i)}else if(t.cmd==="NODE_SOCKET_GET_COUNT"){if(!this.child.connected)return;this.child._send({cmd:"NODE_SOCKET_COUNT",key:this.key,count:this.connections})}}})}add(e){this.connections++,e.socket.once("close",()=>{this.connections--,this.connections===0&&this.emit("empty",this)})}}module.exports={SocketListSend,SocketListReceive};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectSetPrototypeOf,Symbol}=primordials,{SocketAddress:_SocketAddress,AF_INET,AF_INET6}=internalBinding("block_list"),{validateObject,validateString,validatePort,validateUint32}=require("internal/validators"),{codes:{ERR_INVALID_ARG_VALUE}}=require("internal/errors"),{customInspectSymbol:kInspect}=require("internal/util"),{inspect}=require("internal/util/inspect"),{JSTransferable,kClone,kDeserialize}=require("internal/worker/js_transferable"),kHandle=Symbol("kHandle"),kDetail=Symbol("kDetail");class SocketAddress extends JSTransferable{static isSocketAddress(e){return e?.[kHandle]!==void 0}constructor(e={}){super();validateObject(e,"options");let{family:t="ipv4"}=e;const{address:s=t==="ipv4"?"127.0.0.1":"::",port:i=0,flowlabel:n=0}=e;let r;switch(typeof t?.toLowerCase=="function"&&(t=t.toLowerCase()),t){case"ipv4":r=AF_INET;break;case"ipv6":r=AF_INET6;break;default:throw new ERR_INVALID_ARG_VALUE("options.family",e.family)}validateString(s,"options.address"),validatePort(i,"options.port"),validateUint32(n,"options.flowlabel",!1),this[kHandle]=new _SocketAddress(s,i,r,n),this[kDetail]=this[kHandle].detail({address:void 0,port:void 0,family:void 0,flowlabel:void 0})}get address(){return this[kDetail].address}get port(){return this[kDetail].port}get family(){return this[kDetail].family===AF_INET?"ipv4":"ipv6"}get flowlabel(){return this[kHandle].flowlabel()}[kInspect](e,t){if(e<0)return this;const s={...t,depth:t.depth==null?null:t.depth-1};return`SocketAddress ${inspect(this.toJSON(),s)}`}[kClone](){return{data:{handle:this[kHandle]},deserializeInfo:"internal/socketaddress:InternalSocketAddress"}}[kDeserialize]({handle:e}){this[kHandle]=e,this[kDetail]=e.detail({address:void 0,port:void 0,family:void 0,flowlabel:void 0})}toJSON(){return{address:this.address,port:this.port,family:this.family,flowlabel:this.flowlabel}}}class InternalSocketAddress extends JSTransferable{constructor(e){super();this[kHandle]=e}}InternalSocketAddress.prototype.constructor=SocketAddress.prototype.constructor,ObjectSetPrototypeOf(InternalSocketAddress.prototype,SocketAddress.prototype),module.exports={SocketAddress,InternalSocketAddress,kHandle};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Array,Symbol}=primordials,{Buffer}=require("buffer"),{FastBuffer}=require("internal/buffer"),{WriteWrap,kReadBytesOrError,kArrayBufferOffset,kBytesWritten,kLastWriteWasAsync,streamBaseState}=internalBinding("stream_wrap"),{UV_EOF}=internalBinding("uv"),{errnoException}=require("internal/errors"),{owner_symbol}=require("internal/async_hooks").symbols,{kTimeout,setUnrefTimeout,getTimerDuration}=require("internal/timers"),{isUint8Array}=require("internal/util/types"),{clearTimeout}=require("timers"),{validateCallback}=require("internal/validators"),kMaybeDestroy=Symbol("kMaybeDestroy"),kUpdateTimer=Symbol("kUpdateTimer"),kAfterAsyncWrite=Symbol("kAfterAsyncWrite"),kHandle=Symbol("kHandle"),kSession=Symbol("kSession");let debug=require("internal/util/debuglog").debuglog("stream",r=>{debug=r});const kBuffer=Symbol("kBuffer"),kBufferGen=Symbol("kBufferGen"),kBufferCb=Symbol("kBufferCb");function handleWriteReq(r,e,n){const{handle:t}=r;switch(n){case"buffer":{const s=t.writeBuffer(r,e);return streamBaseState[kLastWriteWasAsync]&&(r.buffer=e),s}case"latin1":case"binary":return t.writeLatin1String(r,e);case"utf8":case"utf-8":return t.writeUtf8String(r,e);case"ascii":return t.writeAsciiString(r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t.writeUcs2String(r,e);default:{const s=Buffer.from(e,n),o=t.writeBuffer(r,s);return streamBaseState[kLastWriteWasAsync]&&(r.buffer=s),o}}}function onWriteComplete(r){debug("onWriteComplete",r,this.error);let e=this.handle[owner_symbol];if(e.constructor.name==="ReusedHandle"&&(e=e.handle),e.destroyed){typeof this.callback=="function"&&this.callback(null);return}if(r<0){const n=errnoException(r,"write",this.error);typeof this.callback=="function"?this.callback(n):e.destroy(n);return}e[kUpdateTimer](),e[kAfterAsyncWrite](this),typeof this.callback=="function"&&this.callback(null)}function createWriteWrap(r,e){const n=new WriteWrap;return n.handle=r,n.oncomplete=onWriteComplete,n.async=!1,n.bytes=0,n.buffer=null,n.callback=e,n}function writevGeneric(r,e,n){const t=createWriteWrap(r[kHandle],n),s=e.allBuffers;let o;if(s){o=e;for(let i=0;i<e.length;i++)e[i]=e[i].chunk}else{o=new Array(e.length<<1);for(let i=0;i<e.length;i++){const f=e[i];o[i*2]=f.chunk,o[i*2+1]=f.encoding}}const u=t.handle.writev(t,o,s);return u===0&&(t._chunks=o),afterWriteDispatched(t,u,n),t}function writeGeneric(r,e,n,t){const s=createWriteWrap(r[kHandle],t),o=handleWriteReq(s,e,n);return afterWriteDispatched(s,o,t),s}function afterWriteDispatched(r,e,n){if(r.bytes=streamBaseState[kBytesWritten],r.async=!!streamBaseState[kLastWriteWasAsync],e!==0)return n(errnoException(e,"write",r.error));!r.async&&typeof r.callback=="function"&&r.callback()}function onStreamRead(r){const e=streamBaseState[kReadBytesOrError],n=this;let t=this[owner_symbol];if(t.constructor.name==="ReusedHandle"&&(t=t.handle),t[kUpdateTimer](),e>0&&!t.destroyed){let s,o;const u=t[kBuffer];if(u){o=t[kBufferCb](e,u)!==!1;const i=t[kBufferGen];if(i!==null){const f=i();isUint8Array(f)&&(t[kBuffer]=s=f)}}else{const i=streamBaseState[kArrayBufferOffset],f=new FastBuffer(r,i,e);o=t.push(f)}if(!o&&(n.reading=!1,!t.destroyed)){const i=n.readStop();i&&t.destroy(errnoException(i,"read"))}return s}if(e!==0){if(e!==UV_EOF){t.destroy(errnoException(e,"read"));return}if(t._readableState.endEmitted)t[kMaybeDestroy]&&t[kMaybeDestroy]();else{if(t[kMaybeDestroy]&&t.on("end",t[kMaybeDestroy]),n.readStop){const s=n.readStop();if(s){t.destroy(errnoException(s,"read"));return}}t.push(null),t.read(0)}}}function setStreamTimeout(r,e){return this.destroyed?this:(this.timeout=r,r=getTimerDuration(r,"msecs"),clearTimeout(this[kTimeout]),r===0?e!==void 0&&(validateCallback(e),this.removeListener("timeout",e)):(this[kTimeout]=setUnrefTimeout(this._onTimeout.bind(this),r),this[kSession]&&this[kSession][kUpdateTimer](),e!==void 0&&(validateCallback(e),this.once("timeout",e))),this)}module.exports={writevGeneric,writeGeneric,onStreamRead,kAfterAsyncWrite,kMaybeDestroy,kUpdateTimer,kHandle,kSession,setStreamTimeout,kBuffer,kBufferCb,kBufferGen};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{MessageChannel,receiveMessageOnPort}=require("internal/worker/io");let channel;function structuredClone(e,r){return channel??=new MessageChannel,channel.port1.unref(),channel.port2.unref(),channel.port1.postMessage(e,r),receiveMessageOnPort(channel.port2).message}module.exports={structuredClone};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{MathMax,MathTrunc,NumberIsFinite,NumberMIN_SAFE_INTEGER,ObjectCreate,ReflectApply,Symbol}=primordials,{scheduleTimer,toggleTimerRef,getLibuvNow,immediateInfo,toggleImmediateRef}=internalBinding("timers"),{getDefaultTriggerAsyncId,newAsyncId,initHooksExist,destroyHooksExist,emitInit,emitBefore,emitAfter,emitDestroy}=require("internal/async_hooks"),async_id_symbol=Symbol("asyncId"),trigger_async_id_symbol=Symbol("triggerId"),kHasPrimitive=Symbol("kHasPrimitive"),{ERR_OUT_OF_RANGE}=require("internal/errors").codes,{validateCallback,validateNumber}=require("internal/validators"),L=require("internal/linkedlist"),PriorityQueue=require("internal/priority_queue"),{inspect}=require("internal/util/inspect");let debug=require("internal/util/debuglog").debuglog("timer",e=>{debug=e});const kCount=0,kRefCount=1,kHasOutstanding=2,TIMEOUT_MAX=2**31-1;let timerListId=NumberMIN_SAFE_INTEGER;const kRefed=Symbol("refed"),immediateQueue=new ImmediateList;let nextExpiry=1/0,refCount=0;const timerListQueue=new PriorityQueue(compareTimersLists,setPosition),timerListMap=ObjectCreate(null);function initAsyncResource(e,t){const s=e[async_id_symbol]=newAsyncId(),o=e[trigger_async_id_symbol]=getDefaultTriggerAsyncId();initHooksExist()&&emitInit(s,t,o,e)}function Timeout(e,t,s,o,u){t*=1,t>=1&&t<=TIMEOUT_MAX||(t>TIMEOUT_MAX&&process.emitWarning(`${t} does not fit into a 32-bit signed integer.
Timeout duration was set to 1.`,"TimeoutOverflowWarning"),t=1),this._idleTimeout=t,this._idlePrev=this,this._idleNext=this,this._idleStart=null,this._onTimeout=null,this._onTimeout=e,this._timerArgs=s,this._repeat=o?t:null,this._destroyed=!1,u&&incRefCount(),this[kRefed]=u,this[kHasPrimitive]=!1,initAsyncResource(this,"Timeout")}Timeout.prototype[inspect.custom]=function(e,t){return inspect(this,{...t,depth:0,customInspect:!1})},Timeout.prototype.refresh=function(){return this[kRefed]?active(this):unrefActive(this),this},Timeout.prototype.unref=function(){return this[kRefed]&&(this[kRefed]=!1,this._destroyed||decRefCount()),this},Timeout.prototype.ref=function(){return this[kRefed]||(this[kRefed]=!0,this._destroyed||incRefCount()),this},Timeout.prototype.hasRef=function(){return this[kRefed]};function TimersList(e,t){this._idleNext=this,this._idlePrev=this,this.expiry=e,this.id=timerListId++,this.msecs=t,this.priorityQueuePosition=null}TimersList.prototype[inspect.custom]=function(e,t){return inspect(this,{...t,depth:0,customInspect:!1})};function ImmediateList(){this.head=null,this.tail=null}ImmediateList.prototype.append=function(e){this.tail!==null?(this.tail._idleNext=e,e._idlePrev=this.tail):this.head=e,this.tail=e},ImmediateList.prototype.remove=function(e){e._idleNext&&(e._idleNext._idlePrev=e._idlePrev),e._idlePrev&&(e._idlePrev._idleNext=e._idleNext),e===this.head&&(this.head=e._idleNext),e===this.tail&&(this.tail=e._idlePrev),e._idleNext=null,e._idlePrev=null};function incRefCount(){refCount++==0&&toggleTimerRef(!0)}function decRefCount(){--refCount==0&&toggleTimerRef(!1)}function active(e){insertGuarded(e,!0)}function unrefActive(e){insertGuarded(e,!1)}function insertGuarded(e,t,s){const o=e._idleTimeout;if(o<0||o===void 0)return;insert(e,o,s);const u=e._destroyed;(u||!e[async_id_symbol])&&(e._destroyed=!1,initAsyncResource(e,"Timeout")),u?t&&incRefCount():t===!e[kRefed]&&(t?incRefCount():decRefCount()),e[kRefed]=t}function insert(e,t,s=getLibuvNow()){t=MathTrunc(t),e._idleStart=s;let o=timerListMap[t];if(o===void 0){debug("no %d list was found in insert, creating a new one",t);const u=s+t;timerListMap[t]=o=new TimersList(u,t),timerListQueue.insert(o),nextExpiry>u&&(scheduleTimer(t),nextExpiry=u)}L.append(o,e)}function setUnrefTimeout(e,t){validateCallback(e);const s=new Timeout(e,t,void 0,!1,!1);return insert(s,s._idleTimeout),s}function getTimerDuration(e,t){if(validateNumber(e,t),e<0||!NumberIsFinite(e))throw new ERR_OUT_OF_RANGE(t,"a non-negative finite number",e);return e>TIMEOUT_MAX?(process.emitWarning(`${e} does not fit into a 32-bit signed integer.
Timer duration was truncated to ${TIMEOUT_MAX}.`,"TimeoutOverflowWarning"),TIMEOUT_MAX):e}function compareTimersLists(e,t){const s=e.expiry-t.expiry;if(s===0){if(e.id<t.id)return-1;if(e.id>t.id)return 1}return s}function setPosition(e,t){e.priorityQueuePosition=t}function getTimerCallbacks(e){const t=new ImmediateList;function s(){const r=t.head!==null?t:immediateQueue;let n=r.head;r!==t&&(r.head=r.tail=null,immediateInfo[kHasOutstanding]=1);let l,d=!1;for(;n!==null;){if(d?e():d=!0,n._destroyed){t.head=n=l._idleNext;continue}n._destroyed=!0,immediateInfo[kCount]--,n[kRefed]&&immediateInfo[kRefCount]--,n[kRefed]=null,l=n;const i=n[async_id_symbol];emitBefore(i,n[trigger_async_id_symbol],n);try{const f=n._argv;f?n._onImmediate(...f):n._onImmediate()}finally{n._onImmediate=null,destroyHooksExist()&&emitDestroy(i),t.head=n=n._idleNext}emitAfter(i)}r===t&&(t.head=null),immediateInfo[kHasOutstanding]=0}function o(r){debug("process timer lists %d",r),nextExpiry=1/0;let n,l=!1;for(;n=timerListQueue.peek();){if(n.expiry>r)return nextExpiry=n.expiry,refCount>0?nextExpiry:-nextExpiry;l?e():l=!0,u(n,r)}return 0}function u(r,n){const l=r.msecs;debug("timeout callback %d",l);let d=!1,i;for(;i=L.peek(r);){const f=n-i._idleStart;if(f<l){r.expiry=MathMax(i._idleStart+l,n+1),r.id=timerListId++,timerListQueue.percolateDown(1),debug("%d list wait because diff is %d",l,f);return}d?e():d=!0,L.remove(i);const a=i[async_id_symbol];if(!i._onTimeout){i._destroyed||(i._destroyed=!0,i[kRefed]&&refCount--,destroyHooksExist()&&emitDestroy(a));continue}emitBefore(a,i[trigger_async_id_symbol],i);let c;i._repeat&&(c=getLibuvNow());try{const h=i._timerArgs;h===void 0?i._onTimeout():ReflectApply(i._onTimeout,i,h)}finally{i._repeat&&i._idleTimeout!==-1?(i._idleTimeout=i._repeat,insert(i,i._idleTimeout,c)):!i._idleNext&&!i._idlePrev&&!i._destroyed&&(i._destroyed=!0,i[kRefed]&&refCount--,destroyHooksExist()&&emitDestroy(a))}emitAfter(a)}debug("%d list empty",l),r===timerListMap[l]&&(delete timerListMap[l],timerListQueue.shift())}return{processImmediate:s,processTimers:o}}class Immediate{constructor(t,s){this._idleNext=null,this._idlePrev=null,this._onImmediate=t,this._argv=s,this._destroyed=!1,this[kRefed]=!1,initAsyncResource(this,"Immediate"),this.ref(),immediateInfo[kCount]++,immediateQueue.append(this)}ref(){return this[kRefed]===!1&&(this[kRefed]=!0,immediateInfo[kRefCount]++==0&&toggleImmediateRef(!0)),this}unref(){return this[kRefed]===!0&&(this[kRefed]=!1,--immediateInfo[kRefCount]==0&&toggleImmediateRef(!1)),this}hasRef(){return!!this[kRefed]}}module.exports={TIMEOUT_MAX,kTimeout:Symbol("timeout"),async_id_symbol,trigger_async_id_symbol,Timeout,Immediate,kRefed,kHasPrimitive,initAsyncResource,setUnrefTimeout,getTimerDuration,immediateQueue,getTimerCallbacks,immediateInfoFields:{kCount,kRefCount,kHasOutstanding},active,unrefActive,insert,timerListMap,timerListQueue,decRefCount,incRefCount};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectKeys,SafeMap,SafeSet,Symbol}=primordials,{trace}=internalBinding("trace_events"),async_wrap=internalBinding("async_wrap"),async_hooks=require("async_hooks"),{CHAR_LOWERCASE_B,CHAR_LOWERCASE_E}=require("internal/constants"),kBeforeEvent=CHAR_LOWERCASE_B,kEndEvent=CHAR_LOWERCASE_E,kTraceEventCategory="node,node.async_hooks",kEnabled=Symbol("enabled"),nativeProviders=new SafeSet(ObjectKeys(async_wrap.Providers)),typeMemory=new SafeMap;nativeProviders.delete("PROMISE");function createHook(){const n=async_hooks.createHook({init(e,t,r,o){nativeProviders.has(t)||(typeMemory.set(e,t),trace(kBeforeEvent,kTraceEventCategory,t,e,{triggerAsyncId:r,executionAsyncId:async_hooks.executionAsyncId()}))},before(e){const t=typeMemory.get(e);t!==void 0&&trace(kBeforeEvent,kTraceEventCategory,`${t}_CALLBACK`,e)},after(e){const t=typeMemory.get(e);t!==void 0&&trace(kEndEvent,kTraceEventCategory,`${t}_CALLBACK`,e)},destroy(e){const t=typeMemory.get(e);t!==void 0&&(trace(kEndEvent,kTraceEventCategory,t,e),typeMemory.delete(e))}});return{enable(){this[kEnabled]||(this[kEnabled]=!0,n.enable())},disable(){!this[kEnabled]||(this[kEnabled]=!1,n.disable(),typeMemory.clear())}}}exports.createHook=createHook;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeSome,RegExpPrototypeTest,StringPrototypeSplit,StringPrototypeToLowerCase}=primordials,{validateInteger}=require("internal/validators");let OSRelease;const COLORS_2=1,COLORS_16=4,COLORS_256=8,COLORS_16m=24,TERM_ENVS={eterm:COLORS_16,cons25:COLORS_16,console:COLORS_16,cygwin:COLORS_16,dtterm:COLORS_16,gnome:COLORS_16,hurd:COLORS_16,jfbterm:COLORS_16,konsole:COLORS_16,kterm:COLORS_16,mlterm:COLORS_16,mosh:COLORS_16m,putty:COLORS_16,st:COLORS_16,"rxvt-unicode-24bit":COLORS_16m,terminator:COLORS_16m},TERM_ENVS_REG_EXP=[/ansi/,/color/,/linux/,/^con[0-9]*x[0-9]/,/^rxvt/,/^screen/,/^xterm/,/^vt100/];let warned=!1;function warnOnDeactivatedColors(r){if(warned)return;let e="";r.NODE_DISABLE_COLORS!==void 0&&(e="NODE_DISABLE_COLORS"),r.NO_COLOR!==void 0&&(e!==""&&(e+="' and '"),e+="NO_COLOR"),e!==""&&(process.emitWarning(`The '${e}' env is ignored due to the 'FORCE_COLOR' env being set.`,"Warning"),warned=!0)}function getColorDepth(r=process.env){if(r.FORCE_COLOR!==void 0)switch(r.FORCE_COLOR){case"":case"1":case"true":return warnOnDeactivatedColors(r),COLORS_16;case"2":return warnOnDeactivatedColors(r),COLORS_256;case"3":return warnOnDeactivatedColors(r),COLORS_16m;default:return COLORS_2}if(r.NODE_DISABLE_COLORS!==void 0||r.NO_COLOR!==void 0||r.TERM==="dumb")return COLORS_2;if(process.platform==="win32"){if(OSRelease===void 0){const{release:e}=require("os");OSRelease=StringPrototypeSplit(e(),".")}if(+OSRelease[0]>=10){const e=+OSRelease[2];if(e>=14931)return COLORS_16m;if(e>=10586)return COLORS_256}return COLORS_16}if(r.TMUX)return COLORS_256;if(r.CI)return"TRAVIS"in r||"CIRCLECI"in r||"APPVEYOR"in r||"GITLAB_CI"in r||r.CI_NAME==="codeship"?COLORS_256:COLORS_2;if("TEAMCITY_VERSION"in r)return RegExpPrototypeTest(/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/,r.TEAMCITY_VERSION)?COLORS_16:COLORS_2;switch(r.TERM_PROGRAM){case"iTerm.app":return!r.TERM_PROGRAM_VERSION||RegExpPrototypeTest(/^[0-2]\./,r.TERM_PROGRAM_VERSION)?COLORS_256:COLORS_16m;case"HyperTerm":case"MacTerm":return COLORS_16m;case"Apple_Terminal":return COLORS_256}if(r.COLORTERM==="truecolor"||r.COLORTERM==="24bit")return COLORS_16m;if(r.TERM){if(RegExpPrototypeTest(/^xterm-256/,r.TERM))return COLORS_256;const e=StringPrototypeToLowerCase(r.TERM);if(TERM_ENVS[e])return TERM_ENVS[e];if(ArrayPrototypeSome(TERM_ENVS_REG_EXP,t=>RegExpPrototypeTest(t,e)))return COLORS_16}return r.COLORTERM?COLORS_16:COLORS_2}function hasColors(r,e){return e===void 0&&(r===void 0||typeof r=="object"&&r!==null)?(e=r,r=16):validateInteger(r,"count",2),r<=2**getColorDepth(e)}module.exports={getColorDepth,hasColors};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Array,ArrayPrototypeJoin,ArrayPrototypeMap,ArrayPrototypePush,ArrayPrototypeReduce,ArrayPrototypeSlice,FunctionPrototypeBind,Int8Array,Number,ObjectCreate,ObjectDefineProperties,ObjectDefineProperty,ObjectGetOwnPropertySymbols,ObjectGetPrototypeOf,ObjectKeys,ReflectApply,ReflectGetOwnPropertyDescriptor,ReflectOwnKeys,String,StringPrototypeCharCodeAt,StringPrototypeIncludes,StringPrototypeReplace,StringPrototypeSlice,StringPrototypeSplit,StringPrototypeStartsWith,Symbol,SymbolIterator,SymbolToStringTag,decodeURIComponent}=primordials,{inspect}=require("internal/util/inspect"),{encodeStr,hexTable,isHexTable}=require("internal/querystring"),{getConstructorOf,removeColors,toUSVString}=require("internal/util"),{codes:{ERR_ARG_NOT_ITERABLE,ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_INVALID_FILE_URL_HOST,ERR_INVALID_FILE_URL_PATH,ERR_INVALID_THIS,ERR_INVALID_TUPLE,ERR_INVALID_URL,ERR_INVALID_URL_SCHEME,ERR_MISSING_ARGS,ERR_NO_CRYPTO}}=require("internal/errors"),{CHAR_AMPERSAND,CHAR_BACKWARD_SLASH,CHAR_EQUAL,CHAR_FORWARD_SLASH,CHAR_LOWERCASE_A,CHAR_LOWERCASE_Z,CHAR_PERCENT,CHAR_PLUS}=require("internal/constants"),path=require("path"),{validateCallback,validateObject}=require("internal/validators"),querystring=require("querystring"),{platform}=process,isWindows=platform==="win32",{domainToASCII:_domainToASCII,domainToUnicode:_domainToUnicode,encodeAuth,parse,setURLConstructor,URL_FLAGS_CANNOT_BE_BASE,URL_FLAGS_HAS_FRAGMENT,URL_FLAGS_HAS_HOST,URL_FLAGS_HAS_PASSWORD,URL_FLAGS_HAS_PATH,URL_FLAGS_HAS_QUERY,URL_FLAGS_HAS_USERNAME,URL_FLAGS_IS_DEFAULT_SCHEME_PORT,URL_FLAGS_SPECIAL,kFragment,kHost,kHostname,kPathStart,kPort,kQuery,kSchemeStart}=internalBinding("url"),{storeDataObject,revokeDataObject}=internalBinding("blob"),context=Symbol("context"),cannotBeBase=Symbol("cannot-be-base"),cannotHaveUsernamePasswordPort=Symbol("cannot-have-username-password-port"),special=Symbol("special"),searchParams=Symbol("query"),kFormat=Symbol("format");let blob,cryptoRandom;function lazyBlob(){return blob??=require("internal/blob"),blob}function lazyCryptoRandom(){try{cryptoRandom??=require("internal/crypto/random")}catch{}return cryptoRandom}const IteratorPrototype=ObjectGetPrototypeOf(ObjectGetPrototypeOf([][SymbolIterator]())),kOpaqueOrigin="null";function serializeTupleOrigin(n,t,e){return`${n}//${t}${e===null?"":`:${e}`}`}class URLContext{constructor(){this.flags=0,this.scheme=":",this.username="",this.password="",this.host=null,this.port=null,this.path=[],this.query=null,this.fragment=null}}function isURLSearchParams(n){return n&&n[searchParams]&&!n[searchParams][searchParams]}class URLSearchParams{constructor(t=void 0){if(t==null)this[searchParams]=[];else if(typeof t=="object"||typeof t=="function"){const e=t[SymbolIterator];if(e===this[SymbolIterator]){const r=t[searchParams];this[searchParams]=r.slice()}else if(e!=null){if(typeof e!="function")throw new ERR_ARG_NOT_ITERABLE("Query pairs");const r=[];for(const s of t){if(typeof s!="object"&&typeof s!="function"||s===null||typeof s[SymbolIterator]!="function")throw new ERR_INVALID_TUPLE("Each query pair","[name, value]");const o=[];for(const a of s)ArrayPrototypePush(o,toUSVString(a));ArrayPrototypePush(r,o)}this[searchParams]=[];for(const s of r){if(s.length!==2)throw new ERR_INVALID_TUPLE("Each query pair","[name, value]");ArrayPrototypePush(this[searchParams],s[0],s[1])}}else{this[searchParams]=[];const r=ReflectOwnKeys(t);for(let s=0;s<r.length;s++){const o=r[s],a=ReflectGetOwnPropertyDescriptor(t,o);if(a!==void 0&&a.enumerable){const c=toUSVString(o),h=toUSVString(t[o]);this[searchParams].push(c,h)}}}}else t=toUSVString(t),t[0]==="?"&&(t=t.slice(1)),initSearchParams(this,t);this[context]=null}[inspect.custom](t,e){if(!isURLSearchParams(this))throw new ERR_INVALID_THIS("URLSearchParams");if(typeof t=="number"&&t<0)return e.stylize("[Object]","special");const r=", ",s={...e};t!==null&&(s.depth=t-1);const o=i=>inspect(i,s),a=this[searchParams],c=[];for(let i=0;i<a.length;i+=2)ArrayPrototypePush(c,`${o(a[i])} => ${o(a[i+1])}`);return ArrayPrototypeReduce(c,(i,l)=>i+removeColors(l).length+r.length,-r.length)>e.breakLength?`${this.constructor.name} {
  ${ArrayPrototypeJoin(c,`,
  `)} }`:c.length?`${this.constructor.name} { ${ArrayPrototypeJoin(c,r)} }`:`${this.constructor.name} {}`}append(t,e){if(!isURLSearchParams(this))throw new ERR_INVALID_THIS("URLSearchParams");if(arguments.length<2)throw new ERR_MISSING_ARGS("name","value");t=toUSVString(t),e=toUSVString(e),ArrayPrototypePush(this[searchParams],t,e),update(this[context],this)}delete(t){if(!isURLSearchParams(this))throw new ERR_INVALID_THIS("URLSearchParams");if(arguments.length<1)throw new ERR_MISSING_ARGS("name");const e=this[searchParams];t=toUSVString(t);for(let r=0;r<e.length;)e[r]===t?e.splice(r,2):r+=2;update(this[context],this)}get(t){if(!isURLSearchParams(this))throw new ERR_INVALID_THIS("URLSearchParams");if(arguments.length<1)throw new ERR_MISSING_ARGS("name");const e=this[searchParams];t=toUSVString(t);for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}getAll(t){if(!isURLSearchParams(this))throw new ERR_INVALID_THIS("URLSearchParams");if(arguments.length<1)throw new ERR_MISSING_ARGS("name");const e=this[searchParams],r=[];t=toUSVString(t);for(let s=0;s<e.length;s+=2)e[s]===t&&r.push(e[s+1]);return r}has(t){if(!isURLSearchParams(this))throw new ERR_INVALID_THIS("URLSearchParams");if(arguments.length<1)throw new ERR_MISSING_ARGS("name");const e=this[searchParams];t=toUSVString(t);for(let r=0;r<e.length;r+=2)if(e[r]===t)return!0;return!1}set(t,e){if(!isURLSearchParams(this))throw new ERR_INVALID_THIS("URLSearchParams");if(arguments.length<2)throw new ERR_MISSING_ARGS("name","value");const r=this[searchParams];t=toUSVString(t),e=toUSVString(e);let s=!1;for(let o=0;o<r.length;)r[o]===t?s?r.splice(o,2):(r[o+1]=e,s=!0,o+=2):o+=2;s||ArrayPrototypePush(r,t,e),update(this[context],this)}sort(){const t=this[searchParams],e=t.length;if(!(e<=2))if(e<100)for(let r=2;r<e;r+=2){const s=t[r],o=t[r+1];let a;for(a=r-2;a>=0&&t[a]>s;a-=2)t[a+2]=t[a],t[a+3]=t[a+1];t[a+2]=s,t[a+3]=o}else{const r=new Array(e),s=new Array(e);for(let o=2;o<e;o*=2)for(let a=0;a<e-2;a+=2*o){const c=a+o;let h=c+o;h=h<e?h:e,!(c>h)&&merge(t,a,c,h,r,s)}}update(this[context],this)}entries(){if(!isURLSearchParams(this))throw new ERR_INVALID_THIS("URLSearchParams");return createSearchParamsIterator(this,"key+value")}forEach(t,e=void 0){if(!isURLSearchParams(this))throw new ERR_INVALID_THIS("URLSearchParams");validateCallback(t);let r=this[searchParams],s=0;for(;s<r.length;){const o=r[s],a=r[s+1];t.call(e,a,o,this),r=this[searchParams],s+=2}}keys(){if(!isURLSearchParams(this))throw new ERR_INVALID_THIS("URLSearchParams");return createSearchParamsIterator(this,"key")}values(){if(!isURLSearchParams(this))throw new ERR_INVALID_THIS("URLSearchParams");return createSearchParamsIterator(this,"value")}toString(){if(!isURLSearchParams(this))throw new ERR_INVALID_THIS("URLSearchParams");return serializeParams(this[searchParams])}}ObjectDefineProperties(URLSearchParams.prototype,{append:{enumerable:!0},delete:{enumerable:!0},get:{enumerable:!0},getAll:{enumerable:!0},has:{enumerable:!0},set:{enumerable:!0},sort:{enumerable:!0},entries:{enumerable:!0},forEach:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},toString:{enumerable:!0},[SymbolToStringTag]:{configurable:!0,value:"URLSearchParams"},[SymbolIterator]:{configurable:!0,writable:!0,value:URLSearchParams.prototype.entries}});function onParseComplete(n,t,e,r,s,o,a,c,h){const i=this[context];i.flags=n,i.scheme=t,i.username=(n&URL_FLAGS_HAS_USERNAME)!=0?e:"",i.password=(n&URL_FLAGS_HAS_PASSWORD)!=0?r:"",i.port=o,i.path=(n&URL_FLAGS_HAS_PATH)!=0?a:[],i.query=c,i.fragment=h,i.host=s,this[searchParams]||(this[searchParams]=new URLSearchParams,this[searchParams][context]=this),initSearchParams(this[searchParams],c)}function onParseError(n,t){throw new ERR_INVALID_URL(t)}function onParseProtocolComplete(n,t,e,r,s,o,a,c,h){const i=this[context];(n&URL_FLAGS_SPECIAL)!=0?i.flags|=URL_FLAGS_SPECIAL:i.flags&=~URL_FLAGS_SPECIAL,i.scheme=t,i.port=o}function onParseHostnameComplete(n,t,e,r,s,o,a,c,h){const i=this[context];(n&URL_FLAGS_HAS_HOST)!=0?(i.host=s,i.flags|=URL_FLAGS_HAS_HOST):(i.host=null,i.flags&=~URL_FLAGS_HAS_HOST)}function onParsePortComplete(n,t,e,r,s,o,a,c,h){this[context].port=o}function onParseHostComplete(n,t,e,r,s,o,a,c,h){ReflectApply(onParseHostnameComplete,this,arguments),(o!==null||(n&URL_FLAGS_IS_DEFAULT_SCHEME_PORT)!=0)&&ReflectApply(onParsePortComplete,this,arguments)}function onParsePathComplete(n,t,e,r,s,o,a,c,h){const i=this[context];(n&URL_FLAGS_HAS_PATH)!=0?(i.path=a,i.flags|=URL_FLAGS_HAS_PATH):(i.path=[],i.flags&=~URL_FLAGS_HAS_PATH),(n&URL_FLAGS_HAS_HOST)!=0&&(i.host=s,i.flags|=URL_FLAGS_HAS_HOST)}function onParseSearchComplete(n,t,e,r,s,o,a,c,h){this[context].query=c}function onParseHashComplete(n,t,e,r,s,o,a,c,h){this[context].fragment=h}function isURLThis(n){return n!=null&&n[context]!==void 0}class URL{constructor(t,e=void 0){t=`${t}`;let r;e!==void 0&&(r=new URL(e)[context]),this[context]=new URLContext,parse(t,-1,r,void 0,FunctionPrototypeBind(onParseComplete,this),onParseError)}get[special](){return(this[context].flags&URL_FLAGS_SPECIAL)!=0}get[cannotBeBase](){return(this[context].flags&URL_FLAGS_CANNOT_BE_BASE)!=0}get[cannotHaveUsernamePasswordPort](){const{host:t,scheme:e}=this[context];return t==null||t===""||this[cannotBeBase]||e==="file:"}[inspect.custom](t,e){if(this==null||ObjectGetPrototypeOf(this[context])!==URLContext.prototype)throw new ERR_INVALID_THIS("URL");if(typeof t=="number"&&t<0)return this;const r=getConstructorOf(this)||URL,s=ObjectCreate({constructor:r});return s.href=this.href,s.origin=this.origin,s.protocol=this.protocol,s.username=this.username,s.password=this.password,s.host=this.host,s.hostname=this.hostname,s.port=this.port,s.pathname=this.pathname,s.search=this.search,s.searchParams=this.searchParams,s.hash=this.hash,e.showHidden&&(s.cannotBeBase=this[cannotBeBase],s.special=this[special],s[context]=this[context]),`${r.name} ${inspect(s,e)}`}[kFormat](t){t&&validateObject(t,"options"),t={fragment:!0,unicode:!1,search:!0,auth:!0,...t};const e=this[context];let r=e.scheme;if(e.host!==null){r+="//";const s=e.username!=="",o=e.password!=="";t.auth&&(s||o)&&(s&&(r+=e.username),o&&(r+=`:${e.password}`),r+="@"),r+=t.unicode?domainToUnicode(e.host):e.host,e.port!==null&&(r+=`:${e.port}`)}return this[cannotBeBase]?r+=e.path[0]:(e.host===null&&e.path.length>1&&e.path[0]===""&&(r+="/."),e.path.length&&(r+="/"+ArrayPrototypeJoin(e.path,"/"))),t.search&&e.query!==null&&(r+=`?${e.query}`),t.fragment&&e.fragment!==null&&(r+=`#${e.fragment}`),r}toString(){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");return this[kFormat]({})}get href(){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");return this[kFormat]({})}set href(t){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");t=`${t}`,parse(t,-1,void 0,void 0,FunctionPrototypeBind(onParseComplete,this),onParseError)}get origin(){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");const t=this[context];switch(t.scheme){case"blob:":if(t.path.length>0)try{return new URL(t.path[0]).origin}catch{}return kOpaqueOrigin;case"ftp:":case"http:":case"https:":case"ws:":case"wss:":return serializeTupleOrigin(t.scheme,t.host,t.port)}return kOpaqueOrigin}get protocol(){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");return this[context].scheme}set protocol(t){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");if(t=`${t}`,t.length===0)return;const e=this[context];parse(t,kSchemeStart,null,e,FunctionPrototypeBind(onParseProtocolComplete,this))}get username(){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");return this[context].username}set username(t){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");if(t=`${t}`,this[cannotHaveUsernamePasswordPort])return;const e=this[context];if(t===""){e.username="",e.flags&=~URL_FLAGS_HAS_USERNAME;return}e.username=encodeAuth(t),e.flags|=URL_FLAGS_HAS_USERNAME}get password(){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");return this[context].password}set password(t){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");if(t=`${t}`,this[cannotHaveUsernamePasswordPort])return;const e=this[context];if(t===""){e.password="",e.flags&=~URL_FLAGS_HAS_PASSWORD;return}e.password=encodeAuth(t),e.flags|=URL_FLAGS_HAS_PASSWORD}get host(){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");const t=this[context];let e=t.host||"";return t.port!==null&&(e+=`:${t.port}`),e}set host(t){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");const e=this[context];t=`${t}`,!this[cannotBeBase]&&parse(t,kHost,null,e,FunctionPrototypeBind(onParseHostComplete,this))}get hostname(){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");return this[context].host||""}set hostname(t){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");const e=this[context];t=`${t}`,!this[cannotBeBase]&&parse(t,kHostname,null,e,onParseHostnameComplete.bind(this))}get port(){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");const t=this[context].port;return t===null?"":String(t)}set port(t){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");if(t=`${t}`,this[cannotHaveUsernamePasswordPort])return;const e=this[context];if(t===""){e.port=null;return}parse(t,kPort,null,e,FunctionPrototypeBind(onParsePortComplete,this))}get pathname(){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");const t=this[context];return this[cannotBeBase]?t.path[0]:t.path.length===0?"":`/${ArrayPrototypeJoin(t.path,"/")}`}set pathname(t){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");t=`${t}`,!this[cannotBeBase]&&parse(t,kPathStart,null,this[context],onParsePathComplete.bind(this))}get search(){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");const{query:t}=this[context];return t===null||t===""?"":`?${t}`}set search(t){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");const e=this[context];t=toUSVString(t),t===""?(e.query=null,e.flags&=~URL_FLAGS_HAS_QUERY):(t[0]==="?"&&(t=StringPrototypeSlice(t,1)),e.query="",e.flags|=URL_FLAGS_HAS_QUERY,t&&parse(t,kQuery,null,e,FunctionPrototypeBind(onParseSearchComplete,this))),initSearchParams(this[searchParams],t)}get searchParams(){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");return this[searchParams]}get hash(){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");const{fragment:t}=this[context];return t===null||t===""?"":`#${t}`}set hash(t){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");const e=this[context];if(t=`${t}`,!t){e.fragment=null,e.flags&=~URL_FLAGS_HAS_FRAGMENT;return}t[0]==="#"&&(t=StringPrototypeSlice(t,1)),e.fragment="",e.flags|=URL_FLAGS_HAS_FRAGMENT,parse(t,kFragment,null,e,FunctionPrototypeBind(onParseHashComplete,this))}toJSON(){if(!isURLThis(this))throw new ERR_INVALID_THIS("URL");return this[kFormat]({})}static createObjectURL(t){const e=lazyCryptoRandom();if(e===void 0)throw new ERR_NO_CRYPTO;const r=lazyBlob();if(!r.isBlob(t))throw new ERR_INVALID_ARG_TYPE("obj","Blob",t);const s=e.randomUUID();return storeDataObject(s,t[r.kHandle],t.size,t.type),`blob:nodedata:${s}`}static revokeObjectURL(t){t=`${t}`;try{const e=new URL(t),r=StringPrototypeSplit(e.pathname,":");r.length===2&&revokeDataObject(r[1])}catch{}}}ObjectDefineProperties(URL.prototype,{[kFormat]:{configurable:!1,writable:!1},[SymbolToStringTag]:{configurable:!0,value:"URL"},toString:{enumerable:!0},href:{enumerable:!0},origin:{enumerable:!0},protocol:{enumerable:!0},username:{enumerable:!0},password:{enumerable:!0},host:{enumerable:!0},hostname:{enumerable:!0},port:{enumerable:!0},pathname:{enumerable:!0},search:{enumerable:!0},searchParams:{enumerable:!0},hash:{enumerable:!0},toJSON:{enumerable:!0}});function update(n,t){if(!n)return;const e=n[context],r=t.toString();r?(e.query=r,e.flags|=URL_FLAGS_HAS_QUERY):(e.query=null,e.flags&=~URL_FLAGS_HAS_QUERY)}function initSearchParams(n,t){if(!t){n[searchParams]=[];return}n[searchParams]=parseParams(t)}function parseParams(n){const t=[];let e=0,r=0,s=!1,o="",a=!1,c=0,h;for(h=0;h<n.length;++h){const i=StringPrototypeCharCodeAt(n,h);if(i===CHAR_AMPERSAND){if(e===h){r=e=h+1;continue}r<h&&(o+=n.slice(r,h)),a&&(o=querystring.unescape(o)),t.push(o),s||t.push(""),s=!1,o="",a=!1,c=0,r=e=h+1;continue}if(!s&&i===CHAR_EQUAL){r<h&&(o+=n.slice(r,h)),a&&(o=querystring.unescape(o)),t.push(o),s=!0,o="",a=!1,c=0,r=h+1;continue}i===CHAR_PLUS?(r<h&&(o+=StringPrototypeSlice(n,r,h)),o+=" ",r=h+1):a||(i===CHAR_PERCENT?c=1:c>0&&(isHexTable[i]===1?++c==3&&(a=!0):c=0))}return e===h||(r<h&&(o+=StringPrototypeSlice(n,r,h)),a&&(o=querystring.unescape(o)),ArrayPrototypePush(t,o),s||ArrayPrototypePush(t,"")),t}const noEscape=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0]),paramHexTable=hexTable.slice();paramHexTable[32]="+";function serializeParams(n){const t=n.length;if(t===0)return"";const e=encodeStr(n[0],noEscape,paramHexTable),r=encodeStr(n[1],noEscape,paramHexTable);let s=`${e}=${r}`;for(let o=2;o<t;o+=2){const a=encodeStr(n[o],noEscape,paramHexTable),c=encodeStr(n[o+1],noEscape,paramHexTable);s+=`&${a}=${c}`}return s}function defineIDLClass(n,t,e){ObjectDefineProperty(n,SymbolToStringTag,{writable:!1,enumerable:!1,configurable:!0,value:t});for(const r of ObjectKeys(e))ObjectDefineProperty(n,r,{writable:!0,enumerable:!0,configurable:!0,value:e[r]});for(const r of ObjectGetOwnPropertySymbols(e))ObjectDefineProperty(n,r,{writable:!0,enumerable:!1,configurable:!0,value:e[r]})}function merge(n,t,e,r,s,o){const a=e-t,c=r-e;let h,i,l;for(h=0;h<a;h++)s[h]=n[t+h];for(i=0;i<c;i++)o[i]=n[e+i];for(h=0,i=0,l=t;h<a&&i<c;)s[h]<=o[i]?(n[l++]=s[h++],n[l++]=s[h++]):(n[l++]=o[i++],n[l++]=o[i++]);for(;h<a;)n[l++]=s[h++];for(;i<c;)n[l++]=o[i++]}function createSearchParamsIterator(n,t){const e=ObjectCreate(URLSearchParamsIteratorPrototype);return e[context]={target:n,kind:t,index:0},e}const URLSearchParamsIteratorPrototype=ObjectCreate(IteratorPrototype);defineIDLClass(URLSearchParamsIteratorPrototype,"URLSearchParams Iterator",{next(){if(!this||ObjectGetPrototypeOf(this)!==URLSearchParamsIteratorPrototype)throw new ERR_INVALID_THIS("URLSearchParamsIterator");const{target:n,kind:t,index:e}=this[context],r=n[searchParams],s=r.length;if(e>=s)return{value:void 0,done:!0};const o=r[e],a=r[e+1];this[context].index=e+2;let c;return t==="key"?c=o:t==="value"?c=a:c=[o,a],{value:c,done:!1}},[inspect.custom](n,t){if(this==null||this[context]==null||this[context].target==null)throw new ERR_INVALID_THIS("URLSearchParamsIterator");if(typeof n=="number"&&n<0)return t.stylize("[Object]","special");const e={...t};n!==null&&(e.depth=n-1);const{target:r,kind:s,index:o}=this[context],a=ArrayPrototypeReduce(ArrayPrototypeSlice(r[searchParams],o),(l,u,m)=>{const f=m%2==0;return s==="key"&&f||s==="value"&&!f?ArrayPrototypePush(l,u):s==="key+value"&&!f&&ArrayPrototypePush(l,[r[searchParams][o+m-1],u]),l},[]),c=inspect(a,e).includes(`
`),h=ArrayPrototypeMap(a,l=>inspect(l,e));let i;return c?i=`
  ${ArrayPrototypeJoin(h,`,
  `)}`:i=` ${ArrayPrototypeJoin(h,", ")}`,`${this[SymbolToStringTag]} {${i} }`}});function domainToASCII(n){if(arguments.length<1)throw new ERR_MISSING_ARGS("domain");return _domainToASCII(`${n}`)}function domainToUnicode(n){if(arguments.length<1)throw new ERR_MISSING_ARGS("domain");return _domainToUnicode(`${n}`)}function urlToHttpOptions(n){const t={protocol:n.protocol,hostname:typeof n.hostname=="string"&&StringPrototypeStartsWith(n.hostname,"[")?StringPrototypeSlice(n.hostname,1,-1):n.hostname,hash:n.hash,search:n.search,pathname:n.pathname,path:`${n.pathname||""}${n.search||""}`,href:n.href};return n.port!==""&&(t.port=Number(n.port)),(n.username||n.password)&&(t.auth=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`),t}const forwardSlashRegEx=/\//g;function getPathFromURLWin32(n){const t=n.hostname;let e=n.pathname;for(let o=0;o<e.length;o++)if(e[o]==="%"){const a=e.codePointAt(o+2)|32;if(e[o+1]==="2"&&a===102||e[o+1]==="5"&&a===99)throw new ERR_INVALID_FILE_URL_PATH("must not include encoded \\ or / characters")}if(e=e.replace(forwardSlashRegEx,"\\"),e=decodeURIComponent(e),t!=="")return`\\\\${domainToUnicode(t)}${e}`;const r=e.codePointAt(1)|32,s=e[2];if(r<CHAR_LOWERCASE_A||r>CHAR_LOWERCASE_Z||s!==":")throw new ERR_INVALID_FILE_URL_PATH("must be absolute");return e.slice(1)}function getPathFromURLPosix(n){if(n.hostname!=="")throw new ERR_INVALID_FILE_URL_HOST(platform);const t=n.pathname;for(let e=0;e<t.length;e++)if(t[e]==="%"){const r=t.codePointAt(e+2)|32;if(t[e+1]==="2"&&r===102)throw new ERR_INVALID_FILE_URL_PATH("must not include encoded / characters")}return decodeURIComponent(t)}function fileURLToPath(n){if(typeof n=="string")n=new URL(n);else if(!isURLInstance(n))throw new ERR_INVALID_ARG_TYPE("path",["string","URL"],n);if(n.protocol!=="file:")throw new ERR_INVALID_URL_SCHEME("file");return isWindows?getPathFromURLWin32(n):getPathFromURLPosix(n)}const percentRegEx=/%/g,backslashRegEx=/\\/g,newlineRegEx=/\n/g,carriageReturnRegEx=/\r/g,tabRegEx=/\t/g;function encodePathChars(n){return StringPrototypeIncludes(n,"%")&&(n=StringPrototypeReplace(n,percentRegEx,"%25")),!isWindows&&StringPrototypeIncludes(n,"\\")&&(n=StringPrototypeReplace(n,backslashRegEx,"%5C")),StringPrototypeIncludes(n,`
`)&&(n=StringPrototypeReplace(n,newlineRegEx,"%0A")),StringPrototypeIncludes(n,"\r")&&(n=StringPrototypeReplace(n,carriageReturnRegEx,"%0D")),StringPrototypeIncludes(n,"	")&&(n=StringPrototypeReplace(n,tabRegEx,"%09")),n}function pathToFileURL(n){const t=new URL("file://");if(isWindows&&StringPrototypeStartsWith(n,"\\\\")){const e=StringPrototypeSplit(n,"\\");if(e.length<=3)throw new ERR_INVALID_ARG_VALUE("filepath",n,"Missing UNC resource path");const r=e[2];if(r.length===0)throw new ERR_INVALID_ARG_VALUE("filepath",n,"Empty UNC servername");t.hostname=domainToASCII(r),t.pathname=encodePathChars(ArrayPrototypeJoin(ArrayPrototypeSlice(e,3),"/"))}else{let e=path.resolve(n);const r=StringPrototypeCharCodeAt(n,n.length-1);(r===CHAR_FORWARD_SLASH||isWindows&&r===CHAR_BACKWARD_SLASH)&&e[e.length-1]!==path.sep&&(e+="/"),t.pathname=encodePathChars(e)}return t}function isURLInstance(n){return n!=null&&n.href&&n.origin}function toPathIfFileURL(n){return isURLInstance(n)?fileURLToPath(n):n}function constructUrl(n,t,e,r,s,o,a,c,h){const i=new URLContext;i.flags=n,i.scheme=t,i.username=(n&URL_FLAGS_HAS_USERNAME)!=0?e:"",i.password=(n&URL_FLAGS_HAS_PASSWORD)!=0?r:"",i.port=o,i.path=(n&URL_FLAGS_HAS_PATH)!=0?a:[],i.query=c,i.fragment=h,i.host=s;const l=ObjectCreate(URL.prototype);l[context]=i;const u=new URLSearchParams;return l[searchParams]=u,u[context]=l,initSearchParams(u,c),l}setURLConstructor(constructUrl),module.exports={toUSVString,fileURLToPath,pathToFileURL,toPathIfFileURL,isURLInstance,URL,URLSearchParams,domainToASCII,domainToUnicode,urlToHttpOptions,formatSymbol:kFormat,searchParamsSymbol:searchParams,encodeStr};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayFrom,ArrayIsArray,ArrayPrototypePush,ArrayPrototypeSlice,ArrayPrototypeSort,Error,ObjectCreate,ObjectDefineProperties,ObjectDefineProperty,ObjectGetOwnPropertyDescriptor,ObjectGetOwnPropertyDescriptors,ObjectGetPrototypeOf,ObjectSetPrototypeOf,Promise,ReflectApply,ReflectConstruct,RegExpPrototypeExec,RegExpPrototypeTest,SafeMap,SafeSet,StringPrototypeReplace,StringPrototypeToLowerCase,StringPrototypeToUpperCase,Symbol,SymbolFor}=primordials,{toUSVString:_toUSVString}=internalBinding("url"),{hideStackFrames,codes:{ERR_NO_CRYPTO,ERR_UNKNOWN_SIGNAL},uvErrmapGet,overrideStackTrace}=require("internal/errors"),{signals}=internalBinding("constants").os,{getHiddenValue,setHiddenValue,arrow_message_private_symbol:kArrowMessagePrivateSymbolIndex,decorated_private_symbol:kDecoratedPrivateSymbolIndex,sleep:_sleep}=internalBinding("util"),{isNativeError}=internalBinding("types"),noCrypto=!process.versions.openssl,experimentalWarnings=new SafeSet,colorRegExp=/\u001b\[\d\d?m/g,unpairedSurrogateRe=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function toUSVString(e){const t=`${e}`,r=RegExpPrototypeExec(unpairedSurrogateRe,t);return r?_toUSVString(t,r.index):t}let uvBinding;function lazyUv(){return uvBinding??=internalBinding("uv"),uvBinding}function removeColors(e){return StringPrototypeReplace(e,colorRegExp,"")}function isError(e){return isNativeError(e)||e instanceof Error}const codesWarned=new SafeSet;let validateString;function deprecate(e,t,r){if(process.noDeprecation===!0)return e;validateString===void 0&&({validateString}=require("internal/validators")),r!==void 0&&validateString(r,"code");let n=!1;function i(...o){return n||(n=!0,r!==void 0?codesWarned.has(r)||(process.emitWarning(t,"DeprecationWarning",r,i),codesWarned.add(r)):process.emitWarning(t,"DeprecationWarning",i)),new.target?ReflectConstruct(e,o,new.target):ReflectApply(e,this,o)}return ObjectSetPrototypeOf(i,e),e.prototype&&(i.prototype=e.prototype),i}function decorateErrorStack(e){if(!(isError(e)&&e.stack)||getHiddenValue(e,kDecoratedPrivateSymbolIndex)===!0)return;const t=getHiddenValue(e,kArrowMessagePrivateSymbolIndex);t&&(e.stack=t+e.stack,setHiddenValue(e,kDecoratedPrivateSymbolIndex,!0))}function assertCrypto(){if(noCrypto)throw new ERR_NO_CRYPTO}function normalizeEncoding(e){return e==null||e==="utf8"||e==="utf-8"?"utf8":slowCases(e)}function slowCases(e){switch(e.length){case 4:if(e==="UTF8")return"utf8";if(e==="ucs2"||e==="UCS2")return"utf16le";if(e=`${e}`.toLowerCase(),e==="utf8")return"utf8";if(e==="ucs2")return"utf16le";break;case 3:if(e==="hex"||e==="HEX"||`${e}`.toLowerCase()==="hex")return"hex";break;case 5:if(e==="ascii")return"ascii";if(e==="ucs-2")return"utf16le";if(e==="UTF-8")return"utf8";if(e==="ASCII")return"ascii";if(e==="UCS-2")return"utf16le";if(e=`${e}`.toLowerCase(),e==="utf-8")return"utf8";if(e==="ascii")return"ascii";if(e==="ucs-2")return"utf16le";break;case 6:if(e==="base64")return"base64";if(e==="latin1"||e==="binary")return"latin1";if(e==="BASE64")return"base64";if(e==="LATIN1"||e==="BINARY")return"latin1";if(e=`${e}`.toLowerCase(),e==="base64")return"base64";if(e==="latin1"||e==="binary")return"latin1";break;case 7:if(e==="utf16le"||e==="UTF16LE"||`${e}`.toLowerCase()==="utf16le")return"utf16le";break;case 8:if(e==="utf-16le"||e==="UTF-16LE"||`${e}`.toLowerCase()==="utf-16le")return"utf16le";break;case 9:if(e==="base64url"||e==="BASE64URL"||`${e}`.toLowerCase()==="base64url")return"base64url";break;default:if(e==="")return"utf8"}}function emitExperimentalWarning(e){if(experimentalWarnings.has(e))return;const t=`${e} is an experimental feature. This feature could change at any time`;experimentalWarnings.add(e),process.emitWarning(t,"ExperimentalWarning")}function filterDuplicateStrings(e,t){const r=new SafeMap;for(let n=0;n<e.length;n++){const i=e[n],o=StringPrototypeToLowerCase(i);t?r.set(o,o):r.set(o,i)}return ArrayPrototypeSort(ArrayFrom(r.values()))}function cachedResult(e){let t;return()=>(t===void 0&&(t=e()),ArrayPrototypeSlice(t))}function createClassWrapper(e){function t(...r){return ReflectConstruct(e,r,new.target||e)}return ObjectDefineProperties(t,{name:{value:e.name},length:{value:e.length}}),ObjectSetPrototypeOf(t,e),t.prototype=e.prototype,t}let signalsToNamesMapping;function getSignalsToNamesMapping(){if(signalsToNamesMapping!==void 0)return signalsToNamesMapping;signalsToNamesMapping=ObjectCreate(null);for(const e in signals)signalsToNamesMapping[signals[e]]=e;return signalsToNamesMapping}function convertToValidSignal(e){if(typeof e=="number"&&getSignalsToNamesMapping()[e])return e;if(typeof e=="string"){const t=signals[StringPrototypeToUpperCase(e)];if(t)return t}throw new ERR_UNKNOWN_SIGNAL(e)}function getConstructorOf(e){for(;e;){const t=ObjectGetOwnPropertyDescriptor(e,"constructor");if(t!==void 0&&typeof t.value=="function"&&t.value.name!=="")return t.value;e=ObjectGetPrototypeOf(e)}return null}function getSystemErrorName(e){const t=uvErrmapGet(e);return t?t[0]:`Unknown system error ${e}`}function getSystemErrorMap(){return lazyUv().getErrorMap()}const kCustomPromisifiedSymbol=SymbolFor("nodejs.util.promisify.custom"),kCustomPromisifyArgsSymbol=Symbol("customPromisifyArgs");let validateFunction;function promisify(e){if(validateFunction===void 0&&({validateFunction}=require("internal/validators")),validateFunction(e,"original"),e[kCustomPromisifiedSymbol]){const n=e[kCustomPromisifiedSymbol];return validateFunction(n,"util.promisify.custom"),ObjectDefineProperty(n,kCustomPromisifiedSymbol,{value:n,enumerable:!1,writable:!1,configurable:!0})}const t=e[kCustomPromisifyArgsSymbol];function r(...n){return new Promise((i,o)=>{ArrayPrototypePush(n,(s,...a)=>{if(s)return o(s);if(t!==void 0&&a.length>1){const f={};for(let u=0;u<t.length;u++)f[t[u]]=a[u];i(f)}else i(a[0])}),ReflectApply(e,this,n)})}return ObjectSetPrototypeOf(r,ObjectGetPrototypeOf(e)),ObjectDefineProperty(r,kCustomPromisifiedSymbol,{value:r,enumerable:!1,writable:!1,configurable:!0}),ObjectDefineProperties(r,ObjectGetOwnPropertyDescriptors(e))}promisify.custom=kCustomPromisifiedSymbol;function join(e,t){let r="";if(e.length!==0){const n=e.length-1;for(let i=0;i<n;i++)r+=e[i],r+=t;r+=e[n]}return r}function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}const kNodeModulesRE=/^(.*)[\\/]node_modules[\\/]/;let getStructuredStack;function isInsideNodeModules(){if(getStructuredStack===void 0){const{runInNewContext:t}=require("vm");getStructuredStack=t(`(function() {
      try { Error.stackTraceLimit = Infinity; } catch {}
      return function structuredStack() {
        const e = new Error();
        overrideStackTrace.set(e, (err, trace) => trace);
        return e.stack;
      };
    })()`,{overrideStackTrace},{filename:"structured-stack"})}const e=getStructuredStack();if(ArrayIsArray(e))for(const t of e){const r=t.getFileName();if(!!RegExpPrototypeTest(/^\/|\\/,r))return RegExpPrototypeTest(kNodeModulesRE,r)}return!1}function once(e){let t=!1;return function(...r){t||(t=!0,ReflectApply(e,this,r))}}let validateUint32;function sleep(e){validateUint32===void 0&&({validateUint32}=require("internal/validators")),validateUint32(e,"msec"),_sleep(e)}function createDeferredPromise(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}}let _DOMException;const lazyDOMExceptionClass=()=>(_DOMException??=internalBinding("messaging").DOMException,_DOMException),lazyDOMException=hideStackFrames((e,t)=>(_DOMException??=internalBinding("messaging").DOMException,new _DOMException(e,t)));function structuredClone(e){const{DefaultSerializer:t,DefaultDeserializer:r}=require("v8"),n=new t;n._getDataCloneError=hideStackFrames(s=>lazyDOMException(s,"DataCloneError")),n.writeValue(e);const i=n.releaseBuffer();return new r(i).readValue()}module.exports={assertCrypto,cachedResult,convertToValidSignal,createClassWrapper,createDeferredPromise,decorateErrorStack,deprecate,emitExperimentalWarning,filterDuplicateStrings,getConstructorOf,getSystemErrorMap,getSystemErrorName,isError,isInsideNodeModules,join,lazyDOMException,lazyDOMExceptionClass,normalizeEncoding,once,promisify,sleep,spliceOne,structuredClone,toUSVString,removeColors,customPromisifyArgs:kCustomPromisifyArgsSymbol,customInspectSymbol:SymbolFor("nodejs.util.inspect.custom"),kIsEncodingSymbol:Symbol("kIsEncodingSymbol"),kVmBreakFirstLineSymbol:Symbol("kVmBreakFirstLineSymbol")};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";if(module.exports={versionCheck},module.id==="internal/v8_prof_polyfill")return;const fs=require("fs"),cp=require("child_process"),{Buffer}=require("buffer"),os={system:function(e,t){if(process.platform==="linux"&&e==="nm"){const n=t[t.length-1];if(n==="[vdso]"||n==="[vsyscall]"||/^[0-9a-f]+-[0-9a-f]+$/.test(n))return""}let r=cp.spawnSync(e,t).stdout.toString();if(process.platform==="darwin"&&e==="nm"){const n=r.match(/(?:^|\n)([^\n]*xcodebuild[^\n]*)(?:\n|$)/);if(n)throw new Error(n[1]);r=macCppfiltNm(r)}return r}},print=console.log;function read(e){return fs.readFileSync(e,"utf8")}const quit=process.exit,logFile=globalThis.arguments[globalThis.arguments.length-1];try{fs.accessSync(logFile)}catch{console.error("Please provide a valid isolate file as the final argument."),process.exit(1)}const fd=fs.openSync(logFile,"r"),buf=Buffer.allocUnsafe(4096),dec=new(require("string_decoder")).StringDecoder("utf-8");let line="";{const e=versionCheck(peekline(),process.versions.v8);e&&console.log(e)}function peekline(){const e=readline();return line=`${e}
${line}`,e}function readline(){for(;;){const e=line.indexOf(`
`);if(e!==-1){const r=line.slice(0,e);return line=line.slice(e+1),r}const t=fs.readSync(fd,buf,0,buf.length);if(line+=dec.write(buf.slice(0,t)),line.length===0)return"";if(t===0)return process.emitWarning(`Profile file ${logFile} is broken`,{code:"BROKEN_PROFILE_FILE",detail:`${JSON.stringify(line)} at the file end is broken`}),""}}function versionCheck(e,t){e=e.split(",");const r=t.split(/[.-]/);if(e.length!==6&&e.length!==7||e[0]!=="v8-version")return"Unable to read v8-version from log file.";for(let n=0;n<3;n++)if(r[n]!==e[n+1])return"Testing v8 version different from logging version"}function macCppfiltNm(e){const t=/^([0-9a-fA-F]{8,16} [iItT] )(.*)$/gm,r=/^[0-9a-fA-F]{8,16} [iItT] /;let n=e.match(t);if(n===null)return e;n=n.map(o=>o.replace(r,""));let i;try{i=cp.spawnSync("c++filt",["-p","-i"],{input:n.join(`
`)}).stdout.toString()}catch{return e}let s=0;return i=i.split(`
`),e.replace(t,(o,l,c)=>l+(i[s++]||c))}Object.assign(globalThis,{os,print,read,quit,readline});
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypePush,ArrayPrototypeSlice,StringPrototypeSlice}=primordials,Buffer=require("buffer").Buffer,console=require("internal/console/global"),vm=require("vm"),{SourceTextModule}=require("internal/vm/module"),natives=internalBinding("natives");async function linker(e,r){const n=StringPrototypeSlice(e,2,-4),t=natives[`internal/deps/v8/tools/${n}`];return new SourceTextModule(t,{context:r.context})}(async()=>{const e=[];process.platform==="darwin"?ArrayPrototypePush(e,"--mac"):process.platform==="win32"&&ArrayPrototypePush(e,"--windows"),ArrayPrototypePush(e,...ArrayPrototypeSlice(process.argv,1));const r=vm.createContext({arguments:e,write(o){process.stdout.write(o)},printErr(o){console.error(o)},console,process,Buffer}),t=`(function(module, require) {
    ${natives["internal/v8_prof_polyfill"]}
  })`;vm.runInContext(t,r)(module,require);const i=natives["internal/deps/v8/tools/tickprocessor-driver"],s=new SourceTextModule(i,{context:r});await s.link(linker),await s.evaluate()})();
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,ArrayPrototypeIncludes,ArrayPrototypeJoin,ArrayPrototypeMap,NumberIsInteger,NumberMAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER,NumberParseInt,RegExpPrototypeTest,String,StringPrototypeToUpperCase,StringPrototypeTrim}=primordials,{hideStackFrames,codes:{ERR_SOCKET_BAD_PORT,ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_OUT_OF_RANGE,ERR_UNKNOWN_SIGNAL,ERR_INVALID_CALLBACK}}=require("internal/errors"),{normalizeEncoding}=require("internal/util"),{isArrayBufferView}=require("internal/util/types"),{signals}=internalBinding("constants").os;function isInt32(t){return t===(t|0)}function isUint32(t){return t===t>>>0}const octalReg=/^[0-7]+$/,modeDesc="must be a 32-bit unsigned integer or an octal string";function parseFileMode(t,n,e){if(t??=e,typeof t=="string"){if(!RegExpPrototypeTest(octalReg,t))throw new ERR_INVALID_ARG_VALUE(n,t,modeDesc);t=NumberParseInt(t,8)}return validateInt32(t,n,0,2**32-1),t}const validateInteger=hideStackFrames((t,n,e=NumberMIN_SAFE_INTEGER,o=NumberMAX_SAFE_INTEGER)=>{if(typeof t!="number")throw new ERR_INVALID_ARG_TYPE(n,"number",t);if(!NumberIsInteger(t))throw new ERR_OUT_OF_RANGE(n,"an integer",t);if(t<e||t>o)throw new ERR_OUT_OF_RANGE(n,`>= ${e} && <= ${o}`,t)}),validateInt32=hideStackFrames((t,n,e=-2147483648,o=2147483647)=>{if(!isInt32(t))throw typeof t!="number"?new ERR_INVALID_ARG_TYPE(n,"number",t):NumberIsInteger(t)?new ERR_OUT_OF_RANGE(n,`>= ${e} && <= ${o}`,t):new ERR_OUT_OF_RANGE(n,"an integer",t);if(t<e||t>o)throw new ERR_OUT_OF_RANGE(n,`>= ${e} && <= ${o}`,t)}),validateUint32=hideStackFrames((t,n,e)=>{if(!isUint32(t)){if(typeof t!="number")throw new ERR_INVALID_ARG_TYPE(n,"number",t);if(!NumberIsInteger(t))throw new ERR_OUT_OF_RANGE(n,"an integer",t);const o=e?1:0;throw new ERR_OUT_OF_RANGE(n,`>= ${o} && < 4294967296`,t)}if(e&&t===0)throw new ERR_OUT_OF_RANGE(n,">= 1 && < 4294967296",t)});function validateString(t,n){if(typeof t!="string")throw new ERR_INVALID_ARG_TYPE(n,"string",t)}function validateNumber(t,n){if(typeof t!="number")throw new ERR_INVALID_ARG_TYPE(n,"number",t)}const validateOneOf=hideStackFrames((t,n,e)=>{if(!ArrayPrototypeIncludes(e,t)){const o=ArrayPrototypeJoin(ArrayPrototypeMap(e,r=>typeof r=="string"?`'${r}'`:String(r)),", "),i="must be one of: "+o;throw new ERR_INVALID_ARG_VALUE(n,t,i)}});function validateBoolean(t,n){if(typeof t!="boolean")throw new ERR_INVALID_ARG_TYPE(n,"boolean",t)}const validateObject=hideStackFrames((t,n,e)=>{const o=e==null,i=o?!1:e.allowArray,r=o?!1:e.allowFunction;if(!(o?!1:e.nullable)&&t===null||!i&&ArrayIsArray(t)||typeof t!="object"&&(!r||typeof t!="function"))throw new ERR_INVALID_ARG_TYPE(n,"Object",t)}),validateArray=hideStackFrames((t,n,e=0)=>{if(!ArrayIsArray(t))throw new ERR_INVALID_ARG_TYPE(n,"Array",t);if(t.length<e){const o=`must be longer than ${e}`;throw new ERR_INVALID_ARG_VALUE(n,t,o)}});function validateSignalName(t,n="signal"){if(validateString(t,n),signals[t]===void 0)throw signals[StringPrototypeToUpperCase(t)]!==void 0?new ERR_UNKNOWN_SIGNAL(t+" (signals must use all capital letters)"):new ERR_UNKNOWN_SIGNAL(t)}const validateBuffer=hideStackFrames((t,n="buffer")=>{if(!isArrayBufferView(t))throw new ERR_INVALID_ARG_TYPE(n,["Buffer","TypedArray","DataView"],t)});function validateEncoding(t,n){const e=normalizeEncoding(n),o=t.length;if(e==="hex"&&o%2!=0)throw new ERR_INVALID_ARG_VALUE("encoding",n,`is invalid for data of length ${o}`)}function validatePort(t,n="Port",e=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&StringPrototypeTrim(t).length===0||+t!=+t>>>0||t>65535||t===0&&!e)throw new ERR_SOCKET_BAD_PORT(n,t,e);return t|0}const validateCallback=hideStackFrames(t=>{if(typeof t!="function")throw new ERR_INVALID_CALLBACK(t)}),validateAbortSignal=hideStackFrames((t,n)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new ERR_INVALID_ARG_TYPE(n,"AbortSignal",t)}),validateFunction=hideStackFrames((t,n)=>{if(typeof t!="function")throw new ERR_INVALID_ARG_TYPE(n,"Function",t)}),validateUndefined=hideStackFrames((t,n)=>{if(t!==void 0)throw new ERR_INVALID_ARG_TYPE(n,"undefined",t)});module.exports={isInt32,isUint32,parseFileMode,validateArray,validateBoolean,validateBuffer,validateEncoding,validateFunction,validateInt32,validateInteger,validateNumber,validateObject,validateOneOf,validatePort,validateSignalName,validateString,validateUint32,validateUndefined,validateCallback,validateAbortSignal};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{TraceSigintWatchdog}=internalBinding("watchdog");class SigintWatchdog extends TraceSigintWatchdog{_started=!1;_effective=!1;_onNewListener=e=>{e==="SIGINT"&&this._effective&&(super.stop(),this._effective=!1)};_onRemoveListener=e=>{e==="SIGINT"&&process.listenerCount("SIGINT")===0&&!this._effective&&(super.start(),this._effective=!0)};start(){this._started||(this._started=!0,process.prependListener("newListener",this._onNewListener),process.addListener("removeListener",this._onRemoveListener),process.listenerCount("SIGINT")===0&&(super.start(),this._effective=!0))}stop(){!this._started||(this._started=!1,process.removeListener("newListener",this._onNewListener),process.removeListener("removeListener",this._onRemoveListener),this._effective&&(super.stop(),this._effective=!1))}}module.exports={SigintWatchdog};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,ArrayPrototypeForEach,ArrayPrototypeMap,ArrayPrototypePush,Float64Array,FunctionPrototypeBind,JSONStringify,MathMax,ObjectCreate,ObjectEntries,Promise,PromiseResolve,ReflectApply,RegExpPrototypeTest,SafeArrayIterator,SafeMap,String,Symbol,SymbolFor,TypedArrayPrototypeFill,Uint32Array,globalThis:{Atomics,SharedArrayBuffer}}=primordials,EventEmitter=require("events"),assert=require("internal/assert"),path=require("path"),{now}=require("internal/perf/utils"),errorCodes=require("internal/errors").codes,{ERR_WORKER_NOT_RUNNING,ERR_WORKER_PATH,ERR_WORKER_UNSERIALIZABLE_ERROR,ERR_WORKER_INVALID_EXEC_ARGV,ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE}=errorCodes,{getOptionValue}=require("internal/options"),workerIo=require("internal/worker/io"),{drainMessagePort,MessageChannel,messageTypes,kPort,kIncrementsPortRef,kWaitingStreams,kStdioWantsMoreDataCallback,setupPortReferencing,ReadableWorkerStdio,WritableWorkerStdio}=workerIo,{deserializeError}=require("internal/error_serdes"),{fileURLToPath,isURLInstance,pathToFileURL}=require("internal/url"),{validateArray}=require("internal/validators"),{ownsProcessState,isMainThread,resourceLimits:resourceLimitsRaw,threadId,Worker:WorkerImpl,kMaxYoungGenerationSizeMb,kMaxOldGenerationSizeMb,kCodeRangeSizeMb,kStackSizeMb,kTotalResourceLimitCount}=internalBinding("worker"),kHandle=Symbol("kHandle"),kPublicPort=Symbol("kPublicPort"),kDispose=Symbol("kDispose"),kOnExit=Symbol("kOnExit"),kOnMessage=Symbol("kOnMessage"),kOnCouldNotSerializeErr=Symbol("kOnCouldNotSerializeErr"),kOnErrorMessage=Symbol("kOnErrorMessage"),kParentSideStdio=Symbol("kParentSideStdio"),kLoopStartTime=Symbol("kLoopStartTime"),kIsOnline=Symbol("kIsOnline"),SHARE_ENV=SymbolFor("nodejs.worker_threads.SHARE_ENV");let debug=require("internal/util/debuglog").debuglog("worker",r=>{debug=r}),cwdCounter;const environmentData=new SafeMap;if(isMainThread){cwdCounter=new Uint32Array(new SharedArrayBuffer(4));const r=process.chdir;process.chdir=function(e){Atomics.add(cwdCounter,0,1),r(e)}}function setEnvironmentData(r,e){e===void 0?environmentData.delete(r):environmentData.set(r,e)}function getEnvironmentData(r){return environmentData.get(r)}function assignEnvironmentData(r){r!==void 0&&r.forEach((e,t)=>{environmentData.set(t,e)})}class Worker extends EventEmitter{constructor(e,t={}){super();if(debug(`[${threadId}] create new worker`,e,t),t.execArgv&&!ArrayIsArray(t.execArgv))throw new ERR_INVALID_ARG_TYPE("options.execArgv","Array",t.execArgv);let i;t.argv&&(validateArray(t.argv,"options.argv"),i=ArrayPrototypeMap(t.argv,String));let s,n;if(t.eval){if(typeof e!="string")throw new ERR_INVALID_ARG_VALUE("options.eval",t.eval,"must be false when 'filename' is not a string");s=null,n="classic"}else if(isURLInstance(e)&&e.protocol==="data:")s=null,n="module",e=`import ${JSONStringify(`${e}`)}`;else if(n=!1,isURLInstance(e))s=e,e=fileURLToPath(e);else{if(typeof e!="string")throw new ERR_INVALID_ARG_TYPE("filename",["string","URL"],e);if(path.isAbsolute(e)||RegExpPrototypeTest(/^\.\.?[\\/]/,e))e=path.resolve(e),s=pathToFileURL(e);else throw new ERR_WORKER_PATH(e)}let o;if(typeof t.env=="object"&&t.env!==null)o=ObjectCreate(null),ArrayPrototypeForEach(ObjectEntries(t.env),({0:a,1:u})=>{o[a]=`${u}`});else if(t.env==null)o=process.env;else if(t.env!==SHARE_ENV)throw new ERR_INVALID_ARG_TYPE("options.env",["object","undefined","null","worker_threads.SHARE_ENV"],t.env);if(this[kHandle]=new WorkerImpl(s,o===process.env?null:o,t.execArgv,parseResourceLimits(t.resourceLimits),!!(t.trackUnmanagedFds??!0)),this[kHandle].invalidExecArgv)throw new ERR_WORKER_INVALID_EXEC_ARGV(this[kHandle].invalidExecArgv);if(this[kHandle].invalidNodeOptions)throw new ERR_WORKER_INVALID_EXEC_ARGV(this[kHandle].invalidNodeOptions,"invalid NODE_OPTIONS env variable");this[kHandle].onexit=(a,u,g)=>{this[kOnExit](a,u,g)},this[kPort]=this[kHandle].messagePort,this[kPort].on("message",a=>this[kOnMessage](a)),this[kPort].start(),this[kPort].unref(),this[kPort][kWaitingStreams]=0,debug(`[${threadId}] created Worker with ID ${this.threadId}`);let c=null;t.stdin&&(c=new WritableWorkerStdio(this[kPort],"stdin"));const l=new ReadableWorkerStdio(this[kPort],"stdout");t.stdout||(l[kIncrementsPortRef]=!1,pipeWithoutWarning(l,process.stdout));const h=new ReadableWorkerStdio(this[kPort],"stderr");t.stderr||(h[kIncrementsPortRef]=!1,pipeWithoutWarning(h,process.stderr)),this[kParentSideStdio]={stdin:c,stdout:l,stderr:h};const{port1:p,port2:d}=new MessageChannel,f=[d];t.transferList&&ArrayPrototypePush(f,...new SafeArrayIterator(t.transferList)),this[kPublicPort]=p,ArrayPrototypeForEach(["message","messageerror"],a=>{this[kPublicPort].on(a,u=>this.emit(a,u))}),setupPortReferencing(this[kPublicPort],this,"message"),this[kPort].postMessage({argv:i,type:messageTypes.LOAD_SCRIPT,filename:e,doEval:n,cwdCounter:cwdCounter||workerIo.sharedCwdCounter,workerData:t.workerData,environmentData,publicPort:d,manifestURL:getOptionValue("--experimental-policy")?require("internal/process/policy").url:null,manifestSrc:getOptionValue("--experimental-policy")?require("internal/process/policy").src:null,hasStdin:!!t.stdin},f),this[kLoopStartTime]=-1,this[kIsOnline]=!1,this.performance={eventLoopUtilization:FunctionPrototypeBind(eventLoopUtilization,this)},this[kHandle].startThread(),process.nextTick(()=>process.emit("worker",this))}[kOnExit](e,t,i){debug(`[${threadId}] hears end event for Worker ${this.threadId}`),drainMessagePort(this[kPublicPort]),drainMessagePort(this[kPort]),this.removeAllListeners("message"),this.removeAllListeners("messageerrors"),this[kPublicPort].unref(),this[kPort].unref(),this[kDispose](),t&&(debug(`[${threadId}] failing with custom error ${t}         and with reason ${i}`),this.emit("error",new errorCodes[t](i))),this.emit("exit",e),this.removeAllListeners()}[kOnCouldNotSerializeErr](){this.emit("error",new ERR_WORKER_UNSERIALIZABLE_ERROR)}[kOnErrorMessage](e){const t=deserializeError(e);this.emit("error",t)}[kOnMessage](e){switch(e.type){case messageTypes.UP_AND_RUNNING:return this[kIsOnline]=!0,this.emit("online");case messageTypes.COULD_NOT_SERIALIZE_ERROR:return this[kOnCouldNotSerializeErr]();case messageTypes.ERROR_MESSAGE:return this[kOnErrorMessage](e.error);case messageTypes.STDIO_PAYLOAD:{const{stream:t,chunks:i}=e,s=this[kParentSideStdio][t];ArrayPrototypeForEach(i,({chunk:n,encoding:o})=>{s.push(n,o)});return}case messageTypes.STDIO_WANTS_MORE_DATA:{const{stream:t}=e;return this[kParentSideStdio][t][kStdioWantsMoreDataCallback]()}}assert.fail(`Unknown worker message type ${e.type}`)}[kDispose](){this[kHandle].onexit=null,this[kHandle]=null,this[kPort]=null,this[kPublicPort]=null;const{stdout:e,stderr:t}=this[kParentSideStdio];e.readableEnded||(debug(`[${threadId}] explicitly closes stdout for ${this.threadId}`),e.push(null)),t.readableEnded||(debug(`[${threadId}] explicitly closes stderr for ${this.threadId}`),t.push(null))}postMessage(...e){this[kPublicPort]!==null&&ReflectApply(this[kPublicPort].postMessage,this[kPublicPort],e)}terminate(e){if(debug(`[${threadId}] terminates Worker with ID ${this.threadId}`),this.ref(),typeof e=="function"){if(process.emitWarning("Passing a callback to worker.terminate() is deprecated. It returns a Promise instead.","DeprecationWarning","DEP0132"),this[kHandle]===null)return PromiseResolve();this.once("exit",t=>e(null,t))}return this[kHandle]===null?PromiseResolve():(this[kHandle].stopThread(),new Promise(t=>{this.once("exit",t)}))}ref(){this[kHandle]!==null&&(this[kHandle].ref(),this[kPublicPort].ref())}unref(){this[kHandle]!==null&&(this[kHandle].unref(),this[kPublicPort].unref())}get threadId(){return this[kHandle]===null?-1:this[kHandle].threadId}get stdin(){return this[kParentSideStdio].stdin}get stdout(){return this[kParentSideStdio].stdout}get stderr(){return this[kParentSideStdio].stderr}get resourceLimits(){return this[kHandle]===null?{}:makeResourceLimits(this[kHandle].getResourceLimits())}getHeapSnapshot(){const e=this[kHandle]&&this[kHandle].takeHeapSnapshot();return new Promise((t,i)=>{if(!e)return i(new ERR_WORKER_NOT_RUNNING);e.ondone=s=>{const{HeapSnapshotStream:n}=require("internal/heap_utils");t(new n(s))}})}}function pipeWithoutWarning(r,e){const t=r._maxListeners,i=e._maxListeners;r.setMaxListeners(1/0),e.setMaxListeners(1/0),r.pipe(e),r._maxListeners=t,e._maxListeners=i}const resourceLimitsArray=new Float64Array(kTotalResourceLimitCount);function parseResourceLimits(r){const e=resourceLimitsArray;return TypedArrayPrototypeFill(e,-1),typeof r!="object"||r===null||(typeof r.maxOldGenerationSizeMb=="number"&&(e[kMaxOldGenerationSizeMb]=MathMax(r.maxOldGenerationSizeMb,2)),typeof r.maxYoungGenerationSizeMb=="number"&&(e[kMaxYoungGenerationSizeMb]=r.maxYoungGenerationSizeMb),typeof r.codeRangeSizeMb=="number"&&(e[kCodeRangeSizeMb]=r.codeRangeSizeMb),typeof r.stackSizeMb=="number"&&(e[kStackSizeMb]=r.stackSizeMb)),e}function makeResourceLimits(r){return{maxYoungGenerationSizeMb:r[kMaxYoungGenerationSizeMb],maxOldGenerationSizeMb:r[kMaxOldGenerationSizeMb],codeRangeSizeMb:r[kCodeRangeSizeMb],stackSizeMb:r[kStackSizeMb]}}function eventLoopUtilization(r,e){if(!this[kIsOnline]||!this[kHandle])return{idle:0,active:0,utilization:0};if(this[kLoopStartTime]===-1&&(this[kLoopStartTime]=this[kHandle].loopStartTime(),this[kLoopStartTime]===-1))return{idle:0,active:0,utilization:0};if(e){const c=r.idle-e.idle,l=r.active-e.active;return{idle:c,active:l,utilization:l/(c+l)}}const t=this[kHandle].loopIdleTime(),i=now()-this[kLoopStartTime]-t;if(!r)return{idle:t,active:i,utilization:i/(t+i)};const s=t-r.idle,n=i-r.active,o=n/(s+n);return{idle:s,active:n,utilization:o}}module.exports={ownsProcessState,isMainThread,SHARE_ENV,resourceLimits:isMainThread?{}:makeResourceLimits(resourceLimitsRaw),setEnvironmentData,getEnvironmentData,assignEnvironmentData,threadId,Worker};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{JSONParse}=primordials,{TextDecoder}=require("internal/encoding"),{Blob}=require("internal/blob"),{Buffer}=require("buffer");async function blob(e){const n=[];for await(const r of e)n.push(r);return new Blob(n)}async function arrayBuffer(e){return(await blob(e)).arrayBuffer()}async function buffer(e){return Buffer.from(await arrayBuffer(e))}async function text(e){const n=new TextDecoder;let r="";for await(const t of e)typeof t=="string"?r+=t:r+=n.decode(t,{stream:!0});return r+=n.decode(void 0,{stream:!1}),r}async function json(e){const n=await text(e);return JSONParse(n)}module.exports={arrayBuffer,blob,buffer,text,json};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypePop,Promise}=primordials,{isIterable,isNodeStream}=require("internal/streams/utils"),{pipelineImpl:pl}=require("internal/streams/pipeline"),eos=require("internal/streams/end-of-stream");function pipeline(...i){return new Promise((t,o)=>{let n;const e=i[i.length-1];e&&typeof e=="object"&&!isNodeStream(e)&&!isIterable(e)&&(n=ArrayPrototypePop(i).signal),pl(i,(s,r)=>{s?o(s):t(r)},{signal:n})})}function finished(i,t){return new Promise((o,n)=>{eos(i,t,e=>{e?n(e):o()})})}module.exports={finished,pipeline};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{emitExperimentalWarning}=require("internal/util");emitExperimentalWarning("stream/web");const{TransformStream,TransformStreamDefaultController}=require("internal/webstreams/transformstream"),{WritableStream,WritableStreamDefaultController,WritableStreamDefaultWriter}=require("internal/webstreams/writablestream"),{ReadableStream,ReadableStreamDefaultReader,ReadableStreamBYOBReader,ReadableStreamBYOBRequest,ReadableByteStreamController,ReadableStreamDefaultController}=require("internal/webstreams/readablestream"),{ByteLengthQueuingStrategy,CountQueuingStrategy}=require("internal/webstreams/queuingstrategies"),{TextEncoderStream,TextDecoderStream}=require("internal/webstreams/encoding"),{CompressionStream,DecompressionStream}=require("internal/webstreams/compression");module.exports={ReadableStream,ReadableStreamDefaultReader,ReadableStreamBYOBReader,ReadableStreamBYOBRequest,ReadableByteStreamController,ReadableStreamDefaultController,TransformStream,TransformStreamDefaultController,WritableStream,WritableStreamDefaultWriter,WritableStreamDefaultController,ByteLengthQueuingStrategy,CountQueuingStrategy,TextEncoderStream,TextDecoderStream,CompressionStream,DecompressionStream};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{FunctionPrototypeBind,Promise,PromiseReject,SafePromisePrototypeFinally}=primordials,{Timeout,Immediate,insert}=require("internal/timers"),{AbortError,codes:{ERR_INVALID_ARG_TYPE}}=require("internal/errors"),{validateAbortSignal,validateBoolean,validateObject}=require("internal/validators");function cancelListenerHandler(s,i){this._destroyed||(s(this),i(new AbortError))}function setTimeout(s,i,e={}){const o=i!==void 0?[i]:i;if(e==null||typeof e!="object")return PromiseReject(new ERR_INVALID_ARG_TYPE("options","Object",e));const{signal:t,ref:a=!0}=e;try{validateAbortSignal(t,"options.signal")}catch(r){return PromiseReject(r)}if(typeof a!="boolean")return PromiseReject(new ERR_INVALID_ARG_TYPE("options.ref","boolean",a));if(t&&t.aborted)return PromiseReject(new AbortError);let n;const l=new Promise((r,c)=>{const d=new Timeout(r,s,o,!1,a);insert(d,d._idleTimeout),t&&(n=FunctionPrototypeBind(cancelListenerHandler,d,clearTimeout,c),t.addEventListener("abort",n))});return n!==void 0?SafePromisePrototypeFinally(l,()=>t.removeEventListener("abort",n)):l}function setImmediate(s,i={}){if(i==null||typeof i!="object")return PromiseReject(new ERR_INVALID_ARG_TYPE("options","Object",i));const{signal:e,ref:o=!0}=i;try{validateAbortSignal(e,"options.signal")}catch(n){return PromiseReject(n)}if(typeof o!="boolean")return PromiseReject(new ERR_INVALID_ARG_TYPE("options.ref","boolean",o));if(e&&e.aborted)return PromiseReject(new AbortError);let t;const a=new Promise((n,l)=>{const r=new Immediate(n,[s]);o||r.unref(),e&&(t=FunctionPrototypeBind(cancelListenerHandler,r,clearImmediate,l),e.addEventListener("abort",t))});return t!==void 0?SafePromisePrototypeFinally(a,()=>e.removeEventListener("abort",t)):a}async function*setInterval(s,i,e={}){validateObject(e,"options");const{signal:o,ref:t=!0}=e;if(validateAbortSignal(o,"options.signal"),validateBoolean(t,"options.ref"),o?.aborted)throw new AbortError;let a,n;try{let l=0,r;for(n=new Timeout(()=>{l++,r&&(r(),r=void 0)},s,void 0,!0,t),insert(n,n._idleTimeout),o&&(a=()=>{clearInterval(n),r&&(r(PromiseReject(new AbortError)),r=void 0)},o.addEventListener("abort",a,{once:!0}));!o?.aborted;)for(l===0&&await new Promise(c=>r=c);l>0;l--)yield i;throw new AbortError}finally{clearInterval(n),o?.removeEventListener("abort",a)}}module.exports={setTimeout,setImmediate,setInterval};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";module.exports=require("internal/util/types");
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{prepareMainThreadExecution}=require("internal/bootstrap/pre_execution");prepareMainThreadExecution(),markBootstrapComplete();
},
function (process, getLinkedBinding, getInternalBinding, primordials) { 
  "use strict";const{ArrayPrototypeMap,ArrayPrototypePush,ArrayPrototypeSlice,Error,ObjectCreate,ObjectDefineProperty,ObjectKeys,ObjectPrototypeHasOwnProperty,ReflectGet,SafeMap,SafeSet,String,StringPrototypeStartsWith,TypeError}=primordials,moduleLoadList=[];ObjectDefineProperty(process,"moduleLoadList",{value:moduleLoadList,configurable:!0,enumerable:!0,writable:!1});const internalBindingAllowlist=new SafeSet(["async_wrap","buffer","cares_wrap","config","constants","contextify","crypto","fs","fs_event_wrap","http_parser","icu","inspector","js_stream","natives","os","pipe_wrap","process_wrap","signal_wrap","spawn_sync","stream_wrap","tcp_wrap","tls_wrap","tty_wrap","udp_wrap","url","util","uv","v8","zlib"]),runtimeDeprecatedList=new SafeSet(["async_wrap","crypto","http_parser","signal_wrap","url","v8"]),legacyWrapperList=new SafeSet(["util"]);{const n=ObjectCreate(null);process.binding=function(t){if(t=String(t),internalBindingAllowlist.has(t))return runtimeDeprecatedList.has(t)&&(runtimeDeprecatedList.delete(t),process.emitWarning(`Access to process.binding('${t}') is deprecated.`,"DeprecationWarning","DEP0111")),legacyWrapperList.has(t)?nativeModuleRequire("internal/legacy/processbinding")[t]():internalBinding(t);throw new Error(`No such module: ${t}`)},process._linkedBinding=function(t){t=String(t);let r=n[t];return typeof r!="object"&&(r=n[t]=getLinkedBinding(t)),r}}let internalBinding;{const n=ObjectCreate(null);internalBinding=function(t){let r=n[t];return typeof r!="object"&&(r=n[t]=getInternalBinding(t),ArrayPrototypePush(moduleLoadList,`Internal Binding ${t}`)),r}}const loaderId="internal/bootstrap/loaders",{moduleIds,compileFunction}=internalBinding("native_module"),getOwn=(n,e,t)=>ObjectPrototypeHasOwnProperty(n,e)?ReflectGet(n,e,t):void 0;class NativeModule{static map=new SafeMap(ArrayPrototypeMap(moduleIds,e=>[e,new NativeModule(e)]));constructor(e){this.filename=`${e}.js`,this.id=e,this.canBeRequiredByUsers=!StringPrototypeStartsWith(e,"internal/"),this.exports={},this.loaded=!1,this.loading=!1,this.module=void 0,this.exportKeys=void 0}static exposeInternals(){for(const{0:e,1:t}of NativeModule.map)e!==loaderId&&(t.canBeRequiredByUsers=!0)}static exists(e){return NativeModule.map.has(e)}static canBeRequiredByUsers(e){const t=NativeModule.map.get(e);return t&&t.canBeRequiredByUsers}compileForPublicLoader(){if(!this.canBeRequiredByUsers)throw new Error(`Should not compile ${this.id} for public use`);if(this.compileForInternalLoader(),!this.exportKeys){const e=StringPrototypeStartsWith(this.id,"internal/");this.exportKeys=e?[]:ObjectKeys(this.exports)}return this.getESMFacade(),this.syncExports(),this.exports}getESMFacade(){if(this.module)return this.module;const{ModuleWrap:e}=internalBinding("module_wrap"),t=`node:${this.id}`,r=this,s=ArrayPrototypeSlice(this.exportKeys);return ArrayPrototypePush(s,"default"),this.module=new e(t,void 0,s,function(){r.syncExports(),this.setExport("default",r.exports)}),this.module.instantiate(),this.module.evaluate(-1,!1),this.module}syncExports(){const e=this.exportKeys;if(this.module)for(let t=0;t<e.length;t++){const r=e[t];r!=="default"&&this.module.setExport(r,getOwn(this.exports,r,this.exports))}}compileForInternalLoader(){if(this.loaded||this.loading)return this.exports;const e=this.id;this.loading=!0;try{const t=StringPrototypeStartsWith(this.id,"internal/deps/")?requireWithFallbackInDeps:nativeModuleRequire;compileFunction(e)(this.exports,t,this,process,internalBinding,primordials),this.loaded=!0}finally{this.loading=!1}return ArrayPrototypePush(moduleLoadList,`NativeModule ${e}`),this.exports}}const loaderExports={internalBinding,NativeModule,require:nativeModuleRequire};function nativeModuleRequire(n){if(n===loaderId)return loaderExports;const e=NativeModule.map.get(n);if(!e)throw new TypeError(`Missing internal module '${n}'`);return e.compileForInternalLoader()}function requireWithFallbackInDeps(n){return NativeModule.map.has(n)||(n=`internal/deps/${n}`),nativeModuleRequire(n)}return loaderExports;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";setupPrepareStackTrace();const{FunctionPrototypeCall,JSONParse,ObjectDefineProperty,ObjectDefineProperties,ObjectGetPrototypeOf,ObjectPreventExtensions,ObjectSetPrototypeOf,ReflectGet,ReflectSet,SymbolToStringTag,globalThis}=primordials,config=internalBinding("config"),{deprecate,lazyDOMExceptionClass}=require("internal/util");setupProcessObject(),setupGlobalProxy(),setupBuffer(),process.domain=null,process._exiting=!1;const nativeModule=internalBinding("native_module"),deprecationHandler={warned:!1,message:"Setting process.config is deprecated. In the future the property will be read-only.",code:"DEP0150",maybeWarn(){this.warned||(process.emitWarning(this.message,{type:"DeprecationWarning",code:this.code}),this.warned=!0)},defineProperty(e,r,t){return this.maybeWarn(),ObjectDefineProperty(e,r,t)},deleteProperty(e,r){this.maybeWarn(),delete e[r]},preventExtensions(e){return this.maybeWarn(),ObjectPreventExtensions(e)},set(e,r,t){return this.maybeWarn(),ReflectSet(e,r,t)},get(e,r,t){const n=ReflectGet(e,r,t);return n!=null&&typeof n=="object"?new Proxy(n,deprecationHandler):n},setPrototypeOf(e,r){return this.maybeWarn(),ObjectSetPrototypeOf(e,r)}};let processConfig=new Proxy(JSONParse(nativeModule.config),deprecationHandler);ObjectDefineProperty(process,"config",{enumerable:!0,configurable:!0,get(){return processConfig},set(e){deprecationHandler.maybeWarn(),processConfig=e}}),require("internal/worker/js_transferable").setup();const perThreadSetup=require("internal/process/per_thread"),rawMethods=internalBinding("process_methods");{process.dlopen=rawMethods.dlopen,process.uptime=rawMethods.uptime,process._getActiveRequests=rawMethods._getActiveRequests,process._getActiveHandles=rawMethods._getActiveHandles,process.reallyExit=rawMethods.reallyExit,process._kill=rawMethods._kill;const e=perThreadSetup.wrapProcessMethods(rawMethods);process._rawDebug=e._rawDebug,process.cpuUsage=e.cpuUsage,process.resourceUsage=e.resourceUsage,process.memoryUsage=e.memoryUsage,process.kill=e.kill,process.exit=e.exit,process.openStdin=function(){return process.stdin.resume(),process.stdin}}const credentials=internalBinding("credentials");credentials.implementsPosixCredentials&&(process.getuid=credentials.getuid,process.geteuid=credentials.geteuid,process.getgid=credentials.getgid,process.getegid=credentials.getegid,process.getgroups=credentials.getgroups);const{nativeHooks}=require("internal/async_hooks");internalBinding("async_wrap").setupHooks(nativeHooks);const{setupTaskQueue,queueMicrotask}=require("internal/process/task_queues");if(!config.noBrowserGlobals){exposeNamespace(globalThis,"console",createGlobalConsole(globalThis.console));const{URL:e,URLSearchParams:r}=require("internal/url");exposeInterface(globalThis,"URL",e),exposeInterface(globalThis,"URLSearchParams",r),exposeGetterAndSetter(globalThis,"DOMException",lazyDOMExceptionClass,d=>{exposeInterface(globalThis,"DOMException",d)});const{TextEncoder:t,TextDecoder:n}=require("internal/encoding");exposeInterface(globalThis,"TextEncoder",t),exposeInterface(globalThis,"TextDecoder",n);const{AbortController:a,AbortSignal:o}=require("internal/abort_controller");exposeInterface(globalThis,"AbortController",a),exposeInterface(globalThis,"AbortSignal",o);const{EventTarget:i,Event:l}=require("internal/event_target");exposeInterface(globalThis,"EventTarget",i),exposeInterface(globalThis,"Event",l);const{MessageChannel:c,MessagePort:u,MessageEvent:p}=require("internal/worker/io");exposeInterface(globalThis,"MessageChannel",c),exposeInterface(globalThis,"MessagePort",u),exposeInterface(globalThis,"MessageEvent",p);const s=require("timers");defineOperation(globalThis,"clearInterval",s.clearInterval),defineOperation(globalThis,"clearTimeout",s.clearTimeout),defineOperation(globalThis,"setInterval",s.setInterval),defineOperation(globalThis,"setTimeout",s.setTimeout),defineOperation(globalThis,"queueMicrotask",queueMicrotask),defineReplacableAttribute(globalThis,"performance",require("perf_hooks").performance),defineOperation(globalThis,"clearImmediate",s.clearImmediate),defineOperation(globalThis,"setImmediate",s.setImmediate);const{structuredClone:g}=require("internal/structured_clone");defineOperation(globalThis,"structuredClone",g)}const{setTraceCategoryStateUpdateHandler}=internalBinding("trace_events");setTraceCategoryStateUpdateHandler(perThreadSetup.toggleTraceCategoryState),ObjectDefineProperty(process,"allowedNodeEnvironmentFlags",{get(){const e=perThreadSetup.buildAllowedFlags();return process.allowedNodeEnvironmentFlags=e,process.allowedNodeEnvironmentFlags},set(e){ObjectDefineProperty(this,"allowedNodeEnvironmentFlags",{value:e,configurable:!0,enumerable:!0,writable:!0})},enumerable:!0,configurable:!0}),process.assert=deprecate(perThreadSetup.assert,"process.assert() is deprecated. Please use the `assert` module instead.","DEP0100");const{isDebugBuild,hasOpenSSL,hasInspector}=config,features={inspector:hasInspector,debug:isDebugBuild,uv:!0,ipv6:!0,tls_alpn:hasOpenSSL,tls_sni:hasOpenSSL,tls_ocsp:hasOpenSSL,tls:hasOpenSSL,get cached_builtins(){return nativeModule.hasCachedBuiltins()}};ObjectDefineProperty(process,"features",{enumerable:!0,writable:!1,configurable:!1,value:features});{const{onGlobalUncaughtException:e,setUncaughtExceptionCaptureCallback:r,hasUncaughtExceptionCaptureCallback:t}=require("internal/process/execution");process._fatalException=e,process.setUncaughtExceptionCaptureCallback=r,process.hasUncaughtExceptionCaptureCallback=t}const{emitWarning}=require("internal/process/warning");process.emitWarning=emitWarning;{const{nextTick:e,runNextTicks:r}=setupTaskQueue();process.nextTick=e,process._tickCallback=r;const{getTimerCallbacks:t}=require("internal/timers"),{setupTimers:n}=internalBinding("timers"),{processImmediate:a,processTimers:o}=t(r);n(a,o)}require("fs"),require("v8"),require("vm"),require("url");function setupPrepareStackTrace(){const{setEnhanceStackForFatalException:e,setPrepareStackTraceCallback:r}=internalBinding("errors"),{prepareStackTrace:t,fatalExceptionStackEnhancers:{beforeInspector:n,afterInspector:a}}=require("internal/errors");r(t),e(n,a)}function setupProcessObject(){const e=require("events"),r=ObjectGetPrototypeOf(process);ObjectSetPrototypeOf(r,e.prototype),FunctionPrototypeCall(e,process),ObjectDefineProperty(process,SymbolToStringTag,{enumerable:!1,writable:!0,configurable:!1,value:"process"}),ObjectDefineProperty(globalThis,"process",{value:process,enumerable:!1,writable:!0,configurable:!0})}function setupGlobalProxy(){ObjectDefineProperty(globalThis,SymbolToStringTag,{value:"global",writable:!1,enumerable:!1,configurable:!0})}function setupBuffer(){const{Buffer:e,atob:r,btoa:t}=require("buffer"),n=internalBinding("buffer");n.setBufferPrototype(e.prototype),delete n.setBufferPrototype,delete n.zeroFill,ObjectDefineProperties(globalThis,{Buffer:{value:e,enumerable:!1,writable:!0,configurable:!0},atob:{value:r,enumerable:!1,writable:!0,configurable:!0},btoa:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function createGlobalConsole(e){const r=require("internal/console/global");if(config.hasInspector){const t=require("internal/util/inspector");t.consoleFromVM=e,t.wrapConsole(r,e);const{setConsoleExtensionInstaller:n}=internalBinding("inspector");n(t.installConsoleExtensions)}return r}function exposeNamespace(e,r,t){ObjectDefineProperty(e,r,{writable:!0,enumerable:!1,configurable:!0,value:t})}function exposeInterface(e,r,t){ObjectDefineProperty(e,r,{writable:!0,enumerable:!1,configurable:!0,value:t})}function exposeGetterAndSetter(e,r,t,n=void 0){ObjectDefineProperty(e,r,{enumerable:!1,configurable:!0,get:t,set:n})}function defineOperation(e,r,t){ObjectDefineProperty(e,r,{writable:!0,enumerable:!0,configurable:!0,value:t})}function defineReplacableAttribute(e,r,t){ObjectDefineProperty(e,r,{writable:!0,enumerable:!0,configurable:!0,value:t})}
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{NumberParseInt,ObjectDefineProperty,SafeMap,SafeWeakMap,StringPrototypeStartsWith,globalThis}=primordials,{getOptionValue,noGlobalSearchPaths,shouldNotRegisterESMLoader}=require("internal/options"),{reconnectZeroFillToggle}=require("internal/buffer"),{Buffer}=require("buffer"),{ERR_MANIFEST_ASSERT_INTEGRITY}=require("internal/errors").codes,assert=require("internal/assert");function prepareMainThreadExecution(e=!1){reconnectZeroFillToggle(),patchProcessObject(e),setupTraceCategoryState(),setupPerfHooks(),setupInspectorHooks(),setupWarningHandler(),process.env.NODE_V8_COVERAGE&&(process.env.NODE_V8_COVERAGE=setupCoverageHooks(process.env.NODE_V8_COVERAGE)),setupDebugEnv(),setupStacktracePrinterOnSigint(),initializeReport(),initializeReportSignalHandlers(),initializeHeapSnapshotSignalHandlers(),setupChildProcessIpcChannel(),initializePolicy(),initializeClusterIPC(),initializeSourceMapsHandlers(),initializeDeprecations(),initializeWASI(),initializeCJSLoader(),initializeESMLoader();const r=require("internal/modules/cjs/loader");assert(!r.hasLoadedAnyUserCJSModule),loadPreloadModules(),initializeFrozenIntrinsics()}function patchProcessObject(e){const r=internalBinding("process_methods");r.patchProcessObject(process);const{hrtime:i,hrtimeBigInt:n}=require("internal/process/per_thread").getFastAPIs(r);if(process.hrtime=i,process.hrtime.bigint=n,ObjectDefineProperty(process,"argv0",{enumerable:!0,configurable:!1,value:process.argv[0]}),process.argv[0]=process.execPath,e&&process.argv[1]&&!StringPrototypeStartsWith(process.argv[1],"-")){const s=require("path");try{process.argv[1]=s.resolve(process.argv[1])}catch{}}addReadOnlyProcessAlias("_eval","--eval"),addReadOnlyProcessAlias("_print_eval","--print"),addReadOnlyProcessAlias("_syntax_check_only","--check"),addReadOnlyProcessAlias("_forceRepl","--interactive"),addReadOnlyProcessAlias("_preload_modules","--require"),addReadOnlyProcessAlias("noDeprecation","--no-deprecation"),addReadOnlyProcessAlias("noProcessWarnings","--no-warnings"),addReadOnlyProcessAlias("traceProcessWarnings","--trace-warnings"),addReadOnlyProcessAlias("throwDeprecation","--throw-deprecation"),addReadOnlyProcessAlias("profProcess","--prof-process"),addReadOnlyProcessAlias("traceDeprecation","--trace-deprecation"),addReadOnlyProcessAlias("_breakFirstLine","--inspect-brk",!1),addReadOnlyProcessAlias("_breakNodeFirstLine","--inspect-brk-node",!1)}function addReadOnlyProcessAlias(e,r,i=!0){const n=getOptionValue(r);n&&ObjectDefineProperty(process,e,{writable:!1,configurable:!0,enumerable:i,value:n})}function setupWarningHandler(){const{onWarning:e}=require("internal/process/warning");getOptionValue("--warnings")&&process.env.NODE_NO_WARNINGS!=="1"&&process.on("warning",e)}function setupCoverageHooks(e){const r=require("internal/process/execution").tryGetCwd(),{resolve:i}=require("path"),n=i(r,e),{sourceMapCacheToObject:s}=require("internal/source_map/source_map_cache");if(process.features.inspector)internalBinding("profiler").setCoverageDirectory(n),internalBinding("profiler").setSourceMapCacheGetter(s);else return process.emitWarning("The inspector is disabled, coverage could not be collected","Warning"),"";return n}function setupStacktracePrinterOnSigint(){if(!getOptionValue("--trace-sigint"))return;const{SigintWatchdog:e}=require("internal/watchdog");new e().start()}function initializeReport(){const{report:e}=require("internal/process/report");ObjectDefineProperty(process,"report",{enumerable:!1,configurable:!0,get(){return e}})}function setupDebugEnv(){require("internal/util/debuglog").initializeDebugEnv(process.env.NODE_DEBUG),getOptionValue("--expose-internals")&&require("internal/bootstrap/loaders").NativeModule.exposeInternals()}function initializeReportSignalHandlers(){const{addSignalHandler:e}=require("internal/process/report");e()}function initializeHeapSnapshotSignalHandlers(){const e=getOptionValue("--heapsnapshot-signal");if(!e)return;require("internal/validators").validateSignalName(e);const{writeHeapSnapshot:r}=require("v8");process.on(e,()=>{r()})}function setupTraceCategoryState(){const{isTraceCategoryEnabled:e}=internalBinding("trace_events"),{toggleTraceCategoryState:r}=require("internal/process/per_thread");r(e("node.async_hooks"))}function setupPerfHooks(){require("internal/perf/performance").refreshTimeOrigin(),require("internal/perf/utils").refreshTimeOrigin()}function setupInspectorHooks(){if(internalBinding("config").hasInspector){const{enable:e,disable:r}=require("internal/inspector_async_hook");internalBinding("inspector").registerAsyncHook(e,r)}}function initializeDeprecations(){const{deprecate:e}=require("internal/util"),r=getOptionValue("--pending-deprecation"),i=internalBinding("util"),n=require("internal/util/types");for(const t of["isArrayBuffer","isArrayBufferView","isAsyncFunction","isDataView","isDate","isExternal","isMap","isMapIterator","isNativeError","isPromise","isRegExp","isSet","isSetIterator","isTypedArray","isUint8Array","isAnyArrayBuffer"])i[t]=r?e(n[t],`Accessing native typechecking bindings of Node directly is deprecated. Please use \`util.types.${t}\` instead.`,"DEP0103"):n[t];const{noBrowserGlobals:s}=internalBinding("config");s&&ObjectDefineProperty(process,"_noBrowserGlobals",{writable:!1,enumerable:!0,configurable:!0,value:s}),r&&(process.binding=e(process.binding,"process.binding() is deprecated. Please use public APIs instead.","DEP0111"),process._tickCallback=e(process._tickCallback,"process._tickCallback() is deprecated","DEP0134"));let a=process;ObjectDefineProperty(globalThis,"process",{get(){return a},set(t){a=t},enumerable:!1,configurable:!0});let o=Buffer;ObjectDefineProperty(globalThis,"Buffer",{get(){return o},set(t){o=t},enumerable:!1,configurable:!0})}function setupChildProcessIpcChannel(){if(process.env.NODE_CHANNEL_FD){const e=require("internal/assert"),r=NumberParseInt(process.env.NODE_CHANNEL_FD,10);e(r>=0),delete process.env.NODE_CHANNEL_FD;const i=process.env.NODE_CHANNEL_SERIALIZATION_MODE||"json";delete process.env.NODE_CHANNEL_SERIALIZATION_MODE,require("child_process")._forkChild(r,i),e(process.send)}}function initializeClusterIPC(){process.argv[1]&&process.env.NODE_UNIQUE_ID&&(require("cluster")._setupWorker(),delete process.env.NODE_UNIQUE_ID)}function initializePolicy(){const e=getOptionValue("--experimental-policy");if(e){process.emitWarning("Policies are experimental.","ExperimentalWarning");const{pathToFileURL:r,URL:i}=require("internal/url");let n;if(require("path").isAbsolute(e))n=new i(`file://${e}`);else{const t=r(process.cwd());t.pathname+="/",n=new i(e,t)}const a=require("fs").readFileSync(n,"utf8"),o=getOptionValue("--policy-integrity");if(o){const t=require("internal/policy/sri"),{createHash:h,timingSafeEqual:m}=require("crypto"),u=new SafeMap,p=t.parse(o);let d=!1;for(let c=0;c<p.length;c++){const{algorithm:f,value:g}=p[c],_=h(f);_.update(a);const l=_.digest();if(l.length===g.length&&m(l,g)){d=!0;break}u.set(f,l.toString("base64"))}if(!d)throw new ERR_MANIFEST_ASSERT_INTEGRITY(n,u)}require("internal/process/policy").setup(a,n.href)}}function initializeWASI(){const{NativeModule:e}=require("internal/bootstrap/loaders"),r=e.map.get("wasi");r.canBeRequiredByUsers=getOptionValue("--experimental-wasi-unstable-preview1")}function initializeCJSLoader(){const e=require("internal/modules/cjs/loader");noGlobalSearchPaths||e.Module._initPaths(),e.Module.runMain=require("internal/modules/run_main").executeUserEntryPoint}function initializeESMLoader(){if(internalBinding("module_wrap").callbackMap=new SafeWeakMap,shouldNotRegisterESMLoader)return;const{setImportModuleDynamicallyCallback:e,setInitializeImportMetaObjectCallback:r}=internalBinding("module_wrap"),i=require("internal/process/esm_loader");if(r(i.initializeImportMetaObject),e(i.importModuleDynamicallyCallback),getOptionValue("--experimental-vm-modules")){const{Module:n,SourceTextModule:s,SyntheticModule:a}=require("internal/vm/module"),o=require("vm");o.Module=n,o.SourceTextModule=s,o.SyntheticModule=a}}function initializeSourceMapsHandlers(){const{setSourceMapsEnabled:e}=require("internal/source_map/source_map_cache");process.setSourceMapsEnabled=e}function initializeFrozenIntrinsics(){getOptionValue("--frozen-intrinsics")&&(process.emitWarning("The --frozen-intrinsics flag is experimental","ExperimentalWarning"),require("internal/freeze_intrinsics")())}function loadPreloadModules(){const e=getOptionValue("--require");if(e&&e.length>0){const{Module:{_preloadModules:r}}=require("internal/modules/cjs/loader");r(e)}}module.exports={patchProcessObject,setupCoverageHooks,setupWarningHandler,setupDebugEnv,setupPerfHooks,prepareMainThreadExecution,initializeDeprecations,initializeESMLoader,initializeFrozenIntrinsics,initializeSourceMapsHandlers,loadPreloadModules,setupTraceCategoryState,setupInspectorHooks,initializeReport,initializeCJSLoader,initializeWASI};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{JSONParse,JSONStringify,StringPrototypeSplit,Symbol,TypedArrayPrototypeSubarray}=primordials,{Buffer}=require("buffer"),{StringDecoder}=require("string_decoder"),v8=require("v8"),{isArrayBufferView}=require("internal/util/types"),assert=require("internal/assert"),{streamBaseState,kLastWriteWasAsync}=internalBinding("stream_wrap"),kMessageBuffer=Symbol("kMessageBuffer"),kJSONBuffer=Symbol("kJSONBuffer"),kStringDecoder=Symbol("kStringDecoder"),kArrayBufferViewTag=0,kNotArrayBufferViewTag=1;class ChildProcessSerializer extends v8.DefaultSerializer{_writeHostObject(t){if(isArrayBufferView(t))return this.writeUint32(kArrayBufferViewTag),super._writeHostObject(t);this.writeUint32(kNotArrayBufferViewTag),this.writeValue({...t})}}class ChildProcessDeserializer extends v8.DefaultDeserializer{_readHostObject(){const t=this.readUint32();return t===kArrayBufferViewTag?super._readHostObject():(assert(t===kNotArrayBufferViewTag),this.readValue())}}const advanced={initMessageChannel(e){e[kMessageBuffer]=Buffer.alloc(0),e.buffering=!1},*parseChannelMessages(e,t){if(t.length===0)return;let r=Buffer.concat([e[kMessageBuffer],t]);for(;r.length>4;){const s=r.readUInt32BE();if(r.length<4+s)break;const i=new ChildProcessDeserializer(TypedArrayPrototypeSubarray(r,4,4+s));r=TypedArrayPrototypeSubarray(r,4+s),i.readHeader(),yield i.readValue()}e[kMessageBuffer]=r,e.buffering=r.length>0},writeChannelMessage(e,t,r,s){const i=new ChildProcessSerializer;i.writeHeader(),i.writeValue(r);const n=i.releaseBuffer(),a=Buffer.allocUnsafe(4);a.writeUInt32BE(n.length);const f=Buffer.concat([a,n]),o=e.writeBuffer(t,f,s);return streamBaseState[kLastWriteWasAsync]&&(t.buffer=f),o}},json={initMessageChannel(e){e[kJSONBuffer]="",e[kStringDecoder]=void 0},*parseChannelMessages(e,t){if(t.length===0)return;e[kStringDecoder]===void 0&&(e[kStringDecoder]=new StringDecoder("utf8"));const r=StringPrototypeSplit(e[kStringDecoder].write(t),`
`),s=r.length-1,i=r[s];if(s===0)e[kJSONBuffer]+=i;else{r[0]=e[kJSONBuffer]+r[0];for(let n=0;n<s;n++)yield JSONParse(r[n]);e[kJSONBuffer]=i}e.buffering=e[kJSONBuffer].length!==0},writeChannelMessage(e,t,r,s){const i=JSONStringify(r)+`
`;return e.writeUtf8String(t,i,s)}};module.exports={advanced,json};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeJoin,FunctionPrototype,ObjectAssign,ReflectApply,SafeMap,SafeSet}=primordials,assert=require("internal/assert"),path=require("path"),EventEmitter=require("events"),{owner_symbol}=require("internal/async_hooks").symbols,Worker=require("internal/cluster/worker"),{internal,sendHelper}=require("internal/cluster/utils"),cluster=new EventEmitter,handles=new SafeMap,indexes=new SafeMap,noop=FunctionPrototype;module.exports=cluster,cluster.isWorker=!0,cluster.isMaster=!1,cluster.isPrimary=!1,cluster.worker=null,cluster.Worker=Worker,cluster._setupWorker=function(){const e=new Worker({id:+process.env.NODE_UNIQUE_ID|0,process,state:"online"});cluster.worker=e,process.once("disconnect",()=>{e.emit("disconnect"),e.exitedAfterDisconnect||process.exit(0)}),process.on("internalMessage",internal(e,t)),send({act:"online"});function t(n,s){n.act==="newconn"?onconnection(n,s):n.act==="disconnect"&&ReflectApply(_disconnect,e,[!0])}},cluster._getServer=function(e,t,n){let s=t.address;t.port<0&&typeof s=="string"&&process.platform!=="win32"&&(s=path.resolve(s));const r=ArrayPrototypeJoin([s,t.port,t.addressType,t.fd],":");let c=indexes.get(r);c===void 0&&(c={nextIndex:0,set:new SafeSet},indexes.set(r,c));const i=c.nextIndex++;c.set.add(i);const a={act:"queryServer",index:i,data:null,...t};a.address=s,e._getServerData&&(a.data=e._getServerData()),send(a,(o,f)=>{typeof e._setServerData=="function"&&e._setServerData(o.data),f?shared(o,{handle:f,indexesKey:r,index:i},n):rr(o,{indexesKey:r,index:i},n)}),e.once("listening",()=>{cluster.worker.state="listening";const o=e.address();a.act="listening",a.port=o&&o.port||t.port,send(a)})};function removeIndexesKey(e,t){const n=indexes.get(e);!n||(n.set.delete(t),n.set.size===0&&indexes.delete(e))}function shared(e,{handle:t,indexesKey:n,index:s},r){const c=e.key,i=t.close;t.close=function(){return send({act:"close",key:c}),handles.delete(c),removeIndexesKey(n,s),ReflectApply(i,t,arguments)},assert(handles.has(c)===!1),handles.set(c,t),r(e.errno,t)}function rr(e,{indexesKey:t,index:n},s){if(e.errno)return s(e.errno,null);let r=e.key;function c(f){return 0}function i(){r!==void 0&&(send({act:"close",key:r}),handles.delete(r),removeIndexesKey(t,n),r=void 0)}function a(f){return r&&ObjectAssign(f,e.sockname),0}const o={close:i,listen:c,ref:noop,unref:noop};e.sockname&&(o.getsockname=a),assert(handles.has(r)===!1),handles.set(r,o),s(0,o)}function onconnection(e,t){const n=e.key,s=handles.get(n),r=s!==void 0;send({ack:e.seq,accepted:r}),r&&s.onconnection(0,t)}function send(e,t){return sendHelper(process,e,null,t)}function _disconnect(e){this.exitedAfterDisconnect=!0;let t=1;function n(){t--,t===0&&(e?process.disconnect():send({act:"exitedAfterDisconnect"},()=>process.disconnect()))}handles.forEach(s=>{t++,s[owner_symbol]?s[owner_symbol].close(n):s.close(n)}),handles.clear(),n()}Worker.prototype.disconnect=function(){return this.state!=="disconnecting"&&this.state!=="destroying"&&(this.state="disconnecting",ReflectApply(_disconnect,this,[])),this},Worker.prototype.destroy=function(){this.state!=="destroying"&&(this.exitedAfterDisconnect=!0,this.isConnected()?(this.state="destroying",send({act:"exitedAfterDisconnect"},()=>process.disconnect()),process.once("disconnect",()=>process.exit(0))):process.exit(0))};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypePush,ArrayPrototypeSlice,ArrayPrototypeSome,ObjectKeys,ObjectValues,RegExpPrototypeTest,SafeMap,StringPrototypeStartsWith}=primordials,assert=require("internal/assert"),{fork}=require("child_process"),path=require("path"),EventEmitter=require("events"),RoundRobinHandle=require("internal/cluster/round_robin_handle"),SharedHandle=require("internal/cluster/shared_handle"),Worker=require("internal/cluster/worker"),{internal,sendHelper}=require("internal/cluster/utils"),cluster=new EventEmitter,intercom=new EventEmitter,SCHED_NONE=1,SCHED_RR=2,minPort=1024,maxPort=65535,{validatePort}=require("internal/validators");module.exports=cluster;const handles=new SafeMap;cluster.isWorker=!1,cluster.isMaster=!0,cluster.isPrimary=!0,cluster.Worker=Worker,cluster.workers={},cluster.settings={},cluster.SCHED_NONE=SCHED_NONE,cluster.SCHED_RR=SCHED_RR;let ids=0,debugPortOffset=1,initialized=!1,schedulingPolicy=process.env.NODE_CLUSTER_SCHED_POLICY;schedulingPolicy==="rr"?schedulingPolicy=SCHED_RR:schedulingPolicy==="none"||process.platform==="win32"?schedulingPolicy=SCHED_NONE:schedulingPolicy=SCHED_RR,cluster.schedulingPolicy=schedulingPolicy,cluster.setupPrimary=function(n){const t={args:ArrayPrototypeSlice(process.argv,2),exec:process.argv[1],execArgv:process.execArgv,silent:!1,...cluster.settings,...n};if(ArrayPrototypeSome(t.execArgv,s=>StringPrototypeStartsWith(s,"--prof"))&&!ArrayPrototypeSome(t.execArgv,s=>StringPrototypeStartsWith(s,"--logfile="))&&(t.execArgv=[...t.execArgv,"--logfile=v8-%p.log"]),cluster.settings=t,initialized===!0)return process.nextTick(setupSettingsNT,t);initialized=!0,schedulingPolicy=cluster.schedulingPolicy,assert(schedulingPolicy===SCHED_NONE||schedulingPolicy===SCHED_RR,`Bad cluster.schedulingPolicy: ${schedulingPolicy}`),process.nextTick(setupSettingsNT,t),process.on("internalMessage",s=>{if(s.cmd==="NODE_DEBUG_ENABLED")for(const e of ObjectValues(cluster.workers))e.state==="online"||e.state==="listening"?process._debugProcess(e.process.pid):e.once("online",function(){process._debugProcess(this.process.pid)})})},cluster.setupMaster=cluster.setupPrimary;function setupSettingsNT(n){cluster.emit("setup",n)}function createWorkerProcess(n,t){const s={...process.env,...t,NODE_UNIQUE_ID:`${n}`},e=[...cluster.settings.execArgv],i=/--inspect(?:-brk|-port)?|--debug-port/,o=process.env.NODE_OPTIONS||"";if(ArrayPrototypeSome(e,r=>RegExpPrototypeTest(i,r))||RegExpPrototypeTest(i,o)){let r;"inspectPort"in cluster.settings?(typeof cluster.settings.inspectPort=="function"?r=cluster.settings.inspectPort():r=cluster.settings.inspectPort,validatePort(r)):(r=process.debugPort+debugPortOffset,r>maxPort&&(r=r-maxPort+minPort-1),debugPortOffset++),ArrayPrototypePush(e,`--inspect-port=${r}`)}return fork(cluster.settings.exec,cluster.settings.args,{cwd:cluster.settings.cwd,env:s,serialization:cluster.settings.serialization,silent:cluster.settings.silent,windowsHide:cluster.settings.windowsHide,execArgv:e,stdio:cluster.settings.stdio,gid:cluster.settings.gid,uid:cluster.settings.uid})}function removeWorker(n){assert(n),delete cluster.workers[n.id],ObjectKeys(cluster.workers).length===0&&(assert(handles.size===0,"Resource leak detected."),intercom.emit("disconnect"))}function removeHandlesForWorker(n){assert(n),handles.forEach((t,s)=>{t.remove(n)&&handles.delete(s)})}cluster.fork=function(n){cluster.setupPrimary();const t=++ids,s=createWorkerProcess(t,n),e=new Worker({id:t,process:s});return e.on("message",function(i,o){cluster.emit("message",this,i,o)}),e.process.once("exit",(i,o)=>{e.isConnected()||(removeHandlesForWorker(e),removeWorker(e)),e.exitedAfterDisconnect=!!e.exitedAfterDisconnect,e.state="dead",e.emit("exit",i,o),cluster.emit("exit",e,i,o)}),e.process.once("disconnect",()=>{removeHandlesForWorker(e),e.isDead()&&removeWorker(e),e.exitedAfterDisconnect=!!e.exitedAfterDisconnect,e.state="disconnected",e.emit("disconnect"),cluster.emit("disconnect",e)}),e.process.on("internalMessage",internal(e,onmessage)),process.nextTick(emitForkNT,e),cluster.workers[e.id]=e,e};function emitForkNT(n){cluster.emit("fork",n)}cluster.disconnect=function(n){if(ObjectKeys(cluster.workers).length===0)process.nextTick(()=>intercom.emit("disconnect"));else for(const s of ObjectValues(cluster.workers))s.isConnected()&&s.disconnect();typeof n=="function"&&intercom.once("disconnect",n)};const methodMessageMapping={close,exitedAfterDisconnect,listening,online,queryServer};function onmessage(n,t){const s=this,e=methodMessageMapping[n.act];typeof e=="function"&&e(s,n)}function online(n){n.state="online",n.emit("online"),cluster.emit("online",n)}function exitedAfterDisconnect(n,t){n.exitedAfterDisconnect=!0,send(n,{ack:t.seq})}function queryServer(n,t){if(n.exitedAfterDisconnect)return;const s=`${t.address}:${t.port}:${t.addressType}:${t.fd}:${t.index}`;let e=handles.get(s);if(e===void 0){let i=t.address;t.port<0&&typeof i=="string"&&process.platform!=="win32"&&(i=path.relative(process.cwd(),i),t.address.length<i.length&&(i=t.address)),schedulingPolicy!==SCHED_RR||t.addressType==="udp4"||t.addressType==="udp6"?e=new SharedHandle(s,i,t):e=new RoundRobinHandle(s,i,t),handles.set(s,e)}e.data||(e.data=t.data),e.add(n,(i,o,r)=>{const{data:c}=handles.get(s);i&&handles.delete(s),send(n,{errno:i,key:s,ack:t.seq,data:c,...o},r)})}function listening(n,t){const s={addressType:t.addressType,address:t.address,port:t.port,fd:t.fd};n.state="listening",n.emit("listening",s),cluster.emit("listening",n,s)}function close(n,t){const s=t.key,e=handles.get(s);e&&e.remove(n)&&handles.delete(s)}function send(n,t,s,e){return sendHelper(n.process,t,s,e)}Worker.prototype.disconnect=function(){return this.exitedAfterDisconnect=!0,send(this,{act:"disconnect"}),removeHandlesForWorker(this),removeWorker(this),this},Worker.prototype.destroy=function(n){const t=this.process;if(n=n||"SIGTERM",this.isConnected()){this.once("disconnect",()=>t.kill(n)),this.disconnect();return}t.kill(n)};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,ArrayPrototypePush,ArrayPrototypeShift,Boolean,SafeMap}=primordials,assert=require("internal/assert"),net=require("net"),{sendHelper}=require("internal/cluster/utils"),{constants}=internalBinding("tcp_wrap");module.exports=RoundRobinHandle;function RoundRobinHandle(e,t,{port:s,fd:n,flags:i}){this.key=e,this.all=new SafeMap,this.free=new SafeMap,this.handles=[],this.handle=null,this.server=net.createServer(assert.fail),n>=0?this.server.listen({fd:n}):s>=0?this.server.listen({port:s,host:t,ipv6Only:Boolean(i&constants.UV_TCP_IPV6ONLY)}):this.server.listen(t),this.server.once("listening",()=>{this.handle=this.server._handle,this.handle.onconnection=(l,r)=>this.distribute(l,r),this.server._handle=null,this.server=null})}RoundRobinHandle.prototype.add=function(e,t){assert(this.all.has(e.id)===!1),this.all.set(e.id,e);const s=()=>{if(this.handle.getsockname){const n={};this.handle.getsockname(n),t(null,{sockname:n},null)}else t(null,null,null);this.handoff(e)};if(this.server===null)return s();this.server.once("listening",s),this.server.once("error",n=>{t(n.errno,null)})},RoundRobinHandle.prototype.remove=function(e){if(!this.all.delete(e.id)||(this.free.delete(e.id),this.all.size!==0))return!1;for(const s of this.handles)s.close();return this.handles=[],this.handle.close(),this.handle=null,!0},RoundRobinHandle.prototype.distribute=function(e,t){ArrayPrototypePush(this.handles,t);const[s]=this.free;if(ArrayIsArray(s)){const{0:n,1:i}=s;this.free.delete(n),this.handoff(i)}},RoundRobinHandle.prototype.handoff=function(e){if(!this.all.has(e.id))return;const t=ArrayPrototypeShift(this.handles);if(t===void 0){this.free.set(e.id,e);return}const s={act:"newconn",key:this.key};sendHelper(e.process,s,t,n=>{n.accepted?t.close():this.distribute(0,t),this.handoff(e)})};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{SafeMap}=primordials,assert=require("internal/assert"),dgram=require("internal/dgram"),net=require("net");module.exports=SharedHandle;function SharedHandle(e,r,{port:n,addressType:i,fd:s,flags:l}){this.key=e,this.workers=new SafeMap,this.handle=null,this.errno=0;let t;i==="udp4"||i==="udp6"?t=dgram._createSocketHandle(r,n,i,s,l):t=net._createServerHandle(r,n,i,s,l),typeof t=="number"?this.errno=t:this.handle=t}SharedHandle.prototype.add=function(e,r){assert(!this.workers.has(e.id)),this.workers.set(e.id,e),r(this.errno,null,this.handle)},SharedHandle.prototype.remove=function(e){return!this.workers.has(e.id)||(this.workers.delete(e.id),this.workers.size!==0)?!1:(this.handle.close(),this.handle=null,!0)};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ReflectApply,SafeMap}=primordials;module.exports={sendHelper,internal};const callbacks=new SafeMap;let seq=0;function sendHelper(t,e,c,n){return t.connected?(e={cmd:"NODE_CLUSTER",...e,seq},typeof n=="function"&&callbacks.set(seq,n),seq+=1,t.send(e,c)):!1}function internal(t,e){return function(n,i){if(n.cmd!=="NODE_CLUSTER")return;let f=e;if(n.ack!==void 0){const l=callbacks.get(n.ack);l!==void 0&&(f=l,callbacks.delete(n.ack))}ReflectApply(f,t,arguments)}}
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectSetPrototypeOf,ReflectApply}=primordials,EventEmitter=require("events");module.exports=Worker;function Worker(e){if(!(this instanceof Worker))return new Worker(e);ReflectApply(EventEmitter,this,[]),(e===null||typeof e!="object")&&(e={}),this.exitedAfterDisconnect=void 0,this.state=e.state||"none",this.id=e.id|0,e.process&&(this.process=e.process,this.process.on("error",(t,s)=>this.emit("error",t,s)),this.process.on("message",(t,s)=>this.emit("message",t,s)))}ObjectSetPrototypeOf(Worker.prototype,EventEmitter.prototype),ObjectSetPrototypeOf(Worker,EventEmitter),Worker.prototype.kill=function(){ReflectApply(this.destroy,this,arguments)},Worker.prototype.send=function(){return ReflectApply(this.process.send,this.process,arguments)},Worker.prototype.isDead=function(){return this.process.exitCode!=null||this.process.signalCode!=null},Worker.prototype.isConnected=function(){return this.process.connected};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeJoin,ArrayPrototypePop,Error,ErrorCaptureStackTrace,MathMax,ObjectCreate,ObjectDefineProperty,ObjectGetPrototypeOf,ObjectKeys,String,StringPrototypeEndsWith,StringPrototypeRepeat,StringPrototypeSlice,StringPrototypeSplit}=primordials,{inspect}=require("internal/util/inspect"),{removeColors}=require("internal/util"),{validateObject}=require("internal/validators"),{isErrorStackTraceLimitWritable}=require("internal/errors");let blue="",green="",red="",white="";const kReadableOperator={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notIdentical:"Values have same structure but are not reference-equal:",notDeepEqualUnequal:"Expected values not to be loosely deep-equal:"},kMaxShortLength=12;function copyError(s){const i=ObjectKeys(s),u=ObjectCreate(ObjectGetPrototypeOf(s));for(const n of i)u[n]=s[n];return ObjectDefineProperty(u,"message",{value:s.message}),u}function inspectValue(s){return inspect(s,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,showProxy:!1,sorted:!0,getters:!0})}function createErrDiff(s,i,u){let n="",r="",o="",E=!1;const a=inspectValue(s),t=StringPrototypeSplit(a,`
`),c=StringPrototypeSplit(inspectValue(i),`
`);let e=0,l="";if(u==="strictEqual"&&(typeof s=="object"&&s!==null&&typeof i=="object"&&i!==null||typeof s=="function"&&typeof i=="function")&&(u="strictEqualObject"),t.length===1&&c.length===1&&t[0]!==c[0]){const p=inspect.defaultOptions.colors,h=p?removeColors(t[0]):t[0],b=p?removeColors(c[0]):c[0],L=h.length+b.length;if(L<=kMaxShortLength){if((typeof s!="object"||s===null)&&(typeof i!="object"||i===null)&&(s!==0||i!==0))return`${kReadableOperator[u]}

${t[0]} !== ${c[0]}
`}else if(u!=="strictEqualObject"){const j=process.stderr.isTTY?process.stderr.columns:80;if(L<j){for(;h[e]===b[e];)e++;e>2&&(l=`
  ${StringPrototypeRepeat(" ",e)}^`,e=0)}}}let d=t[t.length-1],q=c[c.length-1];for(;d===q&&(e++<3?o=`
  ${d}${o}`:n=d,ArrayPrototypePop(t),ArrayPrototypePop(c),!(t.length===0||c.length===0));)d=t[t.length-1],q=c[c.length-1];const y=MathMax(t.length,c.length);if(y===0){const p=StringPrototypeSplit(a,`
`);if(p.length>50)for(p[46]=`${blue}...${white}`;p.length>47;)ArrayPrototypePop(p);return`${kReadableOperator.notIdentical}

${ArrayPrototypeJoin(p,`
`)}
`}e>=5&&(o=`
${blue}...${white}${o}`,E=!0),n!==""&&(o=`
  ${n}${o}`,n="");let $=0,f=0;const x=kReadableOperator[u]+`
${green}+ actual${white} ${red}- expected${white}`,S=` ${blue}...${white} Lines skipped`;let g=t,m=`${green}+${white}`,k=c.length;for(t.length<y&&(g=c,m=`${red}-${white}`,k=t.length),e=0;e<y;e++){if(k<e+1)f>2&&(f>3&&(f>4&&(f===5?(r+=`
  ${g[e-3]}`,$++):(r+=`
${blue}...${white}`,E=!0)),r+=`
  ${g[e-2]}`,$++),r+=`
  ${g[e-1]}`,$++),f=0,g===t?r+=`
${m} ${g[e]}`:n+=`
${m} ${g[e]}`,$++;else{const p=c[e];let h=t[e],b=h!==p&&(!StringPrototypeEndsWith(h,",")||StringPrototypeSlice(h,0,-1)!==p);b&&StringPrototypeEndsWith(p,",")&&StringPrototypeSlice(p,0,-1)===h&&(b=!1,h+=","),b?(f>2&&(f>3&&(f>4&&(f===5?(r+=`
  ${t[e-3]}`,$++):(r+=`
${blue}...${white}`,E=!0)),r+=`
  ${t[e-2]}`,$++),r+=`
  ${t[e-1]}`,$++),f=0,r+=`
${green}+${white} ${h}`,n+=`
${red}-${white} ${p}`,$+=2):(r+=n,n="",f++,f<=2&&(r+=`
  ${h}`,$++))}if($>50&&e<y-2)return`${x}${S}
${r}
${blue}...${white}${n}
${blue}...${white}`}return`${x}${E?S:""}
${r}${n}${o}${l}`}function addEllipsis(s){const i=StringPrototypeSplit(s,`
`,11);return i.length>10?(i.length=10,`${ArrayPrototypeJoin(i,`
`)}
...`):s.length>512?`${StringPrototypeSlice(s,512)}...`:s}class AssertionError extends Error{constructor(i){validateObject(i,"options");const{message:u,operator:n,stackStartFn:r,details:o,stackStartFunction:E}=i;let{actual:a,expected:t}=i;const c=Error.stackTraceLimit;if(isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=0),u!=null)super(String(u));else if(process.stderr.isTTY&&(process.stderr.hasColors()?(blue="[34m",green="[32m",white="[39m",red="[31m"):(blue="",green="",white="",red="")),typeof a=="object"&&a!==null&&typeof t=="object"&&t!==null&&"stack"in a&&a instanceof Error&&"stack"in t&&t instanceof Error&&(a=copyError(a),t=copyError(t)),n==="deepStrictEqual"||n==="strictEqual")super(createErrDiff(a,t,n));else if(n==="notDeepStrictEqual"||n==="notStrictEqual"){let e=kReadableOperator[n];const l=StringPrototypeSplit(inspectValue(a),`
`);if(n==="notStrictEqual"&&(typeof a=="object"&&a!==null||typeof a=="function")&&(e=kReadableOperator.notStrictEqualObject),l.length>50)for(l[46]=`${blue}...${white}`;l.length>47;)ArrayPrototypePop(l);l.length===1?super(`${e}${l[0].length>5?`

`:" "}${l[0]}`):super(`${e}

${ArrayPrototypeJoin(l,`
`)}
`)}else{let e=inspectValue(a),l=inspectValue(t);const d=kReadableOperator[n];if(n==="notDeepEqual"&&e===l){e=`${d}

${e}`,e.length>1024&&(e=`${StringPrototypeSlice(e,0,1021)}...`);super(e)}else{if(e.length>512&&(e=`${StringPrototypeSlice(e,0,509)}...`),l.length>512&&(l=`${StringPrototypeSlice(l,0,509)}...`),n==="deepEqual")e=`${d}

${e}

should loosely deep-equal

`;else{const q=kReadableOperator[`${n}Unequal`];q?e=`${q}

${e}

should not loosely deep-equal

`:l=` ${n} ${l}`}super(`${e}${l}`)}}if(isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=c),this.generatedMessage=!u,ObjectDefineProperty(this,"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),this.code="ERR_ASSERTION",o){this.actual=void 0,this.expected=void 0,this.operator=void 0;for(let e=0;e<o.length;e++)this["message "+e]=o[e].message,this["actual "+e]=o[e].actual,this["expected "+e]=o[e].expected,this["operator "+e]=o[e].operator,this["stack trace "+e]=o[e].stack}else this.actual=a,this.expected=t,this.operator=n;ErrorCaptureStackTrace(this,r||E),this.stack,this.name="AssertionError"}toString(){return`${this.name} [${this.code}]: ${this.message}`}[inspect.custom](i,u){const n=this.actual,r=this.expected;typeof this.actual=="string"&&(this.actual=addEllipsis(this.actual)),typeof this.expected=="string"&&(this.expected=addEllipsis(this.expected));const o=inspect(this,{...u,customInspect:!1,depth:0});return this.actual=n,this.expected=r,o}}module.exports=AssertionError;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypePush,Error,FunctionPrototype,ReflectApply,SafeSet}=primordials,{codes:{ERR_UNAVAILABLE_DURING_EXIT}}=require("internal/errors"),AssertionError=require("internal/assert/assertion_error"),{validateUint32}=require("internal/validators"),noop=FunctionPrototype;class CallTracker{#e=new SafeSet;calls(e,t=1){if(process._exiting)throw new ERR_UNAVAILABLE_DURING_EXIT;typeof e=="number"?(t=e,e=noop):e===void 0&&(e=noop),validateUint32(t,"exact",!0);const r={exact:t,actual:0,stackTrace:new Error,name:e.name||"calls"},a=this.#e;return a.add(r),function(){return r.actual++,r.actual===r.exact&&a.delete(r),r.actual===r.exact+1&&a.add(r),ReflectApply(e,this,arguments)}}report(){const e=[];for(const t of this.#e)if(t.actual!==t.exact){const r=`Expected the ${t.name} function to be executed ${t.exact} time(s) but was executed ${t.actual} time(s).`;ArrayPrototypePush(e,{message:r,actual:t.actual,expected:t.exact,operator:t.name,stack:t.stackTrace})}return e}verify(){const e=this.report();if(e.length>0)throw new AssertionError({message:"Function(s) were not called the expected number of times",details:e})}}module.exports=CallTracker;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayFrom,ArrayIsArray,ArrayPrototypeForEach,ArrayPrototypePush,ArrayPrototypeUnshift,Boolean,ErrorCaptureStackTrace,FunctionPrototypeBind,MathFloor,Number,NumberPrototypeToFixed,ObjectDefineProperties,ObjectDefineProperty,ObjectKeys,ObjectPrototypeHasOwnProperty,ObjectValues,ReflectApply,ReflectConstruct,ReflectOwnKeys,SafeArrayIterator,SafeMap,SafeWeakMap,StringPrototypeIncludes,StringPrototypePadStart,StringPrototypeRepeat,StringPrototypeReplace,StringPrototypeSlice,StringPrototypeSplit,Symbol,SymbolHasInstance,SymbolToStringTag}=primordials,{trace}=internalBinding("trace_events"),{isStackOverflowError,codes:{ERR_CONSOLE_WRITABLE_STREAM,ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_INCOMPATIBLE_OPTION_PAIR}}=require("internal/errors"),{validateInteger}=require("internal/validators"),{previewEntries}=internalBinding("util"),{Buffer:{isBuffer}}=require("buffer"),{inspect,formatWithOptions}=require("internal/util/inspect"),{isTypedArray,isSet,isMap,isSetIterator,isMapIterator}=require("internal/util/types"),{CHAR_LOWERCASE_B,CHAR_LOWERCASE_E,CHAR_LOWERCASE_N,CHAR_UPPERCASE_C}=require("internal/constants"),kCounts=Symbol("counts"),kTraceConsoleCategory="node,node.console",kTraceCount=CHAR_UPPERCASE_C,kTraceBegin=CHAR_LOWERCASE_B,kTraceEnd=CHAR_LOWERCASE_E,kTraceInstant=CHAR_LOWERCASE_N,kSecond=1e3,kMinute=60*kSecond,kHour=60*kMinute,kMaxGroupIndentation=1e3;let cliTable;const kGroupIndent=Symbol("kGroupIndent"),kGroupIndentationWidth=Symbol("kGroupIndentWidth"),kFormatForStderr=Symbol("kFormatForStderr"),kFormatForStdout=Symbol("kFormatForStdout"),kGetInspectOptions=Symbol("kGetInspectOptions"),kColorMode=Symbol("kColorMode"),kIsConsole=Symbol("kIsConsole"),kWriteToConsole=Symbol("kWriteToConsole"),kBindProperties=Symbol("kBindProperties"),kBindStreamsEager=Symbol("kBindStreamsEager"),kBindStreamsLazy=Symbol("kBindStreamsLazy"),kUseStdout=Symbol("kUseStdout"),kUseStderr=Symbol("kUseStderr"),optionsMap=new SafeWeakMap;function Console(t){if(!new.target)return ReflectConstruct(Console,arguments);(!t||typeof t.write=="function")&&(t={stdout:t,stderr:arguments[1],ignoreErrors:arguments[2]});const{stdout:e,stderr:o=e,ignoreErrors:r=!0,colorMode:c="auto",inspectOptions:i,groupIndentation:d}=t;if(!e||typeof e.write!="function")throw new ERR_CONSOLE_WRITABLE_STREAM("stdout");if(!o||typeof o.write!="function")throw new ERR_CONSOLE_WRITABLE_STREAM("stderr");if(typeof c!="boolean"&&c!=="auto")throw new ERR_INVALID_ARG_VALUE("colorMode",c);if(d!==void 0&&validateInteger(d,"groupIndentation",0,kMaxGroupIndentation),typeof i=="object"&&i!==null){if(i.colors!==void 0&&t.colorMode!==void 0)throw new ERR_INCOMPATIBLE_OPTION_PAIR("options.inspectOptions.color","colorMode");optionsMap.set(this,i)}else if(i!==void 0)throw new ERR_INVALID_ARG_TYPE("options.inspectOptions","object",i);ArrayPrototypeForEach(ObjectKeys(Console.prototype),s=>{this[s]=FunctionPrototypeBind(this[s],this),ObjectDefineProperty(this[s],"name",{value:s})}),this[kBindStreamsEager](e,o),this[kBindProperties](r,c,d)}const consolePropAttributes={writable:!0,enumerable:!1,configurable:!0};ObjectDefineProperty(Console,SymbolHasInstance,{value(t){return t[kIsConsole]}});const kColorInspectOptions={colors:!0},kNoColorInspectOptions={};ObjectDefineProperties(Console.prototype,{[kBindStreamsEager]:{...consolePropAttributes,value:function(t,e){ObjectDefineProperties(this,{_stdout:{...consolePropAttributes,value:t},_stderr:{...consolePropAttributes,value:e}})}},[kBindStreamsLazy]:{...consolePropAttributes,value:function(t){let e,o;ObjectDefineProperties(this,{_stdout:{enumerable:!1,configurable:!0,get(){return e||(e=t.stdout),e},set(r){e=r}},_stderr:{enumerable:!1,configurable:!0,get(){return o||(o=t.stderr),o},set(r){o=r}}})}},[kBindProperties]:{...consolePropAttributes,value:function(t,e,o=2){ObjectDefineProperties(this,{_stdoutErrorHandler:{...consolePropAttributes,value:createWriteErrorHandler(this,kUseStdout)},_stderrErrorHandler:{...consolePropAttributes,value:createWriteErrorHandler(this,kUseStderr)},_ignoreErrors:{...consolePropAttributes,value:Boolean(t)},_times:{...consolePropAttributes,value:new SafeMap},[kCounts]:{...consolePropAttributes,value:new SafeMap},[kColorMode]:{...consolePropAttributes,value:e},[kIsConsole]:{...consolePropAttributes,value:!0},[kGroupIndent]:{...consolePropAttributes,value:""},[kGroupIndentationWidth]:{...consolePropAttributes,value:o},[SymbolToStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:"console"}})}},[kWriteToConsole]:{...consolePropAttributes,value:function(t,e){const o=this._ignoreErrors,r=this[kGroupIndent],c=t===kUseStdout,i=c?this._stdout:this._stderr,d=c?this._stdoutErrorHandler:this._stderrErrorHandler;if(r.length!==0&&(StringPrototypeIncludes(e,`
`)&&(e=StringPrototypeReplace(e,/\n/g,`
${r}`)),e=r+e),e+=`
`,o===!1)return i.write(e);try{i.listenerCount("error")===0&&i.once("error",noop),i.write(e,d)}catch(s){if(isStackOverflowError(s))throw s}finally{i.removeListener("error",noop)}}},[kGetInspectOptions]:{...consolePropAttributes,value:function(t){let e=this[kColorMode];e==="auto"&&(e=t.isTTY&&(typeof t.getColorDepth=="function"?t.getColorDepth()>2:!0));const o=optionsMap.get(this);return o?(o.colors===void 0&&(o.colors=e),o):e?kColorInspectOptions:kNoColorInspectOptions}},[kFormatForStdout]:{...consolePropAttributes,value:function(t){const e=this[kGetInspectOptions](this._stdout);return ArrayPrototypeUnshift(t,e),ReflectApply(formatWithOptions,null,t)}},[kFormatForStderr]:{...consolePropAttributes,value:function(t){const e=this[kGetInspectOptions](this._stderr);return ArrayPrototypeUnshift(t,e),ReflectApply(formatWithOptions,null,t)}}});function createWriteErrorHandler(t,e){return o=>{const r=e===kUseStdout?t._stdout:t._stderr;o!==null&&!r._writableState.errorEmitted&&r.listenerCount("error")===0&&r.once("error",noop)}}const consoleMethods={log(...t){this[kWriteToConsole](kUseStdout,this[kFormatForStdout](t))},warn(...t){this[kWriteToConsole](kUseStderr,this[kFormatForStderr](t))},dir(t,e){this[kWriteToConsole](kUseStdout,inspect(t,{customInspect:!1,...this[kGetInspectOptions](this._stdout),...e}))},time(t="default"){if(t=`${t}`,this._times.has(t)){process.emitWarning(`Label '${t}' already exists for console.time()`);return}trace(kTraceBegin,kTraceConsoleCategory,`time::${t}`,0),this._times.set(t,process.hrtime())},timeEnd(t="default"){t=`${t}`;const e=timeLogImpl(this,"timeEnd",t);trace(kTraceEnd,kTraceConsoleCategory,`time::${t}`,0),e&&this._times.delete(t)},timeLog(t="default",...e){t=`${t}`,timeLogImpl(this,"timeLog",t,e),trace(kTraceInstant,kTraceConsoleCategory,`time::${t}`,0)},trace:function t(...e){const o={name:"Trace",message:this[kFormatForStderr](e)};ErrorCaptureStackTrace(o,t),this.error(o.stack)},assert(t,...e){t||(e[0]=`Assertion failed${e.length===0?"":`: ${e[0]}`}`,ReflectApply(this.warn,this,e))},clear(){if(this._stdout.isTTY&&process.env.TERM!=="dumb"){const{cursorTo:t,clearScreenDown:e}=require("internal/readline/callbacks");t(this._stdout,0,0),e(this._stdout)}},count(t="default"){t=`${t}`;const e=this[kCounts];let o=e.get(t);o===void 0?o=1:o++,e.set(t,o),trace(kTraceCount,kTraceConsoleCategory,`count::${t}`,0,o),this.log(`${t}: ${o}`)},countReset(t="default"){const e=this[kCounts];if(!e.has(t)){process.emitWarning(`Count for '${t}' does not exist`);return}trace(kTraceCount,kTraceConsoleCategory,`count::${t}`,0,0),e.delete(`${t}`)},group(...t){t.length>0&&ReflectApply(this.log,this,t),this[kGroupIndent]+=StringPrototypeRepeat(" ",this[kGroupIndentationWidth])},groupEnd(){this[kGroupIndent]=StringPrototypeSlice(this[kGroupIndent],0,this[kGroupIndent].length-this[kGroupIndentationWidth])},table(t,e){if(e!==void 0&&!ArrayIsArray(e))throw new ERR_INVALID_ARG_TYPE("properties","Array",e);if(t===null||typeof t!="object")return this.log(t);cliTable===void 0&&(cliTable=require("internal/cli_table"));const o=(n,u)=>this.log(cliTable(n,u)),r=n=>{const f={depth:n!==null&&typeof n=="object"&&!isArray(n)&&ObjectKeys(n).length>2?-1:0,maxArrayLength:3,breakLength:1/0,...this[kGetInspectOptions](this._stdout)};return inspect(n,f)},c=n=>ArrayFrom({length:n},(u,f)=>r(f)),i=isMapIterator(t);let d=!1,s=0;if(i){const n=previewEntries(t,!0);t=n[0],d=n[1]}if(d||isMap(t)){const n=[],u=[];let f=0;if(i)for(;s<t.length/2;++s)ArrayPrototypePush(n,r(t[s*2])),ArrayPrototypePush(u,r(t[s*2+1])),f++;else for(const{0:l,1:k}of t)ArrayPrototypePush(n,r(l)),ArrayPrototypePush(u,r(k)),f++;return o([iterKey,keyKey,valuesKey],[c(f),n,u])}const g=isSetIterator(t);if(g&&(t=previewEntries(t)),g||i||isSet(t)){const n=[];let u=0;for(const f of t)ArrayPrototypePush(n,r(f)),u++;return o([iterKey,valuesKey],[c(u),n])}const p={};let m=!1;const _=[],h=ObjectKeys(t);for(;s<h.length;s++){const n=t[h[s]],u=n===null||typeof n!="function"&&typeof n!="object";if(e===void 0&&u)m=!0,_[s]=r(n);else{const f=e||ObjectKeys(n);for(const l of f)p[l]===void 0&&(p[l]=[]),u&&e||!ObjectPrototypeHasOwnProperty(n,l)?p[l][s]="":p[l][s]=r(n[l])}}const a=ObjectKeys(p),y=ObjectValues(p);return m&&(ArrayPrototypePush(a,valuesKey),ArrayPrototypePush(y,_)),ArrayPrototypeUnshift(a,indexKey),ArrayPrototypeUnshift(y,h),o(a,y)}};function timeLogImpl(t,e,o,r){const c=t._times.get(o);if(c===void 0)return process.emitWarning(`No such label '${o}' for console.${e}()`),!1;const i=process.hrtime(c),d=i[0]*1e3+i[1]/1e6,s=formatTime(d);return r===void 0?t.log("%s: %s",o,s):t.log("%s: %s",o,s,...new SafeArrayIterator(r)),!0}function pad(t){return StringPrototypePadStart(`${t}`,2,"0")}function formatTime(t){let e=0,o=0,r=0;return t>=kSecond&&(t>=kMinute&&(t>=kHour&&(e=MathFloor(t/kHour),t=t%kHour),o=MathFloor(t/kMinute),t=t%kMinute),r=t/kSecond),e!==0||o!==0?({0:r,1:t}=StringPrototypeSplit(NumberPrototypeToFixed(r,3),"."),`${e!==0?`${e}:${pad(o)}`:o}:${pad(r)}.${t} (${e!==0?"h:m":""}m:ss.mmm)`):r!==0?`${NumberPrototypeToFixed(r,3)}s`:`${Number(NumberPrototypeToFixed(t,3))}ms`}const keyKey="Key",valuesKey="Values",indexKey="(index)",iterKey="(iteration index)",isArray=t=>ArrayIsArray(t)||isTypedArray(t)||isBuffer(t);function noop(){}for(const t of ReflectOwnKeys(consoleMethods))Console.prototype[t]=consoleMethods[t];Console.prototype.debug=Console.prototype.log,Console.prototype.info=Console.prototype.log,Console.prototype.dirxml=Console.prototype.log,Console.prototype.error=Console.prototype.warn,Console.prototype.groupCollapsed=Console.prototype.group,module.exports={Console,kBindStreamsLazy,kBindProperties,formatTime};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{FunctionPrototypeBind,ObjectCreate,ReflectDefineProperty,ReflectGetOwnPropertyDescriptor,ReflectOwnKeys}=primordials,{Console,kBindStreamsLazy,kBindProperties}=require("internal/console/constructor"),globalConsole=ObjectCreate({});for(const o of ReflectOwnKeys(Console.prototype)){if(o==="constructor")continue;const e=ReflectGetOwnPropertyDescriptor(Console.prototype,o);if(typeof e.value=="function"){const t=e.value.name;e.value=FunctionPrototypeBind(e.value,globalConsole),ReflectDefineProperty(e.value,"name",{value:t})}ReflectDefineProperty(globalConsole,o,e)}globalConsole[kBindStreamsLazy](process),globalConsole[kBindProperties](!0,"auto"),globalConsole.Console=Console,module.exports=globalConsole;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayBufferIsView,ArrayBufferPrototypeSlice,ArrayFrom,ArrayPrototypeIncludes,ArrayPrototypePush,MathFloor,Promise,SafeSet,TypedArrayPrototypeSlice}=primordials,{AESCipherJob,KeyObjectHandle,kCryptoJobAsync,kKeyVariantAES_CTR_128,kKeyVariantAES_CBC_128,kKeyVariantAES_GCM_128,kKeyVariantAES_KW_128,kKeyVariantAES_CTR_192,kKeyVariantAES_CBC_192,kKeyVariantAES_GCM_192,kKeyVariantAES_KW_192,kKeyVariantAES_CTR_256,kKeyVariantAES_CBC_256,kKeyVariantAES_GCM_256,kKeyVariantAES_KW_256,kWebCryptoCipherDecrypt,kWebCryptoCipherEncrypt}=internalBinding("crypto"),{getArrayBufferOrView,hasAnyNotIn,jobPromise,validateByteLength,validateKeyOps,validateMaxBufferLength,kAesKeyLengths,kHandle,kKeyObject}=require("internal/crypto/util"),{lazyDOMException}=require("internal/util"),{PromiseReject}=primordials,{codes:{ERR_INVALID_ARG_TYPE}}=require("internal/errors"),{InternalCryptoKey,SecretKeyObject,createSecretKey,isKeyObject}=require("internal/crypto/keys"),{generateKey}=require("internal/crypto/keygen"),{validateInteger,validateOneOf}=require("internal/validators"),kMaxCounterLength=128,kTagLengths=[32,64,96,104,112,120,128];function getAlgorithmName(t,r){switch(t){case"AES-CBC":return`A${r}CBC`;case"AES-CTR":return`A${r}CTR`;case"AES-GCM":return`A${r}GCM`;case"AES-KW":return`A${r}KW`}}function validateKeyLength(t){if(t!==128&&t!==192&&t!==256)throw lazyDOMException("Invalid key length","DataError")}function getVariant(t,r){switch(t){case"AES-CBC":switch(r){case 128:return kKeyVariantAES_CBC_128;case 192:return kKeyVariantAES_CBC_192;case 256:return kKeyVariantAES_CBC_256}break;case"AES-CTR":switch(r){case 128:return kKeyVariantAES_CTR_128;case 192:return kKeyVariantAES_CTR_192;case 256:return kKeyVariantAES_CTR_256}break;case"AES-GCM":switch(r){case 128:return kKeyVariantAES_GCM_128;case 192:return kKeyVariantAES_GCM_192;case 256:return kKeyVariantAES_GCM_256}break;case"AES-KW":switch(r){case 128:return kKeyVariantAES_KW_128;case 192:return kKeyVariantAES_KW_192;case 256:return kKeyVariantAES_KW_256}break}}function asyncAesCtrCipher(t,r,e,{counter:n,length:a}){if(n=getArrayBufferOrView(n,"algorithm.counter"),validateByteLength(n,"algorithm.counter",16),typeof a!="number"||a<=0||a>kMaxCounterLength)throw lazyDOMException("AES-CTR algorithm.length must be between 1 and 128","OperationError");return jobPromise(new AESCipherJob(kCryptoJobAsync,t,r[kKeyObject][kHandle],e,getVariant("AES-CTR",r.algorithm.length),n,a))}function asyncAesCbcCipher(t,r,e,{iv:n}){return n=getArrayBufferOrView(n,"algorithm.iv"),validateByteLength(n,"algorithm.iv",16),jobPromise(new AESCipherJob(kCryptoJobAsync,t,r[kKeyObject][kHandle],e,getVariant("AES-CBC",r.algorithm.length),n))}function asyncAesKwCipher(t,r,e){return jobPromise(new AESCipherJob(kCryptoJobAsync,t,r[kKeyObject][kHandle],e,getVariant("AES-KW",r.algorithm.length)))}function asyncAesGcmCipher(t,r,e,{iv:n,additionalData:a,tagLength:s=128}){if(!ArrayPrototypeIncludes(kTagLengths,s))return PromiseReject(lazyDOMException(`${s} is not a valid AES-GCM tag length`,"OperationError"));n=getArrayBufferOrView(n,"algorithm.iv"),validateMaxBufferLength(n,"algorithm.iv"),a!==void 0&&(a=getArrayBufferOrView(a,"algorithm.additionalData"),validateMaxBufferLength(a,"algorithm.additionalData"));const c=MathFloor(s/8);let o;switch(t){case kWebCryptoCipherDecrypt:const i=ArrayBufferIsView(e)?TypedArrayPrototypeSlice:ArrayBufferPrototypeSlice;if(o=i(e,-c),c>o.byteLength)return PromiseReject(lazyDOMException("The provided data is too small.","OperationError"));e=i(e,0,-c);break;case kWebCryptoCipherEncrypt:o=c;break}return jobPromise(new AESCipherJob(kCryptoJobAsync,t,r[kKeyObject][kHandle],e,getVariant("AES-GCM",r.algorithm.length),n,o,a))}function aesCipher(t,r,e,n){switch(n.name){case"AES-CTR":return asyncAesCtrCipher(t,r,e,n);case"AES-CBC":return asyncAesCbcCipher(t,r,e,n);case"AES-GCM":return asyncAesGcmCipher(t,r,e,n);case"AES-KW":return asyncAesKwCipher(t,r,e)}}async function aesGenerateKey(t,r,e){const{name:n,length:a}=t;validateInteger(a,"algorithm.length"),validateOneOf(a,"algorithm.length",kAesKeyLengths);const s=new SafeSet(e);if(hasAnyNotIn(s,["encrypt","decrypt","wrapKey","unwrapKey"]))throw lazyDOMException("Unsupported key usage for an AES key","SyntaxError");return new Promise((c,o)=>{generateKey("aes",{length:a},(i,u)=>{if(i)return o(lazyDOMException(`The operation failed for an operation-specific reason [${i.message}]`,"OperationError"));c(new InternalCryptoKey(u,{name:n,length:a},ArrayFrom(s),r))})})}async function aesImportKey(t,r,e,n,a){const{name:s}=t,c=["wrapKey","unwrapKey"];s!=="AES-KW"&&ArrayPrototypePush(c,"encrypt","decrypt");const o=new SafeSet(a);if(hasAnyNotIn(o,c))throw lazyDOMException("Unsupported key usage for an AES key","SyntaxError");let i,u;switch(r){case"node.keyObject":{if(!isKeyObject(e))throw new ERR_INVALID_ARG_TYPE("keyData","KeyObject",e);if(e.type!=="secret")throw lazyDOMException(`Unable to import AES key with format ${r}`,"NotSupportedError");i=e;break}case"raw":{validateKeyLength(e.byteLength*8),i=createSecretKey(e);break}case"jwk":{if(e==null||typeof e!="object")throw lazyDOMException("Invalid JWK keyData","DataError");if(e.kty!=="oct")throw lazyDOMException("Invalid key type","DataError");if(o.size>0&&e.use!==void 0&&e.use!=="enc")throw lazyDOMException("Invalid use type","DataError");if(validateKeyOps(e.key_ops,o),e.ext!==void 0&&e.ext===!1&&n===!0)throw lazyDOMException("JWK is not extractable","DataError");const y=new KeyObjectHandle;if(y.initJwk(e),{length:u}=y.keyDetail({}),validateKeyLength(u),e.alg!==void 0){if(typeof e.alg!="string")throw lazyDOMException("Invalid alg","DataError");if(e.alg!==getAlgorithmName(t.name,u))throw lazyDOMException("Algorithm mismatch","DataError")}i=new SecretKeyObject(y);break}default:throw lazyDOMException(`Unable to import AES key with format ${r}`,"NotSupportedError")}return u===void 0&&({length:u}=i[kHandle].keyDetail({}),validateKeyLength(u)),new InternalCryptoKey(i,{name:s,length:u},a,n)}module.exports={aesCipher,aesGenerateKey,aesImportKey,getAlgorithmName};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{certExportChallenge,certExportPublicKey,certVerifySpkac}=internalBinding("crypto"),{getArrayBufferOrView}=require("internal/crypto/util");function verifySpkac(e,t){return certVerifySpkac(getArrayBufferOrView(e,"spkac",t))}function exportPublicKey(e,t){return certExportPublicKey(getArrayBufferOrView(e,"spkac",t))}function exportChallenge(e,t){return certExportChallenge(getArrayBufferOrView(e,"spkac",t))}function Certificate(){if(!(this instanceof Certificate))return new Certificate}Certificate.prototype.verifySpkac=verifySpkac,Certificate.prototype.exportPublicKey=exportPublicKey,Certificate.prototype.exportChallenge=exportChallenge,Certificate.exportChallenge=exportChallenge,Certificate.exportPublicKey=exportPublicKey,Certificate.verifySpkac=verifySpkac,module.exports=Certificate;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectSetPrototypeOf,ReflectApply,StringPrototypeToLowerCase}=primordials,{CipherBase,privateDecrypt:_privateDecrypt,privateEncrypt:_privateEncrypt,publicDecrypt:_publicDecrypt,publicEncrypt:_publicEncrypt,getCipherInfo:_getCipherInfo}=internalBinding("crypto"),{crypto:{RSA_PKCS1_OAEP_PADDING,RSA_PKCS1_PADDING}}=internalBinding("constants"),{codes:{ERR_CRYPTO_INVALID_STATE,ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE}}=require("internal/errors"),{validateEncoding,validateInt32,validateObject,validateString}=require("internal/validators"),{preparePrivateKey,preparePublicOrPrivateKey,prepareSecretKey}=require("internal/crypto/keys"),{getDefaultEncoding,getArrayBufferOrView,getStringOption,kHandle}=require("internal/crypto/util"),{isArrayBufferView}=require("internal/util/types"),assert=require("internal/assert"),LazyTransform=require("internal/streams/lazy_transform"),{normalizeEncoding}=require("internal/util"),{StringDecoder}=require("string_decoder");function rsaFunctionFor(e,t,r){return(n,i)=>{const{format:o,type:f,data:u,passphrase:h}=r==="private"?preparePrivateKey(n):preparePublicOrPrivateKey(n),c=n.padding||t,{oaepHash:s,encoding:a}=n;let{oaepLabel:p}=n;return s!==void 0&&validateString(s,"key.oaepHash"),p!==void 0&&(p=getArrayBufferOrView(p,"key.oaepLabel",a)),i=getArrayBufferOrView(i,"buffer",a),e(u,o,f,h,i,c,s,p)}}const publicEncrypt=rsaFunctionFor(_publicEncrypt,RSA_PKCS1_OAEP_PADDING,"public"),publicDecrypt=rsaFunctionFor(_publicDecrypt,RSA_PKCS1_PADDING,"public"),privateEncrypt=rsaFunctionFor(_privateEncrypt,RSA_PKCS1_PADDING,"private"),privateDecrypt=rsaFunctionFor(_privateDecrypt,RSA_PKCS1_OAEP_PADDING,"private");function getDecoder(e,t){return t=normalizeEncoding(t),e=e||new StringDecoder(t),assert(e.encoding===t,"Cannot change encoding"),e}function getUIntOption(e,t){let r;if(e&&(r=e[t])!=null){if(r>>>0!==r)throw new ERR_INVALID_ARG_VALUE(`options.${t}`,r);return r}return-1}function createCipherBase(e,t,r,n,i){const o=getUIntOption(r,"authTagLength");this[kHandle]=new CipherBase(n),i===void 0?this[kHandle].init(e,t,o):this[kHandle].initiv(e,t,i,o),this._decoder=null,ReflectApply(LazyTransform,this,[r])}function createCipher(e,t,r,n){validateString(e,"cipher"),t=getArrayBufferOrView(t,"password"),ReflectApply(createCipherBase,this,[e,t,r,n])}function createCipherWithIV(e,t,r,n,i){validateString(e,"cipher");const o=getStringOption(r,"encoding");t=prepareSecretKey(t,o),i=i===null?null:getArrayBufferOrView(i,"iv"),ReflectApply(createCipherBase,this,[e,t,r,n,i])}function Cipher(e,t,r){if(!(this instanceof Cipher))return new Cipher(e,t,r);ReflectApply(createCipher,this,[e,t,r,!0])}ObjectSetPrototypeOf(Cipher.prototype,LazyTransform.prototype),ObjectSetPrototypeOf(Cipher,LazyTransform),Cipher.prototype._transform=function(t,r,n){this.push(this[kHandle].update(t,r)),n()},Cipher.prototype._flush=function(t){try{this.push(this[kHandle].final())}catch(r){t(r);return}t()},Cipher.prototype.update=function(t,r,n){const i=getDefaultEncoding();if(r=r||i,n=n||i,typeof t=="string")validateEncoding(t,r);else if(!isArrayBufferView(t))throw new ERR_INVALID_ARG_TYPE("data",["string","Buffer","TypedArray","DataView"],t);const o=this[kHandle].update(t,r);return n&&n!=="buffer"?(this._decoder=getDecoder(this._decoder,n),this._decoder.write(o)):o},Cipher.prototype.final=function(t){t=t||getDefaultEncoding();const r=this[kHandle].final();return t&&t!=="buffer"?(this._decoder=getDecoder(this._decoder,t),this._decoder.end(r)):r},Cipher.prototype.setAutoPadding=function(t){if(!this[kHandle].setAutoPadding(!!t))throw new ERR_CRYPTO_INVALID_STATE("setAutoPadding");return this},Cipher.prototype.getAuthTag=function(){const t=this[kHandle].getAuthTag();if(t===void 0)throw new ERR_CRYPTO_INVALID_STATE("getAuthTag");return t};function setAuthTag(e,t){if(e=getArrayBufferOrView(e,"buffer",t),!this[kHandle].setAuthTag(e))throw new ERR_CRYPTO_INVALID_STATE("setAuthTag");return this}Cipher.prototype.setAAD=function(t,r){const n=getStringOption(r,"encoding"),i=getUIntOption(r,"plaintextLength");if(t=getArrayBufferOrView(t,"aadbuf",n),!this[kHandle].setAAD(t,i))throw new ERR_CRYPTO_INVALID_STATE("setAAD");return this};function Cipheriv(e,t,r,n){if(!(this instanceof Cipheriv))return new Cipheriv(e,t,r,n);ReflectApply(createCipherWithIV,this,[e,t,n,!0,r])}function addCipherPrototypeFunctions(e){e.prototype._transform=Cipher.prototype._transform,e.prototype._flush=Cipher.prototype._flush,e.prototype.update=Cipher.prototype.update,e.prototype.final=Cipher.prototype.final,e.prototype.setAutoPadding=Cipher.prototype.setAutoPadding,e===Cipheriv?e.prototype.getAuthTag=Cipher.prototype.getAuthTag:e.prototype.setAuthTag=setAuthTag,e.prototype.setAAD=Cipher.prototype.setAAD}ObjectSetPrototypeOf(Cipheriv.prototype,LazyTransform.prototype),ObjectSetPrototypeOf(Cipheriv,LazyTransform),addCipherPrototypeFunctions(Cipheriv);function Decipher(e,t,r){if(!(this instanceof Decipher))return new Decipher(e,t,r);ReflectApply(createCipher,this,[e,t,r,!1])}ObjectSetPrototypeOf(Decipher.prototype,LazyTransform.prototype),ObjectSetPrototypeOf(Decipher,LazyTransform),addCipherPrototypeFunctions(Decipher);function Decipheriv(e,t,r,n){if(!(this instanceof Decipheriv))return new Decipheriv(e,t,r,n);ReflectApply(createCipherWithIV,this,[e,t,n,!1,r])}ObjectSetPrototypeOf(Decipheriv.prototype,LazyTransform.prototype),ObjectSetPrototypeOf(Decipheriv,LazyTransform),addCipherPrototypeFunctions(Decipheriv);function getCipherInfo(e,t){if(typeof e!="string"&&typeof e!="number")throw new ERR_INVALID_ARG_TYPE("nameOrNid",["string","number"],e);typeof e=="number"&&validateInt32(e,"nameOrNid");let r,n;t!==void 0&&(validateObject(t,"options"),{keyLength:r,ivLength:n}=t,r!==void 0&&validateInt32(r,"options.keyLength"),n!==void 0&&validateInt32(n,"options.ivLength"));const i=_getCipherInfo({},e,r,n);return i!==void 0&&(i.name&&(i.name=StringPrototypeToLowerCase(i.name)),i.type&&(i.type=StringPrototypeToLowerCase(i.type))),i}module.exports={Cipher,Cipheriv,Decipher,Decipheriv,privateDecrypt,privateEncrypt,publicDecrypt,publicEncrypt,getCipherInfo};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayBufferPrototypeSlice,FunctionPrototypeCall,MathFloor,ObjectDefineProperty,Promise,SafeSet}=primordials,{Buffer}=require("buffer"),{DHBitsJob,DHKeyExportJob,DiffieHellman:_DiffieHellman,DiffieHellmanGroup:_DiffieHellmanGroup,ECDH:_ECDH,ECDHBitsJob,ECDHConvertKey:_ECDHConvertKey,statelessDH,kCryptoJobAsync}=internalBinding("crypto"),{codes:{ERR_CRYPTO_ECDH_INVALID_FORMAT,ERR_CRYPTO_ECDH_INVALID_PUBLIC_KEY,ERR_CRYPTO_INCOMPATIBLE_KEY,ERR_CRYPTO_INVALID_KEY_OBJECT_TYPE,ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE}}=require("internal/errors"),{validateCallback,validateInt32,validateObject,validateString,validateUint32}=require("internal/validators"),{isArrayBufferView,isAnyArrayBuffer}=require("internal/util/types"),{lazyDOMException}=require("internal/util"),{KeyObject,InternalCryptoKey,createPrivateKey,createPublicKey,isCryptoKey,isKeyObject}=require("internal/crypto/keys"),{generateKeyPair}=require("internal/crypto/keygen"),{getArrayBufferOrView,getDefaultEncoding,getUsagesUnion,hasAnyNotIn,jobPromise,toBuf,kHandle,kKeyObject}=require("internal/crypto/util"),{crypto:{POINT_CONVERSION_COMPRESSED,POINT_CONVERSION_HYBRID,POINT_CONVERSION_UNCOMPRESSED}}=internalBinding("constants"),DH_GENERATOR=2;function DiffieHellman(t,e,r,i){if(!(this instanceof DiffieHellman))return new DiffieHellman(t,e,r,i);if(typeof t!="number"&&typeof t!="string"&&!isArrayBufferView(t)&&!isAnyArrayBuffer(t))throw new ERR_INVALID_ARG_TYPE("sizeOrKey",["number","string","ArrayBuffer","Buffer","TypedArray","DataView"],t);typeof t=="number"&&validateInt32(t,"sizeOrKey"),e&&!Buffer.isEncoding(e)&&e!=="buffer"&&(i=r,r=e,e=!1);const o=getDefaultEncoding();if(e=e||o,i=i||o,typeof t!="number"&&(t=toBuf(t,e)),!r)r=DH_GENERATOR;else if(typeof r=="number")validateInt32(r,"generator");else if(typeof r=="string")r=toBuf(r,i);else if(!isArrayBufferView(r)&&!isAnyArrayBuffer(r))throw new ERR_INVALID_ARG_TYPE("generator",["number","string","ArrayBuffer","Buffer","TypedArray","DataView"],r);this[kHandle]=new _DiffieHellman(t,r),ObjectDefineProperty(this,"verifyError",{enumerable:!0,value:this[kHandle].verifyError,writable:!1})}function DiffieHellmanGroup(t){if(!(this instanceof DiffieHellmanGroup))return new DiffieHellmanGroup(t);this[kHandle]=new _DiffieHellmanGroup(t),ObjectDefineProperty(this,"verifyError",{enumerable:!0,value:this[kHandle].verifyError,writable:!1})}DiffieHellmanGroup.prototype.generateKeys=DiffieHellman.prototype.generateKeys=dhGenerateKeys;function dhGenerateKeys(t){const e=this[kHandle].generateKeys();return t=t||getDefaultEncoding(),encode(e,t)}DiffieHellmanGroup.prototype.computeSecret=DiffieHellman.prototype.computeSecret=dhComputeSecret;function dhComputeSecret(t,e,r){const i=getDefaultEncoding();e=e||i,r=r||i,t=getArrayBufferOrView(t,"key",e);const o=this[kHandle].computeSecret(t);if(typeof o=="string")throw new ERR_CRYPTO_ECDH_INVALID_PUBLIC_KEY;return encode(o,r)}DiffieHellmanGroup.prototype.getPrime=DiffieHellman.prototype.getPrime=dhGetPrime;function dhGetPrime(t){const e=this[kHandle].getPrime();return t=t||getDefaultEncoding(),encode(e,t)}DiffieHellmanGroup.prototype.getGenerator=DiffieHellman.prototype.getGenerator=dhGetGenerator;function dhGetGenerator(t){const e=this[kHandle].getGenerator();return t=t||getDefaultEncoding(),encode(e,t)}DiffieHellmanGroup.prototype.getPublicKey=DiffieHellman.prototype.getPublicKey=dhGetPublicKey;function dhGetPublicKey(t){const e=this[kHandle].getPublicKey();return t=t||getDefaultEncoding(),encode(e,t)}DiffieHellmanGroup.prototype.getPrivateKey=DiffieHellman.prototype.getPrivateKey=dhGetPrivateKey;function dhGetPrivateKey(t){const e=this[kHandle].getPrivateKey();return t=t||getDefaultEncoding(),encode(e,t)}DiffieHellman.prototype.setPublicKey=function(e,r){return r=r||getDefaultEncoding(),e=getArrayBufferOrView(e,"key",r),this[kHandle].setPublicKey(e),this},DiffieHellman.prototype.setPrivateKey=function(e,r){return r=r||getDefaultEncoding(),e=getArrayBufferOrView(e,"key",r),this[kHandle].setPrivateKey(e),this};function ECDH(t){if(!(this instanceof ECDH))return new ECDH(t);validateString(t,"curve"),this[kHandle]=new _ECDH(t)}ECDH.prototype.computeSecret=DiffieHellman.prototype.computeSecret,ECDH.prototype.setPrivateKey=DiffieHellman.prototype.setPrivateKey,ECDH.prototype.setPublicKey=DiffieHellman.prototype.setPublicKey,ECDH.prototype.getPrivateKey=DiffieHellman.prototype.getPrivateKey,ECDH.prototype.generateKeys=function(e,r){return this[kHandle].generateKeys(),this.getPublicKey(e,r)},ECDH.prototype.getPublicKey=function(e,r){const i=getFormat(r),o=this[kHandle].getPublicKey(i);return e=e||getDefaultEncoding(),encode(o,e)},ECDH.convertKey=function(e,r,i,o,n){validateString(r,"curve");const s=i||getDefaultEncoding();e=getArrayBufferOrView(e,"key",s),o=o||s;const a=getFormat(n),p=_ECDHConvertKey(e,r,a);return encode(p,o)};function encode(t,e){return e&&e!=="buffer"&&(t=t.toString(e)),t}function getFormat(t){if(t){if(t==="compressed")return POINT_CONVERSION_COMPRESSED;if(t==="hybrid")return POINT_CONVERSION_HYBRID;if(t!=="uncompressed")throw new ERR_CRYPTO_ECDH_INVALID_FORMAT(t)}return POINT_CONVERSION_UNCOMPRESSED}const dhEnabledKeyTypes=new SafeSet(["dh","ec","x448","x25519"]);function diffieHellman(t){validateObject(t,"options");const{privateKey:e,publicKey:r}=t;if(!(e instanceof KeyObject))throw new ERR_INVALID_ARG_VALUE("options.privateKey",e);if(!(r instanceof KeyObject))throw new ERR_INVALID_ARG_VALUE("options.publicKey",r);if(e.type!=="private")throw new ERR_CRYPTO_INVALID_KEY_OBJECT_TYPE(e.type,"private");if(r.type!=="public"&&r.type!=="private")throw new ERR_CRYPTO_INVALID_KEY_OBJECT_TYPE(r.type,"private or public");const i=e.asymmetricKeyType,o=r.asymmetricKeyType;if(i!==o||!dhEnabledKeyTypes.has(i))throw new ERR_CRYPTO_INCOMPATIBLE_KEY("key types for Diffie-Hellman",`${i} and ${o}`);return statelessDH(e[kHandle],r[kHandle])}function deriveBitsECDH(t,e,r,i){validateString(t,"name"),validateObject(e,"publicKey"),validateObject(r,"privateKey"),validateCallback(i);const o=new ECDHBitsJob(kCryptoJobAsync,t,e,r);o.ondone=(n,s)=>{if(n)return FunctionPrototypeCall(i,o,n);FunctionPrototypeCall(i,o,null,s)},o.run()}function deriveBitsDH(t,e,r){validateObject(t,"publicKey"),validateObject(e,"privateKey"),validateCallback(r);const i=new DHBitsJob(kCryptoJobAsync,t,e);i.ondone=(o,n)=>{if(o)return FunctionPrototypeCall(r,i,o);FunctionPrototypeCall(r,i,null,n)},i.run()}function verifyAcceptableDhKeyUse(t,e,r){let i;switch(e){case"private":i=["deriveBits","deriveKey"];break;case"public":i=[];break}if(hasAnyNotIn(r,i))throw lazyDOMException(`Unsupported key usage for an ${t} key`,"SyntaxError")}async function dhGenerateKey(t,e,r){const i=new SafeSet(r);if(hasAnyNotIn(i,["deriveKey","deriveBits"]))throw lazyDOMException("Unsupported key usage for a DH key","SyntaxError");const{name:o,primeLength:n,generator:s,group:a}=t;let{prime:p}=t;return p!==void 0&&(p=getArrayBufferOrView(p)),new Promise((u,y)=>{generateKeyPair("dh",{prime:p,primeLength:n,generator:s,group:a},(f,l,h)=>{if(f)return y(lazyDOMException("The operation failed for an operation-specific reason","OperationError"));const c={name:o,prime:p,primeLength:n,generator:s,group:a},m=new InternalCryptoKey(l,c,[],!0),b=new InternalCryptoKey(h,c,getUsagesUnion(i,"deriveBits","deriveKey"),e);u({publicKey:m,privateKey:b})})})}async function asyncDeriveBitsECDH(t,e,r){const{public:i}=t;if(r!==null&&validateUint32(r,"length"),!isCryptoKey(i))throw new ERR_INVALID_ARG_TYPE("algorithm.public","CryptoKey",i);if(i.type!=="public")throw lazyDOMException("algorithm.public must be a public key","InvalidAccessError");if(e.type!=="private")throw lazyDOMException("baseKey must be a private key","InvalidAccessError");if(i.algorithm.name!=="ECDH")throw lazyDOMException("Keys must be ECDH keys","InvalidAccessError");if(i.algorithm.name!==e.algorithm.name)throw lazyDOMException("The public and private keys must be of the same type","InvalidAccessError");if(i.algorithm.namedCurve!==e.algorithm.namedCurve)throw lazyDOMException("Named curve mismatch","InvalidAccessError");const o=await new Promise((s,a)=>{deriveBitsECDH(e.algorithm.namedCurve,i[kKeyObject][kHandle],e[kKeyObject][kHandle],(p,u)=>{if(p)return a(p);s(u)})});if(r===null)return o;r=MathFloor(r/8);const{byteLength:n}=o;if(n<r)throw lazyDOMException("derived bit length is too small","OperationError");return r===n?o:ArrayBufferPrototypeSlice(o,0,r)}async function asyncDeriveBitsDH(t,e,r){const{public:i}=t;if(r!==null&&validateUint32(r,"length"),!isCryptoKey(i))throw new ERR_INVALID_ARG_TYPE("algorithm.public","CryptoKey",i);if(i.type!=="public")throw lazyDOMException("algorithm.public must be a public key","InvalidAccessError");if(e.type!=="private")throw lazyDOMException("baseKey must be a private key","InvalidAccessError");if(i.algorithm.name!=="NODE-DH")throw lazyDOMException("Keys must be DH keys","InvalidAccessError");if(i.algorithm.name!==e.algorithm.name)throw lazyDOMException("The public and private keys must be of the same type","InvalidAccessError");const o=await new Promise((s,a)=>{deriveBitsDH(i[kKeyObject][kHandle],e[kKeyObject][kHandle],(p,u)=>{if(p)return a(p);s(u)})});if(r===null)return o;r=MathFloor(r/8);const{byteLength:n}=o;if(n<r)throw lazyDOMException("derived bit length is too small","OperationError");return r===n?o:ArrayBufferPrototypeSlice(o,0,r)}function dhExportKey(t,e){return jobPromise(new DHKeyExportJob(kCryptoJobAsync,e,t[kKeyObject][kHandle]))}async function dhImportKey(t,e,r,i,o){const n=new SafeSet(o);let s;switch(t){case"node.keyObject":{if(!isKeyObject(e))throw new ERR_INVALID_ARG_TYPE("keyData","KeyObject",e);if(e.type==="secret")throw lazyDOMException("Invalid key type","InvalidAccessException");verifyAcceptableDhKeyUse(r.name,e.type,n),s=e;break}case"spki":{verifyAcceptableDhKeyUse(r.name,"public",n),s=createPublicKey({key:e,format:"der",type:"spki"});break}case"pkcs8":{verifyAcceptableDhKeyUse(r.name,"private",n),s=createPrivateKey({key:e,format:"der",type:"pkcs8"});break}default:throw lazyDOMException(`Unable to import DH key with format ${t}`,"NotSupportedError")}const{prime:a,primeLength:p,generator:u,group:y}=s[kHandle].keyDetail({});return new InternalCryptoKey(s,{name:r.name,prime:a,primeLength:p,generator:u,group:y},o,i)}module.exports={DiffieHellman,DiffieHellmanGroup,ECDH,diffieHellman,deriveBitsECDH,deriveBitsDH,dhGenerateKey,asyncDeriveBitsECDH,asyncDeriveBitsDH,dhExportKey,dhImportKey};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Promise,SafeSet}=primordials,{DSAKeyExportJob,KeyObjectHandle,SignJob,kCryptoJobAsync,kSigEncDER,kKeyTypePrivate,kSignJobModeSign,kSignJobModeVerify}=internalBinding("crypto"),{codes:{ERR_INVALID_ARG_TYPE,ERR_MISSING_OPTION}}=require("internal/errors"),{validateUint32}=require("internal/validators"),{InternalCryptoKey,PrivateKeyObject,PublicKeyObject,createPrivateKey,createPublicKey,isKeyObject}=require("internal/crypto/keys"),{generateKeyPair}=require("internal/crypto/keygen"),{getUsagesUnion,hasAnyNotIn,jobPromise,normalizeHashName,validateKeyOps,kKeyObject,kHandle}=require("internal/crypto/util"),{lazyDOMException}=require("internal/util");function verifyAcceptableDsaKeyUse(r,e,n){let t;switch(e){case"private":t=["sign"];break;case"public":t=["verify"];break}if(hasAnyNotIn(n,t))throw lazyDOMException(`Unsupported key usage for an ${r} key`,"SyntaxError")}async function dsaGenerateKey(r,e,n){const{name:t,modulusLength:s,divisorLength:a,hash:o}=r;if(o===void 0)throw new ERR_MISSING_OPTION("algorithm.hash");validateUint32(s,"algorithm.modulusLength");const i=new SafeSet(n);if(hasAnyNotIn(i,["sign","verify"]))throw lazyDOMException("Unsupported key usage for a DSA key","SyntaxError");return new Promise((u,p)=>{generateKeyPair("dsa",{modulusLength:s,divisorLength:a},(c,d,y)=>{if(c)return p(lazyDOMException("The operation failed for an operation-specific reason","OperationError"));const f={name:t,modulusLength:s,divisorLength:a,hash:{name:o.name}},h=new InternalCryptoKey(d,f,getUsagesUnion(i,"verify"),!0),l=new InternalCryptoKey(y,f,getUsagesUnion(i,"sign"),e);u({publicKey:h,privateKey:l})})})}function dsaExportKey(r,e){return jobPromise(new DSAKeyExportJob(kCryptoJobAsync,e,r[kKeyObject][kHandle]))}async function dsaImportKey(r,e,n,t,s){const{hash:a}=n;if(a===void 0)throw new ERR_MISSING_OPTION("algorithm.hash");const o=new SafeSet(s);let i;switch(r){case"node.keyObject":{if(!isKeyObject(e))throw new ERR_INVALID_ARG_TYPE("keyData","KeyObject",e);if(e.type==="secret")throw lazyDOMException("Invalid key type","InvalidAccessException");verifyAcceptableDsaKeyUse(n.name,e.type,o),i=e;break}case"spki":{verifyAcceptableDsaKeyUse(n.name,"public",o),i=createPublicKey({key:e,format:"der",type:"spki"});break}case"pkcs8":{verifyAcceptableDsaKeyUse(n.name,"private",o),i=createPrivateKey({key:e,format:"der",type:"pkcs8"});break}case"jwk":{if(e==null||typeof e!="object")throw lazyDOMException("Invalid JWK keyData","DataError");if(verifyAcceptableDsaKeyUse(n.name,e.x!==void 0?"private":"public",o),e.kty!=="DSA")throw lazyDOMException("Invalid key type","DataError");if(o.size>0&&e.use!==void 0&&e.use!=="sig")throw lazyDOMException("Invalid use type","DataError");if(validateKeyOps(e.key_ops,o),e.ext!==void 0&&e.ext===!1&&t===!0)throw lazyDOMException("JWK is not extractable","DataError");if(e.alg!==void 0){if(typeof e.alg!="string")throw lazyDOMException("Invalid alg","DataError");if(normalizeHashName(e.alg,normalizeHashName.kContextWebCrypto)!==n.hash.name)throw lazyDOMException("Hash mismatch","DataError")}const c=new KeyObjectHandle,d=c.initJwk(e);if(d===void 0)throw lazyDOMException("Invalid JWK keyData","DataError");i=d===kKeyTypePrivate?new PrivateKeyObject(c):new PublicKeyObject(c);break}default:throw lazyDOMException(`Unable to import DSA key with format ${r}`,"NotSupportedError")}if(i.asymmetricKeyType!=="dsa")throw lazyDOMException("Invalid key type","DataError");const{modulusLength:u,divisorLength:p}=i[kHandle].keyDetail({});return new InternalCryptoKey(i,{name:n.name,modulusLength:u,divisorLength:p,hash:n.hash},s,t)}function dsaSignVerify(r,e,n,t){const a=(t===void 0?kSignJobModeSign:kSignJobModeVerify)===kSignJobModeSign?"private":"public";if(r.type!==a)throw lazyDOMException(`Key must be a ${a} key`,"InvalidAccessError");return jobPromise(new SignJob(kCryptoJobAsync,t===void 0?kSignJobModeSign:kSignJobModeVerify,r[kKeyObject][kHandle],void 0,void 0,void 0,e,normalizeHashName(r.algorithm.hash.name),void 0,void 0,kSigEncDER,t))}module.exports={dsaExportKey,dsaGenerateKey,dsaImportKey,dsaSignVerify};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectKeys,Promise,SafeSet}=primordials,{Buffer}=require("buffer"),{ECKeyExportJob,KeyObjectHandle,SignJob,kCryptoJobAsync,kKeyTypePrivate,kKeyTypePublic,kSignJobModeSign,kSignJobModeVerify,kSigEncP1363}=internalBinding("crypto"),{validateBoolean,validateOneOf,validateString}=require("internal/validators"),{codes:{ERR_INVALID_ARG_TYPE,ERR_MISSING_OPTION}}=require("internal/errors"),{getArrayBufferOrView,getUsagesUnion,hasAnyNotIn,jobPromise,normalizeHashName,validateKeyOps,kHandle,kKeyObject,kNamedCurveAliases}=require("internal/crypto/util"),{lazyDOMException}=require("internal/util"),{generateKeyPair}=require("internal/crypto/keygen"),{InternalCryptoKey,PrivateKeyObject,PublicKeyObject,createPrivateKey,createPublicKey,isKeyObject}=require("internal/crypto/keys");function verifyAcceptableEcKeyUse(i,e,r){let n;switch(i){case"ECDH":n=["deriveKey","deriveBits"];break;case"NODE-ED25519":case"NODE-ED448":case"ECDSA":switch(e){case"private":n=["sign"];break;case"public":n=["verify"];break}}if(hasAnyNotIn(r,n))throw lazyDOMException(`Unsupported key usage for a ${i} key`,"SyntaxError")}function createECPublicKeyRaw(i,e){const r=new KeyObjectHandle;if(e=getArrayBufferOrView(e,"keyData"),r.initECRaw(kNamedCurveAliases[i],e))return new PublicKeyObject(r)}function createECRawKey(i,e,r){const n=new KeyObjectHandle;switch(e=getArrayBufferOrView(e,"keyData"),i){case"NODE-ED25519":case"NODE-X25519":if(e.byteLength!==32)throw lazyDOMException(`${i} raw keys must be exactly 32-bytes`);break;case"NODE-ED448":if(e.byteLength!==57)throw lazyDOMException(`${i} raw keys must be exactly 57-bytes`);break;case"NODE-X448":if(e.byteLength!==56)throw lazyDOMException(`${i} raw keys must be exactly 56-bytes`);break}return r?(n.initEDRaw(i,e,kKeyTypePublic),new PublicKeyObject(n)):(n.initEDRaw(i,e,kKeyTypePrivate),new PrivateKeyObject(n))}async function ecGenerateKey(i,e,r){const{name:n,namedCurve:s}=i;validateString(s,"algorithm.namedCurve"),validateOneOf(s,"algorithm.namedCurve",ObjectKeys(kNamedCurveAliases));const o=new SafeSet(r);switch(n){case"ECDSA":if(s==="NODE-ED25519"||s==="NODE-ED448"||s==="NODE-X25519"||s==="NODE-X448")throw lazyDOMException("Unsupported named curves for ECDSA");case"NODE-ED25519":case"NODE-ED448":if(hasAnyNotIn(o,["sign","verify"]))throw lazyDOMException("Unsupported key usage for an ECDSA key","SyntaxError");break;case"ECDH":if(hasAnyNotIn(o,["deriveKey","deriveBits"]))throw lazyDOMException("Unsupported key usage for an ECDH key","SyntaxError");if(s==="NODE-ED25519"||s==="NODE-ED448")throw lazyDOMException("Unsupported named curves for ECDH")}return new Promise((a,t)=>{let c,d;switch(s){case"NODE-ED25519":c="ed25519";break;case"NODE-ED448":c="ed448";break;case"NODE-X25519":c="x25519";break;case"NODE-X448":c="x448";break;default:c="ec",d={namedCurve:s};break}generateKeyPair(c,d,(f,E,u)=>{if(f)return t(lazyDOMException("The operation failed for an operation-specific reason","OperationError"));const y={name:n,namedCurve:s};let l,p;switch(n){case"NODE-ED25519":case"NODE-ED448":case"ECDSA":l=getUsagesUnion(o,"verify"),p=getUsagesUnion(o,"sign");break;case"ECDH":l=[],p=getUsagesUnion(o,"deriveKey","deriveBits");break}const b=new InternalCryptoKey(E,y,l,!0),w=new InternalCryptoKey(u,y,p,e);a({publicKey:b,privateKey:w})})})}function ecExportKey(i,e){return jobPromise(new ECKeyExportJob(kCryptoJobAsync,e,i[kKeyObject][kHandle]))}async function ecImportKey(i,e,r,n,s){const{name:o,namedCurve:a}=r;validateString(a,"algorithm.namedCurve"),validateOneOf(a,"algorithm.namedCurve",ObjectKeys(kNamedCurveAliases));let t;const c=new SafeSet(s);let d=!0;switch(i){case"node.keyObject":{if(!isKeyObject(e))throw new ERR_INVALID_ARG_TYPE("keyData","KeyObject",e);if(e.type==="secret")throw lazyDOMException("Invalid key type","InvalidAccessException");switch(a){case"NODE-X25519":case"NODE-X448":if(r.name!=="ECDH")throw lazyDOMException("Invalid algorithm name.","DataError");break;case"NODE-ED25519":case"NODE-ED448":if(r.name!==a)throw lazyDOMException("Invalid algorithm name.","DataError");break}verifyAcceptableEcKeyUse(o,e.type,c),t=e;break}case"spki":{verifyAcceptableEcKeyUse(o,"public",c),t=createPublicKey({key:e,format:"der",type:"spki"});break}case"pkcs8":{verifyAcceptableEcKeyUse(o,"private",c),t=createPrivateKey({key:e,format:"der",type:"pkcs8"});break}case"jwk":{let f;if(e==null||typeof e!="object")throw lazyDOMException("Invalid JWK keyData","DataError");switch(e.kty){case"OKP":{const E=e.d===void 0;let u;switch(a){case"NODE-ED25519":case"NODE-ED448":u=`NODE-${e.crv.toUpperCase()}`;break;case"NODE-X25519":case"NODE-X448":u="ECDH";break}if(r.name!==u)throw lazyDOMException("Invalid algorithm name.","DataError");verifyAcceptableEcKeyUse(u,E?"public":"private",c),t=createECRawKey(a,Buffer.from(E?e.x:e.d,"base64"),E);break}default:{if(e.kty!=="EC")throw lazyDOMException("Invalid key type","DataError");if(e.d!==void 0?verifyAcceptableEcKeyUse(o,"private",c):verifyAcceptableEcKeyUse(o,"public",c),c.size>0&&e.use!==void 0&&(r.name==="ECDSA"&&e.use!=="sig"||r.name==="ECDH"&&e.use!=="enc"))throw lazyDOMException("Invalid use type","DataError");if(validateKeyOps(e.key_ops,c),e.ext!==void 0&&e.ext===!1&&n===!0)throw lazyDOMException("JWK is not extractable","DataError");if(r.name==="ECDSA"&&e.alg!==void 0){if(typeof e.alg!="string")throw lazyDOMException("Invalid alg","DataError");switch(e.alg){case"ES256":f="P-256";break;case"ES384":f="P-384";break;case"ES512":f="P-521";break}if(f!==a)throw lazyDOMException("Named curve mismatch","DataError")}const E=new KeyObjectHandle,u=E.initJwk(e,a);if(u===void 0)throw lazyDOMException("Invalid JWK keyData","DataError");t=u===kKeyTypePrivate?new PrivateKeyObject(E):new PublicKeyObject(E)}}break}case"raw":{switch(a){case"NODE-X25519":case"NODE-X448":if(r.public!==void 0&&validateBoolean(r.public,"algorithm.public"),r.name!=="ECDH")throw lazyDOMException("Invalid algorithm name.","DataError");verifyAcceptableEcKeyUse(r.name,r.public===!0?"public":"private",c),t=createECRawKey(a,e,r.public);break;case"NODE-ED25519":case"NODE-ED448":if(r.public!==void 0&&validateBoolean(r.public,"algorithm.public"),r.name!==a)throw lazyDOMException("Invalid algorithm name.","DataError");verifyAcceptableEcKeyUse(r.name,r.public===!0?"public":"private",c),t=createECRawKey(a,e,r.public);break;default:verifyAcceptableEcKeyUse(o,"public",c),t=createECPublicKeyRaw(a,e)}if(t===void 0)throw lazyDOMException("Unable to import EC key","OperationError");break}}switch(r.name){case"ECDSA":if(t.asymmetricKeyType!=="ec")throw lazyDOMException("Invalid key type","DataError");break;case"ECDH":if(r.namedCurve==="NODE-X25519"){if(t.asymmetricKeyType!=="x25519")throw lazyDOMException("Invalid key type","DataError");d=!1}else if(r.namedCurve==="NODE-X448"){if(t.asymmetricKeyType!=="x448")throw lazyDOMException("Invalid key type","DataError");d=!1}else if(t.asymmetricKeyType!=="ec")throw lazyDOMException("Invalid key type","DataError");break;case"NODE-ED25519":if(t.asymmetricKeyType!=="ed25519")throw lazyDOMException("Invalid key type","DataError");d=!1;break;case"NODE-ED448":if(t.asymmetricKeyType!=="ed448")throw lazyDOMException("Invalid key type","DataError");d=!1;break}if(d){const{namedCurve:f}=t[kHandle].keyDetail({});if(kNamedCurveAliases[a]!==f)throw lazyDOMException("Named curve mismatch","DataError")}return new InternalCryptoKey(t,{name:o,namedCurve:a},s,n)}function ecdsaSignVerify(i,e,{name:r,hash:n},s){const o=s===void 0?kSignJobModeSign:kSignJobModeVerify,a=o===kSignJobModeSign?"private":"public";if(i.type!==a)throw lazyDOMException(`Key must be a ${a} key`,"InvalidAccessError");let t;switch(r){case"NODE-ED25519":case"NODE-ED448":if(n!==void 0)throw new lazyDOMException(`Hash is not permitted for ${r}`);break;default:if(n===void 0)throw new ERR_MISSING_OPTION("algorithm.hash");t=normalizeHashName(n.name)}return jobPromise(new SignJob(kCryptoJobAsync,o,i[kKeyObject][kHandle],void 0,void 0,void 0,e,t,void 0,void 0,kSigEncP1363,s))}module.exports={ecExportKey,ecImportKey,ecGenerateKey,ecdsaSignVerify};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectSetPrototypeOf,ReflectApply,Symbol}=primordials,{Hash:_Hash,HashJob,Hmac:_Hmac,kCryptoJobAsync}=internalBinding("crypto"),{getArrayBufferOrView,getDefaultEncoding,getStringOption,jobPromise,normalizeAlgorithm,normalizeHashName,validateMaxBufferLength,kHandle}=require("internal/crypto/util"),{prepareSecretKey}=require("internal/crypto/keys"),{Buffer}=require("buffer"),{codes:{ERR_CRYPTO_HASH_FINALIZED,ERR_CRYPTO_HASH_UPDATE_FAILED,ERR_INVALID_ARG_TYPE}}=require("internal/errors"),{validateEncoding,validateString,validateUint32}=require("internal/validators"),{isArrayBufferView}=require("internal/util/types"),LazyTransform=require("internal/streams/lazy_transform"),kState=Symbol("kState"),kFinalized=Symbol("kFinalized");function Hash(e,t){if(!(this instanceof Hash))return new Hash(e,t);e instanceof _Hash||validateString(e,"algorithm");const r=typeof t=="object"&&t!==null?t.outputLength:void 0;r!==void 0&&validateUint32(r,"options.outputLength"),this[kHandle]=new _Hash(e,r),this[kState]={[kFinalized]:!1},ReflectApply(LazyTransform,this,[t])}ObjectSetPrototypeOf(Hash.prototype,LazyTransform.prototype),ObjectSetPrototypeOf(Hash,LazyTransform),Hash.prototype.copy=function(t){if(this[kState][kFinalized])throw new ERR_CRYPTO_HASH_FINALIZED;return new Hash(this[kHandle],t)},Hash.prototype._transform=function(t,r,n){this[kHandle].update(t,r),n()},Hash.prototype._flush=function(t){this.push(this[kHandle].digest()),t()},Hash.prototype.update=function(t,r){if(r=r||getDefaultEncoding(),this[kState][kFinalized])throw new ERR_CRYPTO_HASH_FINALIZED;if(typeof t=="string")validateEncoding(t,r);else if(!isArrayBufferView(t))throw new ERR_INVALID_ARG_TYPE("data",["string","Buffer","TypedArray","DataView"],t);if(!this[kHandle].update(t,r))throw new ERR_CRYPTO_HASH_UPDATE_FAILED;return this},Hash.prototype.digest=function(t){const r=this[kState];if(r[kFinalized])throw new ERR_CRYPTO_HASH_FINALIZED;t=t||getDefaultEncoding();const n=this[kHandle].digest(`${t}`);return r[kFinalized]=!0,n};function Hmac(e,t,r){if(!(this instanceof Hmac))return new Hmac(e,t,r);validateString(e,"hmac");const n=getStringOption(r,"encoding");t=prepareSecretKey(t,n),this[kHandle]=new _Hmac,this[kHandle].init(e,t),this[kState]={[kFinalized]:!1},ReflectApply(LazyTransform,this,[r])}ObjectSetPrototypeOf(Hmac.prototype,LazyTransform.prototype),ObjectSetPrototypeOf(Hmac,LazyTransform),Hmac.prototype.update=Hash.prototype.update,Hmac.prototype.digest=function(t){const r=this[kState];if(t=t||getDefaultEncoding(),r[kFinalized]){const s=Buffer.from("");return t==="buffer"?s:s.toString(t)}const n=this[kHandle].digest(`${t}`);return r[kFinalized]=!0,n},Hmac.prototype._flush=Hash.prototype._flush,Hmac.prototype._transform=Hash.prototype._transform;async function asyncDigest(e,t){return e=normalizeAlgorithm(e),t=getArrayBufferOrView(t,"data"),validateMaxBufferLength(t,"data"),e.length!==void 0&&validateUint32(e.length,"algorithm.length"),jobPromise(new HashJob(kCryptoJobAsync,normalizeHashName(e.name),t,e.length))}module.exports={Hash,Hmac,asyncDigest};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectKeys,StringPrototypeToLowerCase}=primordials,kHashContextNode=1,kHashContextWebCrypto=2,kHashContextJwkRsa=3,kHashContextJwkRsaPss=4,kHashContextJwkRsaOaep=5,kHashContextJwkHmac=6,kHashContextJwkDsa=7,kHashNames={sha1:{[kHashContextNode]:"sha1",[kHashContextWebCrypto]:"SHA-1",[kHashContextJwkRsa]:"RS1",[kHashContextJwkRsaPss]:"PS1",[kHashContextJwkRsaOaep]:"RSA-OAEP",[kHashContextJwkHmac]:"HS1",[kHashContextJwkDsa]:"NODE-DSA-SHA-1"},sha256:{[kHashContextNode]:"sha256",[kHashContextWebCrypto]:"SHA-256",[kHashContextJwkRsa]:"RS256",[kHashContextJwkRsaPss]:"PS256",[kHashContextJwkRsaOaep]:"RSA-OAEP-256",[kHashContextJwkHmac]:"HS256",[kHashContextJwkDsa]:"NODE-DSA-SHA-256"},sha384:{[kHashContextNode]:"sha384",[kHashContextWebCrypto]:"SHA-384",[kHashContextJwkRsa]:"RS384",[kHashContextJwkRsaPss]:"PS384",[kHashContextJwkRsaOaep]:"RSA-OAEP-384",[kHashContextJwkHmac]:"HS384",[kHashContextJwkDsa]:"NODE-DSA-SHA-384"},sha512:{[kHashContextNode]:"sha512",[kHashContextWebCrypto]:"SHA-512",[kHashContextJwkRsa]:"RS512",[kHashContextJwkRsaPss]:"PS512",[kHashContextJwkRsaOaep]:"RSA-OAEP-512",[kHashContextJwkHmac]:"HS512",[kHashContextJwkDsa]:"NODE-DSA-SHA-512"}};{const t=ObjectKeys(kHashNames);for(let s=0;s<t.length;s++){const o=ObjectKeys(kHashNames[t[s]]);for(let e=0;e<o.length;e++){const a=StringPrototypeToLowerCase(kHashNames[t[s]][o[e]]);kHashNames[a]===void 0&&(kHashNames[a]=kHashNames[t[s]])}}}function normalizeHashName(t,s=kHashContextNode){return typeof t!="string"?t:(t=StringPrototypeToLowerCase(t),kHashNames[t]&&kHashNames[t][s]||t)}normalizeHashName.kContextNode=kHashContextNode,normalizeHashName.kContextWebCrypto=kHashContextWebCrypto,normalizeHashName.kContextJwkRsa=kHashContextJwkRsa,normalizeHashName.kContextJwkRsaPss=kHashContextJwkRsaPss,normalizeHashName.kContextJwkRsaOaep=kHashContextJwkRsaOaep,normalizeHashName.kContextJwkHmac=kHashContextJwkHmac,normalizeHashName.kContextJwkDsa=kHashContextJwkDsa,module.exports=normalizeHashName;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{FunctionPrototypeCall,Promise,Uint8Array}=primordials,{HKDFJob,kCryptoJobAsync,kCryptoJobSync}=internalBinding("crypto"),{validateCallback,validateInteger,validateString,validateUint32}=require("internal/validators"),{kMaxLength}=require("buffer"),{getArrayBufferOrView,normalizeHashName,toBuf,validateByteSource,kKeyObject}=require("internal/crypto/util"),{createSecretKey,isKeyObject}=require("internal/crypto/keys"),{lazyDOMException}=require("internal/util"),{isAnyArrayBuffer,isArrayBufferView}=require("internal/util/types"),{codes:{ERR_INVALID_ARG_TYPE,ERR_OUT_OF_RANGE,ERR_MISSING_OPTION},hideStackFrames}=require("internal/errors"),validateParameters=hideStackFrames((r,n,e,t,i)=>{if(n=prepareKey(n),e=toBuf(e),t=toBuf(t),validateString(r,"digest"),validateByteSource(e,"salt"),validateByteSource(t,"info"),validateInteger(i,"length",0,kMaxLength),t.byteLength>1024)throw ERR_OUT_OF_RANGE("info","must not contain more than 1024 bytes",t.byteLength);return{hash:r,key:n,salt:e,info:t,length:i}});function prepareKey(r){if(isKeyObject(r))return r;if(isAnyArrayBuffer(r))return createSecretKey(new Uint8Array(r));if(r=toBuf(r),!isArrayBufferView(r))throw new ERR_INVALID_ARG_TYPE("ikm",["string","SecretKeyObject","ArrayBuffer","TypedArray","DataView","Buffer"],r);return createSecretKey(r)}function hkdf(r,n,e,t,i,a){({hash:r,key:n,salt:e,info:t,length:i}=validateParameters(r,n,e,t,i)),validateCallback(a);const o=new HKDFJob(kCryptoJobAsync,r,n,e,t,i);o.ondone=(u,c)=>{if(u)return FunctionPrototypeCall(a,o,u);FunctionPrototypeCall(a,o,null,c)},o.run()}function hkdfSync(r,n,e,t,i){({hash:r,key:n,salt:e,info:t,length:i}=validateParameters(r,n,e,t,i));const a=new HKDFJob(kCryptoJobSync,r,n,e,t,i),{0:o,1:u}=a.run();if(o!==void 0)throw o;return u}async function hkdfDeriveBits(r,n,e){validateUint32(e,"length");const{hash:t}=r,i=getArrayBufferOrView(r.salt,"algorithm.salt"),a=getArrayBufferOrView(r.info,"algorithm.info");if(t===void 0)throw new ERR_MISSING_OPTION("algorithm.hash");let o=512/8;if(e!==void 0){if(e===0)throw lazyDOMException("length cannot be zero","OperationError");if(e%8)throw lazyDOMException("length must be a multiple of 8","OperationError");o=e/8}return new Promise((u,c)=>{hkdf(normalizeHashName(t.name),n[kKeyObject],i,a,o,(s,f)=>{if(s)return c(s);u(f)})})}module.exports={hkdf,hkdfSync,hkdfDeriveBits};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{FunctionPrototypeCall,ObjectDefineProperty,SafeArrayIterator}=primordials,{DhKeyPairGenJob,DsaKeyPairGenJob,EcKeyPairGenJob,NidKeyPairGenJob,RsaKeyPairGenJob,SecretKeyGenJob,kCryptoJobAsync,kCryptoJobSync,kKeyVariantRSA_PSS,kKeyVariantRSA_SSA_PKCS1_v1_5,EVP_PKEY_ED25519,EVP_PKEY_ED448,EVP_PKEY_X25519,EVP_PKEY_X448,OPENSSL_EC_NAMED_CURVE,OPENSSL_EC_EXPLICIT_CURVE}=internalBinding("crypto"),{PublicKeyObject,PrivateKeyObject,SecretKeyObject,parsePublicKeyEncoding,parsePrivateKeyEncoding,isJwk}=require("internal/crypto/keys"),{kAesKeyLengths}=require("internal/crypto/util"),{customPromisifyArgs}=require("internal/util"),{isInt32,isUint32,validateCallback,validateString,validateInteger,validateObject,validateOneOf}=require("internal/validators"),{codes:{ERR_INCOMPATIBLE_OPTION_PAIR,ERR_INVALID_ARG_VALUE,ERR_MISSING_OPTION}}=require("internal/errors"),{isArrayBufferView}=require("internal/util/types"),{getOptionValue}=require("internal/options"),pendingDeprecation=getOptionValue("--pending-deprecation");function wrapKey(i,r){return typeof i=="string"||isArrayBufferView(i)||isJwk(i)?i:new r(i)}function generateKeyPair(i,r,e){typeof r=="function"&&(e=r,r=void 0),validateCallback(e);const o=createJob(kCryptoJobAsync,i,r);o.ondone=(t,n)=>{if(t)return FunctionPrototypeCall(e,o,t);let{0:a,1:s}=n;a=wrapKey(a,PublicKeyObject),s=wrapKey(s,PrivateKeyObject),FunctionPrototypeCall(e,o,null,a,s)},o.run()}ObjectDefineProperty(generateKeyPair,customPromisifyArgs,{value:["publicKey","privateKey"],enumerable:!1});function generateKeyPairSync(i,r){return handleError(createJob(kCryptoJobSync,i,r).run())}function handleError(i){if(i==null)return;const{0:r,1:e}=i;if(r!==void 0)throw r;const{0:o,1:t}=e;return{publicKey:wrapKey(o,PublicKeyObject),privateKey:wrapKey(t,PrivateKeyObject)}}function parseKeyEncoding(i,r={}){const{publicKeyEncoding:e,privateKeyEncoding:o}=r;let t,n;if(e==null)t=n=void 0;else if(typeof e=="object")({format:t,type:n}=parsePublicKeyEncoding(e,i,"publicKeyEncoding"));else throw new ERR_INVALID_ARG_VALUE("options.publicKeyEncoding",e);let a,s,u,l;if(o==null)a=s=void 0;else if(typeof o=="object")({format:a,type:s,cipher:u,passphrase:l}=parsePrivateKeyEncoding(o,i,"privateKeyEncoding"));else throw new ERR_INVALID_ARG_VALUE("options.privateKeyEncoding",o);return[t,n,a,s,u,l]}function createJob(i,r,e){validateString(r,"type");const o=new SafeArrayIterator(parseKeyEncoding(r,e));switch(e!==void 0&&validateObject(e,"options"),r){case"rsa":case"rsa-pss":{validateObject(e,"options");const{modulusLength:t}=e;if(!isUint32(t))throw new ERR_INVALID_ARG_VALUE("options.modulusLength",t);let{publicExponent:n}=e;if(n==null)n=65537;else if(!isUint32(n))throw new ERR_INVALID_ARG_VALUE("options.publicExponent",n);if(r==="rsa")return new RsaKeyPairGenJob(i,kKeyVariantRSA_SSA_PKCS1_v1_5,t,n,...o);const{hash:a,mgf1Hash:s,hashAlgorithm:u,mgf1HashAlgorithm:l,saltLength:c}=e;if(c!==void 0&&(!isInt32(c)||c<0))throw new ERR_INVALID_ARG_VALUE("options.saltLength",c);if(u!==void 0&&typeof u!="string")throw new ERR_INVALID_ARG_VALUE("options.hashAlgorithm",u);if(l!==void 0&&typeof l!="string")throw new ERR_INVALID_ARG_VALUE("options.mgf1HashAlgorithm",l);if(a!==void 0&&(pendingDeprecation&&process.emitWarning('"options.hash" is deprecated, use "options.hashAlgorithm" instead.',"DeprecationWarning","DEP0154"),typeof a!="string"||u&&a!==u))throw new ERR_INVALID_ARG_VALUE("options.hash",a);if(s!==void 0&&(pendingDeprecation&&process.emitWarning('"options.mgf1Hash" is deprecated, use "options.mgf1HashAlgorithm" instead.',"DeprecationWarning","DEP0154"),typeof s!="string"||l&&s!==l))throw new ERR_INVALID_ARG_VALUE("options.mgf1Hash",s);return new RsaKeyPairGenJob(i,kKeyVariantRSA_PSS,t,n,u||a,l||s,c,...o)}case"dsa":{validateObject(e,"options");const{modulusLength:t}=e;if(!isUint32(t))throw new ERR_INVALID_ARG_VALUE("options.modulusLength",t);let{divisorLength:n}=e;if(n==null)n=-1;else if(!isInt32(n)||n<0)throw new ERR_INVALID_ARG_VALUE("options.divisorLength",n);return new DsaKeyPairGenJob(i,t,n,...o)}case"ec":{validateObject(e,"options");const{namedCurve:t}=e;if(typeof t!="string")throw new ERR_INVALID_ARG_VALUE("options.namedCurve",t);let{paramEncoding:n}=e;if(n==null||n==="named")n=OPENSSL_EC_NAMED_CURVE;else if(n==="explicit")n=OPENSSL_EC_EXPLICIT_CURVE;else throw new ERR_INVALID_ARG_VALUE("options.paramEncoding",n);return new EcKeyPairGenJob(i,t,n,...o)}case"ed25519":case"ed448":case"x25519":case"x448":{let t;switch(r){case"ed25519":t=EVP_PKEY_ED25519;break;case"ed448":t=EVP_PKEY_ED448;break;case"x25519":t=EVP_PKEY_X25519;break;case"x448":t=EVP_PKEY_X448;break}return new NidKeyPairGenJob(i,t,...o)}case"dh":{validateObject(e,"options");const{group:t,primeLength:n,prime:a,generator:s}=e;if(t!=null){if(a!=null)throw new ERR_INCOMPATIBLE_OPTION_PAIR("group","prime");if(n!=null)throw new ERR_INCOMPATIBLE_OPTION_PAIR("group","primeLength");if(s!=null)throw new ERR_INCOMPATIBLE_OPTION_PAIR("group","generator");if(typeof t!="string")throw new ERR_INVALID_ARG_VALUE("options.group",t);return new DhKeyPairGenJob(i,t,...o)}if(a!=null){if(n!=null)throw new ERR_INCOMPATIBLE_OPTION_PAIR("prime","primeLength");if(!isArrayBufferView(a))throw new ERR_INVALID_ARG_VALUE("options.prime",a)}else if(n!=null){if(!isInt32(n)||n<0)throw new ERR_INVALID_ARG_VALUE("options.primeLength",n)}else throw new ERR_MISSING_OPTION("At least one of the group, prime, or primeLength options");if(s!=null&&(!isInt32(s)||s<0))throw new ERR_INVALID_ARG_VALUE("options.generator",s);return new DhKeyPairGenJob(i,a??n,s??2,...o)}default:}throw new ERR_INVALID_ARG_VALUE("type",r,"must be a supported key type")}function generateKeyJob(i,r,e){validateString(r,"type"),validateObject(e,"options");const{length:o}=e;switch(r){case"hmac":validateInteger(o,"options.length",1,2**31-1);break;case"aes":validateOneOf(o,"options.length",kAesKeyLengths);break;default:throw new ERR_INVALID_ARG_VALUE("type",r,"must be a supported key type")}return new SecretKeyGenJob(i,o)}function handleGenerateKeyError(i){if(i===void 0)return;const{0:r,1:e}=i;if(r!==void 0)throw r;return wrapKey(e,SecretKeyObject)}function generateKey(i,r,e){typeof r=="function"&&(e=r,r=void 0),validateCallback(e);const o=generateKeyJob(kCryptoJobAsync,i,r);o.ondone=(t,n)=>{if(t)return FunctionPrototypeCall(e,o,t);FunctionPrototypeCall(e,o,null,wrapKey(n,SecretKeyObject))},handleGenerateKeyError(o.run())}function generateKeySync(i,r){return handleGenerateKeyError(generateKeyJob(kCryptoJobSync,i,r).run())}module.exports={generateKeyPair,generateKeyPairSync,generateKey,generateKeySync};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayFrom,ArrayPrototypeSlice,ObjectDefineProperty,ObjectSetPrototypeOf,Symbol,Uint8Array}=primordials,{KeyObjectHandle,createNativeKeyObjectClass,kKeyTypeSecret,kKeyTypePublic,kKeyTypePrivate,kKeyFormatPEM,kKeyFormatDER,kKeyFormatJWK,kKeyEncodingPKCS1,kKeyEncodingPKCS8,kKeyEncodingSPKI,kKeyEncodingSEC1}=internalBinding("crypto"),{validateObject,validateOneOf,validateString}=require("internal/validators"),{codes:{ERR_CRYPTO_INCOMPATIBLE_KEY_OPTIONS,ERR_CRYPTO_INVALID_KEY_OBJECT_TYPE,ERR_CRYPTO_INVALID_JWK,ERR_ILLEGAL_CONSTRUCTOR,ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_OUT_OF_RANGE}}=require("internal/errors"),{kHandle,kKeyObject,getArrayBufferOrView,bigIntArrayToUnsignedBigInt}=require("internal/crypto/util"),{isAnyArrayBuffer,isArrayBufferView}=require("internal/util/types"),{JSTransferable,kClone,kDeserialize}=require("internal/worker/js_transferable"),{customInspectSymbol:kInspect}=require("internal/util"),{inspect}=require("internal/util/inspect"),{Buffer}=require("buffer"),kAlgorithm=Symbol("kAlgorithm"),kExtractable=Symbol("kExtractable"),kKeyType=Symbol("kKeyType"),kKeyUsages=Symbol("kKeyUsages"),kConsumePublic=0,kConsumePrivate=1,kCreatePublic=2,kCreatePrivate=3,encodingNames=[];for(const e of[[kKeyEncodingPKCS1,"pkcs1"],[kKeyEncodingPKCS8,"pkcs8"],[kKeyEncodingSPKI,"spki"],[kKeyEncodingSEC1,"sec1"]])encodingNames[e[0]]=e[1];const{0:KeyObject,1:SecretKeyObject,2:PublicKeyObject,3:PrivateKeyObject}=createNativeKeyObjectClass(e=>{class t extends e{constructor(i,p){if(i!=="secret"&&i!=="public"&&i!=="private")throw new ERR_INVALID_ARG_VALUE("type",i);if(typeof p!="object"||!(p instanceof KeyObjectHandle))throw new ERR_INVALID_ARG_TYPE("handle","object",p);super(p);this[kKeyType]=i,ObjectDefineProperty(this,kHandle,{value:p,enumerable:!1,configurable:!1,writable:!1})}get type(){return this[kKeyType]}static from(i){if(!isCryptoKey(i))throw new ERR_INVALID_ARG_TYPE("key","CryptoKey",i);return i[kKeyObject]}}class r extends t{constructor(i){super("secret",i)}get symmetricKeySize(){return this[kHandle].getSymmetricKeySize()}export(i){return i!==void 0&&(validateObject(i,"options"),validateOneOf(i.format,"options.format",[void 0,"buffer","jwk"]),i.format==="jwk")?this[kHandle].exportJwk({},!1):this[kHandle].export()}}const n=Symbol("kAsymmetricKeyType"),s=Symbol("kAsymmetricKeyDetails");function a(f={}){return f.publicExponent!==void 0?{...f,publicExponent:bigIntArrayToUnsignedBigInt(new Uint8Array(f.publicExponent))}:f}class c extends t{constructor(i,p){super(i,p)}get asymmetricKeyType(){return this[n]||(this[n]=this[kHandle].getAsymmetricKeyType())}get asymmetricKeyDetails(){switch(this.asymmetricKeyType){case"rsa":case"rsa-pss":case"dsa":case"ec":return this[s]||(this[s]=a(this[kHandle].keyDetail({})));default:return{}}}}class o extends c{constructor(i){super("public",i)}export(i){if(i&&i.format==="jwk")return this[kHandle].exportJwk({},!1);const{format:p,type:d}=parsePublicKeyEncoding(i,this.asymmetricKeyType);return this[kHandle].export(p,d)}}class u extends c{constructor(i){super("private",i)}export(i){if(i&&i.format==="jwk"){if(i.passphrase!==void 0)throw new ERR_CRYPTO_INCOMPATIBLE_KEY_OPTIONS("jwk","does not support encryption");return this[kHandle].exportJwk({},!1)}const{format:p,type:d,cipher:l,passphrase:y}=parsePrivateKeyEncoding(i,this.asymmetricKeyType);return this[kHandle].export(p,d,l,y)}}return[t,r,o,u]});function parseKeyFormat(e,t,r){if(e===void 0&&t!==void 0)return t;if(e==="pem")return kKeyFormatPEM;if(e==="der")return kKeyFormatDER;if(e==="jwk")return kKeyFormatJWK;throw new ERR_INVALID_ARG_VALUE(r,e)}function parseKeyType(e,t,r,n,s){if(!(e===void 0&&!t)){if(e==="pkcs1"){if(r!==void 0&&r!=="rsa")throw new ERR_CRYPTO_INCOMPATIBLE_KEY_OPTIONS(e,"can only be used for RSA keys");return kKeyEncodingPKCS1}else{if(e==="spki"&&n!==!1)return kKeyEncodingSPKI;if(e==="pkcs8"&&n!==!0)return kKeyEncodingPKCS8;if(e==="sec1"&&n!==!0){if(r!==void 0&&r!=="ec")throw new ERR_CRYPTO_INCOMPATIBLE_KEY_OPTIONS(e,"can only be used for EC keys");return kKeyEncodingSEC1}}throw new ERR_INVALID_ARG_VALUE(s,e)}}function option(e,t){return t===void 0?`options.${e}`:`options.${t}.${e}`}function parseKeyFormatAndType(e,t,r,n){const{format:s,type:a}=e,c=t===void 0,o=parseKeyFormat(s,c?kKeyFormatPEM:void 0,option("format",n)),f=parseKeyType(a,(!c||o===kKeyFormatDER)&&o!==kKeyFormatJWK,t,r,option("type",n));return{format:o,type:f}}function isStringOrBuffer(e){return typeof e=="string"||isArrayBufferView(e)||isAnyArrayBuffer(e)}function parseKeyEncoding(e,t,r,n){validateObject(e,"options");const s=t===void 0,{format:a,type:c}=parseKeyFormatAndType(e,t,r,n);let o,u,f;if(r!==!0){if({cipher:o,passphrase:u,encoding:f}=e,!s){if(o!=null){if(typeof o!="string")throw new ERR_INVALID_ARG_VALUE(option("cipher",n),o);if(a===kKeyFormatDER&&(c===kKeyEncodingPKCS1||c===kKeyEncodingSEC1))throw new ERR_CRYPTO_INCOMPATIBLE_KEY_OPTIONS(encodingNames[c],"does not support encryption")}else if(u!==void 0)throw new ERR_INVALID_ARG_VALUE(option("cipher",n),o)}if(s&&u!==void 0&&!isStringOrBuffer(u)||!s&&o!=null&&!isStringOrBuffer(u))throw new ERR_INVALID_ARG_VALUE(option("passphrase",n),u)}return u!==void 0&&(u=getArrayBufferOrView(u,"key.passphrase",f)),{format:a,type:c,cipher:o,passphrase:u}}function parsePublicKeyEncoding(e,t,r){return parseKeyEncoding(e,t,t?!0:void 0,r)}function parsePrivateKeyEncoding(e,t,r){return parseKeyEncoding(e,t,!1,r)}function getKeyObjectHandle(e,t){if(t===kCreatePrivate)throw new ERR_INVALID_ARG_TYPE("key",["string","ArrayBuffer","Buffer","TypedArray","DataView"],e);if(e.type!=="private"){if(t===kConsumePrivate||t===kCreatePublic)throw new ERR_CRYPTO_INVALID_KEY_OBJECT_TYPE(e.type,"private");if(e.type!=="public")throw new ERR_CRYPTO_INVALID_KEY_OBJECT_TYPE(e.type,"private or public")}return e[kHandle]}function getKeyTypes(e,t=!1){const r=["ArrayBuffer","Buffer","TypedArray","DataView","string","KeyObject","CryptoKey"];return t?ArrayPrototypeSlice(r,0,4):e?r:ArrayPrototypeSlice(r,0,5)}function getKeyObjectHandleFromJwk(e,t){validateObject(e,"key"),validateOneOf(e.kty,"key.kty",["RSA","EC","OKP"]);const r=t===kConsumePublic||t===kCreatePublic;if(e.kty==="OKP"){validateString(e.crv,"key.crv"),validateOneOf(e.crv,"key.crv",["Ed25519","Ed448","X25519","X448"]),validateString(e.x,"key.x"),r||validateString(e.d,"key.d");let c;switch(r?c=Buffer.from(e.x,"base64"):c=Buffer.from(e.d,"base64"),e.crv){case"Ed25519":case"X25519":if(c.byteLength!==32)throw new ERR_CRYPTO_INVALID_JWK;break;case"Ed448":if(c.byteLength!==57)throw new ERR_CRYPTO_INVALID_JWK;break;case"X448":if(c.byteLength!==56)throw new ERR_CRYPTO_INVALID_JWK;break}const o=new KeyObjectHandle;return r?o.initEDRaw(`NODE-${e.crv.toUpperCase()}`,c,kKeyTypePublic):o.initEDRaw(`NODE-${e.crv.toUpperCase()}`,c,kKeyTypePrivate),o}if(e.kty==="EC"){validateString(e.crv,"key.crv"),validateOneOf(e.crv,"key.crv",["P-256","secp256k1","P-384","P-521"]),validateString(e.x,"key.x"),validateString(e.y,"key.y");const c={kty:e.kty,crv:e.crv,x:e.x,y:e.y};r||(validateString(e.d,"key.d"),c.d=e.d);const o=new KeyObjectHandle;if(o.initJwk(c,c.crv)===void 0)throw new ERR_CRYPTO_INVALID_JWK;return o}validateString(e.n,"key.n"),validateString(e.e,"key.e");const n={kty:e.kty,n:e.n,e:e.e};r||(validateString(e.d,"key.d"),validateString(e.p,"key.p"),validateString(e.q,"key.q"),validateString(e.dp,"key.dp"),validateString(e.dq,"key.dq"),validateString(e.qi,"key.qi"),n.d=e.d,n.p=e.p,n.q=e.q,n.dp=e.dp,n.dq=e.dq,n.qi=e.qi);const s=new KeyObjectHandle;if(s.initJwk(n)===void 0)throw new ERR_CRYPTO_INVALID_JWK;return s}function prepareAsymmetricKey(e,t){if(isKeyObject(e))return{data:getKeyObjectHandle(e,t)};if(isCryptoKey(e))return{data:getKeyObjectHandle(e[kKeyObject],t)};if(isStringOrBuffer(e))return{format:kKeyFormatPEM,data:getArrayBufferOrView(e,"key")};if(typeof e=="object"){const{key:r,encoding:n,format:s}=e;if(isKeyObject(r))return{data:getKeyObjectHandle(r,t)};if(isCryptoKey(r))return{data:getKeyObjectHandle(r[kKeyObject],t)};if(isJwk(r)&&s==="jwk")return{data:getKeyObjectHandleFromJwk(r,t),format:"jwk"};if(!isStringOrBuffer(r))throw new ERR_INVALID_ARG_TYPE("key.key",getKeyTypes(t!==kCreatePrivate),r);const a=t===kConsumePrivate||t===kCreatePrivate?!1:void 0;return{data:getArrayBufferOrView(r,"key",n),...parseKeyEncoding(e,void 0,a)}}throw new ERR_INVALID_ARG_TYPE("key",getKeyTypes(t!==kCreatePrivate),e)}function preparePrivateKey(e){return prepareAsymmetricKey(e,kConsumePrivate)}function preparePublicOrPrivateKey(e){return prepareAsymmetricKey(e,kConsumePublic)}function prepareSecretKey(e,t,r=!1){if(!r){if(isKeyObject(e)){if(e.type!=="secret")throw new ERR_CRYPTO_INVALID_KEY_OBJECT_TYPE(e.type,"secret");return e[kHandle]}else if(isCryptoKey(e)){if(e.type!=="secret")throw new ERR_CRYPTO_INVALID_KEY_OBJECT_TYPE(e.type,"secret");return e[kKeyObject][kHandle]}}if(typeof e!="string"&&!isArrayBufferView(e)&&!isAnyArrayBuffer(e))throw new ERR_INVALID_ARG_TYPE("key",getKeyTypes(!r,r),e);return getArrayBufferOrView(e,"key",t)}function createSecretKey(e,t){if(e=prepareSecretKey(e,t,!0),e.byteLength===0)throw new ERR_OUT_OF_RANGE("key.byteLength","> 0",e.byteLength);const r=new KeyObjectHandle;return r.init(kKeyTypeSecret,e),new SecretKeyObject(r)}function createPublicKey(e){const{format:t,type:r,data:n,passphrase:s}=prepareAsymmetricKey(e,kCreatePublic);let a;return t==="jwk"?a=n:(a=new KeyObjectHandle,a.init(kKeyTypePublic,n,t,r,s)),new PublicKeyObject(a)}function createPrivateKey(e){const{format:t,type:r,data:n,passphrase:s}=prepareAsymmetricKey(e,kCreatePrivate);let a;return t==="jwk"?a=n:(a=new KeyObjectHandle,a.init(kKeyTypePrivate,n,t,r,s)),new PrivateKeyObject(a)}function isKeyObject(e){return e!=null&&e[kKeyType]!==void 0}class CryptoKey extends JSTransferable{constructor(){throw new ERR_ILLEGAL_CONSTRUCTOR}[kInspect](t,r){if(t<0)return this;const n={...r,depth:r.depth==null?null:r.depth-1};return`CryptoKey ${inspect({type:this.type,extractable:this.extractable,algorithm:this.algorithm,usages:this.usages},n)}`}get type(){return this[kKeyObject].type}get extractable(){return this[kExtractable]}get algorithm(){return this[kAlgorithm]}get usages(){return ArrayFrom(this[kKeyUsages])}[kClone](){const t=this[kKeyObject],r=this.algorithm,n=this.extractable,s=this.usages;return{data:{keyObject:t,algorithm:r,usages:s,extractable:n},deserializeInfo:"internal/crypto/keys:InternalCryptoKey"}}[kDeserialize]({keyObject:t,algorithm:r,usages:n,extractable:s}){this[kKeyObject]=t,this[kAlgorithm]=r,this[kKeyUsages]=n,this[kExtractable]=s}}class InternalCryptoKey extends JSTransferable{constructor(t,r,n,s){super();this[kKeyObject]=t,this[kAlgorithm]=r,this[kExtractable]=s,this[kKeyUsages]=n}}InternalCryptoKey.prototype.constructor=CryptoKey,ObjectSetPrototypeOf(InternalCryptoKey.prototype,CryptoKey.prototype);function isCryptoKey(e){return e!=null&&e[kKeyObject]!==void 0}function isJwk(e){return e!=null&&e.kty!==void 0}module.exports={createSecretKey,createPublicKey,createPrivateKey,KeyObject,CryptoKey,InternalCryptoKey,parsePublicKeyEncoding,parsePrivateKeyEncoding,parseKeyEncoding,preparePrivateKey,preparePublicOrPrivateKey,prepareSecretKey,SecretKeyObject,PublicKeyObject,PrivateKeyObject,isKeyObject,isCryptoKey,isJwk};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayFrom,Promise,SafeSet}=primordials,{HmacJob,KeyObjectHandle,kCryptoJobAsync,kSignJobModeSign,kSignJobModeVerify}=internalBinding("crypto"),{getHashLength,hasAnyNotIn,jobPromise,normalizeHashName,validateBitLength,validateKeyOps,kHandle,kKeyObject}=require("internal/crypto/util"),{lazyDOMException}=require("internal/util"),{codes:{ERR_MISSING_OPTION,ERR_INVALID_ARG_TYPE}}=require("internal/errors"),{generateKey}=require("internal/crypto/keygen"),{InternalCryptoKey,SecretKeyObject,createSecretKey,isKeyObject}=require("internal/crypto/keys");async function hmacGenerateKey(t,e,r){const{hash:n,name:s}=t;let{length:o}=t;if(n===void 0)throw new ERR_MISSING_OPTION("algorithm.hash");o===void 0&&(o=getHashLength(n.name)),validateBitLength(o,"algorithm.length",!0);const h=new SafeSet(r);if(hasAnyNotIn(h,["sign","verify"]))throw lazyDOMException("Unsupported key usage for an HMAC key","SyntaxError");return new Promise((i,c)=>{generateKey("hmac",{length:o},(a,l)=>{if(a)return c(lazyDOMException("The operation failed for an operation-specific reason","OperationError"));i(new InternalCryptoKey(l,{name:s,length:o,hash:{name:n.name}},ArrayFrom(h),e))})})}async function hmacImportKey(t,e,r,n,s){const{hash:o}=r;if(o===void 0)throw new ERR_MISSING_OPTION("algorithm.hash");const h=new SafeSet(s);if(hasAnyNotIn(h,["sign","verify"]))throw lazyDOMException("Unsupported key usage for an HMAC key","SyntaxError");let i;switch(t){case"node.keyObject":{if(!isKeyObject(e))throw new ERR_INVALID_ARG_TYPE("keyData","KeyObject",e);if(e.type!=="secret")throw lazyDOMException(`Unable to import HMAC key with format ${t}`);i=e;break}case"raw":{const a=e.byteLength*8;if(a===0||r.length===0)throw lazyDOMException("Zero-length key is not supported","DataError");if(r.length!==void 0&&r.length!==a)throw lazyDOMException("Invalid key length","DataError");i=createSecretKey(e);break}case"jwk":{if(e==null||typeof e!="object")throw lazyDOMException("Invalid JWK keyData","DataError");if(e.kty!=="oct")throw lazyDOMException("Invalid key type","DataError");if(h.size>0&&e.use!==void 0&&e.use!=="sig")throw lazyDOMException("Invalid use type","DataError");if(validateKeyOps(e.key_ops,h),e.ext!==void 0&&e.ext===!1&&n===!0)throw lazyDOMException("JWK is not extractable","DataError");if(e.alg!==void 0){if(typeof e.alg!="string")throw lazyDOMException("Invalid alg","DataError");switch(e.alg){case"HS1":if(r.hash.name!=="SHA-1")throw lazyDOMException("Digest algorithm mismatch","DataError");break;case"HS256":if(r.hash.name!=="SHA-256")throw lazyDOMException("Digest algorithm mismatch","DataError");break;case"HS384":if(r.hash.name!=="SHA-384")throw lazyDOMException("Digest algorithm mismatch","DataError");break;case"HS512":if(r.hash.name!=="SHA-512")throw lazyDOMException("Digest algorithm mismatch","DataError");break;default:throw lazyDOMException("Unsupported digest algorithm","DataError")}}const a=new KeyObjectHandle;a.initJwk(e),i=new SecretKeyObject(a);break}default:throw lazyDOMException(`Unable to import HMAC key with format ${t}`)}const{length:c}=i[kHandle].keyDetail({});return new InternalCryptoKey(i,{name:"HMAC",hash:r.hash,length:c},s,n)}function hmacSignVerify(t,e,r,n){const s=n===void 0?kSignJobModeSign:kSignJobModeVerify;return jobPromise(new HmacJob(kCryptoJobAsync,s,normalizeHashName(t.algorithm.hash.name),t[kKeyObject][kHandle],e,n))}module.exports={hmacImportKey,hmacGenerateKey,hmacSignVerify};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{FunctionPrototypeCall,Promise}=primordials,{Buffer}=require("buffer"),{PBKDF2Job,kCryptoJobAsync,kCryptoJobSync}=internalBinding("crypto"),{validateCallback,validateInteger,validateString,validateUint32}=require("internal/validators"),{ERR_MISSING_OPTION}=require("internal/errors").codes,{getArrayBufferOrView,getDefaultEncoding,normalizeHashName,kKeyObject}=require("internal/crypto/util"),{lazyDOMException}=require("internal/util");function pbkdf2(t,e,r,o,n,u){typeof n=="function"&&(u=n,n=void 0),{password:t,salt:e,iterations:r,keylen:o,digest:n}=check(t,e,r,o,n),validateCallback(u);const i=new PBKDF2Job(kCryptoJobAsync,t,e,r,o,n),f=getDefaultEncoding();i.ondone=(c,a)=>{if(c!==void 0)return FunctionPrototypeCall(u,i,c);const l=Buffer.from(a);if(f==="buffer")return FunctionPrototypeCall(u,i,null,l);FunctionPrototypeCall(u,i,null,l.toString(f))},i.run()}function pbkdf2Sync(t,e,r,o,n){({password:t,salt:e,iterations:r,keylen:o,digest:n}=check(t,e,r,o,n));const u=new PBKDF2Job(kCryptoJobSync,t,e,r,o,n),{0:i,1:f}=u.run();if(i!==void 0)throw i;const c=Buffer.from(f),a=getDefaultEncoding();return a==="buffer"?c:c.toString(a)}function check(t,e,r,o,n){return validateString(n,"digest"),t=getArrayBufferOrView(t,"password"),e=getArrayBufferOrView(e,"salt"),validateUint32(r,"iterations",!0),validateUint32(o,"keylen"),{password:t,salt:e,iterations:r,keylen:o,digest:n}}async function pbkdf2DeriveBits(t,e,r){validateUint32(r,"length");const{iterations:o}=t;let{hash:n}=t;const u=getArrayBufferOrView(t.salt,"algorithm.salt");if(n===void 0)throw new ERR_MISSING_OPTION("algorithm.hash");validateInteger(o,"algorithm.iterations",1),n=normalizeHashName(n.name);const i=e[kKeyObject].export();let f=64;if(r!==void 0){if(r===0)throw lazyDOMException("length cannot be zero","OperationError");if(r%8)throw lazyDOMException("length must be a multiple of 8","OperationError");f=r/8}return new Promise((c,a)=>{pbkdf2(i,u,o,f,n,(l,b)=>{if(l)return a(l);c(b.buffer)})})}module.exports={pbkdf2,pbkdf2Sync,pbkdf2DeriveBits};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Array,ArrayPrototypeForEach,ArrayPrototypePush,ArrayPrototypeShift,ArrayPrototypeSplice,BigInt,FunctionPrototypeBind,FunctionPrototypeCall,MathMin,NumberIsNaN,NumberIsSafeInteger,NumberPrototypeToString,StringPrototypePadStart}=primordials,{RandomBytesJob,RandomPrimeJob,CheckPrimeJob,kCryptoJobAsync,kCryptoJobSync,secureBuffer}=internalBinding("crypto"),{lazyDOMException}=require("internal/util"),{Buffer,kMaxLength}=require("buffer"),{codes:{ERR_INVALID_ARG_TYPE,ERR_OUT_OF_RANGE,ERR_OPERATION_FAILED}}=require("internal/errors"),{validateNumber,validateBoolean,validateCallback,validateObject,validateUint32}=require("internal/validators"),{isArrayBufferView,isAnyArrayBuffer,isFloat32Array,isFloat64Array}=require("internal/util/types"),{FastBuffer}=require("internal/buffer"),kMaxInt32=2**31-1,kMaxPossibleLength=MathMin(kMaxLength,kMaxInt32);function assertOffset(e,n,r){validateNumber(e,"offset"),e*=n;const t=MathMin(r,kMaxPossibleLength);if(NumberIsNaN(e)||e>t||e<0)throw new ERR_OUT_OF_RANGE("offset",`>= 0 && <= ${t}`,e);return e>>>0}function assertSize(e,n,r,t){if(validateNumber(e,"size"),e*=n,NumberIsNaN(e)||e>kMaxPossibleLength||e<0)throw new ERR_OUT_OF_RANGE("size",`>= 0 && <= ${kMaxPossibleLength}`,e);if(e+r>t)throw new ERR_OUT_OF_RANGE("size + offset",`<= ${t}`,e+r);return e>>>0}function randomBytes(e,n){e=assertSize(e,1,0,1/0),n!==void 0&&validateCallback(n);const r=new FastBuffer(e);if(n===void 0)return randomFillSync(r.buffer,0,e),r;randomFill(r.buffer,0,e,function(t){if(t)return FunctionPrototypeCall(n,this,t);FunctionPrototypeCall(n,this,null,r)})}function randomFillSync(e,n=0,r){if(!isAnyArrayBuffer(e)&&!isArrayBufferView(e))throw new ERR_INVALID_ARG_TYPE("buf",["ArrayBuffer","ArrayBufferView"],e);const t=e.BYTES_PER_ELEMENT||1;if(n=assertOffset(n,t,e.byteLength),r===void 0?r=e.byteLength-n:r=assertSize(r,t,n,e.byteLength),r===0)return e;const i=new RandomBytesJob(kCryptoJobSync,e,n,r).run()[0];if(i)throw i;return e}function randomFill(e,n,r,t){if(!isAnyArrayBuffer(e)&&!isArrayBufferView(e))throw new ERR_INVALID_ARG_TYPE("buf",["ArrayBuffer","ArrayBufferView"],e);const o=e.BYTES_PER_ELEMENT||1;if(typeof n=="function"?(t=n,n=0,r=e.length):typeof r=="function"?(t=r,r=e.length-n):validateCallback(t),n=assertOffset(n,o,e.byteLength),r===void 0?r=e.byteLength-n:r=assertSize(r,o,n,e.byteLength),r===0){t(null,e);return}const i=new RandomBytesJob(kCryptoJobAsync,e,n,r);i.ondone=FunctionPrototypeBind(onJobDone,i,e,t),i.run()}const RAND_MAX=281474976710655,randomCache=new FastBuffer(6*1024);let randomCacheOffset=randomCache.length,asyncCacheFillInProgress=!1;const asyncCachePendingTasks=[];function randomInt(e,n,r){const t=typeof n=="undefined"||typeof n=="function";t&&(r=n,n=e,e=0);const o=typeof r=="undefined";if(o||validateCallback(r),!NumberIsSafeInteger(e))throw new ERR_INVALID_ARG_TYPE("min","a safe integer",e);if(!NumberIsSafeInteger(n))throw new ERR_INVALID_ARG_TYPE("max","a safe integer",n);if(n<=e)throw new ERR_OUT_OF_RANGE("max",`greater than the value of "min" (${e})`,n);const i=n-e;if(!(i<=RAND_MAX))throw new ERR_OUT_OF_RANGE(`max${t?"":" - min"}`,`<= ${RAND_MAX}`,i);const u=RAND_MAX-RAND_MAX%i;for(;o||randomCacheOffset<randomCache.length;){randomCacheOffset===randomCache.length&&(randomFillSync(randomCache),randomCacheOffset=0);const f=randomCache.readUIntBE(randomCacheOffset,6);if(randomCacheOffset+=6,f<u){const c=f%i+e;if(o)return c;process.nextTick(r,void 0,c);return}}ArrayPrototypePush(asyncCachePendingTasks,{min:e,max:n,callback:r}),asyncRefillRandomIntCache()}function asyncRefillRandomIntCache(){asyncCacheFillInProgress||(asyncCacheFillInProgress=!0,randomFill(randomCache,e=>{asyncCacheFillInProgress=!1;const n=asyncCachePendingTasks,r=e&&ArrayPrototypeShift(n);e||(randomCacheOffset=0),ArrayPrototypeForEach(ArrayPrototypeSplice(n,0),t=>{randomInt(t.min,t.max,t.callback)}),r&&r.callback(e)}))}function onJobDone(e,n,r){if(r)return FunctionPrototypeCall(n,this,r);FunctionPrototypeCall(n,this,null,e)}function getRandomValues(e){if(!isArrayBufferView(e)||isFloat32Array(e)||isFloat64Array(e))throw lazyDOMException("The data argument must be an integer-type TypedArray","TypeMismatchError");if(e.byteLength>65536)throw lazyDOMException("The requested length exceeds 65,536 bytes","QuotaExceededError");return randomFillSync(e,0),e}const kBatchSize=128;let uuidData,uuidNotBuffered,uuidBatch=0,hexBytesCache;function getHexBytes(){if(hexBytesCache===void 0){hexBytesCache=new Array(256);for(let e=0;e<hexBytesCache.length;e++){const n=NumberPrototypeToString(e,16);hexBytesCache[e]=StringPrototypePadStart(n,2,"0")}}return hexBytesCache}function serializeUUID(e,n=0){const r=getHexBytes();return r[e[n]]+r[e[n+1]]+r[e[n+2]]+r[e[n+3]]+"-"+r[e[n+4]]+r[e[n+5]]+"-"+r[e[n+6]&15|64]+r[e[n+7]]+"-"+r[e[n+8]&63|128]+r[e[n+9]]+"-"+r[e[n+10]]+r[e[n+11]]+r[e[n+12]]+r[e[n+13]]+r[e[n+14]]+r[e[n+15]]}function getBufferedUUID(){if(uuidData??=secureBuffer(16*kBatchSize),uuidData===void 0)throw new ERR_OPERATION_FAILED("Out of memory");return uuidBatch===0&&randomFillSync(uuidData),uuidBatch=(uuidBatch+1)%kBatchSize,serializeUUID(uuidData,uuidBatch*16)}function getUnbufferedUUID(){if(uuidNotBuffered??=secureBuffer(16),uuidNotBuffered===void 0)throw new ERR_OPERATION_FAILED("Out of memory");return randomFillSync(uuidNotBuffered),serializeUUID(uuidNotBuffered)}function randomUUID(e){e!==void 0&&validateObject(e,"options");const{disableEntropyCache:n=!1}=e||{};return validateBoolean(n,"options.disableEntropyCache"),n?getUnbufferedUUID():getBufferedUUID()}function createRandomPrimeJob(e,n,r){validateObject(r,"options");const{safe:t=!1,bigint:o=!1}=r;let{add:i,rem:u}=r;if(validateBoolean(t,"options.safe"),validateBoolean(o,"options.bigint"),i!==void 0){if(typeof i=="bigint")i=unsignedBigIntToBuffer(i,"options.add");else if(!isAnyArrayBuffer(i)&&!isArrayBufferView(i))throw new ERR_INVALID_ARG_TYPE("options.add",["ArrayBuffer","TypedArray","Buffer","DataView","bigint"],i)}if(u!==void 0){if(typeof u=="bigint")u=unsignedBigIntToBuffer(u,"options.rem");else if(!isAnyArrayBuffer(u)&&!isArrayBufferView(u))throw new ERR_INVALID_ARG_TYPE("options.rem",["ArrayBuffer","TypedArray","Buffer","DataView","bigint"],u)}const f=new RandomPrimeJob(e,n,t,i,u);return f.result=o?arrayBufferToUnsignedBigInt:c=>c,f}function generatePrime(e,n,r){validateUint32(e,"size",!0),typeof n=="function"&&(r=n,n={}),validateCallback(r);const t=createRandomPrimeJob(kCryptoJobAsync,e,n);t.ondone=(o,i)=>{if(o){r(o);return}r(void 0,t.result(i))},t.run()}function generatePrimeSync(e,n={}){validateUint32(e,"size",!0);const r=createRandomPrimeJob(kCryptoJobSync,e,n),{0:t,1:o}=r.run();if(t)throw t;return r.result(o)}function arrayBufferToUnsignedBigInt(e){return BigInt(`0x${Buffer.from(e).toString("hex")}`)}function unsignedBigIntToBuffer(e,n){if(e<0)throw new ERR_OUT_OF_RANGE(n,">= 0",e);const r=e.toString(16),t=r.padStart(r.length+r.length%2,0);return Buffer.from(t,"hex")}function checkPrime(e,n={},r){if(typeof e=="bigint"&&(e=unsignedBigIntToBuffer(e,"candidate")),!isAnyArrayBuffer(e)&&!isArrayBufferView(e))throw new ERR_INVALID_ARG_TYPE("candidate",["ArrayBuffer","TypedArray","Buffer","DataView","bigint"],e);typeof n=="function"&&(r=n,n={}),validateCallback(r),validateObject(n,"options");const{checks:t=0}=n;validateUint32(t,"options.checks");const o=new CheckPrimeJob(kCryptoJobAsync,e,t);o.ondone=r,o.run()}function checkPrimeSync(e,n={}){if(typeof e=="bigint"&&(e=unsignedBigIntToBuffer(e,"candidate")),!isAnyArrayBuffer(e)&&!isArrayBufferView(e))throw new ERR_INVALID_ARG_TYPE("candidate",["ArrayBuffer","TypedArray","Buffer","DataView","bigint"],e);validateObject(n,"options");const{checks:r=0}=n;validateUint32(r,"options.checks");const t=new CheckPrimeJob(kCryptoJobSync,e,r),{0:o,1:i}=t.run();if(o)throw o;return i}module.exports={checkPrime,checkPrimeSync,randomBytes,randomFill,randomFillSync,randomInt,getRandomValues,randomUUID,generatePrime,generatePrimeSync};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Promise,SafeSet,Uint8Array}=primordials,{KeyObjectHandle,RSACipherJob,RSAKeyExportJob,SignJob,kCryptoJobAsync,kSignJobModeSign,kSignJobModeVerify,kKeyVariantRSA_SSA_PKCS1_v1_5,kKeyVariantRSA_PSS,kKeyVariantRSA_OAEP,kKeyTypePrivate,kWebCryptoCipherEncrypt,RSA_PKCS1_PSS_PADDING}=internalBinding("crypto"),{codes:{ERR_INVALID_ARG_TYPE,ERR_MISSING_OPTION}}=require("internal/errors"),{validateInt32,validateUint32}=require("internal/validators"),{bigIntArrayToUnsignedInt,getArrayBufferOrView,getUsagesUnion,hasAnyNotIn,jobPromise,normalizeHashName,validateKeyOps,validateMaxBufferLength,kHandle,kKeyObject}=require("internal/crypto/util"),{lazyDOMException}=require("internal/util"),{isUint8Array}=require("internal/util/types"),{InternalCryptoKey,PrivateKeyObject,PublicKeyObject,createPublicKey,createPrivateKey,isKeyObject}=require("internal/crypto/keys"),{generateKeyPair}=require("internal/crypto/keygen"),kRsaVariants={"RSASSA-PKCS1-v1_5":kKeyVariantRSA_SSA_PKCS1_v1_5,"RSA-PSS":kKeyVariantRSA_PSS,"RSA-OAEP":kKeyVariantRSA_OAEP};function verifyAcceptableRsaKeyUse(t,e,n){let r;switch(t){case"RSA-OAEP":switch(e){case"private":r=["decrypt","unwrapKey"];break;case"public":r=["encrypt","wrapKey"];break}break;default:switch(e){case"private":r=["sign"];break;case"public":r=["verify"];break}}if(hasAnyNotIn(n,r))throw lazyDOMException(`Unsupported key usage for an ${t} key`,"SyntaxError")}function rsaOaepCipher(t,e,n,{label:r}){const o=t===kWebCryptoCipherEncrypt?"public":"private";if(e.type!==o)throw lazyDOMException("The requested operation is not valid for the provided key","InvalidAccessError");return r!==void 0&&(r=getArrayBufferOrView(r,"algorithm.label"),validateMaxBufferLength(r,"algorithm.label")),jobPromise(new RSACipherJob(kCryptoJobAsync,t,e[kKeyObject][kHandle],n,kKeyVariantRSA_OAEP,normalizeHashName(e.algorithm.hash.name),r))}async function rsaKeyGenerate(t,e,n){const{name:r,modulusLength:o,publicExponent:s,hash:a}=t;if(a===void 0)throw new ERR_MISSING_OPTION("algorithm.hash");if(validateUint32(o,"algorithm.modulusLength"),!isUint8Array(s))throw new ERR_INVALID_ARG_TYPE("algorithm.publicExponent","Uint8Array",s);const i=new SafeSet(n),p=bigIntArrayToUnsignedInt(s);if(p===void 0)throw lazyDOMException("The publicExponent must be equivalent to an unsigned 32-bit value","OperationError");switch(r){case"RSA-OAEP":if(hasAnyNotIn(i,["encrypt","decrypt","wrapKey","unwrapKey"]))throw lazyDOMException("Unsupported key usage for a RSA key","SyntaxError");break;default:if(hasAnyNotIn(i,["sign","verify"]))throw lazyDOMException("Unsupported key usage for a RSA key","SyntaxError")}return new Promise((d,c)=>{generateKeyPair("rsa",{modulusLength:o,publicExponentConverted:p},(u,y,w)=>{if(u)return c(lazyDOMException("The operation failed for an operation-specific reason","OperationError"));const h={name:r,modulusLength:o,publicExponent:s,hash:{name:a.name}};let l,f;switch(r){case"RSA-OAEP":{l=getUsagesUnion(i,"encrypt","wrapKey"),f=getUsagesUnion(i,"decrypt","unwrapKey");break}default:{l=getUsagesUnion(i,"verify"),f=getUsagesUnion(i,"sign");break}}const S=new InternalCryptoKey(y,h,l,!0),b=new InternalCryptoKey(w,h,f,e);d({publicKey:S,privateKey:b})})})}function rsaExportKey(t,e){return jobPromise(new RSAKeyExportJob(kCryptoJobAsync,e,t[kKeyObject][kHandle],kRsaVariants[t.algorithm.name]))}async function rsaImportKey(t,e,n,r,o){const{hash:s}=n;if(s===void 0)throw new ERR_MISSING_OPTION("algorithm.hash");const a=new SafeSet(o);let i;switch(t){case"node.keyObject":{if(!isKeyObject(e))throw new ERR_INVALID_ARG_TYPE("keyData","KeyObject",e);if(e.type==="secret")throw lazyDOMException("Invalid key type","InvalidAccessException");verifyAcceptableRsaKeyUse(n.name,e.type,a),i=e;break}case"spki":{verifyAcceptableRsaKeyUse(n.name,"public",a),i=createPublicKey({key:e,format:"der",type:"spki"});break}case"pkcs8":{verifyAcceptableRsaKeyUse(n.name,"private",a),i=createPrivateKey({key:e,format:"der",type:"pkcs8"});break}case"jwk":{if(e==null||typeof e!="object")throw lazyDOMException("Invalid JWK keyData","DataError");if(verifyAcceptableRsaKeyUse(n.name,e.d!==void 0?"private":"public",a),e.kty!=="RSA")throw lazyDOMException("Invalid key type","DataError");if(a.size>0&&e.use!==void 0){const y=n.name==="RSA-OAEP"?"enc":"sig";if(e.use!==y)throw lazyDOMException("Invalid use type","DataError")}if(validateKeyOps(e.key_ops,a),e.ext!==void 0&&e.ext===!1&&r===!0)throw lazyDOMException("JWK is not extractable","DataError");if(e.alg!==void 0){if(typeof e.alg!="string")throw lazyDOMException("Invalid alg","DataError");if(normalizeHashName(e.alg,normalizeHashName.kContextWebCrypto)!==n.hash.name)throw lazyDOMException("Hash mismatch","DataError")}const c=new KeyObjectHandle,u=c.initJwk(e);if(u===void 0)throw lazyDOMException("Invalid JWK keyData","DataError");i=u===kKeyTypePrivate?new PrivateKeyObject(c):new PublicKeyObject(c);break}default:throw lazyDOMException(`Unable to import RSA key with format ${t}`,"NotSupportedError")}if(n.name==="RSA-PSS"){if(i.asymmetricKeyType!=="rsa"&&i.asymmetricKeyType!=="rsa-pss")throw lazyDOMException("Invalid key type","DataError")}else if(i.asymmetricKeyType!=="rsa")throw lazyDOMException("Invalid key type","DataError");const{modulusLength:p,publicExponent:d}=i[kHandle].keyDetail({});return new InternalCryptoKey(i,{name:n.name,modulusLength:p,publicExponent:new Uint8Array(d),hash:n.hash},o,r)}function rsaSignVerify(t,e,{saltLength:n},r){let o;t.algorithm.name==="RSA-PSS"&&(o=RSA_PKCS1_PSS_PADDING,validateInt32(n,"algorithm.saltLength",-2));const a=(r===void 0?kSignJobModeSign:kSignJobModeVerify)===kSignJobModeSign?"private":"public";if(t.type!==a)throw lazyDOMException(`Key must be a ${a} key`,"InvalidAccessError");return jobPromise(new SignJob(kCryptoJobAsync,r===void 0?kSignJobModeSign:kSignJobModeVerify,t[kKeyObject][kHandle],void 0,void 0,void 0,e,normalizeHashName(t.algorithm.hash.name),n,o,void 0,r))}module.exports={rsaCipher:rsaOaepCipher,rsaExportKey,rsaImportKey,rsaKeyGenerate,rsaSignVerify};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{FunctionPrototypeCall,Promise}=primordials,{Buffer}=require("buffer"),{ScryptJob,kCryptoJobAsync,kCryptoJobSync}=internalBinding("crypto"),{validateCallback,validateInteger,validateInt32,validateUint32}=require("internal/validators"),{codes:{ERR_CRYPTO_SCRYPT_INVALID_PARAMETER,ERR_CRYPTO_SCRYPT_NOT_SUPPORTED}}=require("internal/errors"),{getArrayBufferOrView,getDefaultEncoding,kKeyObject}=require("internal/crypto/util"),{lazyDOMException}=require("internal/util"),defaults={N:16384,r:8,p:1,maxmem:32<<20};function scrypt(t,u,n,e,r=defaults){r===defaults&&(r=e,e=defaults),e=check(t,u,n,e);const{N:i,r:f,p:m,maxmem:d}=e;({password:t,salt:u,keylen:n}=e),validateCallback(r);const c=new ScryptJob(kCryptoJobAsync,t,u,i,f,m,d,n),a=getDefaultEncoding();c.ondone=(l,o)=>{if(l!==void 0)return FunctionPrototypeCall(r,c,l);const h=Buffer.from(o);if(a==="buffer")return FunctionPrototypeCall(r,c,null,h);FunctionPrototypeCall(r,c,null,h.toString(a))},c.run()}function scryptSync(t,u,n,e=defaults){e=check(t,u,n,e);const{N:r,r:i,p:f,maxmem:m}=e;({password:t,salt:u,keylen:n}=e);const d=new ScryptJob(kCryptoJobSync,t,u,r,i,f,m,n),{0:c,1:a}=d.run();if(c!==void 0)throw c;const l=Buffer.from(a),o=getDefaultEncoding();return o==="buffer"?l:l.toString(o)}function check(t,u,n,e){if(ScryptJob===void 0)throw new ERR_CRYPTO_SCRYPT_NOT_SUPPORTED;t=getArrayBufferOrView(t,"password"),u=getArrayBufferOrView(u,"salt"),validateInt32(n,"keylen",0);let{N:r,r:i,p:f,maxmem:m}=defaults;if(e&&e!==defaults){let d,c,a;if((d=e.N!==void 0)&&(r=e.N,validateUint32(r,"N")),e.cost!==void 0){if(d)throw new ERR_CRYPTO_SCRYPT_INVALID_PARAMETER;r=e.cost,validateUint32(r,"cost")}if((c=e.r!==void 0)&&(i=e.r,validateUint32(i,"r")),e.blockSize!==void 0){if(c)throw new ERR_CRYPTO_SCRYPT_INVALID_PARAMETER;i=e.blockSize,validateUint32(i,"blockSize")}if((a=e.p!==void 0)&&(f=e.p,validateUint32(f,"p")),e.parallelization!==void 0){if(a)throw new ERR_CRYPTO_SCRYPT_INVALID_PARAMETER;f=e.parallelization,validateUint32(f,"parallelization")}e.maxmem!==void 0&&(m=e.maxmem,validateInteger(m,"maxmem",0)),r===0&&(r=defaults.N),i===0&&(i=defaults.r),f===0&&(f=defaults.p),m===0&&(m=defaults.maxmem)}return{password:t,salt:u,keylen:n,N:r,r:i,p:f,maxmem:m}}async function scryptDeriveBits(t,u,n){validateUint32(n,"length");const{N:e=16384,r=8,p:i=1,maxmem:f=32*1024*1024,encoding:m}=t;validateUint32(e,"algorithm.N"),validateUint32(r,"algorithm.r"),validateUint32(i,"algorithm.p"),validateUint32(f,"algorithm.maxmem");const d=getArrayBufferOrView(t.salt,"algorithm.salt",m),c=u[kKeyObject].export();let a=64;if(n!==void 0){if(n===0)throw lazyDOMException("length cannot be zero","OperationError");if(n%8)throw lazyDOMException("length must be a multiple of 8","OperationError");a=n/8}return new Promise((l,o)=>{scrypt(c,d,a,{N:e,r,p:i,maxmem:f},(h,b)=>{if(h)return o(h);l(b.buffer)})})}module.exports={scrypt,scryptSync,scryptDeriveBits};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{FunctionPrototypeCall,ObjectSetPrototypeOf,ReflectApply}=primordials,{codes:{ERR_CRYPTO_SIGN_KEY_REQUIRED,ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE}}=require("internal/errors"),{validateCallback,validateEncoding,validateString}=require("internal/validators"),{Sign:_Sign,SignJob,Verify:_Verify,kCryptoJobAsync,kCryptoJobSync,kSigEncDER,kSigEncP1363,kSignJobModeSign,kSignJobModeVerify}=internalBinding("crypto"),{getArrayBufferOrView,getDefaultEncoding,kHandle}=require("internal/crypto/util"),{preparePrivateKey,preparePublicOrPrivateKey}=require("internal/crypto/keys"),{Writable}=require("stream"),{Buffer}=require("buffer"),{isArrayBufferView}=require("internal/util/types");function Sign(r,t){if(!(this instanceof Sign))return new Sign(r,t);validateString(r,"algorithm"),this[kHandle]=new _Sign,this[kHandle].init(r),ReflectApply(Writable,this,[t])}ObjectSetPrototypeOf(Sign.prototype,Writable.prototype),ObjectSetPrototypeOf(Sign,Writable),Sign.prototype._write=function(t,e,n){this.update(t,e),n()},Sign.prototype.update=function(t,e){if(e=e||getDefaultEncoding(),typeof t=="string")validateEncoding(t,e);else if(!isArrayBufferView(t))throw new ERR_INVALID_ARG_TYPE("data",["string","Buffer","TypedArray","DataView"],t);return this[kHandle].update(t,e),this};function getPadding(r){return getIntOption("padding",r)}function getSaltLength(r){return getIntOption("saltLength",r)}function getDSASignatureEncoding(r){if(typeof r=="object"){const{dsaEncoding:t="der"}=r;if(t==="der")return kSigEncDER;if(t==="ieee-p1363")return kSigEncP1363;throw new ERR_INVALID_ARG_VALUE("options.dsaEncoding",t)}return kSigEncDER}function getIntOption(r,t){const e=t[r];if(e!==void 0){if(e===e>>0)return e;throw new ERR_INVALID_ARG_VALUE(`options.${r}`,e)}}Sign.prototype.sign=function(t,e){if(!t)throw new ERR_CRYPTO_SIGN_KEY_REQUIRED;const{data:n,format:i,type:u,passphrase:p}=preparePrivateKey(t,!0),a=getPadding(t),y=getSaltLength(t),d=getDSASignatureEncoding(t),f=this[kHandle].sign(n,i,u,p,a,y,d);return e=e||getDefaultEncoding(),e&&e!=="buffer"?f.toString(e):f};function signOneShot(r,t,e,n){if(r!=null&&validateString(r,"algorithm"),n!==void 0&&validateCallback(n),t=getArrayBufferOrView(t,"data"),!e)throw new ERR_CRYPTO_SIGN_KEY_REQUIRED;const i=getPadding(e),u=getSaltLength(e),p=getDSASignatureEncoding(e),{data:a,format:y,type:d,passphrase:f}=preparePrivateKey(e),c=new SignJob(n?kCryptoJobAsync:kCryptoJobSync,kSignJobModeSign,a,y,d,f,t,r,u,i,p);if(!n){const{0:o,1:s}=c.run();if(o!==void 0)throw o;return Buffer.from(s)}c.ondone=(o,s)=>{if(o)return FunctionPrototypeCall(n,c,o);FunctionPrototypeCall(n,c,null,Buffer.from(s))},c.run()}function Verify(r,t){if(!(this instanceof Verify))return new Verify(r,t);validateString(r,"algorithm"),this[kHandle]=new _Verify,this[kHandle].init(r),ReflectApply(Writable,this,[t])}ObjectSetPrototypeOf(Verify.prototype,Writable.prototype),ObjectSetPrototypeOf(Verify,Writable),Verify.prototype._write=Sign.prototype._write,Verify.prototype.update=Sign.prototype.update,Verify.prototype.verify=function(t,e,n){const{data:i,format:u,type:p,passphrase:a}=preparePublicOrPrivateKey(t,!0);n=n||getDefaultEncoding();const y=getPadding(t),d=getSaltLength(t),f=getDSASignatureEncoding(t);return e=getArrayBufferOrView(e,"signature",n),this[kHandle].verify(i,u,p,a,e,y,d,f)};function verifyOneShot(r,t,e,n,i){if(r!=null&&validateString(r,"algorithm"),i!==void 0&&validateCallback(i),t=getArrayBufferOrView(t,"data"),!isArrayBufferView(t))throw new ERR_INVALID_ARG_TYPE("data",["Buffer","TypedArray","DataView"],t);const u=getPadding(e),p=getSaltLength(e),a=getDSASignatureEncoding(e);if(!isArrayBufferView(n))throw new ERR_INVALID_ARG_TYPE("signature",["Buffer","TypedArray","DataView"],n);const{data:y,format:d,type:f,passphrase:c}=preparePublicOrPrivateKey(e),o=new SignJob(i?kCryptoJobAsync:kCryptoJobSync,kSignJobModeVerify,y,d,f,c,t,r,p,u,a,n);if(!i){const{0:s,1:h}=o.run();if(s!==void 0)throw s;return h}o.ondone=(s,h)=>{if(s)return FunctionPrototypeCall(i,o,s);FunctionPrototypeCall(i,o,null,h)},o.run()}module.exports={Sign,signOneShot,Verify,verifyOneShot};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeIncludes,ArrayPrototypePush,BigInt,FunctionPrototypeBind,Number,ObjectKeys,Promise,StringPrototypeToLowerCase,Symbol}=primordials,{getCiphers:_getCiphers,getCurves:_getCurves,getHashes:_getHashes,setEngine:_setEngine,secureHeapUsed:_secureHeapUsed}=internalBinding("crypto"),{getOptionValue}=require("internal/options"),{crypto:{ENGINE_METHOD_ALL}}=internalBinding("constants"),normalizeHashName=require("internal/crypto/hashnames"),{hideStackFrames,codes:{ERR_CRYPTO_ENGINE_UNKNOWN,ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_OUT_OF_RANGE}}=require("internal/errors"),{validateArray,validateNumber,validateString}=require("internal/validators"),{Buffer}=require("buffer"),{cachedResult,filterDuplicateStrings,lazyDOMException}=require("internal/util"),{isArrayBufferView,isAnyArrayBuffer}=require("internal/util/types"),kHandle=Symbol("kHandle"),kKeyObject=Symbol("kKeyObject"),lazyRequireCache={};function lazyRequire(e){let t=lazyRequireCache[e];return t===void 0&&(t=lazyRequireCache[e]=require(e)),t}var defaultEncoding="buffer";function setDefaultEncoding(e){defaultEncoding=e}function getDefaultEncoding(){return defaultEncoding}function toBuf(e,t){return typeof e=="string"?(t==="buffer"&&(t="utf8"),Buffer.from(e,t)):e}const getCiphers=cachedResult(()=>filterDuplicateStrings(_getCiphers())),getHashes=cachedResult(()=>filterDuplicateStrings(_getHashes())),getCurves=cachedResult(()=>filterDuplicateStrings(_getCurves()));function setEngine(e,t){if(validateString(e,"id"),t&&validateNumber(t,"flags"),t=t>>>0,t===0&&(t=ENGINE_METHOD_ALL),!_setEngine(e,t))throw new ERR_CRYPTO_ENGINE_UNKNOWN(e)}const getArrayBufferOrView=hideStackFrames((e,t,n)=>{if(isAnyArrayBuffer(e))return e;if(typeof e=="string")return n==="buffer"&&(n="utf8"),Buffer.from(e,n);if(!isArrayBufferView(e))throw new ERR_INVALID_ARG_TYPE(t,["string","ArrayBuffer","Buffer","TypedArray","DataView"],e);return e}),kMaxBufferLength=2**31-1,kNamedCurveAliases={"P-256":"prime256v1","P-384":"secp384r1","P-521":"secp521r1","NODE-ED25519":"ed25519","NODE-ED448":"ed448","NODE-X25519":"x25519","NODE-X448":"x448"},kAesKeyLengths=[128,192,256],kAlgorithms={"rsassa-pkcs1-v1_5":"RSASSA-PKCS1-v1_5","rsa-pss":"RSA-PSS","rsa-oaep":"RSA-OAEP",ecdsa:"ECDSA",ecdh:"ECDH","aes-ctr":"AES-CTR","aes-cbc":"AES-CBC","aes-gcm":"AES-GCM","aes-kw":"AES-KW",hmac:"HMAC","sha-1":"SHA-1","sha-256":"SHA-256","sha-384":"SHA-384","sha-512":"SHA-512",hkdf:"HKDF",pbkdf2:"PBKDF2","node-dsa":"NODE-DSA","node-dh":"NODE-DH","node-scrypt":"NODE-SCRYPT","node-ed25519":"NODE-ED25519","node-ed448":"NODE-ED448"},kAlgorithmsKeys=ObjectKeys(kAlgorithms),kExportFormats=["raw","pkcs8","spki","jwk","node.keyObject"],kHashTypes=["SHA-1","SHA-256","SHA-384","SHA-512"];function validateMaxBufferLength(e,t){if(e.byteLength>kMaxBufferLength)throw lazyDOMException(`${t} must be less than ${kMaxBufferLength+1} bits`,"OperationError")}function normalizeAlgorithm(e,t="algorithm"){if(e!=null&&(typeof e=="string"&&(e={name:e}),typeof e=="object")){const{name:n}=e;let r;if(typeof n!="string"||!ArrayPrototypeIncludes(kAlgorithmsKeys,StringPrototypeToLowerCase(n))||e.hash!==void 0&&(r=normalizeAlgorithm(e.hash,"algorithm.hash"),!ArrayPrototypeIncludes(kHashTypes,r.name)))throw lazyDOMException("Unrecognized name.","NotSupportedError");return{...e,name:kAlgorithms[StringPrototypeToLowerCase(n)],hash:r}}throw lazyDOMException("Unrecognized name.","NotSupportedError")}function hasAnyNotIn(e,t){for(const n of e)if(!ArrayPrototypeIncludes(t,n))return!0;return!1}function validateBitLength(e,t,n=!1){if(e!==void 0||n){if(validateNumber(e,t),e<0)throw new ERR_OUT_OF_RANGE(t,"> 0");if(e%8)throw new ERR_INVALID_ARG_VALUE(t,e,"must be a multiple of 8")}}function validateByteLength(e,t,n){if(e.byteLength!==n)throw lazyDOMException(`${t} must contain exactly ${n} bytes`,"OperationError")}const validateByteSource=hideStackFrames((e,t)=>{if(e=toBuf(e),!(isAnyArrayBuffer(e)||isArrayBufferView(e)))throw new ERR_INVALID_ARG_TYPE(t,["string","ArrayBuffer","TypedArray","DataView","Buffer"],e)});function onDone(e,t,n,r){if(n)return t(n);e(r)}function jobPromise(e){return new Promise((t,n)=>{e.ondone=FunctionPrototypeBind(onDone,e,t,n),e.run()})}function bigIntArrayToUnsignedInt(e){let t=0;for(let n=0;n<e.length;++n){const r=e.length-n-1;if(r>=4&&e[n])return;t|=e[n]<<8*r}return t}function bigIntArrayToUnsignedBigInt(e){let t=0n;for(let n=0;n<e.length;++n){const r=e.length-n-1;t|=BigInt(e[n])<<8n*BigInt(r)}return t}function getStringOption(e,t){let n;return e&&(n=e[t])!=null&&validateString(n,`options.${t}`),n}function getUsagesUnion(e,...t){const n=[];for(let r=0;r<t.length;r++)e.has(t[r])&&ArrayPrototypePush(n,t[r]);return n}function getHashLength(e){switch(e){case"SHA-1":return 160;case"SHA-256":return 256;case"SHA-384":return 384;case"SHA-512":return 512}}const kKeyOps={sign:1,verify:2,encrypt:3,decrypt:4,wrapKey:5,unwrapKey:6,deriveKey:7,deriveBits:8};function validateKeyOps(e,t){if(e===void 0)return;validateArray(e,"keyData.key_ops");let n=0;for(let r=0;r<e.length;r++){const o=e[r],i=kKeyOps[o];if(i!==void 0){if(n&1<<i)throw lazyDOMException("Duplicate key operation","DataError");n|=1<<i}}if(t!==void 0){for(const r of t)if(!ArrayPrototypeIncludes(e,r))throw lazyDOMException("Key operations and usage mismatch","DataError")}}function secureHeapUsed(){if(_secureHeapUsed()===void 0)return{total:0,used:0,utilization:0,min:0};const t=Number(_secureHeapUsed()),n=Number(getOptionValue("--secure-heap")),r=Number(getOptionValue("--secure-heap-min")),o=t/n;return{total:n,used:t,utilization:o,min:r}}module.exports={getArrayBufferOrView,getCiphers,getCurves,getDefaultEncoding,getHashes,kHandle,kKeyObject,setDefaultEncoding,setEngine,toBuf,kHashTypes,kNamedCurveAliases,kAesKeyLengths,kExportFormats,normalizeAlgorithm,normalizeHashName,hasAnyNotIn,validateBitLength,validateByteLength,validateByteSource,validateKeyOps,jobPromise,lazyRequire,validateMaxBufferLength,bigIntArrayToUnsignedBigInt,bigIntArrayToUnsignedInt,getStringOption,getUsagesUnion,getHashLength,secureHeapUsed};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeIncludes,JSONParse,JSONStringify,ObjectDefineProperties,SafeSet,SymbolToStringTag,StringPrototypeRepeat}=primordials,{kWebCryptoKeyFormatRaw,kWebCryptoKeyFormatPKCS8,kWebCryptoKeyFormatSPKI,kWebCryptoCipherEncrypt,kWebCryptoCipherDecrypt}=internalBinding("crypto"),{validateArray,validateBoolean,validateObject,validateOneOf,validateString}=require("internal/validators"),{TextDecoder,TextEncoder}=require("internal/encoding"),{codes:{ERR_INVALID_ARG_TYPE}}=require("internal/errors"),{CryptoKey,InternalCryptoKey,createSecretKey,isCryptoKey,isKeyObject}=require("internal/crypto/keys"),{asyncDigest}=require("internal/crypto/hash"),{getArrayBufferOrView,hasAnyNotIn,lazyRequire,normalizeAlgorithm,normalizeHashName,validateMaxBufferLength,kExportFormats,kHandle,kKeyObject}=require("internal/crypto/util"),{lazyDOMException}=require("internal/util"),{getRandomValues,randomUUID:_randomUUID}=require("internal/crypto/random"),randomUUID=()=>_randomUUID();async function generateKey(e,r,t){switch(e=normalizeAlgorithm(e),validateBoolean(r,"extractable"),validateArray(t,"keyUsages"),e.name){case"RSASSA-PKCS1-v1_5":case"RSA-PSS":case"RSA-OAEP":return lazyRequire("internal/crypto/rsa").rsaKeyGenerate(e,r,t);case"NODE-ED25519":case"NODE-ED448":case"ECDSA":case"ECDH":return lazyRequire("internal/crypto/ec").ecGenerateKey(e,r,t);case"HMAC":return lazyRequire("internal/crypto/mac").hmacGenerateKey(e,r,t);case"AES-CTR":case"AES-CBC":case"AES-GCM":case"AES-KW":return lazyRequire("internal/crypto/aes").aesGenerateKey(e,r,t);case"NODE-DSA":return lazyRequire("internal/crypto/dsa").dsaGenerateKey(e,r,t);case"NODE-DH":return lazyRequire("internal/crypto/diffiehellman").dhGenerateKey(e,r,t);default:throw lazyDOMException("Unrecognized name.")}}async function deriveBits(e,r,t){if(e=normalizeAlgorithm(e),!isCryptoKey(r))throw new ERR_INVALID_ARG_TYPE("baseKey","CryptoKey",r);if(!ArrayPrototypeIncludes(r.usages,"deriveBits"))throw lazyDOMException("baseKey does not have deriveBits usage","InvalidAccessError");if(r.algorithm.name!==e.name)throw lazyDOMException("Key algorithm mismatch","InvalidAccessError");switch(e.name){case"ECDH":return lazyRequire("internal/crypto/diffiehellman").asyncDeriveBitsECDH(e,r,t);case"HKDF":return lazyRequire("internal/crypto/hkdf").hkdfDeriveBits(e,r,t);case"PBKDF2":return lazyRequire("internal/crypto/pbkdf2").pbkdf2DeriveBits(e,r,t);case"NODE-SCRYPT":return lazyRequire("internal/crypto/scrypt").scryptDeriveBits(e,r,t);case"NODE-DH":return lazyRequire("internal/crypto/diffiehellman").asyncDeriveBitsDH(e,r,t)}throw lazyDOMException("Unrecognized name.")}async function deriveKey(e,r,t,n,a){if(e=normalizeAlgorithm(e),t=normalizeAlgorithm(t),!isCryptoKey(r))throw new ERR_INVALID_ARG_TYPE("baseKey","CryptoKey",r);if(!ArrayPrototypeIncludes(r.usages,"deriveKey"))throw lazyDOMException("baseKey does not have deriveKey usage","InvalidAccessError");if(r.algorithm.name!==e.name)throw lazyDOMException("Key algorithm mismatch","InvalidAccessError");validateObject(t,"derivedKeyAlgorithm",{allowArray:!0,allowFunction:!0}),validateBoolean(n,"extractable"),validateArray(a,"keyUsages");const{length:i}=t;let c;switch(e.name){case"ECDH":c=await lazyRequire("internal/crypto/diffiehellman").asyncDeriveBitsECDH(e,r,i);break;case"HKDF":c=await lazyRequire("internal/crypto/hkdf").hkdfDeriveBits(e,r,i);break;case"PBKDF2":c=await lazyRequire("internal/crypto/pbkdf2").pbkdf2DeriveBits(e,r,i);break;case"NODE-SCRYPT":c=await lazyRequire("internal/crypto/scrypt").scryptDeriveBits(e,r,i);break;case"NODE-DH":c=await lazyRequire("internal/crypto/diffiehellman").asyncDeriveBitsDH(e,r,i);break;default:throw lazyDOMException("Unrecognized name.")}return importKey("raw",c,t,n,a)}async function exportKeySpki(e){switch(e.algorithm.name){case"RSASSA-PKCS1-v1_5":case"RSA-PSS":case"RSA-OAEP":if(e.type==="public")return lazyRequire("internal/crypto/rsa").rsaExportKey(e,kWebCryptoKeyFormatSPKI);break;case"NODE-ED25519":case"NODE-ED448":case"ECDSA":case"ECDH":if(e.type==="public")return lazyRequire("internal/crypto/ec").ecExportKey(e,kWebCryptoKeyFormatSPKI);break;case"NODE-DSA":if(e.type==="public")return lazyRequire("internal/crypto/dsa").dsaExportKey(e,kWebCryptoKeyFormatSPKI);break;case"NODE-DH":if(e.type==="public")return lazyRequire("internal/crypto/diffiehellman").dhExportKey(e,kWebCryptoKeyFormatSPKI);break}throw lazyDOMException(`Unable to export a raw ${e.algorithm.name} ${e.type} key`,"InvalidAccessError")}async function exportKeyPkcs8(e){switch(e.algorithm.name){case"RSASSA-PKCS1-v1_5":case"RSA-PSS":case"RSA-OAEP":if(e.type==="private")return lazyRequire("internal/crypto/rsa").rsaExportKey(e,kWebCryptoKeyFormatPKCS8);break;case"NODE-ED25519":case"NODE-ED448":case"ECDSA":case"ECDH":if(e.type==="private")return lazyRequire("internal/crypto/ec").ecExportKey(e,kWebCryptoKeyFormatPKCS8);break;case"NODE-DSA":if(e.type==="private")return lazyRequire("internal/crypto/dsa").dsaExportKey(e,kWebCryptoKeyFormatPKCS8);break;case"NODE-DH":if(e.type==="private")return lazyRequire("internal/crypto/diffiehellman").dhExportKey(e,kWebCryptoKeyFormatPKCS8);break}throw lazyDOMException(`Unable to export a pkcs8 ${e.algorithm.name} ${e.type} key`,"InvalidAccessError")}async function exportKeyRaw(e){switch(e.algorithm.name){case"NODE-ED25519":case"NODE-ED448":if(e.type==="public")return lazyRequire("internal/crypto/ec").ecExportKey(e,kWebCryptoKeyFormatRaw);break;case"ECDSA":case"ECDH":if(e.type==="public")return lazyRequire("internal/crypto/ec").ecExportKey(e,kWebCryptoKeyFormatRaw);break;case"AES-CTR":case"AES-CBC":case"AES-GCM":case"AES-KW":case"HMAC":return e[kKeyObject].export().buffer}throw lazyDOMException(`Unable to export a raw ${e.algorithm.name} ${e.type} key`,"InvalidAccessError")}async function exportKeyJWK(e){const r=e[kKeyObject][kHandle].exportJwk({key_ops:e.usages,ext:e.extractable},!0);switch(e.algorithm.name){case"RSASSA-PKCS1-v1_5":return r.alg=normalizeHashName(e.algorithm.hash.name,normalizeHashName.kContextJwkRsa),r;case"RSA-PSS":return r.alg=normalizeHashName(e.algorithm.hash.name,normalizeHashName.kContextJwkRsaPss),r;case"RSA-OAEP":return r.alg=normalizeHashName(e.algorithm.hash.name,normalizeHashName.kContextJwkRsaOaep),r;case"ECDSA":case"ECDH":return r.crv||=e.algorithm.namedCurve,r;case"AES-CTR":case"AES-CBC":case"AES-GCM":case"AES-KW":return r.alg=lazyRequire("internal/crypto/aes").getAlgorithmName(e.algorithm.name,e.algorithm.length),r;case"HMAC":return r.alg=normalizeHashName(e.algorithm.hash.name,normalizeHashName.kContextJwkHmac),r;case"NODE-DSA":return r.alg=normalizeHashName(e.algorithm.hash.name,normalizeHashName.kContextJwkDsa),r;case"NODE-ED25519":case"NODE-ED448":return r;default:}throw lazyDOMException("Not yet supported","NotSupportedError")}async function exportKey(e,r){if(validateString(e,"format"),validateOneOf(e,"format",kExportFormats),!isCryptoKey(r))throw new ERR_INVALID_ARG_TYPE("key","CryptoKey",r);if(!r.extractable)throw lazyDOMException("key is not extractable","InvalidAccessException");switch(e){case"node.keyObject":return r[kKeyObject];case"spki":return exportKeySpki(r);case"pkcs8":return exportKeyPkcs8(r);case"jwk":return exportKeyJWK(r);case"raw":return exportKeyRaw(r)}throw lazyDOMException("Export format is unsupported","NotSupportedError")}async function importGenericSecretKey({name:e,length:r},t,n,a,i){const c=new SafeSet(i);if(a)throw lazyDOMException(`${e} keys are not extractable`,"SyntaxError");if(hasAnyNotIn(c,["deriveKey","deriveBits"]))throw lazyDOMException(`Unsupported key usage for a ${e} key`,"SyntaxError");switch(t){case"node.keyObject":{if(!isKeyObject(n))throw new ERR_INVALID_ARG_TYPE("keyData","KeyObject",n);if(n.type==="secret")return new InternalCryptoKey(n,{name:e},i,a);break}case"raw":if(hasAnyNotIn(c,["deriveKey","deriveBits"]))throw lazyDOMException(`Unsupported key usage for a ${e} key`,"SyntaxError");const s=n.byteLength*8;if(s===0||r===0)throw lazyDOMException("Zero-length key is not supported","DataError");if(r!==void 0&&r!==s)throw lazyDOMException("Invalid key length","DataError");const o=createSecretKey(n);return new InternalCryptoKey(o,{name:e},i,!1)}throw lazyDOMException(`Unable to import ${e} key with format ${t}`,"NotSupportedError")}async function importKey(e,r,t,n,a){switch(validateString(e,"format"),validateOneOf(e,"format",kExportFormats),e!=="node.keyObject"&&e!=="jwk"&&(r=getArrayBufferOrView(r,"keyData")),t=normalizeAlgorithm(t),validateBoolean(n,"extractable"),validateArray(a,"keyUsages"),t.name){case"RSASSA-PKCS1-v1_5":case"RSA-PSS":case"RSA-OAEP":return lazyRequire("internal/crypto/rsa").rsaImportKey(e,r,t,n,a);case"NODE-ED25519":case"NODE-ED448":case"ECDSA":case"ECDH":return lazyRequire("internal/crypto/ec").ecImportKey(e,r,t,n,a);case"HMAC":return lazyRequire("internal/crypto/mac").hmacImportKey(e,r,t,n,a);case"AES-CTR":case"AES-CBC":case"AES-GCM":case"AES-KW":return lazyRequire("internal/crypto/aes").aesImportKey(t,e,r,n,a);case"HKDF":case"NODE-SCRYPT":case"PBKDF2":return importGenericSecretKey(t,e,r,n,a);case"NODE-DSA":return lazyRequire("internal/crypto/dsa").dsaImportKey(e,r,t,n,a);case"NODE-DH":return lazyRequire("internal/crypto/diffiehellman").dhImportKey(e,r,t,n,a)}throw lazyDOMException("Unrecognized name.","NotSupportedError")}async function wrapKey(e,r,t,n){n=normalizeAlgorithm(n);let a=await exportKey(e,r);if(e==="jwk"){if(a==null||typeof a!="object")throw lazyDOMException("Invalid exported JWK key","DataError");const i=new TextEncoder,c=JSONStringify(a);a=i.encode(c+StringPrototypeRepeat(" ",8-c.length%8))}return cipherOrWrap(kWebCryptoCipherEncrypt,n,t,a,"wrapKey")}async function unwrapKey(e,r,t,n,a,i,c){r=getArrayBufferOrView(r,"wrappedKey");let s=await cipherOrWrap(kWebCryptoCipherDecrypt,normalizeAlgorithm(n),t,r,"unwrapKey");if(e==="jwk"){const o=process.versions.icu!==void 0?{fatal:!0}:void 0,u=new TextDecoder("utf-8",o);try{s=JSONParse(u.decode(s))}catch{throw lazyDOMException("Invalid imported JWK key","DataError")}}return importKey(e,s,a,i,c)}function signVerify(e,r,t,n){if(e=normalizeAlgorithm(e),!isCryptoKey(r))throw new ERR_INVALID_ARG_TYPE("key","CryptoKey",r);t=getArrayBufferOrView(t,"data");let a="sign";if(n!==void 0&&(n=getArrayBufferOrView(n,"signature"),a="verify"),!ArrayPrototypeIncludes(r.usages,a)||e.name!==r.algorithm.name)throw lazyDOMException(`Unable to use this key to ${a}`,"InvalidAccessError");switch(e.name){case"RSA-PSS":case"RSASSA-PKCS1-v1_5":return lazyRequire("internal/crypto/rsa").rsaSignVerify(r,t,e,n);case"NODE-ED25519":case"NODE-ED448":case"ECDSA":return lazyRequire("internal/crypto/ec").ecdsaSignVerify(r,t,e,n);case"HMAC":return lazyRequire("internal/crypto/mac").hmacSignVerify(r,t,e,n);case"NODE-DSA":return lazyRequire("internal/crypto/dsa").dsaSignVerify(r,t,e,n)}throw lazyDOMException("Unrecognized named.","NotSupportedError")}async function sign(e,r,t){return signVerify(e,r,t)}async function verify(e,r,t,n){return signVerify(e,r,n,t)}async function cipherOrWrap(e,r,t,n,a){if(r=normalizeAlgorithm(r),!isCryptoKey(t))throw new ERR_INVALID_ARG_TYPE("key","CryptoKey",t);if(t.algorithm.name!==r.name||!ArrayPrototypeIncludes(t.usages,a))throw lazyDOMException("The requested operation is not valid for the provided key","InvalidAccessError");switch(n=getArrayBufferOrView(n,"data"),validateMaxBufferLength(n,"data"),r.name){case"RSA-OAEP":return lazyRequire("internal/crypto/rsa").rsaCipher(e,t,n,r);case"AES-CTR":case"AES-CBC":case"AES-GCM":return lazyRequire("internal/crypto/aes").aesCipher(e,t,n,r);case"AES-KW":if(a==="wrapKey"||a==="unwrapKey")return lazyRequire("internal/crypto/aes").aesCipher(e,t,n,r)}throw lazyDOMException("Unrecognized name.","NotSupportedError")}async function encrypt(e,r,t){return cipherOrWrap(kWebCryptoCipherEncrypt,e,r,t,"encrypt")}async function decrypt(e,r,t){return cipherOrWrap(kWebCryptoCipherDecrypt,e,r,t,"decrypt")}class SubtleCrypto{}const subtle=new SubtleCrypto;class Crypto{}const crypto=new Crypto;ObjectDefineProperties(Crypto.prototype,{[SymbolToStringTag]:{enumerable:!1,configurable:!0,writable:!1,value:"Crypto"},subtle:{enumerable:!0,configurable:!1,value:subtle},getRandomValues:{enumerable:!0,configurable:!0,writable:!0,value:getRandomValues},randomUUID:{enumerable:!0,configurable:!0,writable:!0,value:randomUUID},CryptoKey:{enumerable:!0,configurable:!0,writable:!0,value:CryptoKey}}),ObjectDefineProperties(SubtleCrypto.prototype,{[SymbolToStringTag]:{enumerable:!1,configurable:!0,writable:!1,value:"SubtleCrypto"},encrypt:{enumerable:!0,configurable:!0,writable:!0,value:encrypt},decrypt:{enumerable:!0,configurable:!0,writable:!0,value:decrypt},sign:{enumerable:!0,configurable:!0,writable:!0,value:sign},verify:{enumerable:!0,configurable:!0,writable:!0,value:verify},digest:{enumerable:!0,configurable:!0,writable:!0,value:asyncDigest},generateKey:{enumerable:!0,configurable:!0,writable:!0,value:generateKey},deriveKey:{enumerable:!0,configurable:!0,writable:!0,value:deriveKey},deriveBits:{enumerable:!0,configurable:!0,writable:!0,value:deriveBits},importKey:{enumerable:!0,configurable:!0,writable:!0,value:importKey},exportKey:{enumerable:!0,configurable:!0,writable:!0,value:exportKey},wrapKey:{enumerable:!0,configurable:!0,writable:!0,value:wrapKey},unwrapKey:{enumerable:!0,configurable:!0,writable:!0,value:unwrapKey}}),module.exports={Crypto,SubtleCrypto,crypto};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectSetPrototypeOf,SafeMap,Symbol}=primordials,{parseX509,X509_CHECK_FLAG_ALWAYS_CHECK_SUBJECT,X509_CHECK_FLAG_NEVER_CHECK_SUBJECT,X509_CHECK_FLAG_NO_WILDCARDS,X509_CHECK_FLAG_NO_PARTIAL_WILDCARDS,X509_CHECK_FLAG_MULTI_LABEL_WILDCARDS,X509_CHECK_FLAG_SINGLE_LABEL_SUBDOMAINS}=internalBinding("crypto"),{PublicKeyObject,isKeyObject}=require("internal/crypto/keys"),{customInspectSymbol:kInspect}=require("internal/util"),{validateBoolean,validateObject,validateString}=require("internal/validators"),{inspect}=require("internal/util/inspect"),{Buffer}=require("buffer"),{isArrayBufferView}=require("internal/util/types"),{codes:{ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE}}=require("internal/errors"),{JSTransferable,kClone,kDeserialize}=require("internal/worker/js_transferable"),{kHandle}=require("internal/crypto/util"),kInternalState=Symbol("kInternalState");function isX509Certificate(s){return s[kInternalState]!==void 0}function getFlags(s={}){validateObject(s,"options");const{subject:e="always",wildcards:t=!0,partialWildcards:r=!0,multiLabelWildcards:n=!1,singleLabelSubdomains:a=!1}={...s};let i=0;switch(validateString(e,"options.subject"),validateBoolean(t,"options.wildcards"),validateBoolean(r,"options.partialWildcards"),validateBoolean(n,"options.multiLabelWildcards"),validateBoolean(a,"options.singleLabelSubdomains"),e){case"always":i|=X509_CHECK_FLAG_ALWAYS_CHECK_SUBJECT;break;case"never":i|=X509_CHECK_FLAG_NEVER_CHECK_SUBJECT;break;default:throw new ERR_INVALID_ARG_VALUE("options.subject",e)}return t||(i|=X509_CHECK_FLAG_NO_WILDCARDS),r||(i|=X509_CHECK_FLAG_NO_PARTIAL_WILDCARDS),n&&(i|=X509_CHECK_FLAG_MULTI_LABEL_WILDCARDS),a&&(i|=X509_CHECK_FLAG_SINGLE_LABEL_SUBDOMAINS),i}class InternalX509Certificate extends JSTransferable{[kInternalState]=new SafeMap;constructor(e){super();this[kHandle]=e}}class X509Certificate extends JSTransferable{[kInternalState]=new SafeMap;constructor(e){if(typeof e=="string"&&(e=Buffer.from(e)),!isArrayBufferView(e))throw new ERR_INVALID_ARG_TYPE("buffer",["string","Buffer","TypedArray","DataView"],e);super();this[kHandle]=parseX509(e)}[kInspect](e,t){if(e<0)return this;const r={...t,depth:t.depth==null?null:t.depth-1};return`X509Certificate ${inspect({subject:this.subject,subjectAltName:this.subjectAltName,issuer:this.issuer,infoAccess:this.infoAccess,validFrom:this.validFrom,validTo:this.validTo,fingerprint:this.fingerprint,fingerprint256:this.fingerprint256,keyUsage:this.keyUsage,serialNumber:this.serialNumber},r)}`}[kClone](){return{data:{handle:this[kHandle]},deserializeInfo:"internal/crypto/x509:InternalX509Certificate"}}[kDeserialize]({handle:e}){this[kHandle]=e}get subject(){let e=this[kInternalState].get("subject");return e===void 0&&(e=this[kHandle].subject(),this[kInternalState].set("subject",e)),e}get subjectAltName(){let e=this[kInternalState].get("subjectAltName");return e===void 0&&(e=this[kHandle].subjectAltName(),this[kInternalState].set("subjectAltName",e)),e}get issuer(){let e=this[kInternalState].get("issuer");return e===void 0&&(e=this[kHandle].issuer(),this[kInternalState].set("issuer",e)),e}get issuerCertificate(){let e=this[kInternalState].get("issuerCertificate");return e===void 0&&(this[kHandle].getIssuerCert()&&(e=new InternalX509Certificate(this[kHandle].getIssuerCert())),this[kInternalState].set("issuerCertificate",e)),e}get infoAccess(){let e=this[kInternalState].get("infoAccess");return e===void 0&&(e=this[kHandle].infoAccess(),this[kInternalState].set("infoAccess",e)),e}get validFrom(){let e=this[kInternalState].get("validFrom");return e===void 0&&(e=this[kHandle].validFrom(),this[kInternalState].set("validFrom",e)),e}get validTo(){let e=this[kInternalState].get("validTo");return e===void 0&&(e=this[kHandle].validTo(),this[kInternalState].set("validTo",e)),e}get fingerprint(){let e=this[kInternalState].get("fingerprint");return e===void 0&&(e=this[kHandle].fingerprint(),this[kInternalState].set("fingerprint",e)),e}get fingerprint256(){let e=this[kInternalState].get("fingerprint256");return e===void 0&&(e=this[kHandle].fingerprint256(),this[kInternalState].set("fingerprint256",e)),e}get keyUsage(){let e=this[kInternalState].get("keyUsage");return e===void 0&&(e=this[kHandle].keyUsage(),this[kInternalState].set("keyUsage",e)),e}get serialNumber(){let e=this[kInternalState].get("serialNumber");return e===void 0&&(e=this[kHandle].serialNumber(),this[kInternalState].set("serialNumber",e)),e}get raw(){let e=this[kInternalState].get("raw");return e===void 0&&(e=this[kHandle].raw(),this[kInternalState].set("raw",e)),e}get publicKey(){let e=this[kInternalState].get("publicKey");return e===void 0&&(e=new PublicKeyObject(this[kHandle].publicKey()),this[kInternalState].set("publicKey",e)),e}toString(){let e=this[kInternalState].get("pem");return e===void 0&&(e=this[kHandle].pem(),this[kInternalState].set("pem",e)),e}toJSON(){return this.toString()}get ca(){let e=this[kInternalState].get("ca");return e===void 0&&(e=this[kHandle].checkCA(),this[kInternalState].set("ca",e)),e}checkHost(e,t){return validateString(e,"name"),this[kHandle].checkHost(e,getFlags(t))}checkEmail(e,t){return validateString(e,"email"),this[kHandle].checkEmail(e,getFlags(t))}checkIP(e,t){return validateString(e,"ip"),this[kHandle].checkIP(e,getFlags(t))}checkIssued(e){if(!isX509Certificate(e))throw new ERR_INVALID_ARG_TYPE("otherCert","X509Certificate",e);return this[kHandle].checkIssued(e[kHandle])}checkPrivateKey(e){if(!isKeyObject(e))throw new ERR_INVALID_ARG_TYPE("pkey","KeyObject",e);if(e.type!=="private")throw new ERR_INVALID_ARG_VALUE("pkey",e);return this[kHandle].checkPrivateKey(e[kHandle])}verify(e){if(!isKeyObject(e))throw new ERR_INVALID_ARG_TYPE("pkey","KeyObject",e);if(e.type!=="public")throw new ERR_INVALID_ARG_VALUE("pkey",e);return this[kHandle].verify(e[kHandle])}toLegacyObject(){return this[kHandle].toLegacy()}}InternalX509Certificate.prototype.constructor=X509Certificate,ObjectSetPrototypeOf(InternalX509Certificate.prototype,X509Certificate.prototype),module.exports={X509Certificate,InternalX509Certificate,isX509Certificate};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeConcat,ArrayPrototypeForEach,ArrayPrototypeJoin,ArrayPrototypeMap,ArrayPrototypePop,ArrayPrototypeShift,ArrayPrototypeSlice,FunctionPrototypeBind,Number,Promise,PromisePrototypeCatch,PromisePrototypeThen,PromiseResolve,Proxy,RegExpPrototypeSymbolMatch,RegExpPrototypeSymbolSplit,RegExpPrototypeTest,StringPrototypeEndsWith,StringPrototypeSplit}=primordials,{spawn}=require("child_process"),{EventEmitter}=require("events"),net=require("net"),util=require("util"),{setInterval:pSetInterval,setTimeout:pSetTimeout}=require("timers/promises"),{AbortController}=require("internal/abort_controller"),console=require("internal/console/global"),{0:InspectClient,1:createRepl}=[require("internal/debugger/inspect_client"),require("internal/debugger/inspect_repl")],debuglog=util.debuglog("inspect"),{ERR_DEBUGGER_STARTUP_ERROR}=require("internal/errors").codes;async function portIsFree(n,e,r=9999){if(e===0)return;const i=150,s=new AbortController,{signal:o}=s;pSetTimeout(r).then(()=>s.abort());const t=pSetInterval(i);for(;;){if(await t.next(),o.aborted)throw new ERR_DEBUGGER_STARTUP_ERROR(`Timeout (${r}) waiting for ${n}:${e} to be free`);if((await new Promise(c=>{const p=net.connect(e,n);p.on("error",c),p.on("connect",c)}))?.code==="ECONNREFUSED")return}}const debugRegex=/Debugger listening on ws:\/\/\[?(.+?)\]?:(\d+)\//;async function runScript(n,e,r,i,s){await portIsFree(r,i);const o=ArrayPrototypeConcat([`--inspect-brk=${i}`,n],e),t=spawn(process.execPath,o);t.stdout.setEncoding("utf8"),t.stderr.setEncoding("utf8"),t.stdout.on("data",c=>s(c,"stdout")),t.stderr.on("data",c=>s(c,"stderr"));let l="";return new Promise(c=>{function p(a){l+=a;const h=RegExpPrototypeSymbolMatch(debugRegex,l);if(h){const u=h[1],d=Number(h[2]);t.stderr.removeListener("data",p),c([t,d,u])}}t.stderr.on("data",p)})}function createAgentProxy(n,e){const r=new EventEmitter;return r.then=(i,s)=>{const o={[util.inspect.custom](t,{stylize:l}){return l(`[Agent ${n}]`,"special")}};return PromisePrototypeThen(PromiseResolve(o),i,s)},new Proxy(r,{get(i,s){return s in i?i[s]:function(t){return e.callMethod(`${n}.${s}`,t)}}})}class NodeInspector{constructor(e,r,i){this.options=e,this.stdin=r,this.stdout=i,this.paused=!0,this.child=null,e.script?this._runScript=FunctionPrototypeBind(runScript,null,e.script,e.scriptArgs,e.host,e.port,FunctionPrototypeBind(this.childPrint,this)):this._runScript=()=>PromiseResolve([null,e.port,e.host]),this.client=new InspectClient,this.domainNames=["Debugger","HeapProfiler","Profiler","Runtime"],ArrayPrototypeForEach(this.domainNames,t=>{this[t]=createAgentProxy(t,this.client)}),this.handleDebugEvent=(t,l)=>{const{0:c,1:p}=StringPrototypeSplit(t,".");c in this&&this[c].emit(p,l)},this.client.on("debugEvent",this.handleDebugEvent);const s=createRepl(this);process.on("exit",()=>this.killChild());const o=()=>process.exit(0);process.once("SIGTERM",o),process.once("SIGHUP",o),PromisePrototypeCatch(PromisePrototypeThen(this.run(),async()=>{const t=await s();this.repl=t,this.repl.on("exit",o),this.paused=!1}),t=>process.nextTick(()=>{throw t}))}suspendReplWhile(e){return this.repl&&this.repl.pause(),this.stdin.pause(),this.paused=!0,PromisePrototypeCatch(PromisePrototypeThen(new Promise(r=>{r(e())}),()=>{this.paused=!1,this.repl&&(this.repl.resume(),this.repl.displayPrompt()),this.stdin.resume()}),r=>process.nextTick(()=>{throw r}))}killChild(){this.client.reset(),this.child&&(this.child.kill(),this.child=null)}async run(){this.killChild();const{0:e,1:r,2:i}=await this._runScript();this.child=e,this.print(`connecting to ${i}:${r} ..`,!1);for(let s=0;s<5;s++){debuglog("connection attempt #%d",s),this.stdout.write(".");try{await this.client.connect(r,i),debuglog("connection established"),this.stdout.write(` ok
`);return}catch(o){debuglog("connect failed",o),await pSetTimeout(1e3)}}this.stdout.write(` failed to connect, please retry
`),process.exit(1)}clearLine(){this.stdout.isTTY?(this.stdout.cursorTo(0),this.stdout.clearLine(1)):this.stdout.write("\b")}print(e,r=!1){this.clearLine(),this.stdout.write(r?`${e}
`:e)}#t={stdout:"",stderr:""};childPrint(e,r){const i=RegExpPrototypeSymbolSplit(/\r\n|\r|\n/g,this.#t[r]+e);this.#t[r]="",i[i.length-1]!==""&&(this.#t[r]=ArrayPrototypePop(i));const s=ArrayPrototypeJoin(ArrayPrototypeMap(i,o=>`< ${o}`),`
`);i.length&&(this.print(s,!0),this.paused||this.repl.displayPrompt(!0)),StringPrototypeEndsWith(s,`Waiting for the debugger to disconnect...
`)&&this.killChild()}}function parseArgv(n){const e=ArrayPrototypeShift(n);let r="127.0.0.1",i=9229,s=!1,o=e,t=n;const l=RegExpPrototypeSymbolMatch(/^([^:]+):(\d+)$/,e),c=RegExpPrototypeSymbolMatch(/^--port=(\d+)$/,e);if(l)r=l[1],i=Number(l[2]),s=!0,o=null;else if(c)i=Number(c[1]),o=n[0],t=ArrayPrototypeSlice(n,1);else if(n.length===1&&RegExpPrototypeTest(/^\d+$/,n[0])&&e==="-p"){const p=Number(n[0]);try{process._debugProcess(p)}catch(a){throw a.code==="ESRCH"&&(console.error(`Target process: ${p} doesn't exist.`),process.exit(1)),a}o=null,s=!0}return{host:r,port:i,isRemote:s,script:o,scriptArgs:t}}function startInspect(n=ArrayPrototypeSlice(process.argv,2),e=process.stdin,r=process.stdout){if(n.length<1){const t=`${process.argv0} ${process.argv[1]}`;console.error(`Usage: ${t} script.js`),console.error(`       ${t} <host>:<port>`),console.error(`       ${t} --port=<port>`),console.error(`       ${t} -p <pid>`),process.exit(1)}const i=parseArgv(n),s=new NodeInspector(i,e,r);e.resume();function o(t){t.code!=="ERR_DEBUGGER_STARTUP_ERROR"?(console.error("There was an internal error in Node.js. Please report this bug."),console.error(t.message),console.error(t.stack)):console.error(t.message),s.child&&s.child.kill(),process.exit(1)}process.on("uncaughtException",o)}exports.start=startInspect;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypePush,ErrorCaptureStackTrace,FunctionPrototypeBind,JSONParse,JSONStringify,ObjectKeys,Promise}=primordials,Buffer=require("buffer").Buffer,crypto=require("crypto"),{ERR_DEBUGGER_ERROR}=require("internal/errors").codes,{EventEmitter}=require("events"),http=require("http"),URL=require("url"),debuglog=require("internal/util/debuglog").debuglog("inspect"),kOpCodeText=1,kOpCodeClose=8,kFinalBit=128,kReserved1Bit=64,kReserved2Bit=32,kReserved3Bit=16,kOpCodeMask=15,kMaskBit=128,kPayloadLengthMask=127,kMaxSingleBytePayloadLength=125,kMaxTwoBytePayloadLength=65535,kTwoBytePayloadLengthField=126,kEightBytePayloadLengthField=127,kMaskingKeyWidthInBytes=4,WEBSOCKET_HANDSHAKE_GUID="258EAFA5-E914-47DA-95CA-C5AB0DC85B11";function unpackError({code:r,message:t}){const o=new ERR_DEBUGGER_ERROR(`${t}`);return o.code=r,ErrorCaptureStackTrace(o,unpackError),o}function validateHandshake(r,t){const o=r+WEBSOCKET_HANDSHAKE_GUID,e=crypto.createHash("sha1");if(e.update(o),e.digest().toString("base64")!==t)throw new ERR_DEBUGGER_ERROR(`WebSocket secret mismatch: ${r} did not match ${t}`)}function encodeFrameHybi17(r){var t;const o=r.length;let e,n;if(o>kMaxTwoBytePayloadLength){e=kEightBytePayloadLengthField,n=Buffer.alloc(8);let a=o;for(t=0;t<8;++t)n[7-t]=a&255,a>>=8}else o>kMaxSingleBytePayloadLength?(e=kTwoBytePayloadLengthField,n=Buffer.alloc(2),n[0]=(o&65280)>>8,n[1]=o&255):(n=Buffer.alloc(0),e=o);const s=Buffer.from([kFinalBit|kOpCodeText,kMaskBit|e]),c=Buffer.alloc(4),i=Buffer.alloc(o);for(t=0;t<o;++t)i[t]=r[t]^c[t%kMaskingKeyWidthInBytes];return Buffer.concat([s,n,c,i])}function decodeFrameHybi17(r){const t=r.length,o={closed:!1,payload:null,rest:r};let e=2;if(t-e<0)return o;const n=r[0],s=r[1],c=(n&kFinalBit)!=0,i=(n&kReserved1Bit)!=0,a=(n&kReserved2Bit)!=0,d=(n&kReserved3Bit)!=0,u=n&kOpCodeMask,p=(s&kMaskBit)!=0;if(i)throw new ERR_DEBUGGER_ERROR("Compressed frames not supported");if(!c||a||d)throw new ERR_DEBUGGER_ERROR("Only compression extension is supported");if(p)throw new ERR_DEBUGGER_ERROR("Masked server frame - not supported");let h=!1;switch(u){case kOpCodeClose:h=!0;break;case kOpCodeText:break;default:throw new ERR_DEBUGGER_ERROR(`Unsupported op code ${u}`)}let l=s&kPayloadLengthMask;switch(l){case kTwoBytePayloadLengthField:e+=2,l=(r[2]<<8)+r[3];break;case kEightBytePayloadLengthField:e+=8,l=0;for(var f=0;f<8;++f)l<<=8,l|=r[2+f];break;default:}if(t-e-l<0)return o;const g=e+l;return{payload:r.slice(e,g),rest:r.slice(g),closed:h}}class Client extends EventEmitter{constructor(){super();this.handleChunk=FunctionPrototypeBind(this._handleChunk,this),this._port=void 0,this._host=void 0,this.reset()}_handleChunk(t){for(this._unprocessed=Buffer.concat([this._unprocessed,t]);this._unprocessed.length>2;){const{closed:o,payload:e,rest:n}=decodeFrameHybi17(this._unprocessed);if(this._unprocessed=n,o){this.reset();return}if(e===null||e.length===0)break;const s=e.toString();debuglog("< %s",s);const c=s[s.length-1];if(s[0]!=="{"||c!=="}")throw new ERR_DEBUGGER_ERROR(`Payload does not look like JSON: ${s}`);let i;try{i=JSONParse(s)}catch(h){throw h.string=s,h}const{id:a,method:d,params:u,result:p,error:k}=i;if(a){const h=this._pending[a];h&&(delete this._pending[a],h(k,p))}else if(d)this.emit("debugEvent",d,u),this.emit(d,u);else throw new ERR_DEBUGGER_ERROR(`Unsupported response: ${s}`)}}reset(){this._http&&this._http.destroy(),this._socket&&this._socket.destroy(),this._http=null,this._lastId=0,this._socket=null,this._pending={},this._unprocessed=Buffer.alloc(0)}callMethod(t,o){return new Promise((e,n)=>{if(!this._socket){n(new ERR_DEBUGGER_ERROR("Use `run` to start the app again."));return}const s={id:++this._lastId,method:t,params:o};this._pending[s.id]=(i,a)=>{i?n(unpackError(i)):e(ObjectKeys(a).length?a:void 0)};const c=JSONStringify(s);debuglog("> %s",c),this._socket.write(encodeFrameHybi17(Buffer.from(c)))})}_fetchJSON(t){return new Promise((o,e)=>{const n=http.get({host:this._host,port:this._port,path:t}),s=[];function c(i){function a(){const d=Buffer.concat(s).toString();if(i.statusCode!==200){e(new ERR_DEBUGGER_ERROR(`Unexpected ${i.statusCode}: ${d}`));return}try{o(JSONParse(d))}catch{e(new ERR_DEBUGGER_ERROR(`Response didn't contain JSON: ${d}`))}}i.on("error",e),i.on("data",d=>ArrayPrototypePush(s,d)),i.on("end",a)}n.on("error",e),n.on("response",c)})}async connect(t,o){this._port=t,this._host=o;const e=await this._discoverWebsocketPath();return this._connectWebsocket(e)}async _discoverWebsocketPath(){const{0:{webSocketDebuggerUrl:t}}=await this._fetchJSON("/json");return URL.parse(t).path}_connectWebsocket(t){this.reset();const o=crypto.randomBytes(16).toString("base64");debuglog("request WebSocket",o);const e=this._http=http.request({host:this._host,port:this._port,path:t,headers:{Connection:"Upgrade",Upgrade:"websocket","Sec-WebSocket-Key":o,"Sec-WebSocket-Version":"13"}});e.on("error",s=>{this.emit("error",s)}),e.on("response",s=>{s.statusCode>=400&&process.stderr.write(`Unexpected HTTP code: ${s.statusCode}
`),s.pipe(process.stderr)});const n=(s,c)=>{validateHandshake(o,s.headers["sec-websocket-accept"]),debuglog("websocket upgrade"),this._socket=c,c.on("data",this.handleChunk),c.on("close",()=>{this.emit("close")}),this.emit("ready")};return new Promise((s,c)=>{this.once("error",c),this.once("ready",s),e.on("upgrade",n),e.end()})}}module.exports=Client;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Array,ArrayFrom,ArrayPrototypeFilter,ArrayPrototypeFind,ArrayPrototypeForEach,ArrayPrototypeIncludes,ArrayPrototypeIndexOf,ArrayPrototypeJoin,ArrayPrototypeMap,ArrayPrototypePush,ArrayPrototypeSlice,ArrayPrototypeSome,ArrayPrototypeSplice,Date,FunctionPrototypeCall,JSONStringify,MathMax,ObjectAssign,ObjectDefineProperty,ObjectKeys,ObjectValues,Promise,PromiseAll,PromisePrototypeCatch,PromisePrototypeThen,PromiseResolve,ReflectGetOwnPropertyDescriptor,ReflectOwnKeys,RegExpPrototypeSymbolMatch,RegExpPrototypeSymbolReplace,SafeArrayIterator,SafeMap,String,StringFromCharCode,StringPrototypeEndsWith,StringPrototypeIncludes,StringPrototypeRepeat,StringPrototypeSlice,StringPrototypeSplit,StringPrototypeStartsWith,StringPrototypeToUpperCase,StringPrototypeTrim}=primordials,{ERR_DEBUGGER_ERROR}=require("internal/errors").codes,{validateString}=require("internal/validators"),FS=require("fs"),Path=require("path"),Repl=require("repl"),vm=require("vm"),{fileURLToPath}=require("internal/url"),{customInspectSymbol}=require("internal/util"),{inspect:utilInspect}=require("internal/util/inspect"),debuglog=require("internal/util/debuglog").debuglog("inspect"),SHORTCUTS={cont:"c",next:"n",step:"s",out:"o",backtrace:"bt",setBreakpoint:"sb",clearBreakpoint:"cb",run:"r"},HELP=StringPrototypeTrim(`
run, restart, r       Run the application or reconnect
kill                  Kill a running application or disconnect

cont, c               Resume execution
next, n               Continue to next line in current file
step, s               Step into, potentially entering a function
out, o                Step out, leaving the current function
backtrace, bt         Print the current backtrace
list                  Print the source around the current line where execution
                      is currently paused

setBreakpoint, sb     Set a breakpoint
clearBreakpoint, cb   Clear a breakpoint
breakpoints           List all known breakpoints
breakOnException      Pause execution whenever an exception is thrown
breakOnUncaught       Pause execution whenever an exception isn't caught
breakOnNone           Don't pause on exceptions (this is the default)

watch(expr)           Start watching the given expression
unwatch(expr)         Stop watching an expression
watchers              Print all watched expressions and their current values

exec(expr)            Evaluate the expression and print the value
repl                  Enter a debug repl that works like exec

scripts               List application scripts that are currently loaded
scripts(true)         List all scripts (including node-internals)

profile               Start CPU profiling session.
profileEnd            Stop current CPU profiling session.
profiles              Array of completed CPU profiling sessions.
profiles[n].save(filepath = 'node.cpuprofile')
                      Save CPU profiling session to disk as JSON.

takeHeapSnapshot(filepath = 'node.heapsnapshot')
                      Take a heap snapshot and save to disk as JSON.
`),FUNCTION_NAME_PATTERN=/^(?:function\*? )?([^(\s]+)\(/;function extractFunctionName(s){const r=RegExpPrototypeSymbolMatch(FUNCTION_NAME_PATTERN,s);return r?`: ${r[1]}`:""}const{moduleIds:PUBLIC_BUILTINS}=internalBinding("native_module"),NATIVES=internalBinding("natives");function isNativeUrl(s){return s=RegExpPrototypeSymbolReplace(/\.js$/,s,""),StringPrototypeStartsWith(s,"node:internal/")||ArrayPrototypeIncludes(PUBLIC_BUILTINS,s)||s in NATIVES||s==="bootstrap_node"}function getRelativePath(s){const r=StringPrototypeSlice(Path.join(Path.resolve(),"x"),0,-1),o=StringPrototypeStartsWith(s,"file://")?fileURLToPath(s):s;return StringPrototypeStartsWith(o,r)?StringPrototypeSlice(o,r.length):o}function leftPad(s,r,o){const f=s.toString(),u=MathMax(2,String(o).length)-f.length;return r+StringPrototypeRepeat(" ",u)+f}function markSourceColumn(s,r,o){if(!s)return"";const f=StringPrototypeSlice(s,0,r);let l=StringPrototypeSlice(s,r);return o&&(l=RegExpPrototypeSymbolReplace(/(.+?)([^\w]|$)/,l,"[32m$1[39m$2")),f+l}function extractErrorMessage(s){return s?RegExpPrototypeSymbolMatch(/^\w+: ([^\n]+)/,s)?.[1]??s:"<unknown>"}function convertResultToError(s){const{className:r,description:o}=s,f=new ERR_DEBUGGER_ERROR(extractErrorMessage(o));return f.stack=o,ObjectDefineProperty(f,"name",{value:r}),f}class RemoteObject{constructor(r){ObjectAssign(this,r),this.type==="number"&&(this.value=this.unserializableValue?+this.unserializableValue:+this.value)}[customInspectSymbol](r,o){function f(l){switch(l.type){case"string":case"undefined":return utilInspect(l.value,o);case"number":case"boolean":return o.stylize(l.value,l.type);case"object":case"symbol":return l.subtype==="date"?utilInspect(new Date(l.value),o):l.subtype==="array"?o.stylize(l.value,"special"):o.stylize(l.value,l.subtype||"special");default:return l.value}}switch(this.type){case"boolean":case"number":case"string":case"undefined":return utilInspect(this.value,o);case"symbol":return o.stylize(this.description,"special");case"function":{const l=extractFunctionName(this.description),u=`[${this.className}${l}]`;return o.stylize(u,"special")}case"object":switch(this.subtype){case"date":return utilInspect(new Date(this.description),o);case"null":return utilInspect(null,o);case"regexp":return o.stylize(this.description,"regexp");default:break}if(this.preview){const l=ArrayPrototypeMap(this.preview.properties,(v,S)=>{const x=f(v);return v.name===`${S}`?x:`${v.name}: ${x}`});this.preview.overflow&&ArrayPrototypePush(l,"...");const u=ArrayPrototypeJoin(l,", "),$=u.length>60?ArrayPrototypeJoin(l,`,
  `):u;return this.subtype==="array"?`[ ${$} ]`:`{ ${$} }`}return this.description;default:return this.description}}static fromEvalResult({result:r,wasThrown:o}){return o?convertResultToError(r):new RemoteObject(r)}}class ScopeSnapshot{constructor(r,o){ObjectAssign(this,r),this.properties=new SafeMap,this.completionGroup=ArrayPrototypeMap(o,f=>{const l=new RemoteObject(f.value);return this.properties.set(f.name,l),f.name})}[customInspectSymbol](r,o){const f=StringPrototypeToUpperCase(this.type[0])+StringPrototypeSlice(this.type,1),l=this.name?`<${this.name}>`:"",u=`${f}${l} `;return RegExpPrototypeSymbolReplace(/^Map /,utilInspect(this.properties,o),u)}}function copyOwnProperties(s,r){ArrayPrototypeForEach(ReflectOwnKeys(r),o=>{const f=ReflectGetOwnPropertyDescriptor(r,o);ObjectDefineProperty(s,o,f)})}function aliasProperties(s,r){ArrayPrototypeForEach(ObjectKeys(r),o=>{const f=ReflectGetOwnPropertyDescriptor(s,o);ObjectDefineProperty(s,r[o],f)})}function createRepl(s){const{Debugger:r,HeapProfiler:o,Profiler:f,Runtime:l}=s;let u;const $={control:[],debug:[]},v=[],S=[];let x=null,_="none",R,P,C,y,k;function D(){P={},C=null,y=null,k&&k(),k=null}D();const ee={colors:s.stdout.isTTY};function O(t){return utilInspect(t,ee)}function h(t,e=!0){const n=typeof t=="string"?t:O(t);return s.print(n,e)}function U(){if(!y)throw new ERR_DEBUGGER_ERROR("Requires execution to be paused");return y.location}function H(t){return y&&U().scriptId===t.scriptId}function M(t=!1){function e(n){return t?!0:!n.isNative||H(n)}return ArrayPrototypeJoin(ArrayPrototypeMap(ArrayPrototypeFilter(ObjectValues(P),e),n=>{const i=H(n),{isNative:c,url:a}=n,d=`${getRelativePath(a)}${c?" <native>":""}`;return`${i?"*":" "} ${n.scriptId}: ${d}`}),`
`)}function q(t=!1){h(M(t))}q[customInspectSymbol]=function(){return M()};const F=[];class T{constructor(e){this.data=e}static createAndRegister({profile:e}){const n=new T(e);return ArrayPrototypePush(F,n),n}[customInspectSymbol](e,{stylize:n}){const{startTime:i,endTime:c}=this.data,a=StringFromCharCode(956);return n(`[Profile ${c-i}${a}s]`,"special")}save(e="node.cpuprofile"){const n=Path.resolve(e),i=JSONStringify(this.data);FS.writeFileSync(n,i),h("Saved profile to "+n)}}class te{constructor(e,n,i){ObjectAssign(this,e),this.scriptSource=i,this.delta=n}[customInspectSymbol](e,n){const{scriptId:i,lineNumber:c,columnNumber:a,delta:d,scriptSource:m}=this,g=MathMax(1,c-d+1),p=c+d+1,b=StringPrototypeSplit(m,`
`);return ArrayPrototypeJoin(ArrayPrototypeMap(ArrayPrototypeSlice(b,g-1,p),(I,w)=>{const E=g+w,B=E===c+1,le=B?markSourceColumn(I,a,n.colors):I;let Z=!1;ArrayPrototypeForEach(S,({location:G})=>{!G||i===G.scriptId&&E===G.lineNumber+1&&(Z=!0)});let j=" ";return B?j=">":Z&&(j="*"),`${leftPad(E,j,p)} ${le}`}),`
`)}}async function W(t,e=5){const{scriptId:n}=t,{scriptSource:i}=await r.getScriptSource({scriptId:n});return new te(t,e,i)}class z{constructor(e){ObjectAssign(this,e)}loadScopes(){return PromiseAll(new SafeArrayIterator(ArrayPrototypeMap(ArrayPrototypeFilter(this.scopeChain,e=>e.type!=="global"),async e=>{const{objectId:n}=e.object,{result:i}=await l.getProperties({objectId:n,generatePreview:!0});return new ScopeSnapshot(e,i)})))}list(e=5){return W(this.location,e)}}class ne extends Array{[customInspectSymbol](){return ArrayPrototypeJoin(ArrayPrototypeMap(this,(e,n)=>{const{location:{scriptId:i,lineNumber:c,columnNumber:a},functionName:d}=e,m=d||"(anonymous)",g=P[i],b=`${g&&getRelativePath(g.url)||"<unknown>"}:${c+1}:${a}`;return`#${n} ${m} ${b}`}),`
`)}static from(e){return FunctionPrototypeCall(ArrayFrom,this,e,n=>n instanceof z?n:new z(n))}}function re(t){if(t===`
`)return R;const e=RegExpPrototypeSymbolMatch(/^\s*exec\s+([^\n]*)/,t);return e?R=`exec(${JSONStringify(e[1])})`:R=t,R}async function L(t){if(t===".scope"){if(!y)throw new ERR_DEBUGGER_ERROR("Requires execution to be paused");const e=await y.loadScopes();return ArrayPrototypeMap(e,n=>n.completionGroup)}return PromisePrototypeThen(y?r.evaluateOnCallFrame({callFrameId:y.callFrameId,expression:t,objectGroup:"node-inspect",generatePreview:!0}):l.evaluate({expression:t,objectGroup:"node-inspect",generatePreview:!0}),RemoteObject.fromEvalResult)}function V(t,e,n,i){debuglog("eval:",t);function c(a,d){debuglog("end-eval:",t,a),i(a,d)}try{const a=re(t),d=vm.runInContext(a,e,n),m=d?.then;typeof m=="function"?FunctionPrototypeCall(m,d,g=>c(null,g),c):c(null,d)}catch(a){c(a)}}function se(t,e,n,i){debuglog("eval:",t);function c(a,d){debuglog("end-eval:",t,a),i(a,d)}PromisePrototypeThen(L(t),a=>c(null,a),c)}async function J(t=!1){if(!v.length)return"";const e=d=>PromisePrototypeCatch(L(d),m=>`<${m.message}>`),n=v.length-1,i=await PromiseAll(new SafeArrayIterator(ArrayPrototypeMap(v,e))),c=ArrayPrototypeMap(v,(d,m)=>{const g=`${leftPad(m," ",n)}: ${d} =`,p=O(i[m]);return StringPrototypeIncludes(p,`
`)?`${g}
    ${RegExpPrototypeSymbolReplace(/\n/g,p,`
    `)}`:`${g} ${p}`}),a=ArrayPrototypeJoin(c,`
`);return t?`Watchers:
${a}
`:a}function ie(t=!1){return PromisePrototypeThen(J(t),h)}function oe(t=5){return y.list(t).then(null,e=>{throw h("You can't list source code right now"),e})}function K({breakpointId:t,location:e}){const n=P[e.scriptId],i=n&&n.url;i&&ObjectAssign(e,{scriptUrl:i}),ArrayPrototypeSome(S,a=>a.breakpointId===t?(ObjectAssign(a,{location:e}),!0):!1)||ArrayPrototypePush(S,{breakpointId:t,location:e})}function ae(){if(!S.length){h("No breakpoints yet");return}function t(n){if(!n)return"<unknown location>";const i=P[n.scriptId],c=i?i.url:n.scriptUrl;return`${getRelativePath(c)}:${n.lineNumber+1}`}const e=ArrayPrototypeJoin(ArrayPrototypeMap(S,(n,i)=>`#${i} ${t(n.location)}`),`
`);h(e)}function Y(t,e,n,i){function c({breakpointId:p,actualLocation:b}){if(K({breakpointId:p,location:b}),b&&b.scriptId){if(!i)return W(b,5)}else h(`Warning: script '${t}' was not loaded yet.`)}if(t===void 0)return PromisePrototypeThen(r.setBreakpoint({location:U(),condition:n}),c);if(e===void 0&&typeof t=="number"){const p={scriptId:U().scriptId,lineNumber:t-1};return PromisePrototypeThen(r.setBreakpoint({location:p,condition:n}),c)}if(validateString(t,"script"),StringPrototypeEndsWith(t,"()")){const p=`debug(${t.slice(0,-2)})`,b=y?r.evaluateOnCallFrame({callFrameId:y.callFrameId,expression:p,includeCommandLineAPI:!0}):l.evaluate({expression:p,includeCommandLineAPI:!0});return PromisePrototypeThen(b,({result:I,wasThrown:w})=>{if(w)return convertResultToError(I)})}let a=null,d=!1;if(P[t]?a=t:ArrayPrototypeForEach(ObjectKeys(P),p=>{const b=P[p].url;b&&StringPrototypeIncludes(b,t)&&(a!==null&&(d=!0),a=p)}),d){h("Script name is ambiguous");return}if(e<=0){h("Line should be a positive value");return}if(a!==null){const p={scriptId:a,lineNumber:e-1};return PromisePrototypeThen(r.setBreakpoint({location:p,condition:n}),c)}const g=`^(.*[\\/\\\\])?${RegExpPrototypeSymbolReplace(/([/\\.?*()^${}|[\]])/g,t,"\\$1")}$`;return PromisePrototypeThen(r.setBreakpointByUrl({urlRegex:g,lineNumber:e-1,condition:n}),p=>(p.location||ObjectAssign(p,{actualLocation:{scriptUrl:`.*/${t}$`,lineNumber:e-1}}),c(p)))}function ue(t,e){const n=ArrayPrototypeFind(S,({location:i})=>{if(!i)return!1;const c=P[i.scriptId];return c?StringPrototypeIncludes(c.url,t)&&i.lineNumber+1===e:!1});return n?PromisePrototypeThen(r.removeBreakpoint({breakpointId:n.breakpointId}),()=>{const i=ArrayPrototypeIndexOf(S,n);ArrayPrototypeSplice(S,i,1)}):(h(`Could not find breakpoint at ${t}:${e}`),PromiseResolve())}function ce(){const t=ArrayPrototypeSplice(S,0),e=ArrayPrototypeMap(ArrayPrototypeFilter(t,({location:n})=>!!n.scriptUrl),({location:n})=>Y(n.scriptUrl,n.lineNumber+1));return e.length?PromisePrototypeThen(PromiseAll(new SafeArrayIterator(e)),n=>{h(`${n.length} breakpoints restored.`)}):PromiseResolve()}function A(t){return PromisePrototypeThen(r.setPauseOnExceptions({state:t}),()=>{_=t})}r.on("paused",({callFrames:t,reason:e})=>{if(process.env.NODE_INSPECT_RESUME_ON_START==="1"&&e==="Break on start"){debuglog("Paused on start, but NODE_INSPECT_RESUME_ON_START environment variable is set to 1, resuming"),s.client.callMethod("Debugger.resume");return}C=ne.from(t),y=C[0];const{scriptId:n,lineNumber:i}=y.location,c=e==="other"?"break":e,a=P[n],d=a?getRelativePath(a.url):"[unknown]",m=`${c} in ${d}:${i+1}`;s.suspendReplWhile(()=>PromisePrototypeThen(PromiseAll(new SafeArrayIterator([J(!0),y.list(2)])),({0:g,1:p})=>{const b=g?`${g}
${O(p)}`:O(p);h(`${m}
${b}`)}))});function N(){C=null,y=null}r.on("resumed",N),r.on("breakpointResolved",K),r.on("scriptParsed",t=>{const{scriptId:e,url:n}=t;n&&(P[e]={isNative:isNativeUrl(n),...t})}),f.on("consoleProfileFinished",({profile:t})=>{T.createAndRegister({profile:t}),h(`Captured new CPU profile.
Access it with profiles[${F.length-1}]`)});function Q(t){ArrayPrototypeForEach(s.domainNames,e=>{ObjectDefineProperty(t,e,{value:s[e],enumerable:!0,configurable:!0,writeable:!1})}),copyOwnProperties(t,{get help(){return h(HELP)},get run(){return s.run()},get kill(){return s.killChild()},get restart(){return s.run()},get cont(){return N(),r.resume()},get next(){return N(),r.stepOver()},get step(){return N(),r.stepInto()},get out(){return N(),r.stepOut()},get pause(){return r.pause()},get backtrace(){return C},get breakpoints(){return ae()},exec(e){return L(e)},get profile(){return f.start()},get profileEnd(){return PromisePrototypeThen(f.stop(),T.createAndRegister)},get profiles(){return F},takeHeapSnapshot(e="node.heapsnapshot"){return x?(h("Cannot take heap snapshot because another snapshot is in progress."),x):(x=new Promise((n,i)=>{const c=Path.resolve(e),a=FS.createWriteStream(c);let d=0;function m({done:w,total:E,finished:B}){B?h("Heap snaphost prepared."):h(`Heap snapshot: ${w}/${E}`,!1)}function g({chunk:w}){d+=w.length,a.write(w),h(`Writing snapshot: ${d}`,!1)}function p(){a.end(()=>{I(),h(`Wrote snapshot: ${c}`),x=null,n()})}function b(w){I(),i(w)}function I(){o.removeListener("reportHeapSnapshotProgress",m),o.removeListener("addHeapSnapshotChunk",g)}o.on("reportHeapSnapshotProgress",m),o.on("addHeapSnapshotChunk",g),h("Heap snapshot: 0/0",!1),PromisePrototypeThen(o.takeHeapSnapshot({reportProgress:!0}),p,b)}),x)},get watchers(){return ie()},watch(e){ArrayPrototypePush(v,e)},unwatch(e){const n=ArrayPrototypeIndexOf(v,e);ArrayPrototypeSplice(v,n!==-1?n:+e,1)},get repl(){const e=ArrayPrototypeSlice(u.listeners("SIGINT"));u.removeAllListeners("SIGINT");const n=u.context;return k=()=>{process.nextTick(()=>{ArrayPrototypeForEach(e,i=>{u.on("SIGINT",i)})}),u.eval=V,$.debug=u.history,u.history=$.control,u.context=n,u.setPrompt("debug> "),u.displayPrompt(),u.removeListener("SIGINT",k),u.removeListener("exit",k),k=null},u.on("SIGINT",k),u.on("exit",k),u.eval=se,u.context={},$.control=u.history,u.history=$.debug,u.setPrompt("> "),h("Press Ctrl+C to leave debug repl"),u.displayPrompt()},get version(){return PromisePrototypeThen(l.evaluate({expression:"process.versions.v8",contextId:1,returnByValue:!0}),({result:e})=>{h(e.value)})},scripts:q,setBreakpoint:Y,clearBreakpoint:ue,setPauseOnExceptions:A,get breakOnException(){return A("all")},get breakOnUncaught(){return A("uncaught")},get breakOnNone(){return A("none")},list:oe}),aliasProperties(t,SHORTCUTS)}async function X(){return await l.enable(),await f.enable(),await f.setSamplingInterval({interval:100}),await r.enable(),await r.setPauseOnExceptions({state:"none"}),await r.setAsyncCallStackDepth({maxDepth:0}),await r.setBlackboxPatterns({patterns:[]}),await r.setPauseOnExceptions({state:_}),await ce(),l.runIfWaitingForDebugger()}return async function(){s.client.on("close",()=>{D()}),s.client.on("ready",()=>{X()}),await X();const e={prompt:"debug> ",input:s.stdin,output:s.stdout,eval:V,useGlobal:!1,ignoreUndefined:!0};return u=Repl.start(e),Q(u.context),u.on("reset",Q),u.defineCommand("interrupt",()=>{u.emit("SIGINT")}),u}}module.exports=createRepl;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeMap,ObjectCreate,ObjectDefineProperty,Promise,ReflectApply}=primordials,{bindDefaultResolver,Resolver:CallbackResolver,validateHints,validateTimeout,validateTries,emitInvalidHostnameWarning,emitTypeCoercionDeprecationWarning,getDefaultVerbatim}=require("internal/dns/utils"),{codes,dnsException}=require("internal/errors"),{toASCII}=require("internal/idna"),{isIP}=require("internal/net"),{getaddrinfo,getnameinfo,ChannelWrap,GetAddrInfoReqWrap,GetNameInfoReqWrap,QueryReqWrap}=internalBinding("cares_wrap"),{ERR_INVALID_ARG_VALUE,ERR_MISSING_ARGS}=codes,{validatePort,validateString,validateOneOf}=require("internal/validators");function onlookup(t,e){if(t){this.reject(dnsException(t,"getaddrinfo",this.hostname));return}const r=this.family||isIP(e[0]);this.resolve({address:e[0],family:r})}function onlookupall(t,e){if(t){this.reject(dnsException(t,"getaddrinfo",this.hostname));return}const r=this.family;for(var o=0;o<e.length;o++){const n=e[o];e[o]={address:n,family:r||isIP(e[o])}}this.resolve(e)}function createLookupPromise(t,e,r,o,n){return new Promise((l,i)=>{if(!e){emitInvalidHostnameWarning(e),l(r?[]:{address:null,family:t===6?6:4});return}const s=isIP(e);if(s!==0){const f={address:e,family:s};l(r?[f]:f);return}const a=new GetAddrInfoReqWrap;a.family=t,a.hostname=e,a.oncomplete=r?onlookupall:onlookup,a.resolve=l,a.reject=i;const u=getaddrinfo(a,toASCII(e),t,o,n);u&&i(dnsException(u,"getaddrinfo",e))})}function lookup(t,e){var r=0,o=-1,n=!1,l=getDefaultVerbatim();return t&&validateString(t,"hostname"),e!==null&&typeof e=="object"?(e.hints!=null&&typeof e.hints!="number"&&emitTypeCoercionDeprecationWarning(),r=e.hints>>>0,e.family!=null&&typeof e.family!="number"&&emitTypeCoercionDeprecationWarning(),o=e.family>>>0,e.all!=null&&typeof e.all!="boolean"&&emitTypeCoercionDeprecationWarning(),n=e.all===!0,typeof e.verbatim=="boolean"?l=e.verbatim===!0:e.verbatim!=null&&emitTypeCoercionDeprecationWarning(),validateHints(r)):(e!=null&&typeof e!="number"&&emitTypeCoercionDeprecationWarning(),o=e>>>0),validateOneOf(o,"family",[0,4,6],!0),createLookupPromise(o,t,n,r,l)}function onlookupservice(t,e,r){if(t){this.reject(dnsException(t,"getnameinfo",this.host));return}this.resolve({hostname:e,service:r})}function createLookupServicePromise(t,e){return new Promise((r,o)=>{const n=new GetNameInfoReqWrap;n.hostname=t,n.port=e,n.oncomplete=onlookupservice,n.resolve=r,n.reject=o;const l=getnameinfo(n,t,e);l&&o(dnsException(l,"getnameinfo",t))})}function lookupService(t,e){if(arguments.length!==2)throw new ERR_MISSING_ARGS("address","port");if(isIP(t)===0)throw new ERR_INVALID_ARG_VALUE("address",t);return validatePort(e),createLookupServicePromise(t,+e)}function onresolve(t,e,r){if(t){this.reject(dnsException(t,this.bindingName,this.hostname));return}r&&this.ttl&&(e=ArrayPrototypeMap(e,(o,n)=>({address:o,ttl:r[n]}))),this.resolve(e)}function createResolverPromise(t,e,r,o){return new Promise((n,l)=>{const i=new QueryReqWrap;i.bindingName=e,i.hostname=r,i.oncomplete=onresolve,i.resolve=n,i.reject=l,i.ttl=o;const s=t._handle[e](i,toASCII(r));s&&l(dnsException(s,e,r))})}function resolver(t){function e(r,o){validateString(r,"name");const n=!!(o&&o.ttl);return createResolverPromise(this,t,r,n)}return ObjectDefineProperty(e,"name",{value:t}),e}const resolveMap=ObjectCreate(null);class Resolver{constructor(e=void 0){const r=validateTimeout(e),o=validateTries(e);this._handle=new ChannelWrap(r,o)}}Resolver.prototype.getServers=CallbackResolver.prototype.getServers,Resolver.prototype.setServers=CallbackResolver.prototype.setServers,Resolver.prototype.cancel=CallbackResolver.prototype.cancel,Resolver.prototype.setLocalAddress=CallbackResolver.prototype.setLocalAddress,Resolver.prototype.resolveAny=resolveMap.ANY=resolver("queryAny"),Resolver.prototype.resolve4=resolveMap.A=resolver("queryA"),Resolver.prototype.resolve6=resolveMap.AAAA=resolver("queryAaaa"),Resolver.prototype.resolveCaa=resolveMap.CAA=resolver("queryCaa"),Resolver.prototype.resolveCname=resolveMap.CNAME=resolver("queryCname"),Resolver.prototype.resolveMx=resolveMap.MX=resolver("queryMx"),Resolver.prototype.resolveNs=resolveMap.NS=resolver("queryNs"),Resolver.prototype.resolveTxt=resolveMap.TXT=resolver("queryTxt"),Resolver.prototype.resolveSrv=resolveMap.SRV=resolver("querySrv"),Resolver.prototype.resolvePtr=resolveMap.PTR=resolver("queryPtr"),Resolver.prototype.resolveNaptr=resolveMap.NAPTR=resolver("queryNaptr"),Resolver.prototype.resolveSoa=resolveMap.SOA=resolver("querySoa"),Resolver.prototype.reverse=resolver("getHostByAddr"),Resolver.prototype.resolve=function(e,r){var o;if(r!==void 0){if(validateString(r,"rrtype"),o=resolveMap[r],typeof o!="function")throw new ERR_INVALID_ARG_VALUE("rrtype",r)}else o=resolveMap.A;return ReflectApply(o,this,[e])},module.exports={lookup,lookupService,Resolver},bindDefaultResolver(module.exports,Resolver.prototype);
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeForEach,ArrayPrototypeJoin,ArrayPrototypeMap,ArrayPrototypePush,FunctionPrototypeBind,NumberParseInt,StringPrototypeMatch,StringPrototypeReplace}=primordials,errors=require("internal/errors"),{isIP}=require("internal/net"),{getOptionValue}=require("internal/options"),{validateArray,validateInt32,validateOneOf,validateString}=require("internal/validators"),{ChannelWrap,strerror,AI_ADDRCONFIG,AI_ALL,AI_V4MAPPED}=internalBinding("cares_wrap"),IANA_DNS_PORT=53,IPv6RE=/^\[([^[\]]*)\]/,addrSplitRE=/(^.+?)(?::(\d+))?$/,{ERR_DNS_SET_SERVERS_FAILED,ERR_INVALID_ARG_VALUE,ERR_INVALID_IP_ADDRESS}=errors.codes;function validateTimeout(t){const{timeout:e=-1}={...t};return validateInt32(e,"options.timeout",-1,2**31-1),e}function validateTries(t){const{tries:e=4}={...t};return validateInt32(e,"options.tries",1,2**31-1),e}class Resolver{constructor(e=void 0){const r=validateTimeout(e),s=validateTries(e);this._handle=new ChannelWrap(r,s)}cancel(){this._handle.cancel()}getServers(){return ArrayPrototypeMap(this._handle.getServers(),e=>!e[1]||e[1]===IANA_DNS_PORT?e[0]:`${isIP(e[0])===6?`[${e[0]}]`:e[0]}:${e[1]}`)}setServers(e){validateArray(e,"servers");const r=this._handle.getServers(),s=[];ArrayPrototypeForEach(e,(n,d)=>{validateString(n,`servers[${d}]`);let o=isIP(n);if(o!==0)return ArrayPrototypePush(s,[o,n,IANA_DNS_PORT]);const a=StringPrototypeMatch(n,IPv6RE);if(a&&(o=isIP(a[1]),o!==0)){const i=NumberParseInt(StringPrototypeReplace(n,addrSplitRE,"$2"))||IANA_DNS_PORT;return ArrayPrototypePush(s,[o,a[1],i])}const l=StringPrototypeMatch(n,addrSplitRE);if(l){const i=l[1],u=l[2]||IANA_DNS_PORT;if(o=isIP(i),o!==0)return ArrayPrototypePush(s,[o,i,NumberParseInt(u)])}throw new ERR_INVALID_IP_ADDRESS(n)});const c=this._handle.setServers(s);if(c!==0){this._handle.setServers(ArrayPrototypeJoin(r,","));const n=strerror(c);throw new ERR_DNS_SET_SERVERS_FAILED(n,e)}}setLocalAddress(e,r){validateString(e,"ipv4"),r!==void 0&&validateString(r,"ipv6"),this._handle.setLocalAddress(e,r)}}let defaultResolver=new Resolver;const resolverKeys=["getServers","resolve","resolve4","resolve6","resolveAny","resolveCaa","resolveCname","resolveMx","resolveNaptr","resolveNs","resolvePtr","resolveSoa","resolveSrv","resolveTxt","reverse"];function getDefaultResolver(){return defaultResolver}function setDefaultResolver(t){defaultResolver=t}function bindDefaultResolver(t,e){ArrayPrototypeForEach(resolverKeys,r=>{t[r]=FunctionPrototypeBind(e[r],defaultResolver)})}function validateHints(t){if((t&~(AI_ADDRCONFIG|AI_ALL|AI_V4MAPPED))!=0)throw new ERR_INVALID_ARG_VALUE("hints",t)}let invalidHostnameWarningEmitted=!1;function emitInvalidHostnameWarning(t){invalidHostnameWarningEmitted||(invalidHostnameWarningEmitted=!0,process.emitWarning(`The provided hostname "${t}" is not a valid hostname, and is supported in the dns module solely for compatibility.`,"DeprecationWarning","DEP0118"))}let typeCoercionWarningEmitted=!1;function emitTypeCoercionDeprecationWarning(){typeCoercionWarningEmitted||(process.emitWarning("Type coercion of dns.lookup options is deprecated","DeprecationWarning","DEP0153"),typeCoercionWarningEmitted=!0)}let dnsOrder=getOptionValue("--dns-result-order")||"verbatim";function getDefaultVerbatim(){return dnsOrder!=="ipv4first"}function setDefaultResultOrder(t){validateOneOf(t,"dnsOrder",["verbatim","ipv4first"]),dnsOrder=t}module.exports={bindDefaultResolver,getDefaultResolver,setDefaultResolver,validateHints,validateTimeout,validateTries,Resolver,emitInvalidHostnameWarning,emitTypeCoercionDeprecationWarning,getDefaultVerbatim,setDefaultResultOrder};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypePush,ArrayPrototypeSlice,ArrayPrototypeSplice,FunctionPrototypeBind,ObjectDefineProperty,PromiseReject,Symbol,SymbolAsyncIterator}=primordials,pathModule=require("path"),binding=internalBinding("fs"),dirBinding=internalBinding("fs_dir"),{codes:{ERR_DIR_CLOSED,ERR_DIR_CONCURRENT_OPERATION,ERR_MISSING_ARGS}}=require("internal/errors"),{FSReqCallback}=binding,internalUtil=require("internal/util"),{getDirent,getOptions,getValidatedPath,handleErrorFromBinding}=require("internal/fs/utils"),{validateCallback,validateUint32}=require("internal/validators"),kDirHandle=Symbol("kDirHandle"),kDirPath=Symbol("kDirPath"),kDirBufferedEntries=Symbol("kDirBufferedEntries"),kDirClosed=Symbol("kDirClosed"),kDirOptions=Symbol("kDirOptions"),kDirReadImpl=Symbol("kDirReadImpl"),kDirReadPromisified=Symbol("kDirReadPromisified"),kDirClosePromisified=Symbol("kDirClosePromisified"),kDirOperationQueue=Symbol("kDirOperationQueue");class Dir{constructor(e,t,r){if(e==null)throw new ERR_MISSING_ARGS("handle");this[kDirHandle]=e,this[kDirBufferedEntries]=[],this[kDirPath]=t,this[kDirClosed]=!1,this[kDirOperationQueue]=null,this[kDirOptions]={bufferSize:32,...getOptions(r,{encoding:"utf8"})},validateUint32(this[kDirOptions].bufferSize,"options.bufferSize",!0),this[kDirReadPromisified]=FunctionPrototypeBind(internalUtil.promisify(this[kDirReadImpl]),this,!1),this[kDirClosePromisified]=FunctionPrototypeBind(internalUtil.promisify(this.close),this)}get path(){return this[kDirPath]}read(e){return this[kDirReadImpl](!0,e)}[kDirReadImpl](e,t){if(this[kDirClosed]===!0)throw new ERR_DIR_CLOSED;if(t===void 0)return this[kDirReadPromisified]();if(validateCallback(t),this[kDirOperationQueue]!==null){ArrayPrototypePush(this[kDirOperationQueue],()=>{this[kDirReadImpl](e,t)});return}if(this[kDirBufferedEntries].length>0){const{0:s,1:n}=ArrayPrototypeSplice(this[kDirBufferedEntries],0,2);e?process.nextTick(getDirent,this[kDirPath],s,n,t):getDirent(this[kDirPath],s,n,t);return}const r=new FSReqCallback;r.oncomplete=(s,n)=>{if(process.nextTick(()=>{const o=this[kDirOperationQueue];this[kDirOperationQueue]=null;for(const u of o)u()}),s||n===null)return t(s,n);this[kDirBufferedEntries]=ArrayPrototypeSlice(n,2),getDirent(this[kDirPath],n[0],n[1],t)},this[kDirOperationQueue]=[],this[kDirHandle].read(this[kDirOptions].encoding,this[kDirOptions].bufferSize,r)}readSync(){if(this[kDirClosed]===!0)throw new ERR_DIR_CLOSED;if(this[kDirOperationQueue]!==null)throw new ERR_DIR_CONCURRENT_OPERATION;if(this[kDirBufferedEntries].length>0){const{0:r,1:s}=ArrayPrototypeSplice(this[kDirBufferedEntries],0,2);return getDirent(this[kDirPath],r,s)}const e={path:this[kDirPath]},t=this[kDirHandle].read(this[kDirOptions].encoding,this[kDirOptions].bufferSize,void 0,e);return handleErrorFromBinding(e),t===null?t:(this[kDirBufferedEntries]=ArrayPrototypeSlice(t,2),getDirent(this[kDirPath],t[0],t[1]))}close(e){if(e===void 0)return this[kDirClosed]===!0?PromiseReject(new ERR_DIR_CLOSED):this[kDirClosePromisified]();if(validateCallback(e),this[kDirClosed]===!0){process.nextTick(e,new ERR_DIR_CLOSED);return}if(this[kDirOperationQueue]!==null){ArrayPrototypePush(this[kDirOperationQueue],()=>{this.close(e)});return}this[kDirClosed]=!0;const t=new FSReqCallback;t.oncomplete=e,this[kDirHandle].close(t)}closeSync(){if(this[kDirClosed]===!0)throw new ERR_DIR_CLOSED;if(this[kDirOperationQueue]!==null)throw new ERR_DIR_CONCURRENT_OPERATION;this[kDirClosed]=!0;const e={path:this[kDirPath]},t=this[kDirHandle].close(void 0,e);return handleErrorFromBinding(e),t}async*entries(){try{for(;;){const e=await this[kDirReadPromisified]();if(e===null)break;yield e}}finally{await this[kDirClosePromisified]()}}}ObjectDefineProperty(Dir.prototype,SymbolAsyncIterator,{value:Dir.prototype.entries,enumerable:!1,writable:!0,configurable:!0});function opendir(i,e,t){t=typeof e=="function"?e:t,validateCallback(t),i=getValidatedPath(i),e=getOptions(e,{encoding:"utf8"});function r(n,o){n?t(n):t(null,new Dir(o,i,e))}const s=new FSReqCallback;s.oncomplete=r,dirBinding.opendir(pathModule.toNamespacedPath(i),e.encoding,s)}function opendirSync(i,e){i=getValidatedPath(i),e=getOptions(e,{encoding:"utf8"});const t={path:i},r=dirBinding.opendir(pathModule.toNamespacedPath(i),e.encoding,void 0,t);return handleErrorFromBinding(t),new Dir(r,i,e)}module.exports={Dir,opendir,opendirSync};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypePush,Error,MathMax,MathMin,NumberIsSafeInteger,Promise,PromisePrototypeThen,PromiseResolve,PromiseReject,SafeArrayIterator,SafePromisePrototypeFinally,Symbol,Uint8Array}=primordials,{F_OK,O_SYMLINK,O_WRONLY,S_IFMT,S_IFREG}=internalBinding("constants").fs,binding=internalBinding("fs"),{Buffer}=require("buffer"),{codes:{ERR_FS_FILE_TOO_LARGE,ERR_INVALID_ARG_VALUE,ERR_INVALID_STATE,ERR_METHOD_NOT_IMPLEMENTED},AbortError,aggregateTwoErrors}=require("internal/errors"),{isArrayBufferView}=require("internal/util/types"),{rimrafPromises}=require("internal/fs/rimraf"),{constants:{kIoMaxLength,kMaxUserId,kReadFileBufferLength,kReadFileUnknownBufferLength,kWriteFileMaxChunkSize},copyObject,emitRecursiveRmdirWarning,getDirents,getOptions,getStatsFromBinding,getValidatedPath,getValidMode,nullCheck,preprocessSymlinkDestination,stringToFlags,stringToSymlinkType,toUnixTimestamp,validateBufferArray,validateCpOptions,validateOffsetLengthRead,validateOffsetLengthWrite,validateRmOptions,validateRmdirOptions,validateStringAfterArrayBufferView,warnOnNonPortableTemplate}=require("internal/fs/utils"),{opendir}=require("internal/fs/dir"),{parseFileMode,validateAbortSignal,validateBoolean,validateBuffer,validateEncoding,validateInteger,validateString}=require("internal/validators"),pathModule=require("path"),{lazyDOMException,promisify}=require("internal/util"),{EventEmitterMixin}=require("internal/event_target"),{watch}=require("internal/fs/watchers"),{isIterable}=require("internal/streams/utils"),assert=require("internal/assert"),kHandle=Symbol("kHandle"),kFd=Symbol("kFd"),kRefs=Symbol("kRefs"),kClosePromise=Symbol("kClosePromise"),kCloseResolve=Symbol("kCloseResolve"),kCloseReject=Symbol("kCloseReject"),kRef=Symbol("kRef"),kUnref=Symbol("kUnref"),kLocked=Symbol("kLocked"),{kUsePromises}=binding,{JSTransferable,kDeserialize,kTransfer,kTransferList}=require("internal/worker/js_transferable"),{newReadableStreamFromStreamBase}=require("internal/webstreams/adapters"),{readableStreamCancel}=require("internal/webstreams/readablestream"),getDirectoryEntriesPromise=promisify(getDirents),validateRmOptionsPromise=promisify(validateRmOptions);let cpPromises;function lazyLoadCpPromises(){return cpPromises??=require("internal/fs/cp/cp").cpFn}class FileHandle extends EventEmitterMixin(JSTransferable){constructor(e){super();this[kHandle]=e,this[kFd]=e?e.fd:-1,this[kRefs]=1,this[kClosePromise]=null}getAsyncId(){return this[kHandle].getAsyncId()}get fd(){return this[kFd]}appendFile(e,n){return fsCall(writeFile,this,e,n)}chmod(e){return fsCall(fchmod,this,e)}chown(e,n){return fsCall(fchown,this,e,n)}datasync(){return fsCall(fdatasync,this)}sync(){return fsCall(fsync,this)}read(e,n,r,i){return fsCall(read,this,e,n,r,i)}readv(e,n){return fsCall(readv,this,e,n)}readFile(e){return fsCall(readFile,this,e)}stat(e){return fsCall(fstat,this,e)}truncate(e=0){return fsCall(ftruncate,this,e)}utimes(e,n){return fsCall(futimes,this,e,n)}write(e,n,r,i){return fsCall(write,this,e,n,r,i)}writev(e,n){return fsCall(writev,this,e,n)}writeFile(e,n){return fsCall(writeFile,this,e,n)}close=()=>this[kFd]===-1?PromiseResolve():this[kClosePromise]?this[kClosePromise]:(this[kRefs]--,this[kRefs]===0?(this[kFd]=-1,this[kClosePromise]=SafePromisePrototypeFinally(this[kHandle].close(),()=>{this[kClosePromise]=void 0})):this[kClosePromise]=SafePromisePrototypeFinally(new Promise((e,n)=>{this[kCloseResolve]=e,this[kCloseReject]=n}),()=>{this[kClosePromise]=void 0,this[kCloseReject]=void 0,this[kCloseResolve]=void 0}),this.emit("close"),this[kClosePromise]);readableWebStream(){if(this[kFd]===-1)throw new ERR_INVALID_STATE("The FileHandle is closed");if(this[kClosePromise])throw new ERR_INVALID_STATE("The FileHandle is closing");if(this[kLocked])throw new ERR_INVALID_STATE("The FileHandle is locked");this[kLocked]=!0;const e=newReadableStreamFromStreamBase(this[kHandle],void 0,{ondone:()=>this[kUnref]()});return this[kRef](),this.once("close",()=>{readableStreamCancel(e)}),e}[kTransfer](){if(this[kClosePromise]||this[kRefs]>1)throw lazyDOMException("Cannot transfer FileHandle while in use","DataCloneError");const e=this[kHandle];return this[kFd]=-1,this[kHandle]=null,this[kRefs]=0,{data:{handle:e},deserializeInfo:"internal/fs/promises:FileHandle"}}[kTransferList](){return[this[kHandle]]}[kDeserialize]({handle:e}){this[kHandle]=e,this[kFd]=e.fd}[kRef](){this[kRefs]++}[kUnref](){this[kRefs]--,this[kRefs]===0&&(this[kFd]=-1,PromisePrototypeThen(this[kHandle].close(),this[kCloseResolve],this[kCloseReject]))}}async function handleFdClose(t,e){return PromisePrototypeThen(t,n=>PromisePrototypeThen(e(),()=>n),n=>PromisePrototypeThen(e(),()=>PromiseReject(n),r=>PromiseReject(aggregateTwoErrors(r,n))))}async function fsCall(t,e,...n){if(assert(e[kRefs]!==void 0,"handle must be an instance of FileHandle"),e.fd===-1){const r=new Error("file closed");throw r.code="EBADF",r.syscall=t.name,r}try{return e[kRef](),await t(e,...new SafeArrayIterator(n))}finally{e[kUnref]()}}function checkAborted(t){if(t?.aborted)throw new AbortError}async function writeFileHandle(t,e,n,r){if(checkAborted(n),isCustomIterable(e)){for await(const s of e){checkAborted(n);const a=isArrayBufferView(s)?s:Buffer.from(s,r||"utf8");let c=a.byteLength;for(;c>0;){const l=MathMin(kWriteFileMaxChunkSize,c),{bytesWritten:u}=await write(t,a,a.byteLength-c,l);c-=u,checkAborted(n)}}return}e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);let i=e.byteLength;if(i!==0)do{checkAborted(n);const{bytesWritten:s}=await write(t,e,0,MathMin(kWriteFileMaxChunkSize,e.byteLength));i-=s,e=new Uint8Array(e.buffer,e.byteOffset+s,e.byteLength-s)}while(i>0)}async function readFileHandle(t,e){const n=e?.signal;checkAborted(n);const r=await binding.fstat(t.fd,!1,kUsePromises);checkAborted(n);let i;if((r[1]&S_IFMT)===S_IFREG?i=r[8]:i=0,i>kIoMaxLength)throw new ERR_FS_FILE_TOO_LARGE(i);let s=!1,a=0;const c=i===0,l=[],u=c?void 0:Buffer.allocUnsafeSlow(i);do{checkAborted(n);let f,y,m;c?(f=Buffer.allocUnsafeSlow(kReadFileUnknownBufferLength),y=0,m=kReadFileUnknownBufferLength):(f=u,y=a,m=MathMin(i-a,kReadFileBufferLength));const o=await binding.read(t.fd,f,y,m,-1,kUsePromises)||0;if(a+=o,s=o===0||a===i,c&&o>0){const h=o===kReadFileUnknownBufferLength?f:f.slice(0,o);ArrayPrototypePush(l,h)}}while(!s);let d;return i>0?d=a===i?u:u.slice(0,a):d=l.length===1?l[0]:Buffer.concat(l,a),e.encoding?d.toString(e.encoding):d}async function access(t,e=F_OK){return t=getValidatedPath(t),e=getValidMode(e,"access"),binding.access(pathModule.toNamespacedPath(t),e,kUsePromises)}async function cp(t,e,n){return n=validateCpOptions(n),t=pathModule.toNamespacedPath(getValidatedPath(t,"src")),e=pathModule.toNamespacedPath(getValidatedPath(e,"dest")),lazyLoadCpPromises()(t,e,n)}async function copyFile(t,e,n){return t=getValidatedPath(t,"src"),e=getValidatedPath(e,"dest"),n=getValidMode(n,"copyFile"),binding.copyFile(pathModule.toNamespacedPath(t),pathModule.toNamespacedPath(e),n,kUsePromises)}async function open(t,e,n){t=getValidatedPath(t);const r=stringToFlags(e);return n=parseFileMode(n,"mode",438),new FileHandle(await binding.openFileHandle(pathModule.toNamespacedPath(t),r,n,kUsePromises))}async function read(t,e,n,r,i){let s=e;if(isArrayBufferView(s)||(e===void 0&&(e={}),e.buffer?(s=e.buffer,validateBuffer(s)):s=Buffer.alloc(16384),n=e.offset||0,r=s.byteLength,i=e.position||null),n==null?n=0:validateInteger(n,"offset",0),r|=0,r===0)return{bytesRead:r,buffer:s};if(s.byteLength===0)throw new ERR_INVALID_ARG_VALUE("buffer",s,"is empty and cannot be written");return validateOffsetLengthRead(n,r,s.byteLength),NumberIsSafeInteger(i)||(i=-1),{bytesRead:await binding.read(t.fd,s,n,r,i,kUsePromises)||0,buffer:s}}async function readv(t,e,n){return validateBufferArray(e),typeof n!="number"&&(n=null),{bytesRead:await binding.readBuffers(t.fd,e,n,kUsePromises)||0,buffers:e}}async function write(t,e,n,r,i){return e?.byteLength===0?{bytesWritten:0,buffer:e}:isArrayBufferView(e)?(n==null?n=0:validateInteger(n,"offset",0),typeof r!="number"&&(r=e.byteLength-n),typeof i!="number"&&(i=null),validateOffsetLengthWrite(n,r,e.byteLength),{bytesWritten:await binding.writeBuffer(t.fd,e,n,r,i,kUsePromises)||0,buffer:e}):(validateStringAfterArrayBufferView(e,"buffer"),validateEncoding(e,r),{bytesWritten:await binding.writeString(t.fd,e,n,r,kUsePromises)||0,buffer:e})}async function writev(t,e,n){return validateBufferArray(e),typeof n!="number"&&(n=null),{bytesWritten:await binding.writeBuffers(t.fd,e,n,kUsePromises)||0,buffers:e}}async function rename(t,e){return t=getValidatedPath(t,"oldPath"),e=getValidatedPath(e,"newPath"),binding.rename(pathModule.toNamespacedPath(t),pathModule.toNamespacedPath(e),kUsePromises)}async function truncate(t,e=0){const n=await open(t,"r+");return handleFdClose(ftruncate(n,e),n.close)}async function ftruncate(t,e=0){return validateInteger(e,"len"),e=MathMax(0,e),binding.ftruncate(t.fd,e,kUsePromises)}async function rm(t,e){return t=pathModule.toNamespacedPath(getValidatedPath(t)),e=await validateRmOptionsPromise(t,e,!1),rimrafPromises(t,e)}async function rmdir(t,e){return t=pathModule.toNamespacedPath(getValidatedPath(t)),e=validateRmdirOptions(e),e.recursive&&(emitRecursiveRmdirWarning(),(await stat(t)).isDirectory())?rimrafPromises(t,e):binding.rmdir(t,kUsePromises)}async function fdatasync(t){return binding.fdatasync(t.fd,kUsePromises)}async function fsync(t){return binding.fsync(t.fd,kUsePromises)}async function mkdir(t,e){(typeof e=="number"||typeof e=="string")&&(e={mode:e});const{recursive:n=!1,mode:r=511}=e||{};return t=getValidatedPath(t),validateBoolean(n,"options.recursive"),binding.mkdir(pathModule.toNamespacedPath(t),parseFileMode(r,"mode",511),n,kUsePromises)}async function readdir(t,e){e=getOptions(e,{}),t=getValidatedPath(t);const n=await binding.readdir(pathModule.toNamespacedPath(t),e.encoding,!!e.withFileTypes,kUsePromises);return e.withFileTypes?getDirectoryEntriesPromise(t,n):n}async function readlink(t,e){return e=getOptions(e,{}),t=getValidatedPath(t,"oldPath"),binding.readlink(pathModule.toNamespacedPath(t),e.encoding,kUsePromises)}async function symlink(t,e,n){const r=typeof n=="string"?n:null;return t=getValidatedPath(t,"target"),e=getValidatedPath(e),binding.symlink(preprocessSymlinkDestination(t,r,e),pathModule.toNamespacedPath(e),stringToSymlinkType(r),kUsePromises)}async function fstat(t,e={bigint:!1}){const n=await binding.fstat(t.fd,e.bigint,kUsePromises);return getStatsFromBinding(n)}async function lstat(t,e={bigint:!1}){t=getValidatedPath(t);const n=await binding.lstat(pathModule.toNamespacedPath(t),e.bigint,kUsePromises);return getStatsFromBinding(n)}async function stat(t,e={bigint:!1}){t=getValidatedPath(t);const n=await binding.stat(pathModule.toNamespacedPath(t),e.bigint,kUsePromises);return getStatsFromBinding(n)}async function link(t,e){return t=getValidatedPath(t,"existingPath"),e=getValidatedPath(e,"newPath"),binding.link(pathModule.toNamespacedPath(t),pathModule.toNamespacedPath(e),kUsePromises)}async function unlink(t){return t=getValidatedPath(t),binding.unlink(pathModule.toNamespacedPath(t),kUsePromises)}async function fchmod(t,e){return e=parseFileMode(e,"mode"),binding.fchmod(t.fd,e,kUsePromises)}async function chmod(t,e){return t=getValidatedPath(t),e=parseFileMode(e,"mode"),binding.chmod(pathModule.toNamespacedPath(t),e,kUsePromises)}async function lchmod(t,e){if(O_SYMLINK===void 0)throw new ERR_METHOD_NOT_IMPLEMENTED("lchmod()");const n=await open(t,O_WRONLY|O_SYMLINK);return handleFdClose(fchmod(n,e),n.close)}async function lchown(t,e,n){return t=getValidatedPath(t),validateInteger(e,"uid",-1,kMaxUserId),validateInteger(n,"gid",-1,kMaxUserId),binding.lchown(pathModule.toNamespacedPath(t),e,n,kUsePromises)}async function fchown(t,e,n){return validateInteger(e,"uid",-1,kMaxUserId),validateInteger(n,"gid",-1,kMaxUserId),binding.fchown(t.fd,e,n,kUsePromises)}async function chown(t,e,n){return t=getValidatedPath(t),validateInteger(e,"uid",-1,kMaxUserId),validateInteger(n,"gid",-1,kMaxUserId),binding.chown(pathModule.toNamespacedPath(t),e,n,kUsePromises)}async function utimes(t,e,n){return t=getValidatedPath(t),binding.utimes(pathModule.toNamespacedPath(t),toUnixTimestamp(e),toUnixTimestamp(n),kUsePromises)}async function futimes(t,e,n){return e=toUnixTimestamp(e,"atime"),n=toUnixTimestamp(n,"mtime"),binding.futimes(t.fd,e,n,kUsePromises)}async function lutimes(t,e,n){return t=getValidatedPath(t),binding.lutimes(pathModule.toNamespacedPath(t),toUnixTimestamp(e),toUnixTimestamp(n),kUsePromises)}async function realpath(t,e){return e=getOptions(e,{}),t=getValidatedPath(t),binding.realpath(t,e.encoding,kUsePromises)}async function mkdtemp(t,e){return e=getOptions(e,{}),validateString(t,"prefix"),nullCheck(t),warnOnNonPortableTemplate(t),binding.mkdtemp(`${t}XXXXXX`,e.encoding,kUsePromises)}async function writeFile(t,e,n){n=getOptions(n,{encoding:"utf8",mode:438,flag:"w"});const r=n.flag||"w";if(!isArrayBufferView(e)&&!isCustomIterable(e)&&(validateStringAfterArrayBufferView(e,"data"),e=Buffer.from(e,n.encoding||"utf8")),validateAbortSignal(n.signal),t instanceof FileHandle)return writeFileHandle(t,e,n.signal,n.encoding);checkAborted(n.signal);const i=await open(t,r,n.mode);return handleFdClose(writeFileHandle(i,e,n.signal,n.encoding),i.close)}function isCustomIterable(t){return isIterable(t)&&!isArrayBufferView(t)&&typeof t!="string"}async function appendFile(t,e,n){return n=getOptions(n,{encoding:"utf8",mode:438,flag:"a"}),n=copyObject(n),n.flag=n.flag||"a",writeFile(t,e,n)}async function readFile(t,e){e=getOptions(e,{flag:"r"});const n=e.flag||"r";if(t instanceof FileHandle)return readFileHandle(t,e);checkAborted(e.signal);const r=await open(t,n,438);return handleFdClose(readFileHandle(r,e),r.close)}module.exports={exports:{access,copyFile,cp,open,opendir:promisify(opendir),rename,truncate,rm,rmdir,mkdir,readdir,readlink,symlink,lstat,stat,link,unlink,chmod,lchmod,lchown,chown,utimes,lutimes,realpath,mkdtemp,writeFile,appendFile,readFile,watch},FileHandle,kRef,kUnref};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypePush,MathMin,ReflectApply}=primordials,{constants:{kReadFileBufferLength,kReadFileUnknownBufferLength}}=require("internal/fs/utils"),{Buffer}=require("buffer"),{FSReqCallback,close,read}=internalBinding("fs"),{AbortError,aggregateTwoErrors}=require("internal/errors");function readFileAfterRead(r,e){const t=this.context;if(r)return t.close(r);if(t.pos+=e,t.pos===t.size||e===0)t.close();else{if(t.size===0){const s=e===kReadFileUnknownBufferLength?t.buffer:t.buffer.slice(0,e);ArrayPrototypePush(t.buffers,s)}t.read()}}function readFileAfterClose(r){const e=this.context,t=e.callback;let s=null;if(e.err||r)return t(aggregateTwoErrors(r,e.err));try{e.size===0?s=Buffer.concat(e.buffers,e.pos):e.pos<e.size?s=e.buffer.slice(0,e.pos):s=e.buffer,e.encoding&&(s=s.toString(e.encoding))}catch(i){return t(i)}t(null,s)}class ReadFileContext{constructor(e,t){this.fd=void 0,this.isUserFd=void 0,this.size=0,this.callback=e,this.buffers=null,this.buffer=null,this.pos=0,this.encoding=t,this.err=null,this.signal=void 0}read(){let e,t,s;if(this.signal?.aborted)return this.close(new AbortError);this.size===0?(e=Buffer.allocUnsafeSlow(kReadFileUnknownBufferLength),t=0,s=kReadFileUnknownBufferLength,this.buffer=e):(e=this.buffer,t=this.pos,s=MathMin(kReadFileBufferLength,this.size-this.pos));const i=new FSReqCallback;i.oncomplete=readFileAfterRead,i.context=this,read(this.fd,e,t,s,-1,i)}close(e){if(this.isUserFd){process.nextTick(function(i){ReflectApply(readFileAfterClose,{context:i},[null])},this);return}const t=new FSReqCallback;t.oncomplete=readFileAfterClose,t.context=this,this.err=e,close(this.fd,t)}}module.exports=ReadFileContext;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeForEach,Promise,SafeSet}=primordials,{Buffer}=require("buffer"),fs=require("fs"),{chmod,chmodSync,lstat,lstatSync,readdir,readdirSync,rmdir,rmdirSync,stat,statSync,unlink,unlinkSync}=fs,{sep}=require("path"),{setTimeout}=require("timers"),{sleep}=require("internal/util"),notEmptyErrorCodes=new SafeSet(["ENOTEMPTY","EEXIST","EPERM"]),retryErrorCodes=new SafeSet(["EBUSY","EMFILE","ENFILE","ENOTEMPTY","EPERM"]),isWindows=process.platform==="win32",epermHandler=isWindows?fixWinEPERM:_rmdir,epermHandlerSync=isWindows?fixWinEPERMSync:_rmdirSync,readdirEncoding="buffer",separator=Buffer.from(sep);function rimraf(r,n,t){let e=0;_rimraf(r,n,function i(f){if(f){if(retryErrorCodes.has(f.code)&&e<n.maxRetries){e++;const c=e*n.retryDelay;return setTimeout(_rimraf,c,r,n,i)}f.code==="ENOENT"&&(f=null)}t(f)})}function _rimraf(r,n,t){lstat(r,(e,i)=>{if(e){if(e.code==="ENOENT")return t(null);if(isWindows&&e.code==="EPERM")return fixWinEPERM(r,n,e,t)}else if(i.isDirectory())return _rmdir(r,n,e,t);unlink(r,f=>{if(f){if(f.code==="ENOENT")return t(null);if(f.code==="EISDIR")return _rmdir(r,n,f,t);if(f.code==="EPERM")return epermHandler(r,n,f,t)}return t(f)})})}function fixWinEPERM(r,n,t,e){chmod(r,438,i=>{if(i)return e(i.code==="ENOENT"?null:t);stat(r,(f,c)=>{if(f)return e(f.code==="ENOENT"?null:t);c.isDirectory()?_rmdir(r,n,t,e):unlink(r,e)})})}function _rmdir(r,n,t,e){rmdir(r,i=>{if(i){if(notEmptyErrorCodes.has(i.code))return _rmchildren(r,n,e);if(i.code==="ENOTDIR")return e(t)}e(i)})}function _rmchildren(r,n,t){const e=Buffer.from(r);readdir(e,readdirEncoding,(i,f)=>{if(i)return t(i);let c=f.length;if(c===0)return rmdir(r,t);let u=!1;ArrayPrototypeForEach(f,s=>{const E=Buffer.concat([e,separator,s]);rimraf(E,n,o=>{if(!u){if(o)return u=!0,t(o);c--,c===0&&rmdir(r,t)}})})})}function rimrafPromises(r,n){return new Promise((t,e)=>{rimraf(r,n,i=>{if(i)return e(i);t()})})}function rimrafSync(r,n){let t;try{t=lstatSync(r)}catch(e){if(e.code==="ENOENT")return;isWindows&&e.code==="EPERM"&&fixWinEPERMSync(r,n,e)}try{t?.isDirectory()?_rmdirSync(r,n,null):_unlinkSync(r,n)}catch(e){if(e.code==="ENOENT")return;if(e.code==="EPERM")return epermHandlerSync(r,n,e);if(e.code!=="EISDIR")throw e;_rmdirSync(r,n,e)}}function _unlinkSync(r,n){const t=n.maxRetries+1;for(let e=1;e<=t;e++)try{return unlinkSync(r)}catch(i){if(retryErrorCodes.has(i.code)&&e<t&&n.retryDelay>0)sleep(e*n.retryDelay);else{if(i.code==="ENOENT")return;if(e===t)throw i}}}function _rmdirSync(r,n,t){try{rmdirSync(r)}catch(e){if(e.code==="ENOENT")return;if(e.code==="ENOTDIR")throw t||e;if(notEmptyErrorCodes.has(e.code)){const i=Buffer.from(r);ArrayPrototypeForEach(readdirSync(i,readdirEncoding),c=>{const u=Buffer.concat([i,separator,c]);rimrafSync(u,n)});const f=n.maxRetries+1;for(let c=1;c<=f;c++)try{return fs.rmdirSync(r)}catch(u){if(retryErrorCodes.has(u.code)&&c<f&&n.retryDelay>0)sleep(c*n.retryDelay);else{if(u.code==="ENOENT")return;if(c===f)throw u}}}throw t||e}}function fixWinEPERMSync(r,n,t){try{chmodSync(r,438)}catch(i){if(i.code==="ENOENT")return;throw t}let e;try{e=statSync(r,{throwIfNoEntry:!1})}catch{throw t}e!==void 0&&(e.isDirectory()?_rmdirSync(r,n,t):_unlinkSync(r,n))}module.exports={rimraf,rimrafPromises,rimrafSync};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Array,FunctionPrototypeBind,MathMin,ObjectDefineProperty,ObjectSetPrototypeOf,PromisePrototypeThen,ReflectApply,Symbol}=primordials,{ERR_INVALID_ARG_TYPE,ERR_OUT_OF_RANGE,ERR_METHOD_NOT_IMPLEMENTED}=require("internal/errors").codes,{deprecate}=require("internal/util"),{validateFunction,validateInteger}=require("internal/validators"),{errorOrDestroy}=require("internal/streams/destroy"),fs=require("fs"),{kRef,kUnref,FileHandle}=require("internal/fs/promises"),{Buffer}=require("buffer"),{copyObject,getOptions,getValidatedFd,validatePath}=require("internal/fs/utils"),{Readable,Writable,finished}=require("stream"),{toPathIfFileURL}=require("internal/url"),kIoDone=Symbol("kIoDone"),kIsPerformingIO=Symbol("kIsPerformingIO"),kFs=Symbol("kFs"),kHandle=Symbol("kHandle");function _construct(e){const t=this;if(typeof t.fd=="number"){e();return}if(t.open!==openWriteFs&&t.open!==openReadFs){const i=t.emit;t.emit=function(...s){s[0]==="open"?(this.emit=i,e(),ReflectApply(i,this,s)):s[0]==="error"?(this.emit=i,e(s[1])):ReflectApply(i,this,s)},t.open()}else t[kFs].open(t.path,t.flags,t.mode,(i,s)=>{i?e(i):(t.fd=s,e(),t.emit("open",t.fd),t.emit("ready"))})}const FileHandleOperations=e=>({open:(t,i,s,r)=>{throw new ERR_METHOD_NOT_IMPLEMENTED("open()")},close:(t,i)=>{e[kUnref](),PromisePrototypeThen(e.close(),()=>i(),i)},read:(t,i,s,r,n,o)=>{PromisePrototypeThen(e.read(i,s,r,n),f=>o(null,f.bytesRead,f.buffer),f=>o(f,0,i))},write:(t,i,s,r,n,o)=>{PromisePrototypeThen(e.write(i,s,r,n),f=>o(null,f.bytesWritten,f.buffer),f=>o(f,0,i))},writev:(t,i,s,r)=>{PromisePrototypeThen(e.writev(i,s),n=>r(null,n.bytesWritten,n.buffers),n=>r(n,0,i))}});function close(e,t,i){e.fd?(e[kFs].close(e.fd,s=>{e.closed=!0,i(s||t)}),e.fd=null):i(t)}function importFd(e,t){if(typeof t.fd=="number")return e[kFs]=t.fs||fs,t.fd;if(typeof t.fd=="object"&&t.fd instanceof FileHandle){if(t.fs)throw new ERR_METHOD_NOT_IMPLEMENTED("FileHandle with fs");return e[kHandle]=t.fd,e[kFs]=FileHandleOperations(e[kHandle]),e[kHandle][kRef](),t.fd.on("close",FunctionPrototypeBind(e.close,e)),t.fd.fd}throw ERR_INVALID_ARG_TYPE("options.fd",["number","FileHandle"],t.fd)}function ReadStream(e,t){if(!(this instanceof ReadStream))return new ReadStream(e,t);if(t=copyObject(getOptions(t,{})),t.highWaterMark===void 0&&(t.highWaterMark=64*1024),t.autoDestroy===void 0&&(t.autoDestroy=!1),t.fd==null?(this.fd=null,this[kFs]=t.fs||fs,validateFunction(this[kFs].open,"options.fs.open"),this.path=toPathIfFileURL(e),this.flags=t.flags===void 0?"r":t.flags,this.mode=t.mode===void 0?438:t.mode,validatePath(this.path)):this.fd=getValidatedFd(importFd(this,t)),t.autoDestroy=t.autoClose===void 0?!0:t.autoClose,validateFunction(this[kFs].read,"options.fs.read"),t.autoDestroy&&validateFunction(this[kFs].close,"options.fs.close"),this.start=t.start,this.end=t.end,this.pos=void 0,this.bytesRead=0,this.closed=!1,this[kIsPerformingIO]=!1,this.start!==void 0&&(validateInteger(this.start,"start",0),this.pos=this.start),this.end===void 0)this.end=1/0;else if(this.end!==1/0&&(validateInteger(this.end,"end",0),this.start!==void 0&&this.start>this.end))throw new ERR_OUT_OF_RANGE("start",`<= "end" (here: ${this.end})`,this.start);ReflectApply(Readable,this,[t])}ObjectSetPrototypeOf(ReadStream.prototype,Readable.prototype),ObjectSetPrototypeOf(ReadStream,Readable),ObjectDefineProperty(ReadStream.prototype,"autoClose",{get(){return this._readableState.autoDestroy},set(e){this._readableState.autoDestroy=e}});const openReadFs=deprecate(function(){},"ReadStream.prototype.open() is deprecated","DEP0135");ReadStream.prototype.open=openReadFs,ReadStream.prototype._construct=_construct,ReadStream.prototype._read=function(e){if(e=this.pos!==void 0?MathMin(this.end-this.pos+1,e):MathMin(this.end-this.bytesRead+1,e),e<=0){this.push(null);return}const t=Buffer.allocUnsafeSlow(e);this[kIsPerformingIO]=!0,this[kFs].read(this.fd,t,0,e,this.pos,(i,s,r)=>{if(this[kIsPerformingIO]=!1,this.destroyed){this.emit(kIoDone,i);return}if(i)errorOrDestroy(this,i);else if(s>0){if(this.pos!==void 0&&(this.pos+=s),this.bytesRead+=s,s!==r.length){const n=Buffer.allocUnsafeSlow(s);r.copy(n,0,0,s),r=n}this.push(r)}else this.push(null)})},ReadStream.prototype._destroy=function(e,t){this[kIsPerformingIO]?this.once(kIoDone,i=>close(this,e||i,t)):close(this,e,t)},ReadStream.prototype.close=function(e){typeof e=="function"&&finished(this,e),this.destroy()},ObjectDefineProperty(ReadStream.prototype,"pending",{get(){return this.fd===null},configurable:!0});function WriteStream(e,t){if(!(this instanceof WriteStream))return new WriteStream(e,t);if(t=copyObject(getOptions(t,{})),t.decodeStrings=!0,t.fd==null?(this.fd=null,this[kFs]=t.fs||fs,validateFunction(this[kFs].open,"options.fs.open"),this.path=toPathIfFileURL(e),this.flags=t.flags===void 0?"w":t.flags,this.mode=t.mode===void 0?438:t.mode,validatePath(this.path)):this.fd=getValidatedFd(importFd(this,t)),t.autoDestroy=t.autoClose===void 0?!0:t.autoClose,!this[kFs].write&&!this[kFs].writev)throw new ERR_INVALID_ARG_TYPE("options.fs.write","function",this[kFs].write);this[kFs].write&&validateFunction(this[kFs].write,"options.fs.write"),this[kFs].writev&&validateFunction(this[kFs].writev,"options.fs.writev"),t.autoDestroy&&validateFunction(this[kFs].close,"options.fs.close"),this[kFs].write||(this._write=null),this[kFs].writev||(this._writev=null),this.start=t.start,this.pos=void 0,this.bytesWritten=0,this.closed=!1,this[kIsPerformingIO]=!1,this.start!==void 0&&(validateInteger(this.start,"start",0),this.pos=this.start),ReflectApply(Writable,this,[t]),t.encoding&&this.setDefaultEncoding(t.encoding)}ObjectSetPrototypeOf(WriteStream.prototype,Writable.prototype),ObjectSetPrototypeOf(WriteStream,Writable),ObjectDefineProperty(WriteStream.prototype,"autoClose",{get(){return this._writableState.autoDestroy},set(e){this._writableState.autoDestroy=e}});const openWriteFs=deprecate(function(){},"WriteStream.prototype.open() is deprecated","DEP0135");WriteStream.prototype.open=openWriteFs,WriteStream.prototype._construct=_construct,WriteStream.prototype._write=function(e,t,i){this[kIsPerformingIO]=!0,this[kFs].write(this.fd,e,0,e.length,this.pos,(s,r)=>{if(this[kIsPerformingIO]=!1,this.destroyed)return i(s),this.emit(kIoDone,s);if(s)return i(s);this.bytesWritten+=r,i()}),this.pos!==void 0&&(this.pos+=e.length)},WriteStream.prototype._writev=function(e,t){const i=e.length,s=new Array(i);let r=0;for(let n=0;n<i;n++){const o=e[n].chunk;s[n]=o,r+=o.length}this[kIsPerformingIO]=!0,this[kFs].writev(this.fd,s,this.pos,(n,o)=>{if(this[kIsPerformingIO]=!1,this.destroyed)return t(n),this.emit(kIoDone,n);if(n)return t(n);this.bytesWritten+=o,t()}),this.pos!==void 0&&(this.pos+=r)},WriteStream.prototype._destroy=function(e,t){this[kIsPerformingIO]?this.once(kIoDone,i=>close(this,e||i,t)):close(this,e,t)},WriteStream.prototype.close=function(e){if(e){if(this.closed){process.nextTick(e);return}this.on("close",e)}this.autoClose||this.on("finish",this.destroy),this.end()},WriteStream.prototype.destroySoon=WriteStream.prototype.end,ObjectDefineProperty(WriteStream.prototype,"pending",{get(){return this.fd===null},configurable:!0}),module.exports={ReadStream,WriteStream};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectSetPrototypeOf,ReflectApply}=primordials,{Writable}=require("stream"),{closeSync,writeSync}=require("fs");function SyncWriteStream(e,t){ReflectApply(Writable,this,[{autoDestroy:!0}]),t=t||{},this.fd=e,this.readable=!1,this.autoClose=t.autoClose===void 0?!0:t.autoClose}ObjectSetPrototypeOf(SyncWriteStream.prototype,Writable.prototype),ObjectSetPrototypeOf(SyncWriteStream,Writable),SyncWriteStream.prototype._write=function(e,t,o){return writeSync(this.fd,e,0,e.length),o(),!0},SyncWriteStream.prototype._destroy=function(e,t){if(this.fd===null)return t(e);this.autoClose&&closeSync(this.fd),this.fd=null,t(e)},SyncWriteStream.prototype.destroySoon=SyncWriteStream.prototype.destroy,module.exports=SyncWriteStream;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,BigInt,Date,DateNow,DatePrototypeGetTime,ErrorCaptureStackTrace,FunctionPrototypeCall,Number,NumberIsFinite,NumberIsInteger,MathMin,ObjectIs,ObjectPrototypeHasOwnProperty,ObjectSetPrototypeOf,ReflectApply,ReflectOwnKeys,StringPrototypeEndsWith,StringPrototypeIncludes,StringPrototypeReplace,Symbol,TypedArrayPrototypeIncludes}=primordials,{Buffer}=require("buffer"),{codes:{ERR_FS_EISDIR,ERR_FS_INVALID_SYMLINK_TYPE,ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_OUT_OF_RANGE},hideStackFrames,uvException}=require("internal/errors"),{isArrayBufferView,isUint8Array,isDate,isBigUint64Array}=require("internal/util/types"),{once}=require("internal/util"),{toPathIfFileURL}=require("internal/url"),{validateAbortSignal,validateBoolean,validateFunction,validateInt32,validateInteger,validateObject,validateUint32}=require("internal/validators"),pathModule=require("path"),kType=Symbol("type"),kStats=Symbol("stats"),assert=require("internal/assert"),{fs:{F_OK=0,W_OK=0,R_OK=0,X_OK=0,COPYFILE_EXCL,COPYFILE_FICLONE,COPYFILE_FICLONE_FORCE,O_APPEND,O_CREAT,O_EXCL,O_RDONLY,O_RDWR,O_SYNC,O_TRUNC,O_WRONLY,S_IFBLK,S_IFCHR,S_IFDIR,S_IFIFO,S_IFLNK,S_IFMT,S_IFREG,S_IFSOCK,UV_FS_SYMLINK_DIR,UV_FS_SYMLINK_JUNCTION,UV_DIRENT_UNKNOWN,UV_DIRENT_FILE,UV_DIRENT_DIR,UV_DIRENT_LINK,UV_DIRENT_FIFO,UV_DIRENT_SOCKET,UV_DIRENT_CHAR,UV_DIRENT_BLOCK},os:{errno:{EISDIR}}}=internalBinding("constants"),kMinimumAccessMode=MathMin(F_OK,W_OK,R_OK,X_OK),kMaximumAccessMode=F_OK|W_OK|R_OK|X_OK,kDefaultCopyMode=0,kMinimumCopyMode=MathMin(kDefaultCopyMode,COPYFILE_EXCL,COPYFILE_FICLONE,COPYFILE_FICLONE_FORCE),kMaximumCopyMode=COPYFILE_EXCL|COPYFILE_FICLONE|COPYFILE_FICLONE_FORCE,kIoMaxLength=2**31-1,kReadFileUnknownBufferLength=64*1024,kReadFileBufferLength=512*1024,kWriteFileMaxChunkSize=512*1024,kMaxUserId=2**32-1,isWindows=process.platform==="win32";let fs;function lazyLoadFs(){return fs||(fs=require("fs")),fs}function assertEncoding(e){if(e&&!Buffer.isEncoding(e)){const r="is invalid encoding";throw new ERR_INVALID_ARG_VALUE(e,"encoding",r)}}class Dirent{constructor(r,t){this.name=r,this[kType]=t}isDirectory(){return this[kType]===UV_DIRENT_DIR}isFile(){return this[kType]===UV_DIRENT_FILE}isBlockDevice(){return this[kType]===UV_DIRENT_BLOCK}isCharacterDevice(){return this[kType]===UV_DIRENT_CHAR}isSymbolicLink(){return this[kType]===UV_DIRENT_LINK}isFIFO(){return this[kType]===UV_DIRENT_FIFO}isSocket(){return this[kType]===UV_DIRENT_SOCKET}}class DirentFromStats extends Dirent{constructor(r,t){super(r,null);this[kStats]=t}}for(const e of ReflectOwnKeys(Dirent.prototype))e!=="constructor"&&(DirentFromStats.prototype[e]=function(){return this[kStats][e]()});function copyObject(e){const r={};for(const t in e)r[t]=e[t];return r}const bufferSep=Buffer.from(pathModule.sep);function join(e,r){if((typeof e=="string"||isUint8Array(e))&&r===void 0)return e;if(typeof e=="string"&&isUint8Array(r)){const t=Buffer.from(pathModule.join(e,pathModule.sep));return Buffer.concat([t,r])}if(typeof e=="string"&&typeof r=="string")return pathModule.join(e,r);if(isUint8Array(e)&&isUint8Array(r))return Buffer.concat([e,bufferSep,r]);throw new ERR_INVALID_ARG_TYPE("path",["string","Buffer"],e)}function getDirents(e,{0:r,1:t},i){let n;if(typeof i=="function"){const o=r.length;let c=0;for(i=once(i),n=0;n<o;n++)if(t[n]===UV_DIRENT_UNKNOWN){const u=r[n],l=n;c++;let a;try{a=join(e,u)}catch(s){i(s);return}lazyLoadFs().lstat(a,(s,f)=>{if(s){i(s);return}r[l]=new DirentFromStats(u,f),--c==0&&i(null,r)})}else r[n]=new Dirent(r[n],t[n]);c===0&&i(null,r)}else{const o=r.length;for(n=0;n<o;n++)r[n]=getDirent(e,r[n],t[n]);return r}}function getDirent(e,r,t,i){if(typeof i=="function")if(t===UV_DIRENT_UNKNOWN){let n;try{n=join(e,r)}catch(o){i(o);return}lazyLoadFs().lstat(n,(o,c)=>{if(o){i(o);return}i(null,new DirentFromStats(r,c))})}else i(null,new Dirent(r,t));else if(t===UV_DIRENT_UNKNOWN){const n=lazyLoadFs().lstatSync(join(e,r));return new DirentFromStats(r,n)}else return new Dirent(r,t)}function getOptions(e,r){if(e==null||typeof e=="function")return r;if(typeof e=="string")r={...r},r.encoding=e,e=r;else if(typeof e!="object")throw new ERR_INVALID_ARG_TYPE("options",["string","Object"],e);return e.encoding!=="buffer"&&assertEncoding(e.encoding),e.signal!==void 0&&validateAbortSignal(e.signal,"options.signal"),e}function handleErrorFromBinding(e){if(e.errno!==void 0){const r=uvException(e);throw ErrorCaptureStackTrace(r,handleErrorFromBinding),r}if(e.error!==void 0)throw ErrorCaptureStackTrace(e.error,handleErrorFromBinding),e.error}const nullCheck=hideStackFrames((e,r,t=!0)=>{const i=typeof e=="string",n=isUint8Array(e);if(!i&&!n||i&&!StringPrototypeIncludes(e,"\0")||n&&!TypedArrayPrototypeIncludes(e,0))return;const o=new ERR_INVALID_ARG_VALUE(r,e,"must be a string or Uint8Array without null bytes");if(t)throw o;return o});function preprocessSymlinkDestination(e,r,t){return isWindows?(e=""+e,r==="junction"?(e=pathModule.resolve(t,"..",e),pathModule.toNamespacedPath(e)):pathModule.isAbsolute(e)?pathModule.toNamespacedPath(e):StringPrototypeReplace(e,/\//g,"\\")):e}function StatsBase(e,r,t,i,n,o,c,d,u,l){this.dev=e,this.mode=r,this.nlink=t,this.uid=i,this.gid=n,this.rdev=o,this.blksize=c,this.ino=d,this.size=u,this.blocks=l}StatsBase.prototype.isDirectory=function(){return this._checkModeProperty(S_IFDIR)},StatsBase.prototype.isFile=function(){return this._checkModeProperty(S_IFREG)},StatsBase.prototype.isBlockDevice=function(){return this._checkModeProperty(S_IFBLK)},StatsBase.prototype.isCharacterDevice=function(){return this._checkModeProperty(S_IFCHR)},StatsBase.prototype.isSymbolicLink=function(){return this._checkModeProperty(S_IFLNK)},StatsBase.prototype.isFIFO=function(){return this._checkModeProperty(S_IFIFO)},StatsBase.prototype.isSocket=function(){return this._checkModeProperty(S_IFSOCK)};const kNsPerMsBigInt=10n**6n,kNsPerSecBigInt=10n**9n,kMsPerSec=10**3,kNsPerMs=10**6;function msFromTimeSpec(e,r){return e*kMsPerSec+r/kNsPerMs}function nsFromTimeSpecBigInt(e,r){return e*kNsPerSecBigInt+r}function dateFromMs(e){return new Date(Number(e)+.5)}function BigIntStats(e,r,t,i,n,o,c,d,u,l,a,s,f,h){ReflectApply(StatsBase,this,[e,r,t,i,n,o,c,d,u,l]),this.atimeMs=a/kNsPerMsBigInt,this.mtimeMs=s/kNsPerMsBigInt,this.ctimeMs=f/kNsPerMsBigInt,this.birthtimeMs=h/kNsPerMsBigInt,this.atimeNs=a,this.mtimeNs=s,this.ctimeNs=f,this.birthtimeNs=h,this.atime=dateFromMs(this.atimeMs),this.mtime=dateFromMs(this.mtimeMs),this.ctime=dateFromMs(this.ctimeMs),this.birthtime=dateFromMs(this.birthtimeMs)}ObjectSetPrototypeOf(BigIntStats.prototype,StatsBase.prototype),ObjectSetPrototypeOf(BigIntStats,StatsBase),BigIntStats.prototype._checkModeProperty=function(e){return isWindows&&(e===S_IFIFO||e===S_IFBLK||e===S_IFSOCK)?!1:(this.mode&BigInt(S_IFMT))===BigInt(e)};function Stats(e,r,t,i,n,o,c,d,u,l,a,s,f,h){FunctionPrototypeCall(StatsBase,this,e,r,t,i,n,o,c,d,u,l),this.atimeMs=a,this.mtimeMs=s,this.ctimeMs=f,this.birthtimeMs=h,this.atime=dateFromMs(a),this.mtime=dateFromMs(s),this.ctime=dateFromMs(f),this.birthtime=dateFromMs(h)}ObjectSetPrototypeOf(Stats.prototype,StatsBase.prototype),ObjectSetPrototypeOf(Stats,StatsBase),Stats.prototype.isFile=StatsBase.prototype.isFile,Stats.prototype._checkModeProperty=function(e){return isWindows&&(e===S_IFIFO||e===S_IFBLK||e===S_IFSOCK)?!1:(this.mode&S_IFMT)===e};function getStatsFromBinding(e,r=0){return isBigUint64Array(e)?new BigIntStats(e[0+r],e[1+r],e[2+r],e[3+r],e[4+r],e[5+r],e[6+r],e[7+r],e[8+r],e[9+r],nsFromTimeSpecBigInt(e[10+r],e[11+r]),nsFromTimeSpecBigInt(e[12+r],e[13+r]),nsFromTimeSpecBigInt(e[14+r],e[15+r]),nsFromTimeSpecBigInt(e[16+r],e[17+r])):new Stats(e[0+r],e[1+r],e[2+r],e[3+r],e[4+r],e[5+r],e[6+r],e[7+r],e[8+r],e[9+r],msFromTimeSpec(e[10+r],e[11+r]),msFromTimeSpec(e[12+r],e[13+r]),msFromTimeSpec(e[14+r],e[15+r]),msFromTimeSpec(e[16+r],e[17+r]))}function stringToFlags(e,r="flags"){if(typeof e=="number")return validateInt32(e,r),e;if(e==null)return O_RDONLY;switch(e){case"r":return O_RDONLY;case"rs":case"sr":return O_RDONLY|O_SYNC;case"r+":return O_RDWR;case"rs+":case"sr+":return O_RDWR|O_SYNC;case"w":return O_TRUNC|O_CREAT|O_WRONLY;case"wx":case"xw":return O_TRUNC|O_CREAT|O_WRONLY|O_EXCL;case"w+":return O_TRUNC|O_CREAT|O_RDWR;case"wx+":case"xw+":return O_TRUNC|O_CREAT|O_RDWR|O_EXCL;case"a":return O_APPEND|O_CREAT|O_WRONLY;case"ax":case"xa":return O_APPEND|O_CREAT|O_WRONLY|O_EXCL;case"as":case"sa":return O_APPEND|O_CREAT|O_WRONLY|O_SYNC;case"a+":return O_APPEND|O_CREAT|O_RDWR;case"ax+":case"xa+":return O_APPEND|O_CREAT|O_RDWR|O_EXCL;case"as+":case"sa+":return O_APPEND|O_CREAT|O_RDWR|O_SYNC}throw new ERR_INVALID_ARG_VALUE("flags",e)}const stringToSymlinkType=hideStackFrames(e=>{let r=0;if(typeof e=="string")switch(e){case"dir":r|=UV_FS_SYMLINK_DIR;break;case"junction":r|=UV_FS_SYMLINK_JUNCTION;break;case"file":break;default:throw new ERR_FS_INVALID_SYMLINK_TYPE(e)}return r});function toUnixTimestamp(e,r="time"){if(typeof e=="string"&&+e==e)return+e;if(NumberIsFinite(e))return e<0?DateNow()/1e3:e;if(isDate(e))return DatePrototypeGetTime(e)/1e3;throw new ERR_INVALID_ARG_TYPE(r,["Date","Time in seconds"],e)}const validateOffsetLengthRead=hideStackFrames((e,r,t)=>{if(e<0)throw new ERR_OUT_OF_RANGE("offset",">= 0",e);if(r<0)throw new ERR_OUT_OF_RANGE("length",">= 0",r);if(e+r>t)throw new ERR_OUT_OF_RANGE("length",`<= ${t-e}`,r)}),validateOffsetLengthWrite=hideStackFrames((e,r,t)=>{if(e>t)throw new ERR_OUT_OF_RANGE("offset",`<= ${t}`,e);if(r>t-e)throw new ERR_OUT_OF_RANGE("length",`<= ${t-e}`,r);if(r<0)throw new ERR_OUT_OF_RANGE("length",">= 0",r);validateInt32(r,"length",0)}),validatePath=hideStackFrames((e,r="path")=>{if(typeof e!="string"&&!isUint8Array(e))throw new ERR_INVALID_ARG_TYPE(r,["string","Buffer","URL"],e);const t=nullCheck(e,r,!1);if(t!==void 0)throw t}),getValidatedPath=hideStackFrames((e,r="path")=>{const t=toPathIfFileURL(e);return validatePath(t,r),t}),getValidatedFd=hideStackFrames((e,r="fd")=>ObjectIs(e,-0)?0:(validateInt32(e,r,0),e)),validateBufferArray=hideStackFrames((e,r="buffers")=>{if(!ArrayIsArray(e))throw new ERR_INVALID_ARG_TYPE(r,"ArrayBufferView[]",e);for(let t=0;t<e.length;t++)if(!isArrayBufferView(e[t]))throw new ERR_INVALID_ARG_TYPE(r,"ArrayBufferView[]",e);return e});let nonPortableTemplateWarn=!0;function warnOnNonPortableTemplate(e){nonPortableTemplateWarn&&StringPrototypeEndsWith(e,"X")&&(process.emitWarning("mkdtemp() templates ending with X are not portable. For details see: https://nodejs.org/api/fs.html"),nonPortableTemplateWarn=!1)}const defaultCpOptions={dereference:!1,errorOnExist:!1,filter:void 0,force:!0,preserveTimestamps:!1,recursive:!1},defaultRmOptions={recursive:!1,force:!1,retryDelay:100,maxRetries:0},defaultRmdirOptions={retryDelay:100,maxRetries:0,recursive:!1},validateCpOptions=hideStackFrames(e=>e===void 0?{...defaultCpOptions}:(validateObject(e,"options"),e={...defaultCpOptions,...e},validateBoolean(e.dereference,"options.dereference"),validateBoolean(e.errorOnExist,"options.errorOnExist"),validateBoolean(e.force,"options.force"),validateBoolean(e.preserveTimestamps,"options.preserveTimestamps"),validateBoolean(e.recursive,"options.recursive"),e.filter!==void 0&&validateFunction(e.filter,"options.filter"),e)),validateRmOptions=hideStackFrames((e,r,t,i)=>{r=validateRmdirOptions(r,defaultRmOptions),validateBoolean(r.force,"options.force"),lazyLoadFs().stat(e,(n,o)=>n?r.force&&n.code==="ENOENT"?i(null,r):i(n,r):t&&!o.isDirectory()?i(!1):o.isDirectory()&&!r.recursive?i(new ERR_FS_EISDIR({code:"EISDIR",message:"is a directory",path:e,syscall:"rm",errno:EISDIR})):i(null,r))}),validateRmOptionsSync=hideStackFrames((e,r,t)=>{if(r=validateRmdirOptions(r,defaultRmOptions),validateBoolean(r.force,"options.force"),!r.force||t||!r.recursive){const i=lazyLoadFs().statSync(e,{throwIfNoEntry:!r.force})?.isDirectory();if(t&&!i)return!1;if(i&&!r.recursive)throw new ERR_FS_EISDIR({code:"EISDIR",message:"is a directory",path:e,syscall:"rm",errno:EISDIR})}return r});let recursiveRmdirWarned=process.noDeprecation;function emitRecursiveRmdirWarning(){recursiveRmdirWarned||(process.emitWarning("In future versions of Node.js, fs.rmdir(path, { recursive: true }) will be removed. Use fs.rm(path, { recursive: true }) instead","DeprecationWarning","DEP0147"),recursiveRmdirWarned=!0)}const validateRmdirOptions=hideStackFrames((e,r=defaultRmdirOptions)=>e===void 0?r:(validateObject(e,"options"),e={...r,...e},validateBoolean(e.recursive,"options.recursive"),validateInt32(e.retryDelay,"options.retryDelay",0),validateUint32(e.maxRetries,"options.maxRetries"),e)),getValidMode=hideStackFrames((e,r)=>{let t=kMinimumAccessMode,i=kMaximumAccessMode,n=F_OK;if(r==="copyFile"?(t=kMinimumCopyMode,i=kMaximumCopyMode,n=e||kDefaultCopyMode):assert(r==="access"),e==null)return n;if(NumberIsInteger(e)&&e>=t&&e<=i)return e;throw typeof e!="number"?new ERR_INVALID_ARG_TYPE("mode","integer",e):new ERR_OUT_OF_RANGE("mode",`an integer >= ${t} && <= ${i}`,e)}),validateStringAfterArrayBufferView=hideStackFrames((e,r)=>{if(typeof e!="string"&&!(typeof e=="object"&&e!==null&&typeof e.toString=="function"&&ObjectPrototypeHasOwnProperty(e,"toString")))throw new ERR_INVALID_ARG_TYPE(r,["string","Buffer","TypedArray","DataView"],e)}),validatePosition=hideStackFrames((e,r)=>{if(typeof e=="number")validateInteger(e,"position");else if(typeof e=="bigint"){if(!(e>=-(2n**63n)&&e<=2n**63n-1n))throw new ERR_OUT_OF_RANGE("position",`>= ${-(2n**63n)} && <= ${2n**63n-1n}`,e)}else throw new ERR_INVALID_ARG_TYPE("position",["integer","bigint"],e)});module.exports={constants:{kIoMaxLength,kMaxUserId,kReadFileBufferLength,kReadFileUnknownBufferLength,kWriteFileMaxChunkSize},assertEncoding,BigIntStats,copyObject,Dirent,emitRecursiveRmdirWarning,getDirent,getDirents,getOptions,getValidatedFd,getValidatedPath,getValidMode,handleErrorFromBinding,nullCheck,preprocessSymlinkDestination,realpathCacheKey:Symbol("realpathCacheKey"),getStatsFromBinding,stringToFlags,stringToSymlinkType,Stats,toUnixTimestamp,validateBufferArray,validateCpOptions,validateOffsetLengthRead,validateOffsetLengthWrite,validatePath,validatePosition,validateRmOptions,validateRmOptionsSync,validateRmdirOptions,validateStringAfterArrayBufferView,warnOnNonPortableTemplate};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{FunctionPrototypeCall,ObjectDefineProperty,ObjectSetPrototypeOf,Symbol}=primordials,{AbortError,uvException,codes:{ERR_INVALID_ARG_VALUE}}=require("internal/errors"),{createDeferredPromise}=require("internal/util"),{kFsStatsFieldsNumber,StatWatcher:_StatWatcher}=internalBinding("fs"),{FSEvent}=internalBinding("fs_event_wrap"),{UV_ENOSPC}=internalBinding("uv"),{EventEmitter}=require("events"),{getStatsFromBinding,getValidatedPath}=require("internal/fs/utils"),{defaultTriggerAsyncIdScope,symbols:{owner_symbol}}=require("internal/async_hooks"),{toNamespacedPath}=require("path"),{validateAbortSignal,validateBoolean,validateObject,validateUint32}=require("internal/validators"),{Buffer:{isEncoding}}=require("buffer"),assert=require("internal/assert"),kOldStatus=Symbol("kOldStatus"),kUseBigint=Symbol("kUseBigint"),kFSWatchStart=Symbol("kFSWatchStart"),kFSStatWatcherStart=Symbol("kFSStatWatcherStart"),KFSStatWatcherRefCount=Symbol("KFSStatWatcherRefCount"),KFSStatWatcherMaxRefCount=Symbol("KFSStatWatcherMaxRefCount"),kFSStatWatcherAddOrCleanRef=Symbol("kFSStatWatcherAddOrCleanRef");function emitStop(t){t.emit("stop")}function StatWatcher(t){FunctionPrototypeCall(EventEmitter,this),this._handle=null,this[kOldStatus]=-1,this[kUseBigint]=t,this[KFSStatWatcherRefCount]=1,this[KFSStatWatcherMaxRefCount]=1}ObjectSetPrototypeOf(StatWatcher.prototype,EventEmitter.prototype),ObjectSetPrototypeOf(StatWatcher,EventEmitter);function onchange(t,n){const e=this[owner_symbol];e[kOldStatus]===-1&&t===-1&&n[2]===n[16]||(e[kOldStatus]=t,e.emit("change",getStatsFromBinding(n),getStatsFromBinding(n,kFsStatsFieldsNumber)))}StatWatcher.prototype[kFSStatWatcherStart]=function(t,n,e){if(this._handle!==null)return;this._handle=new _StatWatcher(this[kUseBigint]),this._handle[owner_symbol]=this,this._handle.onchange=onchange,n||this.unref(),this[kOldStatus]=-1,t=getValidatedPath(t,"filename"),validateUint32(e,"interval");const r=this._handle.start(toNamespacedPath(t),e);if(r){const i=uvException({errno:r,syscall:"watch",path:t});throw i.filename=t,i}},StatWatcher.prototype.start=()=>{},StatWatcher.prototype.stop=function(){this._handle!==null&&(defaultTriggerAsyncIdScope(this._handle.getAsyncId(),process.nextTick,emitStop,this),this._handle.close(),this._handle=null)},StatWatcher.prototype[kFSStatWatcherAddOrCleanRef]=function(t){t==="add"?(this[KFSStatWatcherRefCount]++,this[KFSStatWatcherMaxRefCount]++):t==="clean"?(this[KFSStatWatcherMaxRefCount]--,this.unref()):t==="cleanAll"&&(this[KFSStatWatcherMaxRefCount]=0,this[KFSStatWatcherRefCount]=0,this._handle?.unref())},StatWatcher.prototype.ref=function(){return this[KFSStatWatcherRefCount]===this[KFSStatWatcherMaxRefCount]?this:(this._handle&&this[KFSStatWatcherRefCount]++==0&&this._handle.ref(),this)},StatWatcher.prototype.unref=function(){return this[KFSStatWatcherRefCount]===0?this:(this._handle&&--this[KFSStatWatcherRefCount]==0&&this._handle.unref(),this)};function FSWatcher(){FunctionPrototypeCall(EventEmitter,this),this._handle=new FSEvent,this._handle[owner_symbol]=this,this._handle.onchange=(t,n,e)=>{if(t<0){this._handle!==null&&(this._handle.close(),this._handle=null);const r=uvException({errno:t,syscall:"watch",path:e});r.filename=e,this.emit("error",r)}else this.emit("change",n,e)}}ObjectSetPrototypeOf(FSWatcher.prototype,EventEmitter.prototype),ObjectSetPrototypeOf(FSWatcher,EventEmitter),FSWatcher.prototype[kFSWatchStart]=function(t,n,e,r){if(this._handle===null||(assert(this._handle instanceof FSEvent,"handle must be a FSEvent"),this._handle.initialized))return;t=getValidatedPath(t,"filename");const i=this._handle.start(toNamespacedPath(t),n,e,r);if(i){const s=uvException({errno:i,syscall:"watch",path:t,message:i===UV_ENOSPC?"System limit for number of file watchers reached":""});throw s.filename=t,s}},FSWatcher.prototype.start=()=>{},FSWatcher.prototype.close=function(){this._handle!==null&&(assert(this._handle instanceof FSEvent,"handle must be a FSEvent"),!!this._handle.initialized&&(this._handle.close(),this._handle=null,process.nextTick(emitCloseNT,this)))},FSWatcher.prototype.ref=function(){return this._handle&&this._handle.ref(),this},FSWatcher.prototype.unref=function(){return this._handle&&this._handle.unref(),this};function emitCloseNT(t){t.emit("close")}ObjectDefineProperty(FSEvent.prototype,"owner",{get(){return this[owner_symbol]},set(t){return this[owner_symbol]=t}});async function*watch(t,n={}){const e=toNamespacedPath(getValidatedPath(t));validateObject(n,"options");const{persistent:r=!0,recursive:i=!1,encoding:s="utf8",signal:a}=n;if(validateBoolean(r,"options.persistent"),validateBoolean(i,"options.recursive"),validateAbortSignal(a,"options.signal"),s&&!isEncoding(s)){const h="is invalid encoding";throw new ERR_INVALID_ARG_VALUE(s,"encoding",h)}if(a?.aborted)throw new AbortError;const o=new FSEvent;let{promise:u,resolve:f,reject:l}=createDeferredPromise();const p=()=>{o.close(),l(new AbortError)};try{a?.addEventListener("abort",p,{once:!0}),o.onchange=(c,S,d)=>{if(c<0){const _=uvException({errno:c,syscall:"watch",path:d});_.filename=d,o.close(),l(_);return}f({eventType:S,filename:d})};const h=o.start(e,r,i,s);if(h){const c=uvException({errno:h,syscall:"watch",path:t,message:h===UV_ENOSPC?"System limit for number of file watchers reached":""});throw c.filename=t,o.close(),c}for(;!a?.aborted;)yield await u,{promise:u,resolve:f,reject:l}=createDeferredPromise();throw new AbortError}finally{o.close(),a?.removeEventListener("abort",p)}}module.exports={FSWatcher,StatWatcher,kFSWatchStart,kFSStatWatcherStart,kFSStatWatcherAddOrCleanRef,watch};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,ArrayPrototypePush,Boolean,FunctionPrototypeBind,ObjectAssign,ObjectCreate,ObjectKeys,ObjectPrototypeHasOwnProperty,Proxy,ReflectApply,ReflectGetPrototypeOf,StringPrototypeIncludes,SafeArrayIterator,StringPrototypeToLowerCase,StringPrototypeTrim,Symbol}=primordials,assert=require("internal/assert"),Stream=require("stream"),{Readable}=Stream,{constants:{HTTP2_HEADER_AUTHORITY,HTTP2_HEADER_CONNECTION,HTTP2_HEADER_METHOD,HTTP2_HEADER_PATH,HTTP2_HEADER_SCHEME,HTTP2_HEADER_STATUS,HTTP_STATUS_CONTINUE,HTTP_STATUS_EXPECTATION_FAILED,HTTP_STATUS_METHOD_NOT_ALLOWED,HTTP_STATUS_OK}}=internalBinding("http2"),{codes:{ERR_HTTP2_HEADERS_SENT,ERR_HTTP2_INFO_STATUS_NOT_ALLOWED,ERR_HTTP2_INVALID_HEADER_VALUE,ERR_HTTP2_INVALID_STREAM,ERR_HTTP2_NO_SOCKET_MANIPULATION,ERR_HTTP2_PSEUDOHEADER_NOT_ALLOWED,ERR_HTTP2_STATUS_INVALID,ERR_INVALID_ARG_VALUE,ERR_INVALID_HTTP_TOKEN,ERR_STREAM_WRITE_AFTER_END},hideStackFrames}=require("internal/errors"),{validateCallback,validateString}=require("internal/validators"),{kSocket,kRequest,kProxySocket,assertValidPseudoHeader,getAuthority}=require("internal/http2/util"),{_checkIsHttpToken:checkIsHttpToken}=require("_http_common"),kBeginSend=Symbol("begin-send"),kState=Symbol("state"),kStream=Symbol("stream"),kResponse=Symbol("response"),kHeaders=Symbol("headers"),kRawHeaders=Symbol("rawHeaders"),kTrailers=Symbol("trailers"),kRawTrailers=Symbol("rawTrailers"),kSetHeader=Symbol("setHeader"),kAborted=Symbol("aborted");let statusMessageWarned=!1,statusConnectionHeaderWarned=!1;const assertValidHeader=hideStackFrames((t,e)=>{if(t===""||typeof t!="string"||StringPrototypeIncludes(t," "))throw new ERR_INVALID_HTTP_TOKEN("Header name",t);if(isPseudoHeader(t))throw new ERR_HTTP2_PSEUDOHEADER_NOT_ALLOWED;if(e==null)throw new ERR_HTTP2_INVALID_HEADER_VALUE(e,t);isConnectionHeaderAllowed(t,e)||connectionHeaderMessageWarn()});function isPseudoHeader(t){switch(t){case HTTP2_HEADER_STATUS:case HTTP2_HEADER_METHOD:case HTTP2_HEADER_PATH:case HTTP2_HEADER_AUTHORITY:case HTTP2_HEADER_SCHEME:return!0;default:return!1}}function statusMessageWarn(){statusMessageWarned===!1&&(process.emitWarning("Status message is not supported by HTTP/2 (RFC7540 8.1.2.4)","UnsupportedWarning"),statusMessageWarned=!0)}function isConnectionHeaderAllowed(t,e){return t!==HTTP2_HEADER_CONNECTION||e==="trailers"}function connectionHeaderMessageWarn(){statusConnectionHeaderWarned===!1&&(process.emitWarning("The provided connection header is not valid, the value will be dropped from the header and will never be in use.","UnsupportedWarning"),statusConnectionHeaderWarned=!0)}function onStreamData(t){const e=this[kRequest];e!==void 0&&!e.push(t)&&this.pause()}function onStreamTrailers(t,e,s){const n=this[kRequest];n!==void 0&&(ObjectAssign(n[kTrailers],t),ArrayPrototypePush(n[kRawTrailers],...new SafeArrayIterator(s)))}function onStreamEnd(){this[kRequest]!==void 0&&this[kRequest].push(null)}function onStreamError(t){}function onRequestPause(){this[kStream].pause()}function onRequestResume(){this[kStream].resume()}function onStreamDrain(){const t=this[kResponse];t!==void 0&&t.emit("drain")}function onStreamAbortedRequest(){const t=this[kRequest];t!==void 0&&t[kState].closed===!1&&(t[kAborted]=!0,t.emit("aborted"))}function onStreamAbortedResponse(){}function resumeStream(t){t.resume()}const proxySocketHandler={has(t,e){const s=t.session!==void 0?t.session[kSocket]:t;return e in t||e in s},get(t,e){switch(e){case"on":case"once":case"end":case"emit":case"destroy":return FunctionPrototypeBind(t[e],t);case"writable":case"destroyed":return t[e];case"readable":if(t.destroyed)return!1;const s=t[kRequest];return s?s.readable:t.readable;case"setTimeout":const n=t.session;return n!==void 0?FunctionPrototypeBind(n.setTimeout,n):FunctionPrototypeBind(t.setTimeout,t);case"write":case"read":case"pause":case"resume":throw new ERR_HTTP2_NO_SOCKET_MANIPULATION;default:const r=t.session!==void 0?t.session[kSocket]:t,i=r[e];return typeof i=="function"?FunctionPrototypeBind(i,r):i}},getPrototypeOf(t){return t.session!==void 0?ReflectGetPrototypeOf(t.session[kSocket]):ReflectGetPrototypeOf(t)},set(t,e,s){switch(e){case"writable":case"readable":case"destroyed":case"on":case"once":case"end":case"emit":case"destroy":return t[e]=s,!0;case"setTimeout":const n=t.session;return n!==void 0?n.setTimeout=s:t.setTimeout=s,!0;case"write":case"read":case"pause":case"resume":throw new ERR_HTTP2_NO_SOCKET_MANIPULATION;default:const r=t.session!==void 0?t.session[kSocket]:t;return r[e]=s,!0}}};function onStreamCloseRequest(){const t=this[kRequest];if(t===void 0)return;const e=t[kState];e.closed=!0,t.push(null),!e.didRead&&!t._readableState.resumeScheduled&&t.resume(),this[kProxySocket]=null,this[kRequest]=void 0,t.emit("close")}function onStreamTimeout(t){return function(){this[t].emit("timeout")}}class Http2ServerRequest extends Readable{constructor(e,s,n,r){super({autoDestroy:!1,...n});this[kState]={closed:!1,didRead:!1},this[kHeaders]=s,this[kRawHeaders]=r,this[kTrailers]={},this[kRawTrailers]=[],this[kStream]=e,this[kAborted]=!1,e[kProxySocket]=null,e[kRequest]=this,e.on("trailers",onStreamTrailers),e.on("end",onStreamEnd),e.on("error",onStreamError),e.on("aborted",onStreamAbortedRequest),e.on("close",onStreamCloseRequest),e.on("timeout",onStreamTimeout(kRequest)),this.on("pause",onRequestPause),this.on("resume",onRequestResume)}get aborted(){return this[kAborted]}get complete(){return this[kAborted]||this.readableEnded||this[kState].closed||this[kStream].destroyed}get stream(){return this[kStream]}get headers(){return this[kHeaders]}get rawHeaders(){return this[kRawHeaders]}get trailers(){return this[kTrailers]}get rawTrailers(){return this[kRawTrailers]}get httpVersionMajor(){return 2}get httpVersionMinor(){return 0}get httpVersion(){return"2.0"}get socket(){const e=this[kStream],s=e[kProxySocket];return s===null?e[kProxySocket]=new Proxy(e,proxySocketHandler):s}get connection(){return this.socket}_read(e){const s=this[kState];assert(!s.closed),s.didRead?process.nextTick(resumeStream,this[kStream]):(s.didRead=!0,this[kStream].on("data",onStreamData))}get method(){return this[kHeaders][HTTP2_HEADER_METHOD]}set method(e){if(validateString(e,"method"),StringPrototypeTrim(e)==="")throw new ERR_INVALID_ARG_VALUE("method",e);this[kHeaders][HTTP2_HEADER_METHOD]=e}get authority(){return getAuthority(this[kHeaders])}get scheme(){return this[kHeaders][HTTP2_HEADER_SCHEME]}get url(){return this[kHeaders][HTTP2_HEADER_PATH]}set url(e){this[kHeaders][HTTP2_HEADER_PATH]=e}setTimeout(e,s){return this[kState].closed||this[kStream].setTimeout(e,s),this}}function onStreamTrailersReady(){this.sendTrailers(this[kResponse][kTrailers])}function onStreamCloseResponse(){const t=this[kResponse];if(t===void 0)return;const e=t[kState];this.headRequest===e.headRequest&&(e.closed=!0,this[kProxySocket]=null,this.removeListener("wantTrailers",onStreamTrailersReady),this[kResponse]=void 0,t.emit("finish"),t.emit("close"))}class Http2ServerResponse extends Stream{constructor(e,s){super(s);this[kState]={closed:!1,ending:!1,destroyed:!1,headRequest:!1,sendDate:!0,statusCode:HTTP_STATUS_OK},this[kHeaders]=ObjectCreate(null),this[kTrailers]=ObjectCreate(null),this[kStream]=e,e[kProxySocket]=null,e[kResponse]=this,this.writable=!0,this.req=e[kRequest],e.on("drain",onStreamDrain),e.on("aborted",onStreamAbortedResponse),e.on("close",onStreamCloseResponse),e.on("wantTrailers",onStreamTrailersReady),e.on("timeout",onStreamTimeout(kResponse))}get _header(){return this.headersSent}get writableEnded(){return this[kState].ending}get finished(){return this[kState].ending}get socket(){if(this[kState].closed)return;const e=this[kStream],s=e[kProxySocket];return s===null?e[kProxySocket]=new Proxy(e,proxySocketHandler):s}get connection(){return this.socket}get stream(){return this[kStream]}get headersSent(){return this[kStream].headersSent}get sendDate(){return this[kState].sendDate}set sendDate(e){this[kState].sendDate=Boolean(e)}get statusCode(){return this[kState].statusCode}get writableCorked(){return this[kStream].writableCorked}get writableHighWaterMark(){return this[kStream].writableHighWaterMark}get writableFinished(){return this[kStream].writableFinished}get writableLength(){return this[kStream].writableLength}set statusCode(e){if(e|=0,e>=100&&e<200)throw new ERR_HTTP2_INFO_STATUS_NOT_ALLOWED;if(e<100||e>599)throw new ERR_HTTP2_STATUS_INVALID(e);this[kState].statusCode=e}setTrailer(e,s){validateString(e,"name"),e=StringPrototypeToLowerCase(StringPrototypeTrim(e)),assertValidHeader(e,s),this[kTrailers][e]=s}addTrailers(e){const s=ObjectKeys(e);let n="";for(let r=0;r<s.length;r++)n=s[r],this.setTrailer(n,e[n])}getHeader(e){return validateString(e,"name"),e=StringPrototypeToLowerCase(StringPrototypeTrim(e)),this[kHeaders][e]}getHeaderNames(){return ObjectKeys(this[kHeaders])}getHeaders(){const e=ObjectCreate(null);return ObjectAssign(e,this[kHeaders])}hasHeader(e){return validateString(e,"name"),e=StringPrototypeToLowerCase(StringPrototypeTrim(e)),ObjectPrototypeHasOwnProperty(this[kHeaders],e)}removeHeader(e){if(validateString(e,"name"),this[kStream].headersSent)throw new ERR_HTTP2_HEADERS_SENT;if(e=StringPrototypeToLowerCase(StringPrototypeTrim(e)),e==="date"){this[kState].sendDate=!1;return}delete this[kHeaders][e]}setHeader(e,s){if(validateString(e,"name"),this[kStream].headersSent)throw new ERR_HTTP2_HEADERS_SENT;this[kSetHeader](e,s)}[kSetHeader](e,s){e=StringPrototypeToLowerCase(StringPrototypeTrim(e)),assertValidHeader(e,s),!!isConnectionHeaderAllowed(e,s)&&(e[0]===":"?assertValidPseudoHeader(e):checkIsHttpToken(e)||this.destroy(new ERR_INVALID_HTTP_TOKEN("Header name",e)),this[kHeaders][e]=s)}get statusMessage(){return statusMessageWarn(),""}set statusMessage(e){statusMessageWarn()}flushHeaders(){const e=this[kState];!e.closed&&!this[kStream].headersSent&&this.writeHead(e.statusCode)}writeHead(e,s,n){const r=this[kState];if(r.closed||this.stream.destroyed)return this;if(this[kStream].headersSent)throw new ERR_HTTP2_HEADERS_SENT;typeof s=="string"&&statusMessageWarn(),n===void 0&&typeof s=="object"&&(n=s);let i;if(ArrayIsArray(n))for(i=0;i<n.length;i++){const o=n[i];this[kSetHeader](o[0],o[1])}else if(typeof n=="object"){const o=ObjectKeys(n);let d="";for(i=0;i<o.length;i++)d=o[i],this[kSetHeader](d,n[d])}return r.statusCode=e,this[kBeginSend](),this}cork(){this[kStream].cork()}uncork(){this[kStream].uncork()}write(e,s,n){const r=this[kState];typeof s=="function"&&(n=s,s="utf8");let i;if(r.ending)i=new ERR_STREAM_WRITE_AFTER_END;else if(r.closed)i=new ERR_HTTP2_INVALID_STREAM;else if(r.destroyed)return!1;if(i)return typeof n=="function"&&process.nextTick(n,i),this.destroy(i),!1;const o=this[kStream];return o.headersSent||this.writeHead(r.statusCode),o.write(e,s,n)}end(e,s,n){const r=this[kStream],i=this[kState];return typeof e=="function"?(n=e,e=null):typeof s=="function"&&(n=s,s="utf8"),(i.closed||i.ending)&&i.headRequest===r.headRequest?(typeof n=="function"&&process.nextTick(n),this):(e!=null&&this.write(e,s),i.headRequest=r.headRequest,i.ending=!0,typeof n=="function"&&(r.writableEnded?this.once("finish",n):r.once("finish",n)),r.headersSent||this.writeHead(this[kState].statusCode),this[kState].closed||r.destroyed?ReflectApply(onStreamCloseResponse,r,[]):r.end(),this)}destroy(e){this[kState].destroyed||(this[kState].destroyed=!0,this[kStream].destroy(e))}setTimeout(e,s){this[kState].closed||this[kStream].setTimeout(e,s)}createPushResponse(e,s){if(validateCallback(s),this[kState].closed){process.nextTick(s,new ERR_HTTP2_INVALID_STREAM);return}this[kStream].pushStream(e,{},(n,r,i,o)=>{if(n){s(n);return}s(null,new Http2ServerResponse(r))})}[kBeginSend](){const e=this[kState],s=this[kHeaders];s[HTTP2_HEADER_STATUS]=e.statusCode;const n={endStream:e.ending,waitForTrailers:!0,sendDate:e.sendDate};this[kStream].respond(s,n)}writeContinue(){const e=this[kStream];return e.headersSent||this[kState].closed?!1:(e.additionalHeaders({[HTTP2_HEADER_STATUS]:HTTP_STATUS_CONTINUE}),!0)}}function onServerStream(t,e,s,n,r,i){const o=this,d=new t(s,n,void 0,i),u=new e(s);if(n[HTTP2_HEADER_METHOD]==="CONNECT"){o.emit("connect",d,u)||(u.statusCode=HTTP_STATUS_METHOD_NOT_ALLOWED,u.end());return}if(n.expect!==void 0){n.expect==="100-continue"?o.listenerCount("checkContinue")?o.emit("checkContinue",d,u):(u.writeContinue(),o.emit("request",d,u)):o.listenerCount("checkExpectation")?o.emit("checkExpectation",d,u):(u.statusCode=HTTP_STATUS_EXPECTATION_FAILED,u.end());return}o.emit("request",d,u)}module.exports={onServerStream,Http2ServerRequest,Http2ServerResponse};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayFrom,ArrayIsArray,ArrayPrototypeForEach,ArrayPrototypePush,ArrayPrototypeUnshift,FunctionPrototypeBind,FunctionPrototypeCall,MathMin,ObjectAssign,ObjectCreate,ObjectKeys,ObjectDefineProperty,ObjectPrototypeHasOwnProperty,Promise,PromisePrototypeCatch,Proxy,ReflectApply,ReflectGet,ReflectGetPrototypeOf,ReflectSet,RegExpPrototypeTest,SafeArrayIterator,SafeMap,SafeSet,StringPrototypeSlice,Symbol,TypedArrayPrototypeGetLength,Uint32Array,Uint8Array}=primordials,{assertCrypto,customInspectSymbol:kInspect,promisify}=require("internal/util");assertCrypto();const assert=require("assert"),EventEmitter=require("events"),fs=require("fs"),http=require("http"),{readUInt16BE,readUInt32BE}=require("internal/buffer"),{URL}=require("internal/url"),net=require("net"),{Duplex}=require("stream"),tls=require("tls"),{setImmediate,setTimeout,clearTimeout}=require("timers"),{kIncomingMessage,_checkIsHttpToken:checkIsHttpToken}=require("_http_common"),{kServerResponse}=require("_http_server"),JSStreamSocket=require("internal/js_stream_socket"),{defaultTriggerAsyncIdScope,symbols:{async_id_symbol,owner_symbol}}=require("internal/async_hooks"),{aggregateTwoErrors,codes:{ERR_HTTP2_ALTSVC_INVALID_ORIGIN,ERR_HTTP2_ALTSVC_LENGTH,ERR_HTTP2_CONNECT_AUTHORITY,ERR_HTTP2_CONNECT_PATH,ERR_HTTP2_CONNECT_SCHEME,ERR_HTTP2_GOAWAY_SESSION,ERR_HTTP2_HEADERS_AFTER_RESPOND,ERR_HTTP2_HEADERS_SENT,ERR_HTTP2_INVALID_INFO_STATUS,ERR_HTTP2_INVALID_ORIGIN,ERR_HTTP2_INVALID_PACKED_SETTINGS_LENGTH,ERR_HTTP2_INVALID_SESSION,ERR_HTTP2_INVALID_SETTING_VALUE,ERR_HTTP2_INVALID_STREAM,ERR_HTTP2_MAX_PENDING_SETTINGS_ACK,ERR_HTTP2_NESTED_PUSH,ERR_HTTP2_NO_MEM,ERR_HTTP2_NO_SOCKET_MANIPULATION,ERR_HTTP2_ORIGIN_LENGTH,ERR_HTTP2_OUT_OF_STREAMS,ERR_HTTP2_PAYLOAD_FORBIDDEN,ERR_HTTP2_PING_CANCEL,ERR_HTTP2_PING_LENGTH,ERR_HTTP2_PUSH_DISABLED,ERR_HTTP2_SEND_FILE,ERR_HTTP2_SEND_FILE_NOSEEK,ERR_HTTP2_SESSION_ERROR,ERR_HTTP2_SETTINGS_CANCEL,ERR_HTTP2_SOCKET_BOUND,ERR_HTTP2_SOCKET_UNBOUND,ERR_HTTP2_STATUS_101,ERR_HTTP2_STATUS_INVALID,ERR_HTTP2_STREAM_CANCEL,ERR_HTTP2_STREAM_ERROR,ERR_HTTP2_STREAM_SELF_DEPENDENCY,ERR_HTTP2_TRAILERS_ALREADY_SENT,ERR_HTTP2_TRAILERS_NOT_READY,ERR_HTTP2_UNSUPPORTED_PROTOCOL,ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_INVALID_CHAR,ERR_INVALID_HTTP_TOKEN,ERR_OUT_OF_RANGE,ERR_SOCKET_CLOSED},hideStackFrames,AbortError}=require("internal/errors"),{isUint32,validateCallback,validateInt32,validateInteger,validateNumber,validateString,validateUint32,validateAbortSignal}=require("internal/validators"),fsPromisesInternal=require("internal/fs/promises"),{utcDate}=require("internal/http"),{Http2ServerRequest,Http2ServerResponse,onServerStream}=require("internal/http2/compat"),{assertIsObject,assertValidPseudoHeader,assertValidPseudoHeaderResponse,assertValidPseudoHeaderTrailer,assertWithinRange,getAuthority,getDefaultSettings,getSessionState,getSettings,getStreamState,isPayloadMeaningless,kSensitiveHeaders,kSocket,kRequest,kProxySocket,mapToHeaders,NghttpError,sessionName,toHeaderObject,updateOptionsBuffer,updateSettingsBuffer}=require("internal/http2/util"),{writeGeneric,writevGeneric,onStreamRead,kAfterAsyncWrite,kMaybeDestroy,kUpdateTimer,kHandle,kSession,setStreamTimeout}=require("internal/stream_base_commons"),{kTimeout}=require("internal/timers"),{isArrayBufferView}=require("internal/util/types"),{format}=require("internal/util/inspect"),{FileHandle}=internalBinding("fs"),binding=internalBinding("http2"),{ShutdownWrap,kReadBytesOrError,streamBaseState}=internalBinding("stream_wrap"),{UV_EOF}=internalBinding("uv"),{StreamPipe}=internalBinding("stream_pipe"),{_connectionListener:httpConnectionListener}=http;let debug=require("internal/util/debuglog").debuglog("http2",t=>{debug=t});function debugStream(t,e,n,...s){debug("Http2Stream %s [Http2Session %s]: "+n,t,sessionName(e),...new SafeArrayIterator(s))}function debugStreamObj(t,e,...n){const s=t[kSession],i=s?s[kType]:void 0;debugStream(t[kID],i,e,...new SafeArrayIterator(n))}function debugSession(t,e,...n){debug("Http2Session %s: "+e,sessionName(t),...new SafeArrayIterator(n))}function debugSessionObj(t,e,...n){debugSession(t[kType],e,...new SafeArrayIterator(n))}const kMaxFrameSize=2**24-1,kMaxInt=2**32-1,kMaxStreams=2**32-1,kMaxALTSVC=2**14-2,kQuotedString=/^[\x09\x20-\x5b\x5d-\x7e\x80-\xff]*$/,{constants,nameForErrorCode}=binding,NETServer=net.Server,TLSServer=tls.Server,kAlpnProtocol=Symbol("alpnProtocol"),kAuthority=Symbol("authority"),kEncrypted=Symbol("encrypted"),kID=Symbol("id"),kInit=Symbol("init"),kInfoHeaders=Symbol("sent-info-headers"),kLocalSettings=Symbol("local-settings"),kNativeFields=Symbol("kNativeFields"),kOptions=Symbol("options"),kOwner=owner_symbol,kOrigin=Symbol("origin"),kPendingRequestCalls=Symbol("kPendingRequestCalls"),kProceed=Symbol("proceed"),kProtocol=Symbol("protocol"),kRemoteSettings=Symbol("remote-settings"),kSelectPadding=Symbol("select-padding"),kSentHeaders=Symbol("sent-headers"),kSentTrailers=Symbol("sent-trailers"),kServer=Symbol("server"),kState=Symbol("state"),kType=Symbol("type"),kWriteGeneric=Symbol("write-generic"),{kBitfield,kSessionPriorityListenerCount,kSessionFrameErrorListenerCount,kSessionMaxInvalidFrames,kSessionMaxRejectedStreams,kSessionUint8FieldCount,kSessionHasRemoteSettingsListeners,kSessionRemoteSettingsIsUpToDate,kSessionHasPingListeners,kSessionHasAltsvcListeners}=binding,{NGHTTP2_CANCEL,NGHTTP2_REFUSED_STREAM,NGHTTP2_DEFAULT_WEIGHT,NGHTTP2_FLAG_END_STREAM,NGHTTP2_HCAT_PUSH_RESPONSE,NGHTTP2_HCAT_RESPONSE,NGHTTP2_INTERNAL_ERROR,NGHTTP2_NO_ERROR,NGHTTP2_SESSION_CLIENT,NGHTTP2_SESSION_SERVER,NGHTTP2_ERR_STREAM_ID_NOT_AVAILABLE,NGHTTP2_ERR_INVALID_ARGUMENT,NGHTTP2_ERR_STREAM_CLOSED,NGHTTP2_ERR_NOMEM,HTTP2_HEADER_AUTHORITY,HTTP2_HEADER_DATE,HTTP2_HEADER_METHOD,HTTP2_HEADER_PATH,HTTP2_HEADER_PROTOCOL,HTTP2_HEADER_SCHEME,HTTP2_HEADER_STATUS,HTTP2_HEADER_CONTENT_LENGTH,NGHTTP2_SETTINGS_HEADER_TABLE_SIZE,NGHTTP2_SETTINGS_ENABLE_PUSH,NGHTTP2_SETTINGS_MAX_CONCURRENT_STREAMS,NGHTTP2_SETTINGS_INITIAL_WINDOW_SIZE,NGHTTP2_SETTINGS_MAX_FRAME_SIZE,NGHTTP2_SETTINGS_MAX_HEADER_LIST_SIZE,NGHTTP2_SETTINGS_ENABLE_CONNECT_PROTOCOL,HTTP2_METHOD_GET,HTTP2_METHOD_HEAD,HTTP2_METHOD_CONNECT,HTTP_STATUS_CONTINUE,HTTP_STATUS_RESET_CONTENT,HTTP_STATUS_OK,HTTP_STATUS_NO_CONTENT,HTTP_STATUS_NOT_MODIFIED,HTTP_STATUS_SWITCHING_PROTOCOLS,HTTP_STATUS_MISDIRECTED_REQUEST,STREAM_OPTION_EMPTY_PAYLOAD,STREAM_OPTION_GET_TRAILERS}=constants,STREAM_FLAGS_PENDING=0,STREAM_FLAGS_READY=1,STREAM_FLAGS_CLOSED=2,STREAM_FLAGS_HEADERS_SENT=4,STREAM_FLAGS_HEAD_REQUEST=8,STREAM_FLAGS_ABORTED=16,STREAM_FLAGS_HAS_TRAILERS=32,SESSION_FLAGS_PENDING=0,SESSION_FLAGS_READY=1,SESSION_FLAGS_CLOSED=2,SESSION_FLAGS_DESTROYED=4;function emit(t,...e){ReflectApply(t.emit,t,e)}function onSessionHeaders(t,e,n,s,i,r){const o=this[kOwner];if(o.destroyed)return;const a=o[kType];o[kUpdateTimer](),debugStream(e,a,"headers received");const c=o[kState].streams,f=!!(s&NGHTTP2_FLAG_END_STREAM);let d=c.get(e);const u=toHeaderObject(i,r);if(d===void 0){if(o.closed){t.rstStream(NGHTTP2_REFUSED_STREAM),t.destroy();return}a===NGHTTP2_SESSION_SERVER?(d=new ServerHttp2Stream(o,t,e,{},u),f&&d.push(null),u[HTTP2_HEADER_METHOD]===HTTP2_METHOD_HEAD&&(d.end(),d[kState].flags|=STREAM_FLAGS_HEAD_REQUEST)):(d=new ClientHttp2Stream(o,t,e,{}),f&&d.push(null),d.end()),f&&(d[kState].endAfterHeaders=!0),process.nextTick(emit,o,"stream",d,u,s,i)}else{let l;const h=u[HTTP2_HEADER_STATUS];n===NGHTTP2_HCAT_RESPONSE?!f&&h!==void 0&&h>=100&&h<200?l="headers":l="response":n===NGHTTP2_HCAT_PUSH_RESPONSE?l="push":!f&&h!==void 0&&h>=200?l="response":l=f?"trailers":"headers";const S=d.session;h===HTTP_STATUS_MISDIRECTED_REQUEST&&(S[kState].originSet=initOriginSet(S)).delete(d[kOrigin]),debugStream(e,a,"emitting stream '%s' event",l),process.nextTick(emit,d,l,u,s,i)}f&&d.push(null)}function tryClose(t){fs.close(t,assert.ifError)}function onStreamTrailers(){const t=this[kOwner];t[kState].trailersReady=!0,!(t.destroyed||t.closed)&&(t.emit("wantTrailers")||t.sendTrailers({}))}function submitRstStream(t){this[kHandle]!==void 0&&this[kHandle].rstStream(t)}function sessionListenerAdded(t){switch(t){case"ping":this[kNativeFields][kBitfield]|=1<<kSessionHasPingListeners;break;case"altsvc":this[kNativeFields][kBitfield]|=1<<kSessionHasAltsvcListeners;break;case"remoteSettings":this[kNativeFields][kBitfield]|=1<<kSessionHasRemoteSettingsListeners;break;case"priority":this[kNativeFields][kSessionPriorityListenerCount]++;break;case"frameError":this[kNativeFields][kSessionFrameErrorListenerCount]++;break}}function sessionListenerRemoved(t){switch(t){case"ping":if(this.listenerCount(t)>0)return;this[kNativeFields][kBitfield]&=~(1<<kSessionHasPingListeners);break;case"altsvc":if(this.listenerCount(t)>0)return;this[kNativeFields][kBitfield]&=~(1<<kSessionHasAltsvcListeners);break;case"remoteSettings":if(this.listenerCount(t)>0)return;this[kNativeFields][kBitfield]&=~(1<<kSessionHasRemoteSettingsListeners);break;case"priority":this[kNativeFields][kSessionPriorityListenerCount]--;break;case"frameError":this[kNativeFields][kSessionFrameErrorListenerCount]--;break}}function streamListenerAdded(t){const e=this[kSession];if(!!e)switch(t){case"priority":e[kNativeFields][kSessionPriorityListenerCount]++;break;case"frameError":e[kNativeFields][kSessionFrameErrorListenerCount]++;break}}function streamListenerRemoved(t){const e=this[kSession];if(!!e)switch(t){case"priority":e[kNativeFields][kSessionPriorityListenerCount]--;break;case"frameError":e[kNativeFields][kSessionFrameErrorListenerCount]--;break}}function onPing(t){const e=this[kOwner];e.destroyed||(e[kUpdateTimer](),debugSessionObj(e,"new ping received"),e.emit("ping",t))}function onStreamClose(t){const e=this[kOwner];return!e||e.destroyed?!1:(debugStreamObj(e,"closed with code %d, closed %s, readable %s",t,e.closed,e.readable),e.closed||closeStream(e,t,kNoRstStream),e[kState].fd=-1,!e.readable||t!==NGHTTP2_NO_ERROR?e.destroy():(e.on("end",e[kMaybeDestroy]),e.push(null),e[kSession][kType]===NGHTTP2_SESSION_SERVER&&!e[kState].didRead&&e.readableFlowing===null?e.resume():e.read(0)),!0)}function onSettings(){const t=this[kOwner];t.destroyed||(t[kUpdateTimer](),debugSessionObj(t,"new settings received"),t[kRemoteSettings]=void 0,t.emit("remoteSettings",t.remoteSettings))}function onPriority(t,e,n,s){const i=this[kOwner];if(i.destroyed)return;debugStream(t,i[kType],"priority [parent: %d, weight: %d, exclusive: %s]",e,n,s);const r=i[kState].streams.get(t)||i;r.destroyed||(r[kUpdateTimer](),r.emit("priority",t,e,n,s))}function onFrameError(t,e,n){const s=this[kOwner];if(s.destroyed)return;debugSessionObj(s,"error sending frame type %d on stream %d, code: %d",e,t,n);const i=s[kState].streams.get(t)||s;i[kUpdateTimer](),i.emit("frameError",e,n,t)}function onAltSvc(t,e,n){const s=this[kOwner];s.destroyed||(debugSessionObj(s,"altsvc received: stream: %d, origin: %s, alt: %s",t,e,n),s[kUpdateTimer](),s.emit("altsvc",n,e,t))}function initOriginSet(t){let e=t[kState].originSet;if(e===void 0){const n=t[kSocket];if(t[kState].originSet=e=new SafeSet,n.servername!=null){let s=`https://${n.servername}`;n.remotePort!=null&&(s+=`:${n.remotePort}`),e.add(new URL(s).origin)}}return e}function onOrigin(t){const e=this[kOwner];if(e.destroyed||(debugSessionObj(e,"origin received: %j",t),e[kUpdateTimer](),!e.encrypted||e.destroyed))return;const n=initOriginSet(e);for(let s=0;s<t.length;s++)n.add(t[s]);e.emit("origin",t)}function onGoawayData(t,e,n){const s=this[kOwner];if(s.destroyed)return;debugSessionObj(s,"goaway %d received [last stream id: %d]",t,e);const i=s[kState];i.goawayCode=t,i.goawayLastStreamID=e,s.emit("goaway",t,e,n),t===NGHTTP2_NO_ERROR?s.close():s.destroy(new ERR_HTTP2_SESSION_ERROR(t),NGHTTP2_NO_ERROR)}function requestOnConnect(t,e){const n=this[kSession];if(n===void 0||n.destroyed)return;if(n.closed){const r=new ERR_HTTP2_GOAWAY_SESSION;this.destroy(r);return}debugSessionObj(n,"connected, initializing request");let s=0;e.endStream&&(s|=STREAM_OPTION_EMPTY_PAYLOAD),e.waitForTrailers&&(s|=STREAM_OPTION_GET_TRAILERS);const i=n[kHandle].request(t,s,e.parent|0,e.weight|0,!!e.exclusive);if(typeof i=="number"){let r;switch(i){case NGHTTP2_ERR_STREAM_ID_NOT_AVAILABLE:r=new ERR_HTTP2_OUT_OF_STREAMS,this.destroy(r);break;case NGHTTP2_ERR_INVALID_ARGUMENT:r=new ERR_HTTP2_STREAM_SELF_DEPENDENCY,this.destroy(r);break;default:n.destroy(new NghttpError(i))}return}this[kInit](i.id(),i)}const setAndValidatePriorityOptions=hideStackFrames(t=>{if(t.weight===void 0)t.weight=NGHTTP2_DEFAULT_WEIGHT;else if(typeof t.weight!="number")throw new ERR_INVALID_ARG_VALUE("options.weight",t.weight);if(t.parent===void 0)t.parent=0;else if(typeof t.parent!="number"||t.parent<0)throw new ERR_INVALID_ARG_VALUE("options.parent",t.parent);if(t.exclusive===void 0)t.exclusive=!1;else if(typeof t.exclusive!="boolean")throw new ERR_INVALID_ARG_VALUE("options.exclusive",t.exclusive);if(t.silent===void 0)t.silent=!1;else if(typeof t.silent!="boolean")throw new ERR_INVALID_ARG_VALUE("options.silent",t.silent)});function onSessionInternalError(t,e){this[kOwner]!==void 0&&this[kOwner].destroy(new NghttpError(t,e))}function settingsCallback(t,e,n){if(this[kState].pendingAck--,this[kLocalSettings]=void 0,e){debugSessionObj(this,"settings received");const s=this.localSettings;typeof t=="function"&&t(null,s,n),this.emit("localSettings",s)}else debugSessionObj(this,"settings canceled"),typeof t=="function"&&t(new ERR_HTTP2_SETTINGS_CANCEL)}function submitSettings(t,e){this.destroyed||(debugSessionObj(this,"submitting settings"),this[kUpdateTimer](),updateSettingsBuffer(t),this[kHandle].settings(FunctionPrototypeBind(settingsCallback,this,e))||this.destroy(new ERR_HTTP2_MAX_PENDING_SETTINGS_ACK))}function submitPriority(t){this.destroyed||(this[kUpdateTimer](),t.parent!==this[kID]&&this[kHandle].priority(t.parent|0,t.weight|0,!!t.exclusive,!!t.silent))}function submitGoaway(t,e,n){this.destroyed||(debugSessionObj(this,"submitting goaway"),this[kUpdateTimer](),this[kHandle].goaway(t,e,n))}const proxySocketHandler={get(t,e){switch(e){case"setTimeout":case"ref":case"unref":return FunctionPrototypeBind(t[e],t);case"destroy":case"emit":case"end":case"pause":case"read":case"resume":case"write":case"setEncoding":case"setKeepAlive":case"setNoDelay":throw new ERR_HTTP2_NO_SOCKET_MANIPULATION;default:const n=t[kSocket];if(n===void 0)throw new ERR_HTTP2_SOCKET_UNBOUND;const s=n[e];return typeof s=="function"?FunctionPrototypeBind(s,n):s}},getPrototypeOf(t){const e=t[kSocket];if(e===void 0)throw new ERR_HTTP2_SOCKET_UNBOUND;return ReflectGetPrototypeOf(e)},set(t,e,n){switch(e){case"setTimeout":case"ref":case"unref":return t[e]=n,!0;case"destroy":case"emit":case"end":case"pause":case"read":case"resume":case"write":case"setEncoding":case"setKeepAlive":case"setNoDelay":throw new ERR_HTTP2_NO_SOCKET_MANIPULATION;default:const s=t[kSocket];if(s===void 0)throw new ERR_HTTP2_SOCKET_UNBOUND;return s[e]=n,!0}}};function pingCallback(t){return function(n,s,i){n?t(null,s,i):t(new ERR_HTTP2_PING_CANCEL)}}const validateSettings=hideStackFrames(t=>{if(t!==void 0){if(assertWithinRange("headerTableSize",t.headerTableSize,0,kMaxInt),assertWithinRange("initialWindowSize",t.initialWindowSize,0,kMaxInt),assertWithinRange("maxFrameSize",t.maxFrameSize,16384,kMaxFrameSize),assertWithinRange("maxConcurrentStreams",t.maxConcurrentStreams,0,kMaxStreams),assertWithinRange("maxHeaderListSize",t.maxHeaderListSize,0,kMaxInt),assertWithinRange("maxHeaderSize",t.maxHeaderSize,0,kMaxInt),t.enablePush!==void 0&&typeof t.enablePush!="boolean")throw new ERR_HTTP2_INVALID_SETTING_VALUE("enablePush",t.enablePush);if(t.enableConnectProtocol!==void 0&&typeof t.enableConnectProtocol!="boolean")throw new ERR_HTTP2_INVALID_SETTING_VALUE("enableConnectProtocol",t.enableConnectProtocol)}});function trackAssignmentsTypedArray(t){const e=TypedArrayPrototypeGetLength(t),n=new Uint8Array(e);function s(i){for(let r=0;r<e;r++)n[r]&&(i[r]=t[r])}return new Proxy(t,{get(i,r,o){return r==="copyAssigned"?s:ReflectGet(i,r,o)},set(i,r,o){return`${+r}`===r&&(n[r]=1),ReflectSet(i,r,o)}})}function setupHandle(t,e,n){if(this.destroyed){process.nextTick(emit,this,"connect",this,t);return}assert(t._handle!==void 0,"Internal HTTP/2 Failure. The socket is not connected. Please report this as a bug in Node.js"),debugSession(e,"setting up session handle"),this[kState].flags|=SESSION_FLAGS_READY,updateOptionsBuffer(n);const s=new binding.Http2Session(e);if(s[kOwner]=this,typeof n.selectPadding=="function"&&(this[kSelectPadding]=n.selectPadding),s.consume(t._handle),this[kHandle]=s,this[kNativeFields]&&this[kNativeFields].copyAssigned(s.fields),this[kNativeFields]=s.fields,t.encrypted?(this[kAlpnProtocol]=t.alpnProtocol,this[kEncrypted]=!0):(this[kAlpnProtocol]="h2c",this[kEncrypted]=!1),isUint32(n.maxSessionInvalidFrames)){const r=new Uint32Array(this[kNativeFields].buffer,kSessionMaxInvalidFrames,1);r[0]=n.maxSessionInvalidFrames}if(isUint32(n.maxSessionRejectedStreams)){const r=new Uint32Array(this[kNativeFields].buffer,kSessionMaxRejectedStreams,1);r[0]=n.maxSessionRejectedStreams}const i=typeof n.settings=="object"?n.settings:{};this.settings(i),e===NGHTTP2_SESSION_SERVER&&ArrayIsArray(n.origins)&&ReflectApply(this.origin,this,n.origins),process.nextTick(emit,this,"connect",this,t)}function emitClose(t,e){e&&t.emit("error",e),t.emit("close")}function cleanupSession(t){const e=t[kSocket],n=t[kHandle];t[kProxySocket]=void 0,t[kSocket]=void 0,t[kHandle]=void 0,t[kNativeFields]=trackAssignmentsTypedArray(new Uint8Array(kSessionUint8FieldCount)),n&&(n.ondone=null),e&&(e[kSession]=void 0,e[kServer]=void 0)}function finishSessionClose(t,e){debugSessionObj(t,"finishSessionClose");const n=t[kSocket];cleanupSession(t),n&&!n.destroyed?n.end(s=>{debugSessionObj(t,"finishSessionClose socket end",s,e),n.destroy(e),emitClose(t,e)}):process.nextTick(emitClose,t,e)}function closeSession(t,e,n){debugSessionObj(t,"start closing/destroying",n);const s=t[kState];if(s.flags|=SESSION_FLAGS_DESTROYED,s.destroyCode=e,t.setTimeout(0),t.removeAllListeners("timeout"),s.pendingStreams.size>0||s.streams.size>0){const o=new ERR_HTTP2_STREAM_CANCEL(n);s.pendingStreams.forEach(a=>a.destroy(o)),s.streams.forEach(a=>a.destroy(n))}const i=t[kSocket],r=t[kHandle];r!==void 0?(r.ondone=FunctionPrototypeBind(finishSessionClose,null,t,n),r.destroy(e,i.destroyed)):finishSessionClose(t,n)}class Http2Session extends EventEmitter{constructor(e,n,s){super();if((!s._handle||!s._handle.isStreamBase)&&(s=new JSStreamSocket(s)),s.on("error",socketOnError),s.on("close",socketOnClose),s[kSession]!==void 0)throw new ERR_HTTP2_SOCKET_BOUND;s[kSession]=this,this[kState]={destroyCode:NGHTTP2_NO_ERROR,flags:SESSION_FLAGS_PENDING,goawayCode:null,goawayLastStreamID:null,streams:new SafeMap,pendingStreams:new SafeSet,pendingAck:0,shutdownWritableCalled:!1,writeQueueSize:0,originSet:void 0},this[kEncrypted]=void 0,this[kAlpnProtocol]=void 0,this[kType]=e,this[kProxySocket]=null,this[kSocket]=s,this[kTimeout]=null,this[kHandle]=void 0,typeof s.setNoDelay=="function"&&s.setNoDelay(),typeof s.disableRenegotiation=="function"&&s.disableRenegotiation();const i=FunctionPrototypeBind(setupHandle,this,s,e,n);if(s.connecting||s.secureConnecting){const r=s instanceof tls.TLSSocket?"secureConnect":"connect";s.once(r,()=>{try{i()}catch(o){s.destroy(o)}})}else i();this[kNativeFields]||(this[kNativeFields]=trackAssignmentsTypedArray(new Uint8Array(kSessionUint8FieldCount))),this.on("newListener",sessionListenerAdded),this.on("removeListener",sessionListenerRemoved),debugSession(e,"created")}get encrypted(){return this[kEncrypted]}get alpnProtocol(){return this[kAlpnProtocol]}get originSet(){if(!(!this.encrypted||this.destroyed))return ArrayFrom(initOriginSet(this))}get connecting(){return(this[kState].flags&SESSION_FLAGS_READY)==0}get closed(){return!!(this[kState].flags&SESSION_FLAGS_CLOSED)}get destroyed(){return!!(this[kState].flags&SESSION_FLAGS_DESTROYED)}[kUpdateTimer](){this.destroyed||this[kTimeout]&&this[kTimeout].refresh()}setNextStreamID(e){if(this.destroyed)throw new ERR_HTTP2_INVALID_SESSION;if(validateNumber(e,"id"),e<=0||e>kMaxStreams)throw new ERR_OUT_OF_RANGE("id",`> 0 and <= ${kMaxStreams}`,e);this[kHandle].setNextStreamID(e)}setLocalWindowSize(e){if(this.destroyed)throw new ERR_HTTP2_INVALID_SESSION;validateInt32(e,"windowSize",0),this[kHandle].setLocalWindowSize(e)===NGHTTP2_ERR_NOMEM&&this.destroy(new ERR_HTTP2_NO_MEM)}ping(e,n){if(this.destroyed)throw new ERR_HTTP2_INVALID_SESSION;if(typeof e=="function"&&(n=e,e=void 0),e&&!isArrayBufferView(e))throw new ERR_INVALID_ARG_TYPE("payload",["Buffer","TypedArray","DataView"],e);if(e&&e.length!==8)throw new ERR_HTTP2_PING_LENGTH;validateCallback(n);const s=pingCallback(n);if(this.connecting||this.closed){process.nextTick(s,!1,0,e);return}return this[kHandle].ping(e,s)}[kInspect](e,n){if(typeof e=="number"&&e<0)return this;const s={type:this[kType],closed:this.closed,destroyed:this.destroyed,state:this.state,localSettings:this.localSettings,remoteSettings:this.remoteSettings};return`Http2Session ${format(s)}`}get socket(){const e=this[kProxySocket];return e===null?this[kProxySocket]=new Proxy(this,proxySocketHandler):e}get type(){return this[kType]}get goawayCode(){return this[kState].goawayCode||NGHTTP2_NO_ERROR}get goawayLastStreamID(){return this[kState].goawayLastStreamID||0}get pendingSettingsAck(){return this[kState].pendingAck>0}get state(){return this.connecting||this.destroyed?{}:getSessionState(this[kHandle])}get localSettings(){const e=this[kLocalSettings];return e!==void 0?e:this.destroyed||this.connecting?{}:this[kLocalSettings]=getSettings(this[kHandle],!1)}get remoteSettings(){if(this[kNativeFields][kBitfield]&1<<kSessionRemoteSettingsIsUpToDate){const e=this[kRemoteSettings];if(e!==void 0)return e}return this.destroyed||this.connecting?{}:(this[kNativeFields][kBitfield]|=1<<kSessionRemoteSettingsIsUpToDate,this[kRemoteSettings]=getSettings(this[kHandle],!0))}settings(e,n){if(this.destroyed)throw new ERR_HTTP2_INVALID_SESSION;assertIsObject(e,"settings"),validateSettings(e),n&&validateCallback(n),debugSessionObj(this,"sending settings"),this[kState].pendingAck++;const s=FunctionPrototypeBind(submitSettings,this,{...e},n);if(this.connecting){this.once("connect",s);return}s()}goaway(e=NGHTTP2_NO_ERROR,n=0,s){if(this.destroyed)throw new ERR_HTTP2_INVALID_SESSION;if(s!==void 0&&!isArrayBufferView(s))throw new ERR_INVALID_ARG_TYPE("opaqueData",["Buffer","TypedArray","DataView"],s);validateNumber(e,"code"),validateNumber(n,"lastStreamID");const i=FunctionPrototypeBind(submitGoaway,this,e,n,s);if(this.connecting){this.once("connect",i);return}i()}destroy(e=NGHTTP2_NO_ERROR,n){this.destroyed||(debugSessionObj(this,"destroying"),typeof e=="number"&&(n=e,e=n!==NGHTTP2_NO_ERROR?new ERR_HTTP2_SESSION_ERROR(n):void 0),n===void 0&&e!=null&&(n=NGHTTP2_INTERNAL_ERROR),closeSession(this,n,e))}close(e){this.closed||this.destroyed||(debugSessionObj(this,"marking session closed"),this[kState].flags|=SESSION_FLAGS_CLOSED,typeof e=="function"&&this.once("close",e),this.goaway(),this[kMaybeDestroy]())}[EventEmitter.captureRejectionSymbol](e,n,...s){switch(n){case"stream":s[0].destroy(e);break;default:this.destroy(e)}}[kMaybeDestroy](e){if(e==null){const n=this[kState];if(!this.closed||n.streams.size>0||n.pendingStreams.size>0)return}this.destroy(e)}_onTimeout(){callTimeout(this)}ref(){this[kSocket]&&this[kSocket].ref()}unref(){this[kSocket]&&this[kSocket].unref()}}class ServerHttp2Session extends Http2Session{constructor(e,n,s){super(NGHTTP2_SESSION_SERVER,e,n);this[kServer]=s,this[kNativeFields][kSessionPriorityListenerCount]=s.listenerCount("priority")}get server(){return this[kServer]}altsvc(e,n){if(this.destroyed)throw new ERR_HTTP2_INVALID_SESSION;let s=0,i;if(typeof n=="string"){if(i=new URL(n).origin,i==="null")throw new ERR_HTTP2_ALTSVC_INVALID_ORIGIN}else if(typeof n=="number"){if(n>>>0!==n||n===0)throw new ERR_OUT_OF_RANGE("originOrStream",`> 0 && < ${2**32}`,n);s=n}else if(n!==void 0){if(n!==null&&typeof n=="object"&&(i=n.origin),typeof i!="string")throw new ERR_INVALID_ARG_TYPE("originOrStream",["string","number","URL","object"],n);if(i==="null"||i.length===0)throw new ERR_HTTP2_ALTSVC_INVALID_ORIGIN}if(validateString(e,"alt"),!RegExpPrototypeTest(kQuotedString,e))throw new ERR_INVALID_CHAR("alt");if(e.length+(i!==void 0?i.length:0)>kMaxALTSVC)throw new ERR_HTTP2_ALTSVC_LENGTH;this[kHandle].altsvc(s,i||"",e)}origin(...e){if(this.destroyed)throw new ERR_HTTP2_INVALID_SESSION;if(e.length===0)return;let n="",s=0;const i=e.length;for(let r=0;r<i;r++){let o=e[r];if(typeof o=="string"?o=new URL(o).origin:o!=null&&typeof o=="object"&&(o=o.origin),validateString(o,"origin"),o==="null")throw new ERR_HTTP2_INVALID_ORIGIN;n+=`${o}\0`,s+=o.length}if(s>kMaxALTSVC)throw new ERR_HTTP2_ORIGIN_LENGTH;this[kHandle].origin(n,i)}}class ClientHttp2Session extends Http2Session{constructor(e,n){super(NGHTTP2_SESSION_CLIENT,e,n);this[kPendingRequestCalls]=null}request(e,n){if(debugSessionObj(this,"initiating request"),this.destroyed)throw new ERR_HTTP2_INVALID_SESSION;if(this.closed)throw new ERR_HTTP2_GOAWAY_SESSION;if(this[kUpdateTimer](),e!=null){const c=ObjectKeys(e);for(let f=0;f<c.length;f++){const d=c[f];d[0]===":"?assertValidPseudoHeader(d):d&&!checkIsHttpToken(d)&&this.destroy(new ERR_INVALID_HTTP_TOKEN("Header name",d))}}if(assertIsObject(e,"headers"),assertIsObject(n,"options"),e=ObjectAssign(ObjectCreate(null),e),n={...n},e[HTTP2_HEADER_METHOD]===void 0&&(e[HTTP2_HEADER_METHOD]=HTTP2_METHOD_GET),!(e[HTTP2_HEADER_METHOD]===HTTP2_METHOD_CONNECT)||e[HTTP2_HEADER_PROTOCOL]!==void 0)getAuthority(e)===void 0&&(e[HTTP2_HEADER_AUTHORITY]=this[kAuthority]),e[HTTP2_HEADER_SCHEME]===void 0&&(e[HTTP2_HEADER_SCHEME]=StringPrototypeSlice(this[kProtocol],0,-1)),e[HTTP2_HEADER_PATH]===void 0&&(e[HTTP2_HEADER_PATH]="/");else{if(e[HTTP2_HEADER_AUTHORITY]===void 0)throw new ERR_HTTP2_CONNECT_AUTHORITY;if(e[HTTP2_HEADER_SCHEME]!==void 0)throw new ERR_HTTP2_CONNECT_SCHEME;if(e[HTTP2_HEADER_PATH]!==void 0)throw new ERR_HTTP2_CONNECT_PATH}if(setAndValidatePriorityOptions(n),n.endStream===void 0)n.endStream=isPayloadMeaningless(e[HTTP2_HEADER_METHOD]);else if(typeof n.endStream!="boolean")throw new ERR_INVALID_ARG_VALUE("options.endStream",n.endStream);const i=mapToHeaders(e),r=new ClientHttp2Stream(this,void 0,void 0,{});r[kSentHeaders]=e,r[kOrigin]=`${e[HTTP2_HEADER_SCHEME]}://${getAuthority(e)}`,n.endStream&&r.end(),n.waitForTrailers&&(r[kState].flags|=STREAM_FLAGS_HAS_TRAILERS);const{signal:o}=n;if(o){validateAbortSignal(o,"options.signal");const c=()=>r.destroy(new AbortError);o.aborted?c():(o.addEventListener("abort",c),r.once("close",()=>{o.removeEventListener("abort",c)}))}const a=FunctionPrototypeBind(requestOnConnect,r,i,n);return this.connecting?this[kPendingRequestCalls]!==null?ArrayPrototypePush(this[kPendingRequestCalls],a):(this[kPendingRequestCalls]=[a],this.once("connect",()=>{ArrayPrototypeForEach(this[kPendingRequestCalls],c=>c()),this[kPendingRequestCalls]=null})):a(),r}}function trackWriteState(t,e){const n=t[kSession];t[kState].writeQueueSize+=e,n[kState].writeQueueSize+=e,n[kHandle].chunksSentSinceLastWrite=0}function streamOnResume(){this.destroyed||this[kHandle].readStart()}function streamOnPause(){!this.destroyed&&!this.pending&&this[kHandle].readStop()}function afterShutdown(t){const e=this.handle[kOwner];e&&e.on("finish",()=>{e[kMaybeDestroy]()}),this.callback()}function shutdownWritable(t){const e=this[kHandle];if(!e)return t();const n=this[kState];if(n.shutdownWritableCalled)return debugStreamObj(this,"shutdownWritable() already called"),t();n.shutdownWritableCalled=!0;const s=new ShutdownWrap;if(s.oncomplete=afterShutdown,s.callback=t,s.handle=e,e.shutdown(s)===1)return ReflectApply(afterShutdown,s,[0])}function finishSendTrailers(t,e){if(t.destroyed)return;t[kState].flags&=~STREAM_FLAGS_HAS_TRAILERS;const n=t[kHandle].trailers(e);n<0?t.destroy(new NghttpError(n)):t[kMaybeDestroy]()}const kNoRstStream=0,kSubmitRstStream=1,kForceRstStream=2;function closeStream(t,e,n=kSubmitRstStream){const s=t[kState];s.flags|=STREAM_FLAGS_CLOSED,s.rstCode=e,t.setTimeout(0),t.removeAllListeners("timeout");const{ending:i}=t._writableState;if(i||(t.aborted||(s.flags|=STREAM_FLAGS_ABORTED,t.emit("aborted")),t.end()),n!==kNoRstStream){const r=FunctionPrototypeBind(finishCloseStream,t,e);!i||t.writableFinished||e!==NGHTTP2_NO_ERROR||n===kForceRstStream?r():t.once("finish",r)}}function finishCloseStream(t){const e=FunctionPrototypeBind(submitRstStream,this,t);if(this.pending){this.push(null),this.once("ready",e);return}e()}class Http2Stream extends Duplex{constructor(e,n){n.allowHalfOpen=!0,n.decodeStrings=!1,n.autoDestroy=!1;super(n);this[async_id_symbol]=-1,this.cork(),this[kSession]=e,e[kState].pendingStreams.add(this),this._readableState.readingMore=!0,this[kTimeout]=null,this[kState]={didRead:!1,flags:STREAM_FLAGS_PENDING,rstCode:NGHTTP2_NO_ERROR,writeQueueSize:0,trailersReady:!1,endAfterHeaders:!1},this[kRequest]=null,this[kProxySocket]=null,this.on("pause",streamOnPause),this.on("newListener",streamListenerAdded),this.on("removeListener",streamListenerRemoved)}[kUpdateTimer](){this.destroyed||(this[kTimeout]&&this[kTimeout].refresh(),this[kSession]&&this[kSession][kUpdateTimer]())}[kInit](e,n){const s=this[kState];s.flags|=STREAM_FLAGS_READY;const i=this[kSession];i[kState].pendingStreams.delete(this),i[kState].streams.set(e,this),this[kID]=e,this[async_id_symbol]=n.getAsyncId(),n[kOwner]=this,this[kHandle]=n,n.onread=onStreamRead,this.uncork(),this.emit("ready")}[kInspect](e,n){if(typeof e=="number"&&e<0)return this;const s={id:this[kID]||"<pending>",closed:this.closed,destroyed:this.destroyed,state:this.state,readableState:this._readableState,writableState:this._writableState};return`Http2Stream ${format(s)}`}get bufferSize(){return this[kState].writeQueueSize+this.writableLength}get endAfterHeaders(){return this[kState].endAfterHeaders}get sentHeaders(){return this[kSentHeaders]}get sentTrailers(){return this[kSentTrailers]}get sentInfoHeaders(){return this[kInfoHeaders]}get pending(){return this[kID]===void 0}get id(){return this[kID]}get session(){return this[kSession]}_onTimeout(){callTimeout(this,kSession)}get headersSent(){return!!(this[kState].flags&STREAM_FLAGS_HEADERS_SENT)}get aborted(){return!!(this[kState].flags&STREAM_FLAGS_ABORTED)}get headRequest(){return!!(this[kState].flags&STREAM_FLAGS_HEAD_REQUEST)}get rstCode(){return this[kState].rstCode}get state(){const e=this[kID];return this.destroyed||e===void 0?{}:getStreamState(this[kHandle],e)}[kProceed](){assert.fail("Implementors MUST implement this. Please report this as a bug in Node.js")}[kAfterAsyncWrite]({bytes:e}){this[kState].writeQueueSize-=e,this.session!==void 0&&(this.session[kState].writeQueueSize-=e)}[kWriteGeneric](e,n,s,i){if(this.pending){this.once("ready",FunctionPrototypeBind(this[kWriteGeneric],this,e,n,s,i));return}if(this.destroyed)return;this[kUpdateTimer](),this.headersSent||this[kProceed]();let r,o=!0,a=!0,c,f;const d=()=>{if(a||o)return;const h=aggregateTwoErrors(f,c);h&&this.destroy(h),i(h)},u=h=>{o=!1,c=h,d()},l=h=>{a=!1,f=h,d()};process.nextTick(()=>{if(c||!this._writableState.ending||this._writableState.buffered.length||this[kState].flags&STREAM_FLAGS_HAS_TRAILERS)return l();debugStreamObj(this,"shutting down writable on last write"),shutdownWritable.call(this,l)}),e?r=writevGeneric(this,n,u):r=writeGeneric(this,n,s,u),trackWriteState(this,r.bytes)}_write(e,n,s){this[kWriteGeneric](!1,e,n,s)}_writev(e,n){this[kWriteGeneric](!0,e,"",n)}_final(e){if(this.pending){this.once("ready",()=>this._final(e));return}debugStreamObj(this,"shutting down writable on _final"),ReflectApply(shutdownWritable,this,[e])}_read(e){if(this.destroyed){this.push(null);return}this[kState].didRead||(this._readableState.readingMore=!1,this[kState].didRead=!0),this.pending?this.once("ready",streamOnResume):FunctionPrototypeCall(streamOnResume,this)}priority(e){if(this.destroyed)throw new ERR_HTTP2_INVALID_STREAM;assertIsObject(e,"options"),e={...e},setAndValidatePriorityOptions(e);const n=FunctionPrototypeBind(submitPriority,this,e);if(this.pending){this.once("ready",n);return}n()}sendTrailers(e){if(this.destroyed||this.closed)throw new ERR_HTTP2_INVALID_STREAM;if(this[kSentTrailers])throw new ERR_HTTP2_TRAILERS_ALREADY_SENT;if(!this[kState].trailersReady)throw new ERR_HTTP2_TRAILERS_NOT_READY;assertIsObject(e,"headers"),e=ObjectAssign(ObjectCreate(null),e),debugStreamObj(this,"sending trailers"),this[kUpdateTimer]();const n=mapToHeaders(e,assertValidPseudoHeaderTrailer);this[kSentTrailers]=e,setImmediate(finishSendTrailers,this,n)}get closed(){return!!(this[kState].flags&STREAM_FLAGS_CLOSED)}close(e=NGHTTP2_NO_ERROR,n){validateInteger(e,"code",0,kMaxInt),n!==void 0&&validateCallback(n),!this.closed&&(n!==void 0&&this.once("close",n),closeStream(this,e))}_destroy(e,n){const s=this[kSession],i=this[kHandle],r=this[kID];debugStream(this[kID]||"pending",s[kType],"destroying stream");const o=this[kState],a=s[kState],c=a.goawayCode||a.destroyCode,f=e!=null?c||NGHTTP2_INTERNAL_ERROR:this.closed?this.rstCode:c,d=i!==void 0;this.closed||closeStream(this,f,d?kForceRstStream:kNoRstStream),this.push(null),d?(i.destroy(),a.streams.delete(r)):a.pendingStreams.delete(this),a.writeQueueSize-=o.writeQueueSize,o.writeQueueSize=0,e==null&&f!==NGHTTP2_NO_ERROR&&f!==NGHTTP2_CANCEL&&(e=new ERR_HTTP2_STREAM_ERROR(nameForErrorCode[f]||f)),this[kSession]=void 0,this[kHandle]=void 0,s[kMaybeDestroy](),n(e)}[kMaybeDestroy](e=NGHTTP2_NO_ERROR){if(e!==NGHTTP2_NO_ERROR){this.destroy();return}if(this.writableFinished){if(!this.readable&&this.closed){this.destroy();return}const n=this[kState];this.headersSent&&this[kSession]&&this[kSession][kType]===NGHTTP2_SESSION_SERVER&&!(n.flags&STREAM_FLAGS_HAS_TRAILERS)&&!n.didRead&&this.readableFlowing===null&&setImmediate(callStreamClose,this)}}}function callTimeout(t,e){if(!t.destroyed){if(t[kState].writeQueueSize>0){const n=e?t[e][kHandle]:t[kHandle],s=n!==void 0?n.chunksSentSinceLastWrite:null;if(s!==null&&s!==n.updateChunksSent()){t[kUpdateTimer]();return}}t.emit("timeout")}}function callStreamClose(t){t.close()}function processHeaders(t,e){assertIsObject(t,"headers");const n=ObjectCreate(null);if(t!=null){for(const r in t)ObjectPrototypeHasOwnProperty(t,r)&&(n[r]=t[r]);n[kSensitiveHeaders]=t[kSensitiveHeaders]}const s=n[HTTP2_HEADER_STATUS]=n[HTTP2_HEADER_STATUS]|0||HTTP_STATUS_OK;if((e.sendDate==null||e.sendDate)&&(n[HTTP2_HEADER_DATE]===null||n[HTTP2_HEADER_DATE]===void 0)&&(n[HTTP2_HEADER_DATE]=utcDate()),s<200||s>599)throw new ERR_HTTP2_STATUS_INVALID(n[HTTP2_HEADER_STATUS]);const i=n[kSensitiveHeaders];if(i!==void 0&&!ArrayIsArray(i))throw new ERR_INVALID_ARG_VALUE("headers[http2.neverIndex]",i);return n}function onFileUnpipe(){const t=this.sink[kOwner];t.ownsFd?PromisePrototypeCatch(this.source.close(),FunctionPrototypeBind(t.destroy,t)):this.source.releaseFD()}function onPipedFileHandleRead(){const t=streamBaseState[kReadBytesOrError];t<0&&t!==UV_EOF&&this.stream.close(NGHTTP2_INTERNAL_ERROR)}function processRespondWithFD(t,e,n,s=0,i=-1,r=0){const o=t[kState];o.flags|=STREAM_FLAGS_HEADERS_SENT;let a;try{a=mapToHeaders(n,assertValidPseudoHeaderResponse)}catch(f){t.destroy(f);return}t[kSentHeaders]=n,t._final=null,t.end();const c=t[kHandle].respond(a,r);if(c<0){t.destroy(new NghttpError(c));return}defaultTriggerAsyncIdScope(t[async_id_symbol],startFilePipe,t,e,s,i)}function startFilePipe(t,e,n,s){const i=new FileHandle(e,n,s);i.onread=onPipedFileHandleRead,i.stream=t;const r=new StreamPipe(i,t[kHandle]);r.onunpipe=onFileUnpipe,r.start(),trackWriteState(t,1)}function doSendFD(t,e,n,s,i,r,o){if(r){this.destroy(r);return}if(this.destroyed||this.closed){this.destroy(new ERR_HTTP2_INVALID_STREAM);return}const a={offset:e.offset!==void 0?e.offset:0,length:e.length!==void 0?e.length:-1};typeof e.statCheck=="function"&&ReflectApply(e.statCheck,this,[o,s,a])===!1||this[kState].flags&STREAM_FLAGS_HEADERS_SENT||processRespondWithFD(this,n,s,a.offset|0,a.length|0,i)}function doSendFileFD(t,e,n,s,i,r,o){const a=e.onError;if(r){tryClose(n),a?a(r):this.destroy(r);return}if(!o.isFile()){const f=o.isDirectory();if(e.offset!==void 0||e.offset>0||e.length!==void 0||e.length>=0||f){const d=f?new ERR_HTTP2_SEND_FILE:new ERR_HTTP2_SEND_FILE_NOSEEK;tryClose(n),a?a(d):this.destroy(d);return}e.offset=-1,e.length=-1}if(this.destroyed||this.closed){tryClose(n),this.destroy(new ERR_HTTP2_INVALID_STREAM);return}const c={offset:e.offset!==void 0?e.offset:0,length:e.length!==void 0?e.length:-1};if(typeof e.statCheck=="function"&&ReflectApply(e.statCheck,this,[o,s])===!1||this[kState].flags&STREAM_FLAGS_HEADERS_SENT){tryClose(n);return}o.isFile()&&(c.length=c.length<0?o.size-+c.offset:MathMin(o.size-+c.offset,c.length),s[HTTP2_HEADER_CONTENT_LENGTH]=c.length),processRespondWithFD(this,n,s,e.offset|0,c.length|0,i)}function afterOpen(t,e,n,s,i,r){const o=this[kState],a=e.onError;if(i){a?a(i):this.destroy(i);return}if(this.destroyed||this.closed){tryClose(r);return}o.fd=r,fs.fstat(r,FunctionPrototypeBind(doSendFileFD,this,t,e,r,n,s))}class ServerHttp2Stream extends Http2Stream{constructor(e,n,s,i,r){super(e,i);n.owner=this,this[kInit](s,n),this[kProtocol]=r[HTTP2_HEADER_SCHEME],this[kAuthority]=getAuthority(r)}get pushAllowed(){return!this.destroyed&&!this.closed&&!this.session.closed&&!this.session.destroyed&&this[kSession].remoteSettings.enablePush}pushStream(e,n,s){if(!this.pushAllowed)throw new ERR_HTTP2_PUSH_DISABLED;if(this[kID]%2==0)throw new ERR_HTTP2_NESTED_PUSH;const i=this[kSession];debugStreamObj(this,"initiating push stream"),this[kUpdateTimer](),typeof n=="function"&&(s=n,n=void 0),validateCallback(s),assertIsObject(n,"options"),n={...n},n.endStream=!!n.endStream,assertIsObject(e,"headers"),e=ObjectAssign(ObjectCreate(null),e),e[HTTP2_HEADER_METHOD]===void 0&&(e[HTTP2_HEADER_METHOD]=HTTP2_METHOD_GET),getAuthority(e)===void 0&&(e[HTTP2_HEADER_AUTHORITY]=this[kAuthority]),e[HTTP2_HEADER_SCHEME]===void 0&&(e[HTTP2_HEADER_SCHEME]=this[kProtocol]),e[HTTP2_HEADER_PATH]===void 0&&(e[HTTP2_HEADER_PATH]="/");let r=!1;e[HTTP2_HEADER_METHOD]===HTTP2_METHOD_HEAD&&(r=n.endStream=!0);const o=mapToHeaders(e),a=n.endStream?STREAM_OPTION_EMPTY_PAYLOAD:0,c=this[kHandle].pushPromise(o,a);let f;if(typeof c=="number"){switch(c){case NGHTTP2_ERR_STREAM_ID_NOT_AVAILABLE:f=new ERR_HTTP2_OUT_OF_STREAMS;break;case NGHTTP2_ERR_STREAM_CLOSED:f=new ERR_HTTP2_INVALID_STREAM;break;default:f=new NghttpError(c);break}process.nextTick(s,f);return}const d=c.id(),u=new ServerHttp2Stream(i,c,d,n,e);u[kSentHeaders]=e,u.push(null),n.endStream&&u.end(),r&&(u[kState].flags|=STREAM_FLAGS_HEAD_REQUEST),process.nextTick(s,null,u,e,0)}respond(e,n){if(this.destroyed||this.closed)throw new ERR_HTTP2_INVALID_STREAM;if(this.headersSent)throw new ERR_HTTP2_HEADERS_SENT;const s=this[kState];assertIsObject(n,"options"),n={...n},debugStreamObj(this,"initiating response"),this[kUpdateTimer](),n.endStream=!!n.endStream;let i=0;n.endStream&&(i|=STREAM_OPTION_EMPTY_PAYLOAD),n.waitForTrailers&&(i|=STREAM_OPTION_GET_TRAILERS,s.flags|=STREAM_FLAGS_HAS_TRAILERS),e=processHeaders(e,n);const r=mapToHeaders(e,assertValidPseudoHeaderResponse);this[kSentHeaders]=e,s.flags|=STREAM_FLAGS_HEADERS_SENT;const o=e[HTTP2_HEADER_STATUS]|0;(!!n.endStream||o===HTTP_STATUS_NO_CONTENT||o===HTTP_STATUS_RESET_CONTENT||o===HTTP_STATUS_NOT_MODIFIED||this.headRequest===!0)&&(n.endStream=!0,this.end());const a=this[kHandle].respond(r,i);a<0&&this.destroy(new NghttpError(a))}respondWithFD(e,n,s){if(this.destroyed||this.closed)throw new ERR_HTTP2_INVALID_STREAM;if(this.headersSent)throw new ERR_HTTP2_HEADERS_SENT;const i=this[kSession];if(assertIsObject(s,"options"),s={...s},s.offset!==void 0&&typeof s.offset!="number")throw new ERR_INVALID_ARG_VALUE("options.offset",s.offset);if(s.length!==void 0&&typeof s.length!="number")throw new ERR_INVALID_ARG_VALUE("options.length",s.length);if(s.statCheck!==void 0&&typeof s.statCheck!="function")throw new ERR_INVALID_ARG_VALUE("options.statCheck",s.statCheck);let r=0;if(s.waitForTrailers&&(r|=STREAM_OPTION_GET_TRAILERS,this[kState].flags|=STREAM_FLAGS_HAS_TRAILERS),e instanceof fsPromisesInternal.FileHandle)e=e.fd;else if(typeof e!="number")throw new ERR_INVALID_ARG_TYPE("fd",["number","FileHandle"],e);debugStreamObj(this,"initiating response from fd"),this[kUpdateTimer](),this.ownsFd=!1,n=processHeaders(n,s);const o=n[HTTP2_HEADER_STATUS]|=0;if(o===HTTP_STATUS_NO_CONTENT||o===HTTP_STATUS_RESET_CONTENT||o===HTTP_STATUS_NOT_MODIFIED||this.headRequest)throw new ERR_HTTP2_PAYLOAD_FORBIDDEN(o);if(s.statCheck!==void 0){fs.fstat(e,FunctionPrototypeBind(doSendFD,this,i,s,e,n,r));return}processRespondWithFD(this,e,n,s.offset,s.length,r)}respondWithFile(e,n,s){if(this.destroyed||this.closed)throw new ERR_HTTP2_INVALID_STREAM;if(this.headersSent)throw new ERR_HTTP2_HEADERS_SENT;if(assertIsObject(s,"options"),s={...s},s.offset!==void 0&&typeof s.offset!="number")throw new ERR_INVALID_ARG_VALUE("options.offset",s.offset);if(s.length!==void 0&&typeof s.length!="number")throw new ERR_INVALID_ARG_VALUE("options.length",s.length);if(s.statCheck!==void 0&&typeof s.statCheck!="function")throw new ERR_INVALID_ARG_VALUE("options.statCheck",s.statCheck);let i=0;s.waitForTrailers&&(i|=STREAM_OPTION_GET_TRAILERS,this[kState].flags|=STREAM_FLAGS_HAS_TRAILERS);const r=this[kSession];debugStreamObj(this,"initiating response from file"),this[kUpdateTimer](),this.ownsFd=!0,n=processHeaders(n,s);const o=n[HTTP2_HEADER_STATUS]|=0;if(o===HTTP_STATUS_NO_CONTENT||o===HTTP_STATUS_RESET_CONTENT||o===HTTP_STATUS_NOT_MODIFIED||this.headRequest)throw new ERR_HTTP2_PAYLOAD_FORBIDDEN(o);fs.open(e,"r",FunctionPrototypeBind(afterOpen,this,r,s,n,i))}additionalHeaders(e){if(this.destroyed||this.closed)throw new ERR_HTTP2_INVALID_STREAM;if(this.headersSent)throw new ERR_HTTP2_HEADERS_AFTER_RESPOND;if(assertIsObject(e,"headers"),e=ObjectAssign(ObjectCreate(null),e),debugStreamObj(this,"sending additional headers"),e[HTTP2_HEADER_STATUS]!=null){const i=e[HTTP2_HEADER_STATUS]|=0;if(i===HTTP_STATUS_SWITCHING_PROTOCOLS)throw new ERR_HTTP2_STATUS_101;if(i<100||i>=200)throw new ERR_HTTP2_INVALID_INFO_STATUS(e[HTTP2_HEADER_STATUS])}this[kUpdateTimer]();const n=mapToHeaders(e,assertValidPseudoHeaderResponse);this[kInfoHeaders]?ArrayPrototypePush(this[kInfoHeaders],e):this[kInfoHeaders]=[e];const s=this[kHandle].info(n);s<0&&this.destroy(new NghttpError(s))}}ServerHttp2Stream.prototype[kProceed]=ServerHttp2Stream.prototype.respond;class ClientHttp2Stream extends Http2Stream{constructor(e,n,s,i){super(e,i);this[kState].flags|=STREAM_FLAGS_HEADERS_SENT,s!==void 0&&this[kInit](s,n),this.on("headers",handleHeaderContinue)}}function handleHeaderContinue(t){t[HTTP2_HEADER_STATUS]===HTTP_STATUS_CONTINUE&&this.emit("continue")}const setTimeoutValue={configurable:!0,enumerable:!0,writable:!0,value:setStreamTimeout};ObjectDefineProperty(Http2Stream.prototype,"setTimeout",setTimeoutValue),ObjectDefineProperty(Http2Session.prototype,"setTimeout",setTimeoutValue);function socketOnError(t){const e=this[kSession];if(e!==void 0){if(t.code==="ECONNRESET"&&e[kState].goawayCode!==null)return e.destroy();debugSessionObj(this,"socket error [%s]",t.message),e.destroy(t)}}function sessionOnStream(t,e,n,s){this[kServer]!==void 0&&this[kServer].emit("stream",t,e,n,s)}function sessionOnPriority(t,e,n,s){this[kServer]!==void 0&&this[kServer].emit("priority",t,e,n,s)}function sessionOnError(t){this[kServer]!==void 0&&this[kServer].emit("sessionError",t,this)}function sessionOnTimeout(){if(this.destroyed||this.closed)return;this[kServer].emit("timeout",this)||this.destroy()}function connectionListener(t){debug("Http2Session server: received a connection");const e=this[kOptions]||{};if(t.alpnProtocol===!1||t.alpnProtocol==="http/1.1"){if(e.allowHTTP1===!0)return t.server[kIncomingMessage]=e.Http1IncomingMessage,t.server[kServerResponse]=e.Http1ServerResponse,FunctionPrototypeCall(httpConnectionListener,this,t);if(debug("Unknown protocol from %s:%s",t.remoteAddress,t.remotePort),!this.emit("unknownProtocol",t)){debug("Unknown protocol timeout:  %s",e.unknownProtocolTimeout);const s=setTimeout(()=>{t.destroyed||(debug("UnknownProtocol socket timeout, destroy socket"),t.destroy())},e.unknownProtocolTimeout);s.unref(),t.once("close",()=>clearTimeout(s)),t.end("HTTP/1.0 403 Forbidden\r\nContent-Type: text/plain\r\n\r\nUnknown ALPN Protocol, expected `h2` to be available.\nIf this is a HTTP request: The server was not configured with the `allowHTTP1` option or a listener for the `unknownProtocol` event.\n")}return}const n=new ServerHttp2Session(e,t,this);n.on("stream",sessionOnStream),n.on("error",sessionOnError),n.on("priority",sessionOnPriority),n[kNativeFields][kSessionPriorityListenerCount]--,this.timeout&&n.setTimeout(this.timeout,sessionOnTimeout),t[kServer]=this,this.emit("session",n)}function initializeOptions(t){return assertIsObject(t,"options"),t={...t},assertIsObject(t.settings,"options.settings"),t.settings={...t.settings},t.maxSessionInvalidFrames!==void 0&&validateUint32(t.maxSessionInvalidFrames,"maxSessionInvalidFrames"),t.maxSessionRejectedStreams!==void 0&&validateUint32(t.maxSessionRejectedStreams,"maxSessionRejectedStreams"),t.unknownProtocolTimeout!==void 0?validateUint32(t.unknownProtocolTimeout,"unknownProtocolTimeout"):t.unknownProtocolTimeout=1e4,t.Http1IncomingMessage=t.Http1IncomingMessage||http.IncomingMessage,t.Http1ServerResponse=t.Http1ServerResponse||http.ServerResponse,t.Http2ServerRequest=t.Http2ServerRequest||Http2ServerRequest,t.Http2ServerResponse=t.Http2ServerResponse||Http2ServerResponse,t}function initializeTLSOptions(t,e){return t=initializeOptions(t),t.ALPNProtocols=["h2"],t.allowHTTP1===!0&&ArrayPrototypePush(t.ALPNProtocols,"http/1.1"),e!==void 0&&t.servername===void 0&&(t.servername=e),t}function onErrorSecureServerSession(t,e){this.emit("clientError",t,e)||e.destroy(t)}class Http2SecureServer extends TLSServer{constructor(e,n){e=initializeTLSOptions(e);super(e,connectionListener);this[kOptions]=e,this.timeout=0,this.on("newListener",setupCompat),typeof n=="function"&&this.on("request",n),this.on("tlsClientError",onErrorSecureServerSession)}setTimeout(e,n){return this.timeout=e,n!==void 0&&(validateCallback(n),this.on("timeout",n)),this}updateSettings(e){assertIsObject(e,"settings"),validateSettings(e),this[kOptions].settings={...this[kOptions].settings,...e}}}class Http2Server extends NETServer{constructor(e,n){e=initializeOptions(e);super(e,connectionListener);this[kOptions]=e,this.timeout=0,this.on("newListener",setupCompat),typeof n=="function"&&this.on("request",n)}setTimeout(e,n){return this.timeout=e,n!==void 0&&(validateCallback(n),this.on("timeout",n)),this}updateSettings(e){assertIsObject(e,"settings"),validateSettings(e),this[kOptions].settings={...this[kOptions].settings,...e}}}Http2Server.prototype[EventEmitter.captureRejectionSymbol]=function(t,e,...n){switch(e){case"stream":const{0:s}=n;s.sentHeaders?s.destroy(t):(s.respond({[HTTP2_HEADER_STATUS]:500}),s.end());break;case"request":const{1:i}=n;if(!i.headersSent&&!i.finished){for(const r of i.getHeaderNames())i.removeHeader(r);i.statusCode=500,i.end(http.STATUS_CODES[500])}else i.destroy();break;default:ArrayPrototypeUnshift(n,t,e),ReflectApply(net.Server.prototype[EventEmitter.captureRejectionSymbol],this,n)}};function setupCompat(t){t==="request"&&(this.removeListener("newListener",setupCompat),this.on("stream",FunctionPrototypeBind(onServerStream,this,this[kOptions].Http2ServerRequest,this[kOptions].Http2ServerResponse)))}function socketOnClose(){const t=this[kSession];if(t!==void 0){debugSessionObj(t,"socket closed");const e=t.connecting?new ERR_SOCKET_CLOSED:null,n=t[kState];n.streams.forEach(s=>s.close(NGHTTP2_CANCEL)),n.pendingStreams.forEach(s=>s.close(NGHTTP2_CANCEL)),t.close(),t[kMaybeDestroy](e)}}function connect(t,e,n){typeof e=="function"&&(n=e,e=void 0),assertIsObject(e,"options"),e={...e},typeof t=="string"&&(t=new URL(t)),assertIsObject(t,"authority",["string","Object","URL"]);const s=t.protocol||e.protocol||"https:",i=""+(t.port!==""?t.port:t.protocol==="http:"?80:443);let r="localhost";t.hostname?(r=t.hostname,r[0]==="["&&(r=StringPrototypeSlice(r,1,-1))):t.host&&(r=t.host);let o;if(typeof e.createConnection=="function")o=e.createConnection(t,e);else switch(s){case"http:":o=net.connect({port:i,host:r,...e});break;case"https:":o=tls.connect(i,r,initializeTLSOptions(e,r));break;default:throw new ERR_HTTP2_UNSUPPORTED_PROTOCOL(s)}const a=new ClientHttp2Session(e,o);return a[kAuthority]=`${e.servername||r}:${i}`,a[kProtocol]=s,typeof n=="function"&&a.once("connect",n),process.nextTick(()=>{if(debug("Http2Session connect",e.createConnection),o&&o.readableLength){let c;for(;(c=o.read())!==null;)debug(`Http2Session connect: ${c.length} bytes already in buffer`),a[kHandle].receive(c)}}),a}ObjectDefineProperty(connect,promisify.custom,{value:(t,e)=>new Promise(n=>{const s=connect(t,e,()=>n(s))})});function createSecureServer(t,e){return new Http2SecureServer(t,e)}function createServer(t,e){return typeof t=="function"&&(e=t,t={}),new Http2Server(t,e)}function getPackedSettings(t){return assertIsObject(t,"settings"),validateSettings(t),updateSettingsBuffer({...t}),binding.packSettings()}function getUnpackedSettings(t,e={}){if(!isArrayBufferView(t)||t.length===void 0)throw new ERR_INVALID_ARG_TYPE("buf",["Buffer","TypedArray"],t);if(t.length%6!=0)throw new ERR_HTTP2_INVALID_PACKED_SETTINGS_LENGTH;const n={};let s=0;for(;s<t.length;){const i=ReflectApply(readUInt16BE,t,[s]);s+=2;const r=ReflectApply(readUInt32BE,t,[s]);switch(i){case NGHTTP2_SETTINGS_HEADER_TABLE_SIZE:n.headerTableSize=r;break;case NGHTTP2_SETTINGS_ENABLE_PUSH:n.enablePush=r!==0;break;case NGHTTP2_SETTINGS_MAX_CONCURRENT_STREAMS:n.maxConcurrentStreams=r;break;case NGHTTP2_SETTINGS_INITIAL_WINDOW_SIZE:n.initialWindowSize=r;break;case NGHTTP2_SETTINGS_MAX_FRAME_SIZE:n.maxFrameSize=r;break;case NGHTTP2_SETTINGS_MAX_HEADER_LIST_SIZE:n.maxHeaderListSize=n.maxHeaderSize=r;break;case NGHTTP2_SETTINGS_ENABLE_CONNECT_PROTOCOL:n.enableConnectProtocol=r!==0}s+=4}return e!=null&&e.validate&&validateSettings(n),n}binding.setCallbackFunctions(onSessionInternalError,onPriority,onSettings,onPing,onSessionHeaders,onFrameError,onGoawayData,onAltSvc,onOrigin,onStreamTrailers,onStreamClose),module.exports={connect,constants,createServer,createSecureServer,getDefaultSettings,getPackedSettings,getUnpackedSettings,sensitiveHeaders:kSensitiveHeaders,Http2Session,Http2Stream,Http2ServerRequest,Http2ServerResponse};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,ArrayPrototypeIncludes,ArrayPrototypeMap,ArrayPrototypePush,Error,MathMax,Number,ObjectCreate,ObjectDefineProperty,ObjectKeys,SafeSet,String,StringFromCharCode,StringPrototypeIncludes,StringPrototypeToLowerCase,Symbol}=primordials,binding=internalBinding("http2"),{codes:{ERR_HTTP2_HEADER_SINGLE_VALUE,ERR_HTTP2_INVALID_CONNECTION_HEADERS,ERR_HTTP2_INVALID_PSEUDOHEADER,ERR_HTTP2_INVALID_SETTING_VALUE,ERR_INVALID_ARG_TYPE,ERR_INVALID_HTTP_TOKEN},captureLargerStackTrace,getMessage,hideStackFrames,kIsNodeError}=require("internal/errors"),kSensitiveHeaders=Symbol("nodejs.http2.sensitiveHeaders"),kSocket=Symbol("socket"),kProxySocket=Symbol("proxySocket"),kRequest=Symbol("request"),{NGHTTP2_NV_FLAG_NONE,NGHTTP2_NV_FLAG_NO_INDEX,NGHTTP2_SESSION_CLIENT,NGHTTP2_SESSION_SERVER,HTTP2_HEADER_STATUS,HTTP2_HEADER_METHOD,HTTP2_HEADER_AUTHORITY,HTTP2_HEADER_SCHEME,HTTP2_HEADER_PATH,HTTP2_HEADER_PROTOCOL,HTTP2_HEADER_ACCESS_CONTROL_ALLOW_CREDENTIALS,HTTP2_HEADER_ACCESS_CONTROL_MAX_AGE,HTTP2_HEADER_ACCESS_CONTROL_REQUEST_METHOD,HTTP2_HEADER_AGE,HTTP2_HEADER_AUTHORIZATION,HTTP2_HEADER_CONTENT_ENCODING,HTTP2_HEADER_CONTENT_LANGUAGE,HTTP2_HEADER_CONTENT_LENGTH,HTTP2_HEADER_CONTENT_LOCATION,HTTP2_HEADER_CONTENT_MD5,HTTP2_HEADER_CONTENT_RANGE,HTTP2_HEADER_CONTENT_TYPE,HTTP2_HEADER_COOKIE,HTTP2_HEADER_DATE,HTTP2_HEADER_DNT,HTTP2_HEADER_ETAG,HTTP2_HEADER_EXPIRES,HTTP2_HEADER_FROM,HTTP2_HEADER_HOST,HTTP2_HEADER_IF_MATCH,HTTP2_HEADER_IF_NONE_MATCH,HTTP2_HEADER_IF_MODIFIED_SINCE,HTTP2_HEADER_IF_RANGE,HTTP2_HEADER_IF_UNMODIFIED_SINCE,HTTP2_HEADER_LAST_MODIFIED,HTTP2_HEADER_LOCATION,HTTP2_HEADER_MAX_FORWARDS,HTTP2_HEADER_PROXY_AUTHORIZATION,HTTP2_HEADER_RANGE,HTTP2_HEADER_REFERER,HTTP2_HEADER_RETRY_AFTER,HTTP2_HEADER_SET_COOKIE,HTTP2_HEADER_TK,HTTP2_HEADER_UPGRADE_INSECURE_REQUESTS,HTTP2_HEADER_USER_AGENT,HTTP2_HEADER_X_CONTENT_TYPE_OPTIONS,HTTP2_HEADER_CONNECTION,HTTP2_HEADER_UPGRADE,HTTP2_HEADER_HTTP2_SETTINGS,HTTP2_HEADER_TE,HTTP2_HEADER_TRANSFER_ENCODING,HTTP2_HEADER_KEEP_ALIVE,HTTP2_HEADER_PROXY_CONNECTION,HTTP2_METHOD_DELETE,HTTP2_METHOD_GET,HTTP2_METHOD_HEAD}=binding.constants,kValidPseudoHeaders=new SafeSet([HTTP2_HEADER_STATUS,HTTP2_HEADER_METHOD,HTTP2_HEADER_AUTHORITY,HTTP2_HEADER_SCHEME,HTTP2_HEADER_PATH,HTTP2_HEADER_PROTOCOL]),kSingleValueHeaders=new SafeSet([HTTP2_HEADER_STATUS,HTTP2_HEADER_METHOD,HTTP2_HEADER_AUTHORITY,HTTP2_HEADER_SCHEME,HTTP2_HEADER_PATH,HTTP2_HEADER_PROTOCOL,HTTP2_HEADER_ACCESS_CONTROL_ALLOW_CREDENTIALS,HTTP2_HEADER_ACCESS_CONTROL_MAX_AGE,HTTP2_HEADER_ACCESS_CONTROL_REQUEST_METHOD,HTTP2_HEADER_AGE,HTTP2_HEADER_AUTHORIZATION,HTTP2_HEADER_CONTENT_ENCODING,HTTP2_HEADER_CONTENT_LANGUAGE,HTTP2_HEADER_CONTENT_LENGTH,HTTP2_HEADER_CONTENT_LOCATION,HTTP2_HEADER_CONTENT_MD5,HTTP2_HEADER_CONTENT_RANGE,HTTP2_HEADER_CONTENT_TYPE,HTTP2_HEADER_DATE,HTTP2_HEADER_DNT,HTTP2_HEADER_ETAG,HTTP2_HEADER_EXPIRES,HTTP2_HEADER_FROM,HTTP2_HEADER_HOST,HTTP2_HEADER_IF_MATCH,HTTP2_HEADER_IF_MODIFIED_SINCE,HTTP2_HEADER_IF_NONE_MATCH,HTTP2_HEADER_IF_RANGE,HTTP2_HEADER_IF_UNMODIFIED_SINCE,HTTP2_HEADER_LAST_MODIFIED,HTTP2_HEADER_LOCATION,HTTP2_HEADER_MAX_FORWARDS,HTTP2_HEADER_PROXY_AUTHORIZATION,HTTP2_HEADER_RANGE,HTTP2_HEADER_REFERER,HTTP2_HEADER_RETRY_AFTER,HTTP2_HEADER_TK,HTTP2_HEADER_UPGRADE_INSECURE_REQUESTS,HTTP2_HEADER_USER_AGENT,HTTP2_HEADER_X_CONTENT_TYPE_OPTIONS]),kNoPayloadMethods=new SafeSet([HTTP2_METHOD_DELETE,HTTP2_METHOD_GET,HTTP2_METHOD_HEAD]),{settingsBuffer,optionsBuffer}=binding,{sessionState,streamState}=binding,IDX_SETTINGS_HEADER_TABLE_SIZE=0,IDX_SETTINGS_ENABLE_PUSH=1,IDX_SETTINGS_INITIAL_WINDOW_SIZE=2,IDX_SETTINGS_MAX_FRAME_SIZE=3,IDX_SETTINGS_MAX_CONCURRENT_STREAMS=4,IDX_SETTINGS_MAX_HEADER_LIST_SIZE=5,IDX_SETTINGS_ENABLE_CONNECT_PROTOCOL=6,IDX_SETTINGS_FLAGS=7,IDX_SESSION_STATE_EFFECTIVE_LOCAL_WINDOW_SIZE=0,IDX_SESSION_STATE_EFFECTIVE_RECV_DATA_LENGTH=1,IDX_SESSION_STATE_NEXT_STREAM_ID=2,IDX_SESSION_STATE_LOCAL_WINDOW_SIZE=3,IDX_SESSION_STATE_LAST_PROC_STREAM_ID=4,IDX_SESSION_STATE_REMOTE_WINDOW_SIZE=5,IDX_SESSION_STATE_OUTBOUND_QUEUE_SIZE=6,IDX_SESSION_STATE_HD_DEFLATE_DYNAMIC_TABLE_SIZE=7,IDX_SESSION_STATE_HD_INFLATE_DYNAMIC_TABLE_SIZE=8,IDX_STREAM_STATE=0,IDX_STREAM_STATE_WEIGHT=1,IDX_STREAM_STATE_SUM_DEPENDENCY_WEIGHT=2,IDX_STREAM_STATE_LOCAL_CLOSE=3,IDX_STREAM_STATE_REMOTE_CLOSE=4,IDX_STREAM_STATE_LOCAL_WINDOW_SIZE=5,IDX_OPTIONS_MAX_DEFLATE_DYNAMIC_TABLE_SIZE=0,IDX_OPTIONS_MAX_RESERVED_REMOTE_STREAMS=1,IDX_OPTIONS_MAX_SEND_HEADER_BLOCK_LENGTH=2,IDX_OPTIONS_PEER_MAX_CONCURRENT_STREAMS=3,IDX_OPTIONS_PADDING_STRATEGY=4,IDX_OPTIONS_MAX_HEADER_LIST_PAIRS=5,IDX_OPTIONS_MAX_OUTSTANDING_PINGS=6,IDX_OPTIONS_MAX_OUTSTANDING_SETTINGS=7,IDX_OPTIONS_MAX_SESSION_MEMORY=8,IDX_OPTIONS_MAX_SETTINGS=9,IDX_OPTIONS_FLAGS=10;function updateOptionsBuffer(e){let _=0;typeof e.maxDeflateDynamicTableSize=="number"&&(_|=1<<IDX_OPTIONS_MAX_DEFLATE_DYNAMIC_TABLE_SIZE,optionsBuffer[IDX_OPTIONS_MAX_DEFLATE_DYNAMIC_TABLE_SIZE]=e.maxDeflateDynamicTableSize),typeof e.maxReservedRemoteStreams=="number"&&(_|=1<<IDX_OPTIONS_MAX_RESERVED_REMOTE_STREAMS,optionsBuffer[IDX_OPTIONS_MAX_RESERVED_REMOTE_STREAMS]=e.maxReservedRemoteStreams),typeof e.maxSendHeaderBlockLength=="number"&&(_|=1<<IDX_OPTIONS_MAX_SEND_HEADER_BLOCK_LENGTH,optionsBuffer[IDX_OPTIONS_MAX_SEND_HEADER_BLOCK_LENGTH]=e.maxSendHeaderBlockLength),typeof e.peerMaxConcurrentStreams=="number"&&(_|=1<<IDX_OPTIONS_PEER_MAX_CONCURRENT_STREAMS,optionsBuffer[IDX_OPTIONS_PEER_MAX_CONCURRENT_STREAMS]=e.peerMaxConcurrentStreams),typeof e.paddingStrategy=="number"&&(_|=1<<IDX_OPTIONS_PADDING_STRATEGY,optionsBuffer[IDX_OPTIONS_PADDING_STRATEGY]=e.paddingStrategy),typeof e.maxHeaderListPairs=="number"&&(_|=1<<IDX_OPTIONS_MAX_HEADER_LIST_PAIRS,optionsBuffer[IDX_OPTIONS_MAX_HEADER_LIST_PAIRS]=e.maxHeaderListPairs),typeof e.maxOutstandingPings=="number"&&(_|=1<<IDX_OPTIONS_MAX_OUTSTANDING_PINGS,optionsBuffer[IDX_OPTIONS_MAX_OUTSTANDING_PINGS]=e.maxOutstandingPings),typeof e.maxOutstandingSettings=="number"&&(_|=1<<IDX_OPTIONS_MAX_OUTSTANDING_SETTINGS,optionsBuffer[IDX_OPTIONS_MAX_OUTSTANDING_SETTINGS]=MathMax(1,e.maxOutstandingSettings)),typeof e.maxSessionMemory=="number"&&(_|=1<<IDX_OPTIONS_MAX_SESSION_MEMORY,optionsBuffer[IDX_OPTIONS_MAX_SESSION_MEMORY]=MathMax(1,e.maxSessionMemory)),typeof e.maxSettings=="number"&&(_|=1<<IDX_OPTIONS_MAX_SETTINGS,optionsBuffer[IDX_OPTIONS_MAX_SETTINGS]=MathMax(1,e.maxSettings)),optionsBuffer[IDX_OPTIONS_FLAGS]=_}function getDefaultSettings(){settingsBuffer[IDX_SETTINGS_FLAGS]=0,binding.refreshDefaultSettings();const e=ObjectCreate(null),_=settingsBuffer[IDX_SETTINGS_FLAGS];return(_&1<<IDX_SETTINGS_HEADER_TABLE_SIZE)==1<<IDX_SETTINGS_HEADER_TABLE_SIZE&&(e.headerTableSize=settingsBuffer[IDX_SETTINGS_HEADER_TABLE_SIZE]),(_&1<<IDX_SETTINGS_ENABLE_PUSH)==1<<IDX_SETTINGS_ENABLE_PUSH&&(e.enablePush=settingsBuffer[IDX_SETTINGS_ENABLE_PUSH]===1),(_&1<<IDX_SETTINGS_INITIAL_WINDOW_SIZE)==1<<IDX_SETTINGS_INITIAL_WINDOW_SIZE&&(e.initialWindowSize=settingsBuffer[IDX_SETTINGS_INITIAL_WINDOW_SIZE]),(_&1<<IDX_SETTINGS_MAX_FRAME_SIZE)==1<<IDX_SETTINGS_MAX_FRAME_SIZE&&(e.maxFrameSize=settingsBuffer[IDX_SETTINGS_MAX_FRAME_SIZE]),(_&1<<IDX_SETTINGS_MAX_CONCURRENT_STREAMS)==1<<IDX_SETTINGS_MAX_CONCURRENT_STREAMS&&(e.maxConcurrentStreams=settingsBuffer[IDX_SETTINGS_MAX_CONCURRENT_STREAMS]),(_&1<<IDX_SETTINGS_MAX_HEADER_LIST_SIZE)==1<<IDX_SETTINGS_MAX_HEADER_LIST_SIZE&&(e.maxHeaderListSize=e.maxHeaderSize=settingsBuffer[IDX_SETTINGS_MAX_HEADER_LIST_SIZE]),(_&1<<IDX_SETTINGS_ENABLE_CONNECT_PROTOCOL)==1<<IDX_SETTINGS_ENABLE_CONNECT_PROTOCOL&&(e.enableConnectProtocol=settingsBuffer[IDX_SETTINGS_ENABLE_CONNECT_PROTOCOL]===1),e}function getSettings(e,_){return _?e.remoteSettings():e.localSettings(),{headerTableSize:settingsBuffer[IDX_SETTINGS_HEADER_TABLE_SIZE],enablePush:!!settingsBuffer[IDX_SETTINGS_ENABLE_PUSH],initialWindowSize:settingsBuffer[IDX_SETTINGS_INITIAL_WINDOW_SIZE],maxFrameSize:settingsBuffer[IDX_SETTINGS_MAX_FRAME_SIZE],maxConcurrentStreams:settingsBuffer[IDX_SETTINGS_MAX_CONCURRENT_STREAMS],maxHeaderListSize:settingsBuffer[IDX_SETTINGS_MAX_HEADER_LIST_SIZE],maxHeaderSize:settingsBuffer[IDX_SETTINGS_MAX_HEADER_LIST_SIZE],enableConnectProtocol:!!settingsBuffer[IDX_SETTINGS_ENABLE_CONNECT_PROTOCOL]}}function updateSettingsBuffer(e){let _=0;typeof e.headerTableSize=="number"&&(_|=1<<IDX_SETTINGS_HEADER_TABLE_SIZE,settingsBuffer[IDX_SETTINGS_HEADER_TABLE_SIZE]=e.headerTableSize),typeof e.maxConcurrentStreams=="number"&&(_|=1<<IDX_SETTINGS_MAX_CONCURRENT_STREAMS,settingsBuffer[IDX_SETTINGS_MAX_CONCURRENT_STREAMS]=e.maxConcurrentStreams),typeof e.initialWindowSize=="number"&&(_|=1<<IDX_SETTINGS_INITIAL_WINDOW_SIZE,settingsBuffer[IDX_SETTINGS_INITIAL_WINDOW_SIZE]=e.initialWindowSize),typeof e.maxFrameSize=="number"&&(_|=1<<IDX_SETTINGS_MAX_FRAME_SIZE,settingsBuffer[IDX_SETTINGS_MAX_FRAME_SIZE]=e.maxFrameSize),(typeof e.maxHeaderListSize=="number"||typeof e.maxHeaderSize=="number")&&(_|=1<<IDX_SETTINGS_MAX_HEADER_LIST_SIZE,e.maxHeaderSize!==void 0&&e.maxHeaderSize!==e.maxHeaderListSize?(process.emitWarning("settings.maxHeaderSize overwrite settings.maxHeaderListSize"),settingsBuffer[IDX_SETTINGS_MAX_HEADER_LIST_SIZE]=e.maxHeaderSize):settingsBuffer[IDX_SETTINGS_MAX_HEADER_LIST_SIZE]=e.maxHeaderListSize),typeof e.enablePush=="boolean"&&(_|=1<<IDX_SETTINGS_ENABLE_PUSH,settingsBuffer[IDX_SETTINGS_ENABLE_PUSH]=Number(e.enablePush)),typeof e.enableConnectProtocol=="boolean"&&(_|=1<<IDX_SETTINGS_ENABLE_CONNECT_PROTOCOL,settingsBuffer[IDX_SETTINGS_ENABLE_CONNECT_PROTOCOL]=Number(e.enableConnectProtocol)),settingsBuffer[IDX_SETTINGS_FLAGS]=_}function getSessionState(e){return e.refreshState(),{effectiveLocalWindowSize:sessionState[IDX_SESSION_STATE_EFFECTIVE_LOCAL_WINDOW_SIZE],effectiveRecvDataLength:sessionState[IDX_SESSION_STATE_EFFECTIVE_RECV_DATA_LENGTH],nextStreamID:sessionState[IDX_SESSION_STATE_NEXT_STREAM_ID],localWindowSize:sessionState[IDX_SESSION_STATE_LOCAL_WINDOW_SIZE],lastProcStreamID:sessionState[IDX_SESSION_STATE_LAST_PROC_STREAM_ID],remoteWindowSize:sessionState[IDX_SESSION_STATE_REMOTE_WINDOW_SIZE],outboundQueueSize:sessionState[IDX_SESSION_STATE_OUTBOUND_QUEUE_SIZE],deflateDynamicTableSize:sessionState[IDX_SESSION_STATE_HD_DEFLATE_DYNAMIC_TABLE_SIZE],inflateDynamicTableSize:sessionState[IDX_SESSION_STATE_HD_INFLATE_DYNAMIC_TABLE_SIZE]}}function getStreamState(e){return e.refreshState(),{state:streamState[IDX_STREAM_STATE],weight:streamState[IDX_STREAM_STATE_WEIGHT],sumDependencyWeight:streamState[IDX_STREAM_STATE_SUM_DEPENDENCY_WEIGHT],localClose:streamState[IDX_STREAM_STATE_LOCAL_CLOSE],remoteClose:streamState[IDX_STREAM_STATE_REMOTE_CLOSE],localWindowSize:streamState[IDX_STREAM_STATE_LOCAL_WINDOW_SIZE]}}function isIllegalConnectionSpecificHeader(e,_){switch(e){case HTTP2_HEADER_CONNECTION:case HTTP2_HEADER_UPGRADE:case HTTP2_HEADER_HTTP2_SETTINGS:case HTTP2_HEADER_KEEP_ALIVE:case HTTP2_HEADER_PROXY_CONNECTION:case HTTP2_HEADER_TRANSFER_ENCODING:return!0;case HTTP2_HEADER_TE:return _!=="trailers";default:return!1}}const assertValidPseudoHeader=hideStackFrames(e=>{if(!kValidPseudoHeaders.has(e))throw new ERR_HTTP2_INVALID_PSEUDOHEADER(e)}),assertValidPseudoHeaderResponse=hideStackFrames(e=>{if(e!==":status")throw new ERR_HTTP2_INVALID_PSEUDOHEADER(e)}),assertValidPseudoHeaderTrailer=hideStackFrames(e=>{throw new ERR_HTTP2_INVALID_PSEUDOHEADER(e)}),emptyArray=[],kNeverIndexFlag=StringFromCharCode(NGHTTP2_NV_FLAG_NO_INDEX),kNoHeaderFlags=StringFromCharCode(NGHTTP2_NV_FLAG_NONE);function mapToHeaders(e,_=assertValidPseudoHeader){let E="",n=0;const r=ObjectKeys(e),S=new SafeSet;let a,i,o,T,t,s,A;const I=ArrayPrototypeMap(e[kSensitiveHeaders]||emptyArray,StringPrototypeToLowerCase);for(a=0;a<r.length;++a){if(T=r[a],t=e[T],t===void 0||T==="")continue;if(T=StringPrototypeToLowerCase(T),s=kSingleValueHeaders.has(T),o=ArrayIsArray(t),o)switch(t.length){case 0:continue;case 1:t=String(t[0]),o=!1;break;default:if(s)throw new ERR_HTTP2_HEADER_SINGLE_VALUE(T)}else t=String(t);if(s){if(S.has(T))throw new ERR_HTTP2_HEADER_SINGLE_VALUE(T);S.add(T)}const H=ArrayPrototypeIncludes(I,T)?kNeverIndexFlag:kNoHeaderFlags;if(T[0]===":"){if(A=_(T),A!==void 0)throw A;E=`${T}\0${t}\0${H}${E}`,n++;continue}if(StringPrototypeIncludes(T," "))throw new ERR_INVALID_HTTP_TOKEN("Header name",T);if(isIllegalConnectionSpecificHeader(T,t))throw new ERR_HTTP2_INVALID_CONNECTION_HEADERS(T);if(o){for(i=0;i<t.length;++i){const c=String(t[i]);E+=`${T}\0${c}\0${H}`}n+=t.length;continue}E+=`${T}\0${t}\0${H}`,n++}return[E,n]}class NghttpError extends Error{constructor(_,E){super(E?getMessage(E,[],null):binding.nghttp2ErrorString(_));this.code=E||"ERR_HTTP2_ERROR",this.errno=_,captureLargerStackTrace(this),ObjectDefineProperty(this,kIsNodeError,{value:!0,enumerable:!1,writable:!1,configurable:!0})}toString(){return`${this.name} [${this.code}]: ${this.message}`}}const assertIsObject=hideStackFrames((e,_,E)=>{if(e!==void 0&&(e===null||typeof e!="object"||ArrayIsArray(e)))throw new ERR_INVALID_ARG_TYPE(_,E||"Object",e)}),assertWithinRange=hideStackFrames((e,_,E=0,n=1/0)=>{if(_!==void 0&&(typeof _!="number"||_<E||_>n))throw new ERR_HTTP2_INVALID_SETTING_VALUE.RangeError(e,_,E,n)});function toHeaderObject(e,_){const E=ObjectCreate(null);for(var n=0;n<e.length;n+=2){const r=e[n];let S=e[n+1];r===HTTP2_HEADER_STATUS&&(S|=0);const a=E[r];if(a===void 0)E[r]=r===HTTP2_HEADER_SET_COOKIE?[S]:S;else if(!kSingleValueHeaders.has(r))switch(r){case HTTP2_HEADER_COOKIE:E[r]=`${a}; ${S}`;break;case HTTP2_HEADER_SET_COOKIE:ArrayPrototypePush(a,S);break;default:E[r]=`${a}, ${S}`;break}}return E[kSensitiveHeaders]=_,E}function isPayloadMeaningless(e){return kNoPayloadMethods.has(e)}function sessionName(e){switch(e){case NGHTTP2_SESSION_CLIENT:return"client";case NGHTTP2_SESSION_SERVER:return"server";default:return"<invalid>"}}function getAuthority(e){if(e[HTTP2_HEADER_AUTHORITY]!==void 0)return e[HTTP2_HEADER_AUTHORITY];if(e[HTTP2_HEADER_HOST]!==void 0)return e[HTTP2_HEADER_HOST]}module.exports={assertIsObject,assertValidPseudoHeader,assertValidPseudoHeaderResponse,assertValidPseudoHeaderTrailer,assertWithinRange,getAuthority,getDefaultSettings,getSessionState,getSettings,getStreamState,isPayloadMeaningless,kSensitiveHeaders,kSocket,kProxySocket,kRequest,mapToHeaders,NghttpError,sessionName,toHeaderObject,updateOptionsBuffer,updateSettingsBuffer};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeFilter,ArrayPrototypeIncludes,ObjectFromEntries,ObjectEntries,SafeArrayIterator}=primordials,{types}=require("util");module.exports={util(){return ObjectFromEntries(new SafeArrayIterator(ArrayPrototypeFilter(ObjectEntries(types),({0:r})=>ArrayPrototypeIncludes(["isArrayBuffer","isArrayBufferView","isAsyncFunction","isDataView","isDate","isExternal","isMap","isMapIterator","isNativeError","isPromise","isRegExp","isSet","isSetIterator","isTypedArray","isUint8Array","isAnyArrayBuffer"],r))))}};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{prepareMainThreadExecution}=require("internal/bootstrap/pre_execution"),{readStdin}=require("internal/process/execution"),{pathToFileURL}=require("url"),{Module:{_resolveFilename:resolveCJSModuleName},wrapSafe}=require("internal/modules/cjs/loader");if(prepareMainThreadExecution(!0),process.argv[1]&&process.argv[1]!=="-"){const r=require("path");process.argv[1]=r.resolve(process.argv[1]);const e=resolveCJSModuleName(process.argv[1]),t=require("fs").readFileSync(e,"utf-8");markBootstrapComplete(),checkSyntax(t,e)}else markBootstrapComplete(),readStdin(r=>{checkSyntax(r,"[stdin]")});function checkSyntax(r,e){const{getOptionValue:s}=require("internal/options");let t=!1;if(e==="[stdin]"||e==="[eval]")t=s("--input-type")==="module";else{const{defaultResolve:o}=require("internal/modules/esm/resolve"),{defaultGetFormat:n}=require("internal/modules/esm/get_format"),{url:a}=o(pathToFileURL(e).toString()),{format:i}=n(a);t=i==="module"}if(t){const{ModuleWrap:o}=internalBinding("module_wrap");new o(e,void 0,r,0,0);return}wrapSafe(e,r)}
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{prepareMainThreadExecution}=require("internal/bootstrap/pre_execution"),{getOptionValue}=require("internal/options"),{evalModule,evalScript,readStdin}=require("internal/process/execution");prepareMainThreadExecution(),markBootstrapComplete(),readStdin(e=>{process._eval=e;const t=getOptionValue("--print");getOptionValue("--input-type")==="module"?evalModule(e,t):evalScript("[stdin]",e,getOptionValue("--inspect-brk"),t)});
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{globalThis}=primordials,{prepareMainThreadExecution}=require("internal/bootstrap/pre_execution"),{evalModule,evalScript}=require("internal/process/execution"),{addBuiltinLibsToObject}=require("internal/modules/cjs/helpers"),{getOptionValue}=require("internal/options");prepareMainThreadExecution(),addBuiltinLibsToObject(globalThis,"<eval>"),markBootstrapComplete();const source=getOptionValue("--eval"),print=getOptionValue("--print");getOptionValue("--input-type")==="module"?evalModule(source,print):evalScript("[eval]",source,getOptionValue("--inspect-brk"),print);
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{prepareMainThreadExecution}=require("internal/bootstrap/pre_execution");prepareMainThreadExecution(),markBootstrapComplete(),process.nextTick(()=>{require("internal/debugger/inspect").start()});
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeConcat,ArrayPrototypeSort,Boolean,MathFloor,MathMax,ObjectKeys,RegExp,StringPrototypeLocaleCompare,StringPrototypeSlice,StringPrototypeTrimLeft,StringPrototypeRepeat,StringPrototypeReplace,SafeMap}=primordials,{types}=internalBinding("options"),hasCrypto=Boolean(process.versions.openssl),{prepareMainThreadExecution}=require("internal/bootstrap/pre_execution"),typeLookup=[];for(const e of ObjectKeys(types))typeLookup[types[e]]=e;const{hasIntl,hasSmallICU,hasNodeOptions}=internalBinding("config"),envVars=new SafeMap(ArrayPrototypeConcat([["FORCE_COLOR",{helpText:"when set to 'true', 1, 2, 3, or an empty string causes NO_COLOR and NODE_DISABLE_COLORS to be ignored."}],["NO_COLOR",{helpText:"Alias for NODE_DISABLE_COLORS"}],["NODE_DEBUG",{helpText:"','-separated list of core modules that should print debug information"}],["NODE_DEBUG_NATIVE",{helpText:"','-separated list of C++ core debug categories that should print debug output"}],["NODE_DISABLE_COLORS",{helpText:"set to 1 to disable colors in the REPL"}],["NODE_EXTRA_CA_CERTS",{helpText:"path to additional CA certificates file. Only read once during process startup."}],["NODE_NO_WARNINGS",{helpText:"set to 1 to silence process warnings"}],["NODE_PATH",{helpText:`'${require("path").delimiter}'-separated list of directories prefixed to the module search path`}],["NODE_PENDING_DEPRECATION",{helpText:"set to 1 to emit pending deprecation warnings"}],["NODE_PENDING_PIPE_INSTANCES",{helpText:"set the number of pending pipe instance handles on Windows"}],["NODE_PRESERVE_SYMLINKS",{helpText:"set to 1 to preserve symbolic links when resolving and caching modules"}],["NODE_REDIRECT_WARNINGS",{helpText:"write warnings to path instead of stderr"}],["NODE_REPL_HISTORY",{helpText:"path to the persistent REPL history file"}],["NODE_TLS_REJECT_UNAUTHORIZED",{helpText:"set to 0 to disable TLS certificate validation"}],["NODE_V8_COVERAGE",{helpText:"directory to output v8 coverage JSON to"}],["UV_THREADPOOL_SIZE",{helpText:"sets the number of threads used in libuv's threadpool"}]],hasIntl?[["NODE_ICU_DATA",{helpText:"data path for ICU (Intl object) data"+hasSmallICU?"":" (will extend linked-in data)"}]]:[]),hasNodeOptions?[["NODE_OPTIONS",{helpText:"set CLI options in the environment via a space-separated list"}]]:[],hasCrypto?[["OPENSSL_CONF",{helpText:"load OpenSSL configuration from file"}],["SSL_CERT_DIR",{helpText:"sets OpenSSL's directory of trusted certificates when used in conjunction with --use-openssl-ca"}],["SSL_CERT_FILE",{helpText:"sets OpenSSL's trusted certificate file when used in conjunction with --use-openssl-ca"}]]:[]);function indent(e,n){return StringPrototypeReplace(e,/^/gm,StringPrototypeRepeat(" ",n))}function fold(e,n){return StringPrototypeReplace(e,new RegExp(`([^
]{0,${n}})( |$)`,"g"),(i,r,o)=>r+(o===" "?`
`:""))}function getArgDescription(e){switch(typeLookup[e]){case"kNoOp":case"kV8Option":case"kBoolean":case void 0:break;case"kHostPort":return"[host:]port";case"kInteger":case"kUInteger":case"kString":case"kStringList":return"...";default:require("assert").fail(`unknown option type ${e}`)}}function format({options:e,aliases:n=new SafeMap,firstColumn:i,secondColumn:r}){let o="",a=0;const T=ArrayPrototypeSort([...e.entries()],({0:s,1:l},{0:p,1:c})=>(l.defaultIsTrue&&(s=`--no-${StringPrototypeSlice(s,2)}`),c.defaultIsTrue&&(p=`--no-${StringPrototypeSlice(p,2)}`),StringPrototypeLocaleCompare(s,p)));for(const{0:s,1:{helpText:l,type:p,value:c,defaultIsTrue:u}}of T){if(!l)continue;let t=s;u&&(t=`--no-${StringPrototypeSlice(t,2)}`);const f=getArgDescription(p);f&&(t+=`=${f}`);for(const{0:d,1:h}of n){h[0]===s&&h.length===1&&(t=`${d}, ${t}`);const O=e.get(h[0]),g=O?getArgDescription(O.type):"...";d===`${s}=`?t+=`[=${g}]`:d===`${s} <arg>`&&(t+=` [${g}]`)}let E=l;c===!u&&(E+=" (currently set)"),o+=t,a=MathMax(a,t.length),t.length>=i?o+=`
`+StringPrototypeRepeat(" ",i):o+=StringPrototypeRepeat(" ",i-t.length),o+=StringPrototypeTrimLeft(indent(fold(E,r),i))+`
`}return a<i-4?format({options:e,aliases:n,firstColumn:a+2,secondColumn:r}):o}function print(e){const{options:n,aliases:i}=require("internal/options"),r=MathMax(70,(e.columns||0)*.75),o=MathFloor(r*.4),a=MathFloor(r*.57);n.set("-",{helpText:"script read from stdin (default if no file name is provided, interactive mode if a tty)"}),n.set("--",{helpText:"indicate the end of node options"}),e.write(`Usage: node [options] [ script.js ] [arguments]
       node inspect [options] [ script.js | host:port ] [arguments]

Options:
`),e.write(indent(format({options:n,aliases:i,firstColumn:o,secondColumn:a}),2)),e.write(`
Environment variables:
`),e.write(format({options:envVars,firstColumn:o,secondColumn:a})),e.write(`
Documentation can be found at https://nodejs.org/
`)}prepareMainThreadExecution(),markBootstrapComplete(),print(process.stdout);
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{prepareMainThreadExecution}=require("internal/bootstrap/pre_execution");prepareMainThreadExecution(),markBootstrapComplete(),require("internal/v8_prof_processor");
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{prepareMainThreadExecution}=require("internal/bootstrap/pre_execution"),esmLoader=require("internal/process/esm_loader"),{evalScript}=require("internal/process/execution"),console=require("internal/console/global"),{getOptionValue}=require("internal/options");prepareMainThreadExecution(),markBootstrapComplete(),process.env.NODE_REPL_EXTERNAL_MODULE?require("internal/modules/cjs/loader").Module._load(process.env.NODE_REPL_EXTERNAL_MODULE,void 0,!0):(getOptionValue("--input-type")&&(console.error("Cannot specify --input-type for REPL"),process.exit(1)),esmLoader.loadESM(()=>{console.log(`Welcome to Node.js ${process.version}.
Type ".help" for more information.`),require("internal/repl").createInternalRepl(process.env,(r,e)=>{if(r)throw r;e.on("exit",()=>{if(e._flushing)return e.pause(),e.once("flushHistory",()=>{process.exit()});process.exit()})}),getOptionValue("[has_eval_string]")&&evalScript("[eval]",getOptionValue("--eval"),getOptionValue("--inspect-brk"),getOptionValue("--print"))}));
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{prepareMainThreadExecution}=require("internal/bootstrap/pre_execution");prepareMainThreadExecution(!0),markBootstrapComplete(),require("internal/modules/cjs/loader").Module.runMain(process.argv[1]);
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeForEach,ArrayPrototypePushApply,ArrayPrototypeSplice,ObjectDefineProperty,PromisePrototypeCatch,globalThis:{Atomics}}=primordials,{patchProcessObject,setupCoverageHooks,setupInspectorHooks,setupWarningHandler,setupDebugEnv,setupPerfHooks,initializeDeprecations,initializeWASI,initializeCJSLoader,initializeESMLoader,initializeFrozenIntrinsics,initializeReport,initializeSourceMapsHandlers,loadPreloadModules,setupTraceCategoryState}=require("internal/bootstrap/pre_execution"),{threadId,getEnvMessagePort}=internalBinding("worker"),workerIo=require("internal/worker/io"),{messageTypes:{LOAD_SCRIPT,UP_AND_RUNNING,ERROR_MESSAGE,COULD_NOT_SERIALIZE_ERROR,STDIO_PAYLOAD,STDIO_WANTS_MORE_DATA},kStdioWantsMoreDataCallback}=workerIo,{onGlobalUncaughtException}=require("internal/process/execution"),publicWorker=require("worker_threads");let debug=require("internal/util/debuglog").debuglog("worker",e=>{debug=e});const assert=require("internal/assert");patchProcessObject(),setupInspectorHooks(),setupDebugEnv(),setupWarningHandler(),initializeSourceMapsHandlers(),process.env.NODE_V8_COVERAGE&&setupCoverageHooks(process.env.NODE_V8_COVERAGE),debug(`[${threadId}] is setting up worker child environment`);const port=getEnvMessagePort();if(process.env.NODE_CHANNEL_FD){const e=require("internal/process/worker_thread_only");ObjectDefineProperty(process,"channel",{enumerable:!1,get:e.unavailable("process.channel")}),ObjectDefineProperty(process,"connected",{enumerable:!1,get:e.unavailable("process.connected")}),process.send=e.unavailable("process.send()"),process.disconnect=e.unavailable("process.disconnect()")}port.on("message",e=>{if(e.type===LOAD_SCRIPT){port.unref();const{argv:s,cwdCounter:o,filename:r,doEval:t,workerData:c,environmentData:a,publicPort:h,manifestSrc:p,manifestURL:g,hasStdin:f}=e;setupTraceCategoryState(),setupPerfHooks(),initializeReport(),p&&require("internal/process/policy").setup(p,g),initializeDeprecations(),initializeWASI(),initializeCJSLoader(),initializeESMLoader(),s!==void 0&&ArrayPrototypePushApply(process.argv,s),publicWorker.parentPort=h,publicWorker.workerData=c,require("internal/worker").assignEnvironmentData(a);let l="",u=-1;const y=process.cwd;process.cwd=function(){const n=Atomics.load(o,0);return n===u||(u=n,l=y()),l},workerIo.sharedCwdCounter=o;const d=require("internal/modules/cjs/loader");if(assert(!d.hasLoadedAnyUserCJSModule),loadPreloadModules(),initializeFrozenIntrinsics(),f||process.stdin.push(null),debug(`[${threadId}] starts worker script ${r} (eval = ${eval}) at cwd = ${process.cwd()}`),port.postMessage({type:UP_AND_RUNNING}),t==="classic"){const{evalScript:n}=require("internal/process/execution"),i="[worker eval]";ObjectDefineProperty(process,"_eval",{configurable:!0,enumerable:!0,value:r}),ArrayPrototypeSplice(process.argv,1,0,i),n(i,r)}else if(t==="module"){const{evalModule:n}=require("internal/process/execution");PromisePrototypeCatch(n(r),i=>{workerOnGlobalUncaughtException(i,!0)})}else ArrayPrototypeSplice(process.argv,1,0,r),d.Module.runMain(r)}else if(e.type===STDIO_PAYLOAD){const{stream:s,chunks:o}=e;ArrayPrototypeForEach(o,({chunk:r,encoding:t})=>{process[s].push(r,t)})}else{assert(e.type===STDIO_WANTS_MORE_DATA,`Unknown worker message type ${e.type}`);const{stream:s}=e;process[s][kStdioWantsMoreDataCallback]()}});function workerOnGlobalUncaughtException(e,s){debug(`[${threadId}] gets uncaught exception`);let o=!1,r=!1;try{o=onGlobalUncaughtException(e,s)}catch(a){e=a,r=!0}if(debug(`[${threadId}] uncaught exception handled = ${o}`),o)return!0;if(!process._exiting)try{process._exiting=!0,process.exitCode=1,r||process.emit("exit",process.exitCode)}catch{}let t;try{const{serializeError:a}=require("internal/error_serdes");t=a(e)}catch{}debug(`[${threadId}] uncaught exception serialized = ${!!t}`),t?port.postMessage({type:ERROR_MESSAGE,error:t}):port.postMessage({type:COULD_NOT_SERIALIZE_ERROR});const{clearAsyncIdStack:c}=require("internal/async_hooks");c(),process.exit()}process._fatalException=workerOnGlobalUncaughtException,markBootstrapComplete(),port.start();
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{SafeMap}=primordials,{internalModuleReadJSON}=internalBinding("fs"),{pathToFileURL}=require("url"),{toNamespacedPath}=require("path"),cache=new SafeMap;let manifest;function read(e){if(cache.has(e))return cache.get(e);const{0:n,1:i}=internalModuleReadJSON(toNamespacedPath(e)),t={string:n,containsKeys:i},{getOptionValue:r}=require("internal/options");if(n!==void 0&&(manifest===void 0&&(manifest=r("--experimental-policy")?require("internal/process/policy").manifest:null),manifest!==null)){const s=pathToFileURL(e);manifest.assertIntegrity(s,n)}return cache.set(e,t),t}module.exports={read};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{StringPrototypeEndsWith}=primordials,CJSLoader=require("internal/modules/cjs/loader"),{Module,toRealPath,readPackageScope}=CJSLoader,{getOptionValue}=require("internal/options"),path=require("path");function resolveMainPath(e){let r=Module._findPath(path.resolve(e),null,!0);return r?(getOptionValue("--preserve-symlinks-main")||(r=toRealPath(r)),r):void 0}function shouldUseESMLoader(e){if(getOptionValue("--experimental-loader")||getOptionValue("--experimental-specifier-resolution")==="node"||e&&StringPrototypeEndsWith(e,".mjs"))return!0;if(!e||StringPrototypeEndsWith(e,".cjs"))return!1;const n=readPackageScope(e);return n&&n.data.type==="module"}function runMainESM(e){const{loadESM:r}=require("internal/process/esm_loader"),{pathToFileURL:o}=require("internal/url");handleMainPromise(r(n=>{const t=path.isAbsolute(e)?o(e).href:e;return n.import(t)}))}async function handleMainPromise(e){function r(){process.exitCode===void 0&&(process.exitCode=13)}process.on("exit",r);try{return await e}finally{process.off("exit",r)}}function executeUserEntryPoint(e=process.argv[1]){const r=resolveMainPath(e);shouldUseESMLoader(r)?runMainESM(r||e):Module._load(e,null,!0)}module.exports={executeUserEntryPoint,handleMainPromise};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Error,ObjectDefineProperties,ObjectDefineProperty,SafeWeakMap,SafeMap,SymbolToStringTag,TypeError}=primordials;class ERR_INVALID_THIS extends TypeError{constructor(e){super('Value of "this" must be of '+e)}get code(){return"ERR_INVALID_THIS"}}let internalsMap,nameToCodeMap,isInitialized=!1;function ensureInitialized(){isInitialized||(internalsMap=new SafeWeakMap,nameToCodeMap=new SafeMap,forEachCode((r,e,t)=>{nameToCodeMap.set(r,t)}),isInitialized=!0)}class DOMException extends Error{constructor(e="",t="Error"){ensureInitialized();super();internalsMap.set(this,{message:`${e}`,name:`${t}`})}get name(){ensureInitialized();const e=internalsMap.get(this);if(e===void 0)throw new ERR_INVALID_THIS("DOMException");return e.name}get message(){ensureInitialized();const e=internalsMap.get(this);if(e===void 0)throw new ERR_INVALID_THIS("DOMException");return e.message}get code(){ensureInitialized();const e=internalsMap.get(this);if(e===void 0)throw new ERR_INVALID_THIS("DOMException");const t=nameToCodeMap.get(e.name);return t===void 0?0:t}}ObjectDefineProperties(DOMException.prototype,{[SymbolToStringTag]:{configurable:!0,value:"DOMException"},name:{enumerable:!0,configurable:!0},message:{enumerable:!0,configurable:!0},code:{enumerable:!0,configurable:!0}});function forEachCode(r){r("IndexSizeError","INDEX_SIZE_ERR",1),r("DOMStringSizeError","DOMSTRING_SIZE_ERR",2),r("HierarchyRequestError","HIERARCHY_REQUEST_ERR",3),r("WrongDocumentError","WRONG_DOCUMENT_ERR",4),r("InvalidCharacterError","INVALID_CHARACTER_ERR",5),r("NoDataAllowedError","NO_DATA_ALLOWED_ERR",6),r("NoModificationAllowedError","NO_MODIFICATION_ALLOWED_ERR",7),r("NotFoundError","NOT_FOUND_ERR",8),r("NotSupportedError","NOT_SUPPORTED_ERR",9),r("InUseAttributeError","INUSE_ATTRIBUTE_ERR",10),r("InvalidStateError","INVALID_STATE_ERR",11),r("SyntaxError","SYNTAX_ERR",12),r("InvalidModificationError","INVALID_MODIFICATION_ERR",13),r("NamespaceError","NAMESPACE_ERR",14),r("InvalidAccessError","INVALID_ACCESS_ERR",15),r("ValidationError","VALIDATION_ERR",16),r("TypeMismatchError","TYPE_MISMATCH_ERR",17),r("SecurityError","SECURITY_ERR",18),r("NetworkError","NETWORK_ERR",19),r("AbortError","ABORT_ERR",20),r("URLMismatchError","URL_MISMATCH_ERR",21),r("QuotaExceededError","QUOTA_EXCEEDED_ERR",22),r("TimeoutError","TIMEOUT_ERR",23),r("InvalidNodeTypeError","INVALID_NODE_TYPE_ERR",24),r("DataCloneError","DATA_CLONE_ERR",25)}forEachCode((r,e,t)=>{const o={enumerable:!0,value:t};ObjectDefineProperty(DOMException,e,o),ObjectDefineProperty(DOMException.prototype,e,o)}),exports.DOMException=DOMException;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{SymbolFor}=primordials;class MessageEvent{constructor(e,s,t,n){this.data=e,this.target=s,this.type=t,this.ports=n??[]}}const kHybridDispatch=SymbolFor("nodejs.internal.kHybridDispatch"),kCurrentlyReceivingPorts=SymbolFor("nodejs.internal.kCurrentlyReceivingPorts");exports.emitMessage=function(i,e,s){if(typeof this[kHybridDispatch]=="function"){this[kCurrentlyReceivingPorts]=e;try{this[kHybridDispatch](i,s,void 0)}finally{this[kCurrentlyReceivingPorts]=void 0}return}const t=new MessageEvent(i,this,s,e);s==="message"?typeof this.onmessage=="function"&&this.onmessage(t):typeof this.onmessageerror=="function"&&this.onmessageerror(t)};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{defineProperty:ReflectDefineProperty,getOwnPropertyDescriptor:ReflectGetOwnPropertyDescriptor,ownKeys:ReflectOwnKeys}=Reflect,{apply,bind,call}=Function.prototype,uncurryThis=bind.bind(call);primordials.uncurryThis=uncurryThis;const applyBind=bind.bind(apply);primordials.applyBind=applyBind;const varargsMethods=["ArrayOf","ArrayPrototypePush","ArrayPrototypeUnshift","MathHypot","MathMax","MathMin","StringPrototypeConcat","TypedArrayOf"];function getNewKey(r){return typeof r=="symbol"?`Symbol${r.description[7].toUpperCase()}${r.description.slice(8)}`:`${r[0].toUpperCase()}${r.slice(1)}`}function copyAccessor(r,t,e,{enumerable:i,get:a,set:o}){ReflectDefineProperty(r,`${t}Get${e}`,{value:uncurryThis(a),enumerable:i}),o!==void 0&&ReflectDefineProperty(r,`${t}Set${e}`,{value:uncurryThis(o),enumerable:i})}function copyPropsRenamed(r,t,e){for(const i of ReflectOwnKeys(r)){const a=getNewKey(i),o=ReflectGetOwnPropertyDescriptor(r,i);if("get"in o)copyAccessor(t,e,a,o);else{const n=`${e}${a}`;ReflectDefineProperty(t,n,o),varargsMethods.includes(n)&&ReflectDefineProperty(t,`${n}Apply`,{value:applyBind(o.value,r)})}}}function copyPropsRenamedBound(r,t,e){for(const i of ReflectOwnKeys(r)){const a=getNewKey(i),o=ReflectGetOwnPropertyDescriptor(r,i);if("get"in o)copyAccessor(t,e,a,o);else{const{value:n}=o;typeof n=="function"&&(o.value=n.bind(r));const p=`${e}${a}`;ReflectDefineProperty(t,p,o),varargsMethods.includes(p)&&ReflectDefineProperty(t,`${p}Apply`,{value:applyBind(n,r)})}}}function copyPrototype(r,t,e){for(const i of ReflectOwnKeys(r)){const a=getNewKey(i),o=ReflectGetOwnPropertyDescriptor(r,i);if("get"in o)copyAccessor(t,e,a,o);else{const{value:n}=o;typeof n=="function"&&(o.value=uncurryThis(n));const p=`${e}${a}`;ReflectDefineProperty(t,p,o),varargsMethods.includes(p)&&ReflectDefineProperty(t,`${p}Apply`,{value:applyBind(n)})}}}["Proxy","globalThis"].forEach(r=>{primordials[r]=globalThis[r]}),[decodeURI,decodeURIComponent,encodeURI,encodeURIComponent].forEach(r=>{primordials[r.name]=r}),["JSON","Math","Proxy","Reflect"].forEach(r=>{copyPropsRenamed(global[r],primordials,r)}),["AggregateError","Array","ArrayBuffer","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","Error","EvalError","FinalizationRegistry","Float32Array","Float64Array","Function","Int16Array","Int32Array","Int8Array","Map","Number","Object","RangeError","ReferenceError","RegExp","Set","String","Symbol","SyntaxError","TypeError","URIError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","WeakMap","WeakRef","WeakSet"].forEach(r=>{const t=global[r];primordials[r]=t,copyPropsRenamed(t,primordials,r),copyPrototype(t.prototype,primordials,`${r}Prototype`)}),["Promise"].forEach(r=>{const t=global[r];primordials[r]=t,copyPropsRenamedBound(t,primordials,r),copyPrototype(t.prototype,primordials,`${r}Prototype`)}),[{name:"TypedArray",original:Reflect.getPrototypeOf(Uint8Array)},{name:"ArrayIterator",original:{prototype:Reflect.getPrototypeOf(Array.prototype[Symbol.iterator]())}},{name:"StringIterator",original:{prototype:Reflect.getPrototypeOf(String.prototype[Symbol.iterator]())}}].forEach(({name:r,original:t})=>{primordials[r]=t,copyPrototype(t,primordials,r),copyPrototype(t.prototype,primordials,`${r}Prototype`)});const{ArrayPrototypeForEach,FinalizationRegistry,FunctionPrototypeCall,Map,ObjectFreeze,ObjectSetPrototypeOf,Promise,PromisePrototypeThen,Set,SymbolIterator,WeakMap,WeakRef,WeakSet}=primordials,createSafeIterator=(r,t)=>{class e{constructor(a){this._iterator=r(a)}next(){return t(this._iterator)}[SymbolIterator](){return this}}return ObjectSetPrototypeOf(e.prototype,null),ObjectFreeze(e.prototype),ObjectFreeze(e),e};primordials.SafeArrayIterator=createSafeIterator(primordials.ArrayPrototypeSymbolIterator,primordials.ArrayIteratorPrototypeNext),primordials.SafeStringIterator=createSafeIterator(primordials.StringPrototypeSymbolIterator,primordials.StringIteratorPrototypeNext);const copyProps=(r,t)=>{ArrayPrototypeForEach(ReflectOwnKeys(r),e=>{ReflectGetOwnPropertyDescriptor(t,e)||ReflectDefineProperty(t,e,ReflectGetOwnPropertyDescriptor(r,e))})},makeSafe=(r,t)=>{if(SymbolIterator in r.prototype){const e=new r;let i;ArrayPrototypeForEach(ReflectOwnKeys(r.prototype),a=>{if(!ReflectGetOwnPropertyDescriptor(t.prototype,a)){const o=ReflectGetOwnPropertyDescriptor(r.prototype,a);if(typeof o.value=="function"&&o.value.length===0&&SymbolIterator in(FunctionPrototypeCall(o.value,e)??{})){const n=uncurryThis(o.value);i??=uncurryThis(n(e).next);const p=createSafeIterator(n,i);o.value=function(){return new p(this)}}ReflectDefineProperty(t.prototype,a,o)}})}else copyProps(r.prototype,t.prototype);return copyProps(r,t),ObjectSetPrototypeOf(t.prototype,null),ObjectFreeze(t.prototype),ObjectFreeze(t),t};primordials.makeSafe=makeSafe,primordials.SafeMap=makeSafe(Map,class extends Map{constructor(t){super(t)}}),primordials.SafeWeakMap=makeSafe(WeakMap,class extends WeakMap{constructor(t){super(t)}}),primordials.SafeSet=makeSafe(Set,class extends Set{constructor(t){super(t)}}),primordials.SafeWeakSet=makeSafe(WeakSet,class extends WeakSet{constructor(t){super(t)}}),primordials.SafeFinalizationRegistry=makeSafe(FinalizationRegistry,class extends FinalizationRegistry{constructor(t){super(t)}}),primordials.SafeWeakRef=makeSafe(WeakRef,class extends WeakRef{constructor(t){super(t)}});const SafePromise=makeSafe(Promise,class extends Promise{constructor(t){super(t)}});primordials.PromisePrototypeCatch=(r,t)=>PromisePrototypeThen(r,void 0,t),primordials.SafePromisePrototypeFinally=(r,t)=>new Promise((e,i)=>new SafePromise((a,o)=>PromisePrototypeThen(r,a,o)).finally(t).then(e,i)),primordials.AsyncIteratorPrototype=primordials.ReflectGetPrototypeOf(primordials.ReflectGetPrototypeOf(async function*(){}).prototype),ObjectSetPrototypeOf(primordials,null),ObjectFreeze(primordials);
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Symbol}=primordials,{codes:{ERR_ILLEGAL_CONSTRUCTOR}}=require("internal/errors"),{ELDHistogram:_ELDHistogram}=internalBinding("performance"),{validateInteger,validateObject}=require("internal/validators"),{Histogram,kHandle}=require("internal/histogram"),kEnabled=Symbol("kEnabled");class ELDHistogram extends Histogram{constructor(t){if(!(t instanceof _ELDHistogram))throw new ERR_ILLEGAL_CONSTRUCTOR;super(t);this[kEnabled]=!1}enable(){return this[kEnabled]?!1:(this[kEnabled]=!0,this[kHandle].start(),!0)}disable(){return this[kEnabled]?(this[kEnabled]=!1,this[kHandle].stop(),!0):!1}}function monitorEventLoopDelay(e={}){validateObject(e,"options");const{resolution:t=10}=e;return validateInteger(t,"options.resolution",1),new ELDHistogram(new _ELDHistogram(t))}module.exports=monitorEventLoopDelay;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const nodeTiming=require("internal/perf/nodetiming"),{now}=require("internal/perf/utils");function eventLoopUtilization(i,n){const r=nodeTiming.loopStart;if(r<=0)return{idle:0,active:0,utilization:0};if(n){const l=i.idle-n.idle,c=i.active-n.active;return{idle:l,active:c,utilization:c/(l+c)}}const e=nodeTiming.idleTime,t=now()-r-e;if(!i)return{idle:e,active:t,utilization:t/(e+t)};const a=e-i.idle,o=t-i.active,s=o/(a+o);return{idle:a,active:o,utilization:s}}module.exports=eventLoopUtilization;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectDefineProperties,ObjectSetPrototypeOf}=primordials,{PerformanceEntry}=require("internal/perf/performance_entry"),{now,getMilestoneTimestamp}=require("internal/perf/utils"),{customInspectSymbol:kInspect}=require("internal/util"),{inspect}=require("util"),{constants:{NODE_PERFORMANCE_MILESTONE_NODE_START,NODE_PERFORMANCE_MILESTONE_V8_START,NODE_PERFORMANCE_MILESTONE_LOOP_START,NODE_PERFORMANCE_MILESTONE_LOOP_EXIT,NODE_PERFORMANCE_MILESTONE_BOOTSTRAP_COMPLETE,NODE_PERFORMANCE_MILESTONE_ENVIRONMENT},loopIdleTime}=internalBinding("performance");class PerformanceNodeTiming{constructor(){ObjectDefineProperties(this,{name:{enumerable:!0,configurable:!0,value:"node"},entryType:{enumerable:!0,configurable:!0,value:"node"},startTime:{enumerable:!0,configurable:!0,value:0},duration:{enumerable:!0,configurable:!0,get:now},nodeStart:{enumerable:!0,configurable:!0,get(){return getMilestoneTimestamp(NODE_PERFORMANCE_MILESTONE_NODE_START)}},v8Start:{enumerable:!0,configurable:!0,get(){return getMilestoneTimestamp(NODE_PERFORMANCE_MILESTONE_V8_START)}},environment:{enumerable:!0,configurable:!0,get(){return getMilestoneTimestamp(NODE_PERFORMANCE_MILESTONE_ENVIRONMENT)}},loopStart:{enumerable:!0,configurable:!0,get(){return getMilestoneTimestamp(NODE_PERFORMANCE_MILESTONE_LOOP_START)}},loopExit:{enumerable:!0,configurable:!0,get(){return getMilestoneTimestamp(NODE_PERFORMANCE_MILESTONE_LOOP_EXIT)}},bootstrapComplete:{enumerable:!0,configurable:!0,get(){return getMilestoneTimestamp(NODE_PERFORMANCE_MILESTONE_BOOTSTRAP_COMPLETE)}},idleTime:{enumerable:!0,configurable:!0,get:loopIdleTime}})}[kInspect](t,e){if(t<0)return this;const r={...e,depth:e.depth==null?null:e.depth-1};return`PerformanceNodeTiming ${inspect(this.toJSON(),r)}`}toJSON(){return{name:"node",entryType:"node",startTime:this.startTime,duration:this.duration,nodeStart:this.nodeStart,v8Start:this.v8Start,bootstrapComplete:this.bootstrapComplete,environment:this.environment,loopStart:this.loopStart,loopExit:this.loopExit,idleTime:this.idleTime}}}ObjectSetPrototypeOf(PerformanceNodeTiming.prototype,PerformanceEntry.prototype),module.exports=new PerformanceNodeTiming;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayFrom,ArrayIsArray,ArrayPrototypeFilter,ArrayPrototypeFlatMap,ArrayPrototypeIncludes,ArrayPrototypePush,ArrayPrototypePushApply,ArrayPrototypeSlice,ArrayPrototypeSort,Error,ObjectDefineProperties,ObjectFreeze,ObjectKeys,SafeMap,SafeSet,Symbol}=primordials,{constants:{NODE_PERFORMANCE_ENTRY_TYPE_GC,NODE_PERFORMANCE_ENTRY_TYPE_HTTP2,NODE_PERFORMANCE_ENTRY_TYPE_HTTP},installGarbageCollectionTracking,observerCounts,removeGarbageCollectionTracking,setupObservers}=internalBinding("performance"),{InternalPerformanceEntry,isPerformanceEntry,kBufferNext}=require("internal/perf/performance_entry"),{codes:{ERR_INVALID_ARG_VALUE,ERR_INVALID_ARG_TYPE,ERR_MISSING_ARGS}}=require("internal/errors"),{validateCallback,validateObject}=require("internal/validators"),{customInspectSymbol:kInspect,deprecate,lazyDOMException}=require("internal/util"),{setImmediate}=require("timers"),{inspect}=require("util"),kBuffer=Symbol("kBuffer"),kCallback=Symbol("kCallback"),kDispatch=Symbol("kDispatch"),kEntryTypes=Symbol("kEntryTypes"),kMaybeBuffer=Symbol("kMaybeBuffer"),kDeprecatedFields=Symbol("kDeprecatedFields"),kType=Symbol("kType"),kDeprecationMessage="Custom PerformanceEntry accessors are deprecated. Please use the detail property.",kTypeSingle=0,kTypeMultiple=1;let gcTrackingInstalled=!1;const kSupportedEntryTypes=ObjectFreeze(["function","gc","http","http2","mark","measure"]),markEntryBuffer=createBuffer(),measureEntryBuffer=createBuffer(),kMaxPerformanceEntryBuffers=1e6,kClearPerformanceEntryBuffers=ObjectFreeze({mark:"performance.clearMarks",measure:"performance.clearMeasures"}),kWarnedEntryTypes=new SafeMap,kObservers=new SafeSet,kPending=new SafeSet;let isPending=!1;function queuePending(){isPending||(isPending=!0,setImmediate(()=>{isPending=!1;const n=ArrayFrom(kPending.values());kPending.clear();for(const t of n)t[kDispatch]()}))}function getObserverType(n){switch(n){case"gc":return NODE_PERFORMANCE_ENTRY_TYPE_GC;case"http2":return NODE_PERFORMANCE_ENTRY_TYPE_HTTP2;case"http":return NODE_PERFORMANCE_ENTRY_TYPE_HTTP}}function maybeDecrementObserverCounts(n){for(const t of n){const e=getObserverType(t);e!==void 0&&(observerCounts[e]--,e===NODE_PERFORMANCE_ENTRY_TYPE_GC&&observerCounts[e]===0&&(removeGarbageCollectionTracking(),gcTrackingInstalled=!1))}}function maybeIncrementObserverCount(n){const t=getObserverType(n);t!==void 0&&(observerCounts[t]++,!gcTrackingInstalled&&t===NODE_PERFORMANCE_ENTRY_TYPE_GC&&(installGarbageCollectionTracking(),gcTrackingInstalled=!0))}class PerformanceObserverEntryList{constructor(t){this[kBuffer]=ArrayPrototypeSort(t,(e,r)=>e.startTime<r.startTime?-1:e.startTime>r.startTime?1:0)}getEntries(){return ArrayPrototypeSlice(this[kBuffer])}getEntriesByType(t){return t=`${t}`,ArrayPrototypeFilter(this[kBuffer],e=>e.entryType===t)}getEntriesByName(t,e){return t=`${t}`,e!=null?ArrayPrototypeFilter(this[kBuffer],r=>r.name===t&&r.entryType===e):ArrayPrototypeFilter(this[kBuffer],r=>r.name===t)}[kInspect](t,e){if(t<0)return this;const r={...e,depth:e.depth==null?null:e.depth-1};return`PerformanceObserverEntryList ${inspect(this[kBuffer],r)}`}}class PerformanceObserver{constructor(t){this[kBuffer]=[],this[kEntryTypes]=new SafeSet,this[kType]=void 0,validateCallback(t),this[kCallback]=t}observe(t={}){validateObject(t,"options");const{entryTypes:e,type:r,buffered:s}={...t};if(e===void 0&&r===void 0)throw new ERR_MISSING_ARGS("options.entryTypes","options.type");if(e!=null&&r!=null)throw new ERR_INVALID_ARG_VALUE("options.entryTypes",e,"options.entryTypes can not set with options.type together");switch(this[kType]){case void 0:e!==void 0&&(this[kType]=kTypeMultiple),r!==void 0&&(this[kType]=kTypeSingle);break;case kTypeSingle:if(e!==void 0)throw lazyDOMException("PerformanceObserver can not change to multiple observations","InvalidModificationError");break;case kTypeMultiple:if(r!==void 0)throw lazyDOMException("PerformanceObserver can not change to single observation","InvalidModificationError");break}if(this[kType]===kTypeMultiple){if(!ArrayIsArray(e))throw new ERR_INVALID_ARG_TYPE("options.entryTypes","string[]",e);maybeDecrementObserverCounts(this[kEntryTypes]),this[kEntryTypes].clear();for(let i=0;i<e.length;i++)ArrayPrototypeIncludes(kSupportedEntryTypes,e[i])&&(this[kEntryTypes].add(e[i]),maybeIncrementObserverCount(e[i]))}else{if(!ArrayPrototypeIncludes(kSupportedEntryTypes,r))return;if(this[kEntryTypes].add(r),maybeIncrementObserverCount(r),s){const i=filterBufferMapByNameAndType(void 0,r);ArrayPrototypePushApply(this[kBuffer],i),kPending.add(this),kPending.size&&queuePending()}}this[kEntryTypes].size?kObservers.add(this):this.disconnect()}disconnect(){maybeDecrementObserverCounts(this[kEntryTypes]),kObservers.delete(this),kPending.delete(this),this[kBuffer]=[],this[kEntryTypes].clear(),this[kType]=void 0}takeRecords(){const t=this[kBuffer];return this[kBuffer]=[],t}static get supportedEntryTypes(){return kSupportedEntryTypes}[kMaybeBuffer](t){!this[kEntryTypes].has(t.entryType)||(ArrayPrototypePush(this[kBuffer],t),kPending.add(this),kPending.size&&queuePending())}[kDispatch](){this[kCallback](new PerformanceObserverEntryList(this.takeRecords()),this)}[kInspect](t,e){if(t<0)return this;const r={...e,depth:e.depth==null?null:e.depth-1};return`PerformanceObserver ${inspect({connected:kObservers.has(this),pending:kPending.has(this),entryTypes:ArrayFrom(this[kEntryTypes]),buffer:this[kBuffer]},r)}`}}function enqueue(n){if(!isPerformanceEntry(n))throw new ERR_INVALID_ARG_TYPE("entry","PerformanceEntry",n);for(const s of kObservers)s[kMaybeBuffer](n);const t=n.entryType;let e;if(t==="mark")e=markEntryBuffer;else if(t==="measure")e=measureEntryBuffer;else return;const r=e.count+1;if(e.count=r,r===1){e.head=n,e.tail=n;return}if(e.tail[kBufferNext]=n,e.tail=n,r>kMaxPerformanceEntryBuffers&&!kWarnedEntryTypes.has(t)){kWarnedEntryTypes.set(t,!0);const s=new Error(`Possible perf_hooks memory leak detected. ${r} ${t} entries added to the global performance entry buffer. Use ${kClearPerformanceEntryBuffers[t]} to clear the buffer.`);s.name="MaxPerformanceEntryBufferExceededWarning",s.entryType=t,s.count=r,process.emitWarning(s)}}function clearEntriesFromBuffer(n,t){let e;if(n==="mark")e=markEntryBuffer;else if(n==="measure")e=measureEntryBuffer;else return;if(t===void 0){resetBuffer(e);return}let r=null,s=null,i=0;for(let o=e.head;o!==null;o=o[kBufferNext]){if(o.name!==t){r=r??o,s=o;continue}s!==null&&(s[kBufferNext]=o[kBufferNext],i++)}e.head=r,e.tail=s,e.count=i}function filterBufferMapByNameAndType(n,t){let e;if(t==="mark")e=[markEntryBuffer];else if(t==="measure")e=[measureEntryBuffer];else{if(t!==void 0)return[];e=[markEntryBuffer,measureEntryBuffer]}return ArrayPrototypeFlatMap(e,r=>filterBufferByName(r,n))}function filterBufferByName(n,t){const e=[];for(let r=n.head;r!==null;r=r[kBufferNext])(t===void 0||r.name===t)&&ArrayPrototypePush(e,r);return e}function observerCallback(n,t,e,r,s){const i=new InternalPerformanceEntry(n,t,e,r,s);if(s!==void 0){i[kDeprecatedFields]=new SafeMap;const o=ObjectKeys(s),f={};for(let c=0;c<o.length;c++){const a=o[c];i[kDeprecatedFields].set(a,s[a]),f[a]={configurable:!0,enumerable:!0,get:deprecate(()=>i[kDeprecatedFields].get(a),kDeprecationMessage,"DEP0152"),set:deprecate(u=>{i[kDeprecatedFields].set(a,u)},kDeprecationMessage,"DEP0152")}}ObjectDefineProperties(i,f)}enqueue(i)}setupObservers(observerCallback);function hasObserver(n){const t=getObserverType(n);return observerCounts[t]>0}function createBuffer(){return{head:null,tail:null,count:0}}function resetBuffer(n){n.head=null,n.tail=null,n.count=0}module.exports={PerformanceObserver,PerformanceObserverEntryList,enqueue,hasObserver,clearEntriesFromBuffer,filterBufferMapByNameAndType};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectDefineProperty,ObjectDefineProperties,ObjectSetPrototypeOf}=primordials,{codes:{ERR_ILLEGAL_CONSTRUCTOR}}=require("internal/errors"),{EventTarget}=require("internal/event_target"),{now}=require("internal/perf/utils"),{mark,measure,clearMarkTimings}=require("internal/perf/usertiming"),{clearEntriesFromBuffer,filterBufferMapByNameAndType}=require("internal/perf/observe"),eventLoopUtilization=require("internal/perf/event_loop_utilization"),nodeTiming=require("internal/perf/nodetiming"),timerify=require("internal/perf/timerify"),{customInspectSymbol:kInspect}=require("internal/util"),{inspect}=require("util"),{getTimeOriginTimestamp}=internalBinding("performance");class Performance extends EventTarget{constructor(){throw new ERR_ILLEGAL_CONSTRUCTOR}[kInspect](n,r){if(n<0)return this;const t={...r,depth:r.depth==null?null:r.depth-1};return`Performance ${inspect({nodeTiming:this.nodeTiming,timeOrigin:this.timeOrigin},t)}`}}function toJSON(){return{nodeTiming:this.nodeTiming,timeOrigin:this.timeOrigin,eventLoopUtilization:this.eventLoopUtilization()}}function clearMarks(e){e!==void 0&&(e=`${e}`),clearMarkTimings(e),clearEntriesFromBuffer("mark",e)}function clearMeasures(e){e!==void 0&&(e=`${e}`),clearEntriesFromBuffer("measure",e)}function getEntries(){return filterBufferMapByNameAndType()}function getEntriesByName(e){return e!==void 0&&(e=`${e}`),filterBufferMapByNameAndType(e,void 0)}function getEntriesByType(e){return e!==void 0&&(e=`${e}`),filterBufferMapByNameAndType(void 0,e)}class InternalPerformance extends EventTarget{}InternalPerformance.prototype.constructor=Performance.prototype.constructor,ObjectSetPrototypeOf(InternalPerformance.prototype,Performance.prototype),ObjectDefineProperties(Performance.prototype,{clearMarks:{configurable:!0,enumerable:!1,value:clearMarks},clearMeasures:{configurable:!0,enumerable:!1,value:clearMeasures},eventLoopUtilization:{configurable:!0,enumerable:!1,value:eventLoopUtilization},getEntries:{configurable:!0,enumerable:!1,value:getEntries},getEntriesByName:{configurable:!0,enumerable:!1,value:getEntriesByName},getEntriesByType:{configurable:!0,enumerable:!1,value:getEntriesByType},mark:{configurable:!0,enumerable:!1,value:mark},measure:{configurable:!0,enumerable:!1,value:measure},nodeTiming:{configurable:!0,enumerable:!1,value:nodeTiming},now:{configurable:!0,enumerable:!1,value:now},timerify:{configurable:!0,enumerable:!1,value:timerify},timeOrigin:{configurable:!0,enumerable:!0,value:getTimeOriginTimestamp()},toJSON:{configurable:!0,enumerable:!0,value:toJSON}});function refreshTimeOrigin(){ObjectDefineProperty(Performance.prototype,"timeOrigin",{configurable:!0,enumerable:!0,value:getTimeOriginTimestamp()})}module.exports={InternalPerformance,refreshTimeOrigin};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectSetPrototypeOf,Symbol}=primordials,{codes:{ERR_ILLEGAL_CONSTRUCTOR}}=require("internal/errors"),{customInspectSymbol:kInspect}=require("internal/util"),{inspect}=require("util"),kName=Symbol("kName"),kType=Symbol("kType"),kStart=Symbol("kStart"),kDuration=Symbol("kDuration"),kDetail=Symbol("kDetail"),kBufferNext=Symbol("kBufferNext");function isPerformanceEntry(e){return e?.[kName]!==void 0}class PerformanceEntry{constructor(){throw new ERR_ILLEGAL_CONSTRUCTOR}get name(){return this[kName]}get entryType(){return this[kType]}get startTime(){return this[kStart]}get duration(){return this[kDuration]}get detail(){return this[kDetail]}[kInspect](r,t){if(r<0)return this;const n={...t,depth:t.depth==null?null:t.depth-1};return`${this.constructor.name} ${inspect(this.toJSON(),n)}`}toJSON(){return{name:this.name,entryType:this.entryType,startTime:this.startTime,duration:this.duration,detail:this.detail}}}class InternalPerformanceEntry{constructor(r,t,n,s,i){this[kName]=r,this[kType]=t,this[kStart]=n,this[kDuration]=s,this[kDetail]=i,this[kBufferNext]=null}}InternalPerformanceEntry.prototype.constructor=PerformanceEntry,ObjectSetPrototypeOf(InternalPerformanceEntry.prototype,PerformanceEntry.prototype),module.exports={InternalPerformanceEntry,PerformanceEntry,isPerformanceEntry,kBufferNext};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{FunctionPrototypeBind,ObjectDefineProperties,MathCeil,ReflectApply,ReflectConstruct,Symbol}=primordials,{InternalPerformanceEntry}=require("internal/perf/performance_entry"),{now}=require("internal/perf/utils"),{validateFunction,validateObject}=require("internal/validators"),{isHistogram}=require("internal/histogram"),{isConstructor}=internalBinding("util"),{codes:{ERR_INVALID_ARG_TYPE}}=require("internal/errors"),{enqueue}=require("internal/perf/observe"),kTimerified=Symbol("kTimerified");function processComplete(e,o,n,l){const t=now()-o;l!==void 0&&l.record(MathCeil(t*1e6));const r=new InternalPerformanceEntry(e,"function",o,t,n);for(let i=0;i<n.length;i++)r[i]=n[i];enqueue(r)}function timerify(e,o={}){validateFunction(e,"fn"),validateObject(o,"options");const{histogram:n}=o;if(n!==void 0&&(!isHistogram(n)||typeof n.record!="function"))throw new ERR_INVALID_ARG_TYPE("options.histogram","RecordableHistogram",n);if(e[kTimerified])return e[kTimerified];const l=isConstructor(e);function t(...r){const i=now(),u=l?ReflectConstruct(e,r,e):ReflectApply(e,this,r);return!l&&typeof u?.finally=="function"?u.finally(FunctionPrototypeBind(processComplete,u,e.name,i,r,n)):(processComplete(e.name,i,r,n),u)}return ObjectDefineProperties(t,{[kTimerified]:{configurable:!1,enumerable:!1,value:t},length:{configurable:!1,enumerable:!0,value:e.length},name:{configurable:!1,enumerable:!0,value:`timerified ${e.name}`}}),ObjectDefineProperties(e,{[kTimerified]:{configurable:!1,enumerable:!1,value:t}}),t}module.exports=timerify;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{SafeMap,SafeSet,SafeArrayIterator,SymbolToStringTag}=primordials,{InternalPerformanceEntry}=require("internal/perf/performance_entry"),{now}=require("internal/perf/utils"),{enqueue}=require("internal/perf/observe"),nodeTiming=require("internal/perf/nodetiming"),{validateNumber,validateObject,validateString}=require("internal/validators"),{codes:{ERR_INVALID_ARG_VALUE,ERR_PERFORMANCE_INVALID_TIMESTAMP,ERR_PERFORMANCE_MEASURE_INVALID_OPTIONS}}=require("internal/errors"),{structuredClone,lazyDOMException}=require("internal/util"),markTimings=new SafeMap,nodeTimingReadOnlyAttributes=new SafeSet(new SafeArrayIterator(["nodeStart","v8Start","environment","loopStart","loopExit","bootstrapComplete"]));function getMark(e){if(e===void 0)return;if(typeof e=="number"){if(e<0)throw new ERR_PERFORMANCE_INVALID_TIMESTAMP(e);return e}if(e=`${e}`,nodeTimingReadOnlyAttributes.has(e))return nodeTiming[e];const r=markTimings.get(e);if(r===void 0)throw lazyDOMException(`The "${e}" performance mark has not been set`,"SyntaxError");return r}class PerformanceMark extends InternalPerformanceEntry{constructor(r,n){if(r=`${r}`,nodeTimingReadOnlyAttributes.has(r))throw new ERR_INVALID_ARG_VALUE("name",r);n??={},validateObject(n,"options");const t=n.startTime??now();if(validateNumber(t,"startTime"),t<0)throw new ERR_PERFORMANCE_INVALID_TIMESTAMP(t);markTimings.set(r,t);let i=n.detail;i=i!=null?structuredClone(i):null;super(r,"mark",t,0,i)}get[SymbolToStringTag](){return"PerformanceMark"}}class PerformanceMeasure extends InternalPerformanceEntry{constructor(r,n,t,i){super(r,"measure",n,t,i)}get[SymbolToStringTag](){return"PerformanceMeasure"}}function mark(e,r={}){const n=new PerformanceMark(e,r);return enqueue(n),n}function calculateStartDuration(e,r){e??=0;let n,t,i,o=!1;if(typeof e=="object"&&({start:n,end:t,duration:i}=e,o=n!==void 0||t!==void 0),o){if(r!==void 0)throw new ERR_PERFORMANCE_MEASURE_INVALID_OPTIONS("endMark must not be specified");if(n===void 0&&t===void 0)throw new ERR_PERFORMANCE_MEASURE_INVALID_OPTIONS("One of options.start or options.end is required");if(n!==void 0&&t!==void 0&&i!==void 0)throw new ERR_PERFORMANCE_MEASURE_INVALID_OPTIONS("Must not have options.start, options.end, and options.duration specified")}return r!==void 0?t=getMark(r):o&&t!==void 0?t=getMark(t):o&&n!==void 0&&i!==void 0?t=getMark(n)+getMark(i):t=now(),typeof e=="string"?n=getMark(e):o&&n!==void 0?n=getMark(n):o&&i!==void 0&&t!==void 0?n=t-getMark(i):n=0,i=t-n,{start:n,duration:i}}function measure(e,r,n){validateString(e,"name");const{start:t,duration:i}=calculateStartDuration(r,n);let o=r?.detail;o=o!=null?structuredClone(o):null;const u=new PerformanceMeasure(e,t,i,o);return enqueue(u),u}function clearMarkTimings(e){if(e!==void 0){if(e=`${e}`,nodeTimingReadOnlyAttributes.has(e))throw new ERR_INVALID_ARG_VALUE("name",e);markTimings.delete(e);return}markTimings.clear()}module.exports={PerformanceMark,PerformanceMeasure,clearMarkTimings,mark,measure};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const binding=internalBinding("performance"),{milestones,getTimeOrigin}=binding;let timeOrigin=getTimeOrigin();function now(){const n=process.hrtime();return n[0]*1e3+n[1]/1e6-timeOrigin}function getMilestoneTimestamp(n){const e=milestones[n];return e===-1?e:e/1e6-timeOrigin}function refreshTimeOrigin(){timeOrigin=getTimeOrigin()}module.exports={now,getMilestoneTimestamp,refreshTimeOrigin};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,ArrayPrototypeSort,ObjectCreate,ObjectEntries,ObjectFreeze,ObjectKeys,ObjectSetPrototypeOf,RegExpPrototypeExec,RegExpPrototypeTest,SafeMap,SafeSet,StringPrototypeEndsWith,StringPrototypeReplace,Symbol,uncurryThis}=primordials,{ERR_MANIFEST_ASSERT_INTEGRITY,ERR_MANIFEST_INVALID_RESOURCE_FIELD,ERR_MANIFEST_INVALID_SPECIFIER,ERR_MANIFEST_UNKNOWN_ONERROR}=require("internal/errors").codes;let debug=require("internal/util/debuglog").debuglog("policy",e=>{debug=e});const SRI=require("internal/policy/sri"),crypto=require("crypto"),{Buffer}=require("buffer"),{URL}=require("internal/url"),{createHash,timingSafeEqual}=crypto,HashUpdate=uncurryThis(crypto.Hash.prototype.update),HashDigest=uncurryThis(crypto.Hash.prototype.digest),BufferToString=uncurryThis(Buffer.prototype.toString),kRelativeURLStringPattern=/^\.{0,2}\//,{getOptionValue}=require("internal/options"),shouldAbortOnUncaughtException=getOptionValue("--abort-on-uncaught-exception"),{abort,exit,_rawDebug}=process,kSpecialSchemes=new SafeSet(["file:","ftp:","http:","https:","ws:","wss:"]),kCascade=Symbol("cascade"),kFallThrough=Symbol("fall through");function REACTION_THROW(e){throw e}function REACTION_EXIT(e){REACTION_LOG(e),shouldAbortOnUncaughtException&&abort(),exit(1)}function REACTION_LOG(e){_rawDebug(e.stack)}class DependencyMapperInstance{href;#e;#t;#n;#r=!1;cascade;allowSameHREFScope;constructor(t,r,s=!1,n=!1){if(this.href=t,r===kFallThrough||r===void 0||r===null)this.#e=r,this.#t=void 0;else{const f=[];for(const{0:c}of ObjectEntries(r))if(StringPrototypeEndsWith(c,"*")){const i=RegExpPrototypeExec(/^([^*]*)\*([^*]*)$/);if(!i)throw new ERR_MANIFEST_INVALID_SPECIFIER(this.href,i+', pattern needs to have a singletrailing "*" in target');const l=i[1],o=i[2];f.push([i.slice(0,-1),[l,o]])}ArrayPrototypeSort(f,(c,i)=>c[0]<i[0]?-1:1),this.#e=r,this.#t=f}this.cascade=s,this.allowSameHREFScope=n,ObjectFreeze(this)}_resolveAlreadyNormalized(t,r,s){let n=this.#e;if(debug(this.href,"resolving",t),n===kFallThrough)return!0;if(n!==void 0&&typeof n=="object"){if(this.#r!==!0){const l=ObjectCreate(null);for(let o in n){const u=n[o];o=canonicalizeSpecifier(o,s.href),l[o]=u}ObjectFreeze(l),n=l,this.#e=l,this.#r=!0}if(debug(n),t in n){const l=searchDependencies(this.href,n[t],r);if(debug({to:l}),l===!0)return!0;let o;return parsedURLs&&parsedURLs.has(l)?o=parsedURLs.get(l):RegExpPrototypeTest(kRelativeURLStringPattern,l)?o=resolve(l,s.href):o=resolve(l),o}}const{cascade:f}=this;if(f!==!0)return null;let c=this.#n;return c===void 0&&(c=s.getScopeDependencyMapper(this.href,this.allowSameHREFScope),this.#n=c),c===null?null:c._resolveAlreadyNormalized(t,r,s)}}const kArbitraryDependencies=new DependencyMapperInstance("arbitrary dependencies",kFallThrough,!1,!0),kNoDependencies=new DependencyMapperInstance("no dependencies",null,!1,!0),insertDependencyMap=(e,t,r,s,n)=>{if(r!==void 0&&typeof r!="boolean")throw new ERR_MANIFEST_INVALID_RESOURCE_FIELD(e,"cascade");if(t===!0){n.set(e,kArbitraryDependencies);return}if(t==null){n.set(e,r?new DependencyMapperInstance(e,null,!0,s):kNoDependencies);return}if(objectButNotArray(t)){n.set(e,new DependencyMapperInstance(e,t,r,s));return}throw new ERR_MANIFEST_INVALID_RESOURCE_FIELD(e,"dependencies")};function findScopeHREF(e,t,r){let s;if(e!=="")if(RegExpPrototypeTest(/^[^:]*[:]$/,e))s=e;else{let n=new URL(e);const f=n.href;if(s=n.protocol,s==="blob:"&&n.origin!=="null"&&(n=new URL(n.origin),s=n.protocol),kSpecialSchemes.has(n.protocol)){StringPrototypeEndsWith(n.pathname,"/")||(n.pathname+="/");let c,i=n.href;do{if(t.has(i)&&(r||i!==f))return i;c=i,n=new URL("..",n),i=n.href}while(c!==i)}}return t.has(s)&&(r||s!==e)?s:t.has("")&&(r||e!=="")?"":null}class Manifest{#e;href;#t;#n=new SafeMap;#r=new SafeMap;#s=new SafeMap;#i=new SafeMap;constructor(t,r){this.href=r;const s=this.#s,n=this.#r,f=this.#n;let c=REACTION_THROW;if(objectButNotArray(t)&&"onerror"in t){const a=t.onerror;if(a!=="throw")if(a==="exit")c=REACTION_EXIT;else if(a==="log")c=REACTION_LOG;else throw new ERR_MANIFEST_UNKNOWN_ONERROR(a)}this.#t=c;const i=ObjectEntries(t.resources??ObjectCreate(null)),l=ObjectEntries(t.scopes??ObjectCreate(null)),o=t.dependencies??ObjectCreate(null);this.#e=new DependencyMapperInstance("default",o===!0?kFallThrough:o,!1);for(let a=0;a<i.length;a++){const{0:d,1:g}=i[a],{cascade:h,dependencies:w,integrity:y}=g,p=resolve(d,r).href;if(typeof y!="undefined")if(debug("Manifest contains integrity for resource %s",d),typeof y=="string")n.set(p,y);else if(y===!0)n.set(p,!0);else throw new ERR_MANIFEST_INVALID_RESOURCE_FIELD(p,"integrity");else n.set(p,h===!0?kCascade:!1);insertDependencyMap(p,w,h,!0,f)}const u=this.#i;for(let a=0;a<l.length;a++){const{0:d,1:g}=l[a],{cascade:h,dependencies:w,integrity:y}=g,p=emptyOrProtocolOrResolve(d,r);if(typeof y!="undefined")if(debug("Manifest contains integrity for scope %s",d),y===!0)u.set(p,!0);else throw new ERR_MANIFEST_INVALID_RESOURCE_FIELD(p,"integrity");else u.set(p,h===!0?kCascade:!1);insertDependencyMap(p,w,h,!1,s)}ObjectFreeze(this)}getDependencyMapper(t){const r=`${t}`,s=this.#n,n=(s.has(r)?s.get(r)??null:this.getScopeDependencyMapper(r,!0))??this.#e;return{resolve:(f,c)=>{const i=canonicalizeSpecifier(f,r),l=n._resolveAlreadyNormalized(i,c,this);return l===kFallThrough?!0:l},reaction:this.#t}}assertIntegrity(t,r){const s=`${t}`;debug("Checking integrity of %s",s);const n=new SafeMap,f=this.#r;function c(o){let u=f.get(o);if(u===!0)return!0;if(typeof u=="string"){const a=ObjectFreeze(SRI.parse(u));f.set(o,a),u=a}return u}if(f.has(s)){const o=c(s);if(o===!0)return!0;if(ArrayIsArray(o))for(let u=0;u<o.length;u++){const{algorithm:a,value:d}=o[u],g=createHash(a);HashUpdate(g,r,"utf8");const h=HashDigest(g,"buffer");if(h.length===d.length&&timingSafeEqual(h,d))return!0;n.set(a,BufferToString(h,"base64"))}if(o!==kCascade){const u=new ERR_MANIFEST_ASSERT_INTEGRITY(t,n);this.#t(u)}}let i=findScopeHREF(s,this.#i,!0);for(;i!==null;){if(this.#i.has(i)){const u=this.#i.get(i);if(u===!0)return!0;if(u!==kCascade)break}const o=findScopeHREF(i,this.#s,!1);if(!o)break;i=o}const l=new ERR_MANIFEST_ASSERT_INTEGRITY(t,n);this.#t(l)}getScopeDependencyMapper(t,r){if(t===null)return this.#e;const s=findScopeHREF(t,this.#s,r);return s===null?this.#e:this.#s.get(s)}}ObjectSetPrototypeOf(Manifest,null),ObjectSetPrototypeOf(Manifest.prototype,null),ObjectFreeze(Manifest),ObjectFreeze(Manifest.prototype),module.exports=ObjectFreeze({Manifest});function canonicalizeSpecifier(e,t){try{return RegExpPrototypeTest(kRelativeURLStringPattern,e)?resolve(e,t).href:resolve(e).href}catch{}return e}const emptyOrProtocolOrResolve=(e,t)=>e===""?"":StringPrototypeEndsWith(e,":")&&(e=StringPrototypeReplace(e,/^[\x00-\x1F\x20]|\x09\x0A\x0D|[\x00-\x1F\x20]$/g,""),RegExpPrototypeTest(/^[a-zA-Z][a-zA-Z+\-.]*:$/,e))?e:resolve(e,t).href;let parsedURLs;const resolve=(e,t)=>{if(parsedURLs=parsedURLs??new SafeMap,parsedURLs.has(e))return parsedURLs.get(e);if(RegExpPrototypeTest(kRelativeURLStringPattern,e)){const s=new URL(e,t);return parsedURLs.set(s.href,s),s}const r=new URL(e);return parsedURLs.set(e,r),r};function objectButNotArray(e){return e&&typeof e=="object"&&!ArrayIsArray(e)}function searchDependencies(e,t,r){if(objectButNotArray(t)){const s=ObjectKeys(t);for(let n=0;n<s.length;n++){const f=s[n];if(r.has(f)){const c=searchDependencies(e,t[f],r);if(c!=null)return c}}}else{if(typeof t=="string")return t;if(t===!0)return t;throw new ERR_MANIFEST_INVALID_RESOURCE_FIELD(e,"dependencies")}return null}
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototype,ObjectDefineProperty,ObjectFreeze,ObjectSeal,ObjectSetPrototypeOf,RegExp,RegExpPrototypeExec,RegExpPrototypeTest,StringPrototypeSlice}=primordials,{ERR_SRI_PARSE}=require("internal/errors").codes,kWSP="[\\x20\\x09]",kVCHAR="[\\x21-\\x7E]",kHASH_ALGO="sha(?:256|384|512)",kHASH_VALUE="[A-Za-z0-9+/]+[=]{0,2}",kHASH_EXPRESSION=`(${kHASH_ALGO})-(${kHASH_VALUE})`,kOPTION_EXPRESSION=`(?:${kVCHAR}*)`,kHASH_WITH_OPTIONS=`${kHASH_EXPRESSION}(?:[?](${kOPTION_EXPRESSION}))?`,kSRIPattern=RegExp(`(${kWSP}*)(?:${kHASH_WITH_OPTIONS})`,"g");ObjectSeal(kSRIPattern);const kAllWSP=RegExp(`^${kWSP}*$`);ObjectSeal(kAllWSP);const BufferFrom=require("buffer").Buffer.from,parse=t=>{let e=0,o;const n=[];for(;o=RegExpPrototypeExec(kSRIPattern,t);){if(o.index!==e)throw new ERR_SRI_PARSE(t,t[e],e);if(n.length>0&&o[1]==="")throw new ERR_SRI_PARSE(t,t[e],e);ObjectDefineProperty(n,n.length,{enumerable:!0,configurable:!0,value:ObjectFreeze({__proto__:null,algorithm:o[2],value:BufferFrom(o[3],"base64"),options:o[4]===void 0?null:o[4]})}),e+=o[0].length}if(e!==t.length&&!RegExpPrototypeTest(kAllWSP,StringPrototypeSlice(t,e)))throw new ERR_SRI_PARSE(t,t[e],e);return ObjectSetPrototypeOf(n,ArrayPrototype)};module.exports={parse};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ERR_VM_DYNAMIC_IMPORT_CALLBACK_MISSING}=require("internal/errors").codes,{ESMLoader}=require("internal/modules/esm/loader"),{hasUncaughtExceptionCaptureCallback}=require("internal/process/execution"),{pathToFileURL}=require("internal/url"),{getModuleFromWrap}=require("internal/vm/module");exports.initializeImportMetaObject=function(e,r){const{callbackMap:t}=internalBinding("module_wrap");if(t.has(e)){const{initializeImportMeta:n}=t.get(e);n!==void 0&&n(r,getModuleFromWrap(e)||e)}},exports.importModuleDynamicallyCallback=async function(e,r){const{callbackMap:t}=internalBinding("module_wrap");if(t.has(e)){const{importModuleDynamically:n}=t.get(e);if(n!==void 0)return n(r,getModuleFromWrap(e)||e)}throw new ERR_VM_DYNAMIC_IMPORT_CALLBACK_MISSING};const esmLoader=new ESMLoader;exports.esmLoader=esmLoader;async function initializeLoader(){const{getOptionValue:e}=require("internal/options"),r=e("--experimental-loader");if(!r.length)return;const{emitExperimentalWarning:t}=require("internal/util");t("--experimental-loader");let n;try{n=process.cwd()+"/"}catch{n="file:///"}const i=await new ESMLoader().import(r,pathToFileURL(n).href);await esmLoader.addCustomLoaders(i)}exports.loadESM=async function(r){try{await initializeLoader(),await r(esmLoader)}catch(t){if(hasUncaughtExceptionCaptureCallback()){process._fatalException(t);return}internalBinding("errors").triggerUncaughtException(t,!0)}};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{globalThis}=primordials,path=require("path"),{codes:{ERR_INVALID_ARG_TYPE,ERR_UNCAUGHT_EXCEPTION_CAPTURE_ALREADY_SET,ERR_EVAL_ESM_CANNOT_PRINT}}=require("internal/errors"),{executionAsyncId,clearDefaultTriggerAsyncId,clearAsyncIdStack,hasAsyncIdStack,afterHooksExist,emitAfter}=require("internal/async_hooks"),{shouldAbortOnUncaughtToggle}=internalBinding("util");function tryGetCwd(){try{return process.cwd()}catch{return path.dirname(process.execPath)}}function evalModule(e,t){if(t)throw new ERR_EVAL_ESM_CANNOT_PRINT;const{log:n}=require("internal/console/global"),{loadESM:r}=require("internal/process/esm_loader"),{handleMainPromise:o}=require("internal/modules/run_main");return o(r(async c=>{const{result:s}=await c.eval(e);t&&n(s)}))}function evalScript(e,t,n,r){const o=require("internal/modules/cjs/loader").Module,{kVmBreakFirstLineSymbol:c}=require("internal/util"),{pathToFileURL:s}=require("url"),a=tryGetCwd(),u=globalThis.module,i=new o(e);i.filename=path.join(a,e),i.paths=o._nodeModulePaths(a);const p=require("internal/process/esm_loader"),d=s(i.filename).href,h=`
    globalThis.module = module;
    globalThis.exports = exports;
    globalThis.__dirname = __dirname;
    globalThis.require = require;
    return (main) => main();
  `;globalThis.__filename=e;const g=i._compile(h,`${e}-wrapper`)(()=>require("vm").runInThisContext(t,{filename:e,displayErrors:!0,[c]:!!n,async importModuleDynamically(l){return(await p.esmLoader).import(l,d)}}));if(r){const{log:l}=require("internal/console/global");l(g)}u!==void 0&&(globalThis.module=u)}const exceptionHandlerState={captureFn:null,reportFlag:!1};function setUncaughtExceptionCaptureCallback(e){if(e===null){exceptionHandlerState.captureFn=e,shouldAbortOnUncaughtToggle[0]=1,process.report.reportOnUncaughtException=exceptionHandlerState.reportFlag;return}if(typeof e!="function")throw new ERR_INVALID_ARG_TYPE("fn",["Function","null"],e);if(exceptionHandlerState.captureFn!==null)throw new ERR_UNCAUGHT_EXCEPTION_CAPTURE_ALREADY_SET;exceptionHandlerState.captureFn=e,shouldAbortOnUncaughtToggle[0]=0,exceptionHandlerState.reportFlag=process.report.reportOnUncaughtException===!0,process.report.reportOnUncaughtException=!1}function hasUncaughtExceptionCaptureCallback(){return exceptionHandlerState.captureFn!==null}function noop(){}function createOnGlobalUncaughtException(){return(e,t)=>{if(clearDefaultTriggerAsyncId(),e==null||e.domain==null)try{const r=internalBinding("report");r!=null&&r.shouldReportOnUncaughtException()&&r.writeReport(typeof e?.message=="string"?e.message:"Exception","Exception",null,e||{})}catch{}const n=t?"unhandledRejection":"uncaughtException";if(process.emit("uncaughtExceptionMonitor",e,n),exceptionHandlerState.captureFn!==null)exceptionHandlerState.captureFn(e);else if(!process.emit("uncaughtException",e,n)){try{process._exiting||(process._exiting=!0,process.exitCode=1,process.emit("exit",1))}catch{}return!1}if(require("timers").setImmediate(noop),afterHooksExist())do emitAfter(executionAsyncId());while(hasAsyncIdStack());return clearAsyncIdStack(),!0}}function readStdin(e){process.stdin.setEncoding("utf8");let t="";process.stdin.on("data",n=>{t+=n}),process.stdin.on("end",()=>{e(t)})}module.exports={readStdin,tryGetCwd,evalModule,evalScript,onGlobalUncaughtException:createOnGlobalUncaughtException(),setUncaughtExceptionCaptureCallback,hasUncaughtExceptionCaptureCallback};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeEvery,ArrayPrototypeForEach,ArrayPrototypeIncludes,ArrayPrototypeMap,ArrayPrototypePush,ArrayPrototypeSplice,BigUint64Array,Float64Array,NumberMAX_SAFE_INTEGER,ObjectFreeze,ReflectApply,RegExpPrototypeTest,SafeArrayIterator,Set,SetPrototypeEntries,SetPrototypeValues,StringPrototypeEndsWith,StringPrototypeReplace,StringPrototypeSlice,StringPrototypeStartsWith,Symbol,SymbolIterator,Uint32Array}=primordials,{errnoException,codes:{ERR_ASSERTION,ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_OUT_OF_RANGE,ERR_UNKNOWN_SIGNAL}}=require("internal/errors"),format=require("internal/util/inspect").format,{validateArray,validateNumber,validateObject}=require("internal/validators"),constants=internalBinding("constants").os.signals,kInternal=Symbol("internal properties");function assert(a,u){if(!a)throw new ERR_ASSERTION(u||"assertion error")}function getFastAPIs(a){const{hrtime:u}=a.getFastAPIs(),c=new Uint32Array(u.buffer);function p(o){if(u.hrtime(),o!==void 0){if(validateArray(o,"time"),o.length!==2)throw new ERR_OUT_OF_RANGE("time",2,o.length);const g=c[0]*4294967296+c[1]-o[0],i=c[2]-o[1],r=i<0;return[r?g-1:g,r?i+1e9:i]}return[c[0]*4294967296+c[1],c[2]]}const l=new BigUint64Array(u.buffer,0,1);function y(){return u.hrtimeBigInt(),l[0]}return{hrtime:p,hrtimeBigInt:y}}function wrapProcessMethods(a){const{cpuUsage:u,memoryUsage:c,rss:p,resourceUsage:l}=a;function y(...e){a._rawDebug(ReflectApply(format,null,e))}const o=new Float64Array(2);function g(e){if(e){if(!i(e.user))throw validateObject(e,"prevValue"),validateNumber(e.user,"prevValue.user"),new ERR_INVALID_ARG_VALUE.RangeError("prevValue.user",e.user);if(!i(e.system))throw validateNumber(e.system,"prevValue.system"),new ERR_INVALID_ARG_VALUE.RangeError("prevValue.system",e.system)}return u(o),e?{user:o[0]-e.user,system:o[1]-e.system}:{user:o[0],system:o[1]}}function i(e){return typeof e=="number"&&e<=NumberMAX_SAFE_INTEGER&&e>=0}const r=new Float64Array(5);function t(){return c(r),{rss:r[0],heapTotal:r[1],heapUsed:r[2],external:r[3],arrayBuffers:r[4]}}t.rss=p;function s(e){(e||e===0)&&(process.exitCode=e),process._exiting||(process._exiting=!0,process.emit("exit",process.exitCode||0)),process.reallyExit(process.exitCode||0)}function h(e,f){let m;if(e!=(e|0))throw new ERR_INVALID_ARG_TYPE("pid","number",e);if(f===(f|0))m=process._kill(e,f);else if(f=f||"SIGTERM",constants[f])m=process._kill(e,constants[f]);else throw new ERR_UNKNOWN_SIGNAL(f);if(m)throw errnoException(m,"kill");return!0}const n=new Float64Array(16);function d(){return l(n),{userCPUTime:n[0],systemCPUTime:n[1],maxRSS:n[2],sharedMemorySize:n[3],unsharedDataSize:n[4],unsharedStackSize:n[5],minorPageFault:n[6],majorPageFault:n[7],swappedOut:n[8],fsRead:n[9],fsWrite:n[10],ipcSent:n[11],ipcReceived:n[12],signalsCount:n[13],voluntaryContextSwitches:n[14],involuntaryContextSwitches:n[15]}}return{_rawDebug:y,cpuUsage:g,resourceUsage:d,memoryUsage:t,kill:h,exit:s}}const replaceUnderscoresRegex=/_/g,leadingDashesRegex=/^--?/,trailingValuesRegex=/=.*$/;function buildAllowedFlags(){const{envSettings:{kAllowedInEnvironment:a},types:{kBoolean:u}}=internalBinding("options"),{options:c,aliases:p}=require("internal/options"),l=[];for(const{0:r,1:t}of c)if(t.envVarSettings===a&&(ArrayPrototypePush(l,r),t.type===u)){const s=`--no-${r.slice(2)}`;ArrayPrototypePush(l,s)}function y(r){if(!StringPrototypeStartsWith(r,"-")||r==="--")return!0;const t=p.get(r);return t?(t[0]===r&&ArrayPrototypeSplice(t,0,1),ArrayPrototypeEvery(t,y)):c.get(r).envVarSettings===a}for(const{0:r,1:t}of p)if(ArrayPrototypeEvery(t,y)){let s=r;StringPrototypeEndsWith(s,"=")&&(s=StringPrototypeSlice(s,0,s.length-1)),StringPrototypeEndsWith(s," <arg>")&&(s=StringPrototypeSlice(s,0,s.length-4)),ArrayPrototypePush(l,s)}const g=ArrayPrototypeMap(l,r=>StringPrototypeReplace(r,leadingDashesRegex,""));class i extends Set{constructor(t){super();this[kInternal]={array:t}}add(){return this}delete(){return!1}clear(){}has(t){return typeof t=="string"?(t=StringPrototypeReplace(t,replaceUnderscoresRegex,"-"),RegExpPrototypeTest(leadingDashesRegex,t)?(t=StringPrototypeReplace(t,trailingValuesRegex,""),ArrayPrototypeIncludes(this[kInternal].array,t)):ArrayPrototypeIncludes(g,t)):!1}entries(){return this[kInternal].set??=new Set(new SafeArrayIterator(this[kInternal].array)),SetPrototypeEntries(this[kInternal].set)}forEach(t,s=void 0){ArrayPrototypeForEach(this[kInternal].array,h=>ReflectApply(t,s,[h,h,this]))}get size(){return this[kInternal].array.length}values(){return this[kInternal].set??=new Set(new SafeArrayIterator(this[kInternal].array)),SetPrototypeValues(this[kInternal].set)}}return i.prototype.keys=i.prototype[SymbolIterator]=i.prototype.values,ObjectFreeze(i.prototype.constructor),ObjectFreeze(i.prototype),ObjectFreeze(new i(l))}let traceEventsAsyncHook;function toggleTraceCategoryState(a){a?(traceEventsAsyncHook||(traceEventsAsyncHook=require("internal/trace_events_async_hooks").createHook()),traceEventsAsyncHook.enable()):traceEventsAsyncHook&&traceEventsAsyncHook.disable()}module.exports={toggleTraceCategoryState,getFastAPIs,assert,buildAllowedFlags,wrapProcessMethods};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{JSONParse,ObjectFreeze,ReflectSetPrototypeOf}=primordials,{ERR_MANIFEST_TDZ}=require("internal/errors").codes,{Manifest}=require("internal/policy/manifest");let manifest,manifestSrc,manifestURL;module.exports=ObjectFreeze({__proto__:null,setup(e,n){if(manifestSrc=e,manifestURL=n,e===null){manifest=null;return}const r=JSONParse(e,(i,t)=>(t&&typeof t=="object"&&(ReflectSetPrototypeOf(t,null),ObjectFreeze(t)),t));manifest=new Manifest(r,n)},get manifest(){if(typeof manifest=="undefined")throw new ERR_MANIFEST_TDZ;return manifest},get src(){if(typeof manifestSrc=="undefined")throw new ERR_MANIFEST_TDZ;return manifestSrc},get url(){if(typeof manifestURL=="undefined")throw new ERR_MANIFEST_TDZ;return manifestURL},assertIntegrity(e,n){this.manifest.assertIntegrity(e,n)}});
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypePush,ArrayPrototypeShift,Error,ObjectDefineProperty,SafeWeakMap}=primordials,{tickInfo,promiseRejectEvents:{kPromiseRejectWithNoHandler,kPromiseHandlerAddedAfterReject,kPromiseResolveAfterResolved,kPromiseRejectAfterResolved},setPromiseRejectCallback}=internalBinding("task_queue"),{noSideEffectsToString,triggerUncaughtException}=internalBinding("errors"),{pushAsyncContext,popAsyncContext}=require("internal/async_hooks"),async_hooks=require("async_hooks"),{isErrorStackTraceLimitWritable}=require("internal/errors"),kHasRejectionToWarn=1,maybeUnhandledPromises=new SafeWeakMap,pendingUnhandledRejections=[],asyncHandledRejections=[];let lastPromiseId=0;const kIgnoreUnhandledRejections=0,kAlwaysWarnUnhandledRejections=1,kStrictUnhandledRejections=2,kThrowUnhandledRejections=3,kWarnWithErrorCodeUnhandledRejections=4;let unhandledRejectionsMode;function setHasRejectionToWarn(n){tickInfo[kHasRejectionToWarn]=n?1:0}function hasRejectionToWarn(){return tickInfo[kHasRejectionToWarn]===1}function getUnhandledRejectionsMode(){const{getOptionValue:n}=require("internal/options");switch(n("--unhandled-rejections")){case"none":return kIgnoreUnhandledRejections;case"warn":return kAlwaysWarnUnhandledRejections;case"strict":return kStrictUnhandledRejections;case"throw":return kThrowUnhandledRejections;case"warn-with-error-code":return kWarnWithErrorCodeUnhandledRejections;default:return kThrowUnhandledRejections}}function promiseRejectHandler(n,t,e){switch(unhandledRejectionsMode===void 0&&(unhandledRejectionsMode=getUnhandledRejectionsMode()),n){case kPromiseRejectWithNoHandler:unhandledRejection(t,e);break;case kPromiseHandlerAddedAfterReject:handledRejection(t);break;case kPromiseResolveAfterResolved:resolveError("resolve",t,e);break;case kPromiseRejectAfterResolved:resolveError("reject",t,e);break}}function resolveError(n,t,e){process.nextTick(()=>{process.emit("multipleResolves",n,t,e)})}function unhandledRejection(n,t){const e=async_hooks.executionAsyncId(),r=async_hooks.triggerAsyncId(),i=n,c=(o,s,a)=>{try{return pushAsyncContext(e,r,i),a.domain?a.domain.emit("error",o):process.emit("unhandledRejection",o,s)}finally{popAsyncContext(e)}};maybeUnhandledPromises.set(n,{reason:t,uid:++lastPromiseId,warned:!1,domain:process.domain,emit:c}),ArrayPrototypePush(pendingUnhandledRejections,n),setHasRejectionToWarn(!0)}function handledRejection(n){const t=maybeUnhandledPromises.get(n);if(t!==void 0&&(maybeUnhandledPromises.delete(n),t.warned)){const{uid:e}=t,r=new Error(`Promise rejection was handled asynchronously (rejection id: ${e})`);r.name="PromiseRejectionHandledWarning",r.id=e,ArrayPrototypePush(asyncHandledRejections,{promise:n,warning:r}),setHasRejectionToWarn(!0);return}maybeUnhandledPromises.size===0&&asyncHandledRejections.length===0&&setHasRejectionToWarn(!1)}const unhandledRejectionErrName="UnhandledPromiseRejectionWarning";function emitUnhandledRejectionWarning(n,t){const e=getErrorWithoutStack(unhandledRejectionErrName,`Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag \`--unhandled-rejections=strict\` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: ${n})`);try{t instanceof Error?(e.stack=t.stack,process.emitWarning(t.stack,unhandledRejectionErrName)):process.emitWarning(noSideEffectsToString(t),unhandledRejectionErrName)}catch{}process.emitWarning(e)}function processPromiseRejections(){let n=asyncHandledRejections.length>0;for(;asyncHandledRejections.length>0;){const{promise:e,warning:r}=ArrayPrototypeShift(asyncHandledRejections);process.emit("rejectionHandled",e)||process.emitWarning(r)}let t=pendingUnhandledRejections.length;for(;t--;){const e=ArrayPrototypeShift(pendingUnhandledRejections),r=maybeUnhandledPromises.get(e);if(r===void 0)continue;r.warned=!0;const{reason:i,uid:c,emit:o}=r;switch(unhandledRejectionsMode){case kStrictUnhandledRejections:{const s=i instanceof Error?i:generateUnhandledRejectionError(i);triggerUncaughtException(s,!0),o(i,e,r)||emitUnhandledRejectionWarning(c,i);break}case kIgnoreUnhandledRejections:{o(i,e,r);break}case kAlwaysWarnUnhandledRejections:{o(i,e,r),emitUnhandledRejectionWarning(c,i);break}case kThrowUnhandledRejections:{if(!o(i,e,r)){const a=i instanceof Error?i:generateUnhandledRejectionError(i);triggerUncaughtException(a,!0)}break}case kWarnWithErrorCodeUnhandledRejections:{o(i,e,r)||(emitUnhandledRejectionWarning(c,i),process.exitCode=1);break}}n=!0}return n||pendingUnhandledRejections.length!==0}function getErrorWithoutStack(n,t){const e=Error.stackTraceLimit;isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=0);const r=new Error(t);return isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=e),ObjectDefineProperty(r,"name",{value:n,enumerable:!1,writable:!0,configurable:!0}),r}function generateUnhandledRejectionError(n){const t=`This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason "${noSideEffectsToString(n)}".`,e=getErrorWithoutStack("UnhandledPromiseRejection",t);return e.code="ERR_UNHANDLED_REJECTION",e}function listenForRejections(){setPromiseRejectCallback(promiseRejectHandler)}module.exports={hasRejectionToWarn,setHasRejectionToWarn,listenForRejections,processPromiseRejections};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ERR_INVALID_ARG_TYPE,ERR_SYNTHETIC}=require("internal/errors").codes,{validateBoolean,validateObject,validateSignalName,validateString}=require("internal/validators"),nr=internalBinding("report"),{JSONParse}=primordials,report={writeReport(e,t){if(typeof e=="object"&&e!==null)t=e,e=void 0;else{if(e!==void 0&&typeof e!="string")throw new ERR_INVALID_ARG_TYPE("file","String",e);t===void 0?t=new ERR_SYNTHETIC:validateObject(t,"err")}return nr.writeReport("JavaScript API","API",e,t)},getReport(e){return e===void 0?e=new ERR_SYNTHETIC:validateObject(e,"err"),JSONParse(nr.getReport(e))},get directory(){return nr.getDirectory()},set directory(e){validateString(e,"directory"),nr.setDirectory(e)},get filename(){return nr.getFilename()},set filename(e){validateString(e,"filename"),nr.setFilename(e)},get compact(){return nr.getCompact()},set compact(e){validateBoolean(e,"compact"),nr.setCompact(e)},get signal(){return nr.getSignal()},set signal(e){validateSignalName(e,"signal"),removeSignalHandler(),addSignalHandler(e),nr.setSignal(e)},get reportOnFatalError(){return nr.shouldReportOnFatalError()},set reportOnFatalError(e){validateBoolean(e,"trigger"),nr.setReportOnFatalError(e)},get reportOnSignal(){return nr.shouldReportOnSignal()},set reportOnSignal(e){validateBoolean(e,"trigger"),nr.setReportOnSignal(e),removeSignalHandler(),addSignalHandler()},get reportOnUncaughtException(){return nr.shouldReportOnUncaughtException()},set reportOnUncaughtException(e){validateBoolean(e,"trigger"),nr.setReportOnUncaughtException(e)}};function addSignalHandler(e){nr.shouldReportOnSignal()&&(typeof e!="string"&&(e=nr.getSignal()),process.on(e,signalHandler))}function removeSignalHandler(){const e=nr.getSignal();e&&process.removeListener(e,signalHandler)}function signalHandler(e){nr.writeReport(e,"Signal",null,"")}module.exports={addSignalHandler,report};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{FunctionPrototypeBind,SafeMap}=primordials,{errnoException}=require("internal/errors"),{signals}=internalBinding("constants").os;let Signal;const signalWraps=new SafeMap;function isSignal(n){return typeof n=="string"&&signals[n]!==void 0}function startListeningIfSignal(n){if(isSignal(n)&&!signalWraps.has(n)){Signal===void 0&&(Signal=internalBinding("signal_wrap").Signal);const i=new Signal;i.unref(),i.onsignal=FunctionPrototypeBind(process.emit,process,n,n);const t=signals[n],s=i.start(t);if(s)throw i.close(),errnoException(s,"uv_signal_start");signalWraps.set(n,i)}}function stopListeningIfSignal(n){const i=signalWraps.get(n);i!==void 0&&process.listenerCount(n)===0&&(i.close(),signalWraps.delete(n))}module.exports={startListeningIfSignal,stopListeningIfSignal};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Array,FunctionPrototypeBind}=primordials,{tickInfo,runMicrotasks,setTickCallback,enqueueMicrotask}=internalBinding("task_queue"),{setHasRejectionToWarn,hasRejectionToWarn,listenForRejections,processPromiseRejections}=require("internal/process/promises"),{getDefaultTriggerAsyncId,newAsyncId,initHooksExist,destroyHooksExist,emitInit,emitBefore,emitAfter,emitDestroy,symbols:{async_id_symbol,trigger_async_id_symbol}}=require("internal/async_hooks"),FixedQueue=require("internal/fixed_queue"),{validateCallback,validateFunction}=require("internal/validators"),{AsyncResource}=require("async_hooks"),kHasTickScheduled=0;function hasTickScheduled(){return tickInfo[kHasTickScheduled]===1}function setHasTickScheduled(e){tickInfo[kHasTickScheduled]=e?1:0}const queue=new FixedQueue;function runNextTicks(){!hasTickScheduled()&&!hasRejectionToWarn()&&runMicrotasks(),!(!hasTickScheduled()&&!hasRejectionToWarn())&&processTicksAndRejections()}function processTicksAndRejections(){let e;do{for(;e=queue.shift();){const t=e[async_id_symbol];emitBefore(t,e[trigger_async_id_symbol],e);try{const n=e.callback;if(e.args===void 0)n();else{const s=e.args;switch(s.length){case 1:n(s[0]);break;case 2:n(s[0],s[1]);break;case 3:n(s[0],s[1],s[2]);break;case 4:n(s[0],s[1],s[2],s[3]);break;default:n(...s)}}}finally{destroyHooksExist()&&emitDestroy(t)}emitAfter(t)}runMicrotasks()}while(!queue.isEmpty()||processPromiseRejections());setHasTickScheduled(!1),setHasRejectionToWarn(!1)}function nextTick(e){if(validateCallback(e),process._exiting)return;let t;switch(arguments.length){case 1:break;case 2:t=[arguments[1]];break;case 3:t=[arguments[1],arguments[2]];break;case 4:t=[arguments[1],arguments[2],arguments[3]];break;default:t=new Array(arguments.length-1);for(let c=1;c<arguments.length;c++)t[c-1]=arguments[c]}queue.isEmpty()&&setHasTickScheduled(!0);const n=newAsyncId(),s=getDefaultTriggerAsyncId(),r={[async_id_symbol]:n,[trigger_async_id_symbol]:s,callback:e,args:t};initHooksExist()&&emitInit(n,"TickObject",s,r),queue.push(r)}function runMicrotask(){this.runInAsyncScope(()=>{const e=this.callback;try{e()}finally{this.emitDestroy()}})}const defaultMicrotaskResourceOpts={requireManualDestroy:!0};function queueMicrotask(e){validateFunction(e,"callback");const t=new AsyncResource("Microtask",defaultMicrotaskResourceOpts);t.callback=e,enqueueMicrotask(FunctionPrototypeBind(runMicrotask,t))}module.exports={setupTaskQueue(){return listenForRejections(),setTickCallback(processTicksAndRejections),{nextTick,runNextTicks}},queueMicrotask};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,Error,ErrorPrototypeToString,ErrorCaptureStackTrace,String}=primordials,assert=require("internal/assert"),{codes:{ERR_INVALID_ARG_TYPE},isErrorStackTraceLimitWritable}=require("internal/errors"),{validateString}=require("internal/validators");let fs,fd,warningFile,options;function lazyOption(){return warningFile===void 0&&(options=require("internal/options"),options.getOptionValue("--diagnostic-dir")!==""&&(warningFile=options.getOptionValue("--diagnostic-dir")),options.getOptionValue("--redirect-warnings")!==""?warningFile=options.getOptionValue("--redirect-warnings"):warningFile=""),warningFile}let error;function writeOut(e){error||(error=require("internal/console/global").error),error(e)}function writeToFile(e){if(fd===void 0){fs=require("fs");try{fd=fs.openSync(warningFile,"a")}catch{return writeOut(e)}process.on("exit",()=>{try{fs.closeSync(fd)}catch{}})}fs.appendFile(fd,`${e}
`,r=>{r&&writeOut(e)})}function doEmitWarning(e){process.emit("warning",e)}let traceWarningHelperShown=!1;function onWarning(e){if(!(e instanceof Error))return;const r=e.name==="DeprecationWarning";if(r&&process.noDeprecation)return;const t=process.traceProcessWarnings||r&&process.traceDeprecation;let i=`(${process.release.name}:${process.pid}) `;if(e.code&&(i+=`[${e.code}] `),t&&e.stack?i+=`${e.stack}`:i+=typeof e.toString=="function"?`${e.toString()}`:ErrorPrototypeToString(e),typeof e.detail=="string"&&(i+=`
${e.detail}`),!t&&!traceWarningHelperShown){const o=r?"--trace-deprecation":"--trace-warnings";i+=`
(Use \`${require("path").basename(process.argv0||"node",".exe")} ${o} ...\` to show where the warning was created)`,traceWarningHelperShown=!0}if(lazyOption())return writeToFile(i);writeOut(i)}function emitWarning(e,r,t,i){let n;if(r!==null&&typeof r=="object"&&!ArrayIsArray(r)?(i=r.ctor,t=r.code,typeof r.detail=="string"&&(n=r.detail),r=r.type||"Warning"):typeof r=="function"&&(i=r,t=void 0,r="Warning"),r!==void 0&&validateString(r,"type"),typeof t=="function"?(i=t,t=void 0):t!==void 0&&validateString(t,"code"),typeof e=="string")e=createWarningObject(e,r,t,i,n);else if(!(e instanceof Error))throw new ERR_INVALID_ARG_TYPE("warning",["Error","string"],e);if(e.name==="DeprecationWarning"){if(process.noDeprecation)return;if(process.throwDeprecation)return process.nextTick(()=>{throw e})}process.nextTick(doEmitWarning,e)}function emitWarningSync(e){process.emit("warning",createWarningObject(e))}function createWarningObject(e,r,t,i,n){assert(typeof e=="string");const o=Error.stackTraceLimit;return isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=0),e=new Error(e),isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=o),e.name=String(r||"Warning"),t!==void 0&&(e.code=t),n!==void 0&&(e.detail=n),ErrorCaptureStackTrace(e,i||process.emitWarning),e}module.exports={emitWarning,emitWarningSync,onWarning};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{codes:{ERR_WORKER_UNSUPPORTED_OPERATION}}=require("internal/errors");function unavailable(r){function e(){throw new ERR_WORKER_UNSUPPORTED_OPERATION(r)}return e.disabled=!0,e}module.exports={unavailable};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{NumberIsNaN}=primordials,{codes:{ERR_INVALID_ARG_VALUE,ERR_INVALID_CURSOR_POS}}=require("internal/errors"),{validateCallback}=require("internal/validators"),{CSI}=require("internal/readline/utils"),{kClearLine,kClearScreenDown,kClearToLineBeginning,kClearToLineEnd}=CSI;function cursorTo(r,e,n,i){if(i!==void 0&&validateCallback(i),typeof n=="function"&&(i=n,n=void 0),NumberIsNaN(e))throw new ERR_INVALID_ARG_VALUE("x",e);if(NumberIsNaN(n))throw new ERR_INVALID_ARG_VALUE("y",n);if(r==null||typeof e!="number"&&typeof n!="number")return typeof i=="function"&&process.nextTick(i,null),!0;if(typeof e!="number")throw new ERR_INVALID_CURSOR_POS;const t=typeof n!="number"?CSI`${e+1}G`:CSI`${n+1};${e+1}H`;return r.write(t,i)}function moveCursor(r,e,n,i){if(i!==void 0&&validateCallback(i),r==null||!(e||n))return typeof i=="function"&&process.nextTick(i,null),!0;let t="";return e<0?t+=CSI`${-e}D`:e>0&&(t+=CSI`${e}C`),n<0?t+=CSI`${-n}A`:n>0&&(t+=CSI`${n}B`),r.write(t,i)}function clearLine(r,e,n){if(n!==void 0&&validateCallback(n),r==null)return typeof n=="function"&&process.nextTick(n,null),!0;const i=e<0?kClearToLineBeginning:e>0?kClearToLineEnd:kClearLine;return r.write(i,n)}function clearScreenDown(r,e){return e!==void 0&&validateCallback(e),r==null?(typeof e=="function"&&process.nextTick(e,null),!0):r.write(kClearScreenDown,e)}module.exports={clearLine,clearScreenDown,cursorTo,moveCursor};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{SafeStringIterator,Symbol}=primordials,{charLengthAt,CSI,emitKeys}=require("internal/readline/utils"),{kSawKeyPress}=require("internal/readline/interface"),{clearTimeout,setTimeout}=require("timers"),{kEscape}=CSI,{StringDecoder}=require("string_decoder"),KEYPRESS_DECODER=Symbol("keypress-decoder"),ESCAPE_DECODER=Symbol("escape-decoder"),ESCAPE_CODE_TIMEOUT=500;function emitKeypressEvents(e,t={}){if(e[KEYPRESS_DECODER])return;e[KEYPRESS_DECODER]=new StringDecoder("utf8"),e[ESCAPE_DECODER]=emitKeys(e),e[ESCAPE_DECODER].next();const u=()=>e[ESCAPE_DECODER].next(""),{escapeCodeTimeout:d=ESCAPE_CODE_TIMEOUT}=t;let l;function o(r){if(e.listenerCount("keypress")>0){const n=e[KEYPRESS_DECODER].write(r);if(n){clearTimeout(l),t[kSawKeyPress]=charLengthAt(n,0)===n.length,t.isCompletionEnabled=!1;let s=0;for(const c of new SafeStringIterator(n)){s+=c.length,s===n.length&&(t.isCompletionEnabled=!0);try{e[ESCAPE_DECODER].next(c),s===n.length&&c===kEscape&&(l=setTimeout(u,d))}catch(E){throw e[ESCAPE_DECODER]=emitKeys(e),e[ESCAPE_DECODER].next(),E}}}}else e.removeListener("data",o),e.on("newListener",i)}function i(r){r==="keypress"&&(e.on("data",o),e.removeListener("newListener",i))}e.listenerCount("keypress")>0?e.on("data",o):e.on("newListener",i)}module.exports=emitKeypressEvents;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayFrom,ArrayPrototypeFilter,ArrayPrototypeIndexOf,ArrayPrototypeJoin,ArrayPrototypeMap,ArrayPrototypePop,ArrayPrototypeReverse,ArrayPrototypeSplice,ArrayPrototypeUnshift,DateNow,FunctionPrototypeCall,MathCeil,MathFloor,MathMax,MathMaxApply,NumberIsFinite,NumberIsNaN,ObjectSetPrototypeOf,RegExpPrototypeTest,StringPrototypeCodePointAt,StringPrototypeEndsWith,StringPrototypeMatch,StringPrototypeRepeat,StringPrototypeReplace,StringPrototypeSlice,StringPrototypeSplit,StringPrototypeStartsWith,StringPrototypeTrim,Symbol,SymbolAsyncIterator,SafeStringIterator}=primordials,{codes}=require("internal/errors"),{ERR_INVALID_ARG_VALUE}=codes,{validateAbortSignal,validateArray,validateString,validateUint32}=require("internal/validators"),{inspect,getStringWidth,stripVTControlCharacters}=require("internal/util/inspect"),EventEmitter=require("events"),{charLengthAt,charLengthLeft,commonPrefix,kSubstringSearch}=require("internal/readline/utils");let emitKeypressEvents;const{clearScreenDown,cursorTo,moveCursor}=require("internal/readline/callbacks"),{StringDecoder}=require("string_decoder");let Readable;const kHistorySize=30,kMincrlfDelay=100,lineEnding=/\r?\n|\r(?!\n)/,kLineObjectStream=Symbol("line object stream"),kQuestionCancel=Symbol("kQuestionCancel"),ESCAPE_CODE_TIMEOUT=500,kAddHistory=Symbol("_addHistory"),kDecoder=Symbol("_decoder"),kDeleteLeft=Symbol("_deleteLeft"),kDeleteLineLeft=Symbol("_deleteLineLeft"),kDeleteLineRight=Symbol("_deleteLineRight"),kDeleteRight=Symbol("_deleteRight"),kDeleteWordLeft=Symbol("_deleteWordLeft"),kDeleteWordRight=Symbol("_deleteWordRight"),kGetDisplayPos=Symbol("_getDisplayPos"),kHistoryNext=Symbol("_historyNext"),kHistoryPrev=Symbol("_historyPrev"),kInsertString=Symbol("_insertString"),kLine=Symbol("_line"),kLine_buffer=Symbol("_line_buffer"),kMoveCursor=Symbol("_moveCursor"),kNormalWrite=Symbol("_normalWrite"),kOldPrompt=Symbol("_oldPrompt"),kOnLine=Symbol("_onLine"),kPreviousKey=Symbol("_previousKey"),kPrompt=Symbol("_prompt"),kQuestionCallback=Symbol("_questionCallback"),kRefreshLine=Symbol("_refreshLine"),kSawKeyPress=Symbol("_sawKeyPress"),kSawReturnAt=Symbol("_sawReturnAt"),kSetRawMode=Symbol("_setRawMode"),kTabComplete=Symbol("_tabComplete"),kTabCompleter=Symbol("_tabCompleter"),kTtyWrite=Symbol("_ttyWrite"),kWordLeft=Symbol("_wordLeft"),kWordRight=Symbol("_wordRight"),kWriteToOutput=Symbol("_writeToOutput");function InterfaceConstructor(r,e,t,s){this[kSawReturnAt]=0,this.isCompletionEnabled=!0,this[kSawKeyPress]=!1,this[kPreviousKey]=null,this.escapeCodeTimeout=ESCAPE_CODE_TIMEOUT,this.tabSize=8,FunctionPrototypeCall(EventEmitter,this);let i,n,o=!1,l,f="> ",a;if(r?.input){if(e=r.output,t=r.completer,s=r.terminal,i=r.history,n=r.historySize,a=r.signal,r.tabSize!==void 0&&(validateUint32(r.tabSize,"tabSize",!0),this.tabSize=r.tabSize),o=r.removeHistoryDuplicates,r.prompt!==void 0&&(f=r.prompt),r.escapeCodeTimeout!==void 0)if(NumberIsFinite(r.escapeCodeTimeout))this.escapeCodeTimeout=r.escapeCodeTimeout;else throw new ERR_INVALID_ARG_VALUE("input.escapeCodeTimeout",this.escapeCodeTimeout);a&&validateAbortSignal(a,"options.signal"),l=r.crlfDelay,r=r.input}if(t!==void 0&&typeof t!="function")throw new ERR_INVALID_ARG_VALUE("completer",t);if(i===void 0?i=[]:validateArray(i,"history"),n===void 0&&(n=kHistorySize),typeof n!="number"||NumberIsNaN(n)||n<0)throw new ERR_INVALID_ARG_VALUE.RangeError("historySize",n);s===void 0&&e!=null&&(s=!!e.isTTY);const h=this;this.line="",this[kSubstringSearch]=null,this.output=e,this.input=r,this.history=i,this.historySize=n,this.removeHistoryDuplicates=!!o,this.crlfDelay=l?MathMax(kMincrlfDelay,l):kMincrlfDelay,this.completer=t,this.setPrompt(f),this.terminal=!!s;function u(c){h.emit("error",c)}function d(c){h[kNormalWrite](c)}function y(){typeof h[kLine_buffer]=="string"&&h[kLine_buffer].length>0&&h.emit("line",h[kLine_buffer]),h.close()}function m(){typeof h.line=="string"&&h.line.length>0&&h.emit("line",h.line),h.close()}function g(c,p){if(h[kTtyWrite](c,p),p&&p.sequence){const k=StringPrototypeCodePointAt(p.sequence,0);k>=55296&&k<=57343&&h[kRefreshLine]()}}function b(){h[kRefreshLine]()}if(this[kLineObjectStream]=void 0,r.on("error",u),this.terminal){let c=function(){r.removeListener("keypress",g),r.removeListener("error",u),r.removeListener("end",m),e!=null&&e.removeListener("resize",b)};emitKeypressEvents??=require("internal/readline/emitKeypressEvents"),emitKeypressEvents(r,this),r.on("keypress",g),r.on("end",m),this[kSetRawMode](!0),this.terminal=!0,this.cursor=0,this.historyIndex=-1,e!=null&&e.on("resize",b),h.once("close",c)}else{let c=function(){r.removeListener("data",d),r.removeListener("error",u),r.removeListener("end",y)};r.on("data",d),r.on("end",y),h.once("close",c),this[kDecoder]=new StringDecoder("utf8")}if(a){const c=()=>h.close();a.aborted?process.nextTick(c):(a.addEventListener("abort",c,{once:!0}),h.once("close",()=>a.removeEventListener("abort",c)))}this.line="",r.resume()}ObjectSetPrototypeOf(InterfaceConstructor.prototype,EventEmitter.prototype),ObjectSetPrototypeOf(InterfaceConstructor,EventEmitter);class Interface extends InterfaceConstructor{constructor(e,t,s,i){super(e,t,s,i)}get columns(){return this.output&&this.output.columns?this.output.columns:1/0}setPrompt(e){this[kPrompt]=e}getPrompt(){return this[kPrompt]}[kSetRawMode](e){const t=this.input.isRaw;return typeof this.input.setRawMode=="function"&&this.input.setRawMode(e),t}prompt(e){this.paused&&this.resume(),this.terminal&&process.env.TERM!=="dumb"?(e||(this.cursor=0),this[kRefreshLine]()):this[kWriteToOutput](this[kPrompt])}question(e,t){this[kQuestionCallback]?this.prompt():(this[kOldPrompt]=this[kPrompt],this.setPrompt(e),this[kQuestionCallback]=t,this.prompt())}[kOnLine](e){if(this[kQuestionCallback]){const t=this[kQuestionCallback];this[kQuestionCallback]=null,this.setPrompt(this[kOldPrompt]),t(e)}else this.emit("line",e)}[kQuestionCancel](){this[kQuestionCallback]&&(this[kQuestionCallback]=null,this.setPrompt(this[kOldPrompt]),this.clearLine())}[kWriteToOutput](e){validateString(e,"stringToWrite"),this.output!==null&&this.output!==void 0&&this.output.write(e)}[kAddHistory](){if(this.line.length===0)return"";if(this.historySize===0)return this.line;if(StringPrototypeTrim(this.line).length===0)return this.line;if(this.history.length===0||this.history[0]!==this.line){if(this.removeHistoryDuplicates){const t=ArrayPrototypeIndexOf(this.history,this.line);t!==-1&&ArrayPrototypeSplice(this.history,t,1)}ArrayPrototypeUnshift(this.history,this.line),this.history.length>this.historySize&&ArrayPrototypePop(this.history)}this.historyIndex=-1;const e=this.history[0];return this.emit("history",this.history),e}[kRefreshLine](){const e=this[kPrompt]+this.line,t=this[kGetDisplayPos](e),s=t.cols,i=t.rows,n=this.getCursorPos(),o=this.prevRows||0;o>0&&moveCursor(this.output,0,-o),cursorTo(this.output,0),clearScreenDown(this.output),this[kWriteToOutput](e),s===0&&this[kWriteToOutput](" "),cursorTo(this.output,n.cols);const l=i-n.rows;l>0&&moveCursor(this.output,0,-l),this.prevRows=n.rows}close(){this.closed||(this.pause(),this.terminal&&this[kSetRawMode](!1),this.closed=!0,this.emit("close"))}pause(){if(!this.paused)return this.input.pause(),this.paused=!0,this.emit("pause"),this}resume(){if(!!this.paused)return this.input.resume(),this.paused=!1,this.emit("resume"),this}write(e,t){this.paused&&this.resume(),this.terminal?this[kTtyWrite](e,t):this[kNormalWrite](e)}[kNormalWrite](e){if(e===void 0)return;let t=this[kDecoder].write(e);this[kSawReturnAt]&&DateNow()-this[kSawReturnAt]<=this.crlfDelay&&(t=StringPrototypeReplace(t,/^\n/,""),this[kSawReturnAt]=0);const s=RegExpPrototypeTest(lineEnding,t);if(this[kLine_buffer]&&(t=this[kLine_buffer]+t,this[kLine_buffer]=null),s){this[kSawReturnAt]=StringPrototypeEndsWith(t,"\r")?DateNow():0;const i=StringPrototypeSplit(t,lineEnding);t=ArrayPrototypePop(i),this[kLine_buffer]=t;for(let n=0;n<i.length;n++)this[kOnLine](i[n])}else t&&(this[kLine_buffer]=t)}[kInsertString](e){if(this.cursor<this.line.length){const t=StringPrototypeSlice(this.line,0,this.cursor),s=StringPrototypeSlice(this.line,this.cursor,this.line.length);this.line=t+e+s,this.cursor+=e.length,this[kRefreshLine]()}else this.line+=e,this.cursor+=e.length,this.getCursorPos().cols===0?this[kRefreshLine]():this[kWriteToOutput](e)}async[kTabComplete](e){this.pause();const t=StringPrototypeSlice(this.line,0,this.cursor);let s;try{s=await this.completer(t)}catch(i){this[kWriteToOutput](`Tab completion error: ${inspect(i)}`);return}finally{this.resume()}this[kTabCompleter](e,s)}[kTabCompleter](e,{0:t,1:s}){if(!t||t.length===0)return;const i=commonPrefix(ArrayPrototypeFilter(t,u=>u!==""));if(StringPrototypeStartsWith(i,s)&&i.length>s.length){this[kInsertString](StringPrototypeSlice(i,s.length));return}else if(!StringPrototypeStartsWith(s,i)){this.line=StringPrototypeSlice(this.line,0,this.cursor-s.length)+i+StringPrototypeSlice(this.line,this.cursor,this.line.length),this.cursor=this.cursor-s.length+i.length,this._refreshLine();return}if(!e)return;const n=ArrayPrototypeMap(t,u=>getStringWidth(u)),o=MathMaxApply(n)+2;let l=MathFloor(this.columns/o)||1;l===1/0&&(l=1);let f=`\r
`,a=0,h=0;for(let u=0;u<t.length;u++){const d=t[u];d===""||a===l?(f+=`\r
`,a=0,h=0):f+=StringPrototypeRepeat(" ",h),d!==""?(f+=d,h=o-n[u],a++):f+=`\r
`}a!==0&&(f+=`\r
\r
`),this[kWriteToOutput](f),this[kRefreshLine]()}[kWordLeft](){if(this.cursor>0){const e=StringPrototypeSlice(this.line,0,this.cursor),t=ArrayPrototypeJoin(ArrayPrototypeReverse(ArrayFrom(e)),""),s=StringPrototypeMatch(t,/^\s*(?:[^\w\s]+|\w+)?/);this[kMoveCursor](-s[0].length)}}[kWordRight](){if(this.cursor<this.line.length){const e=StringPrototypeSlice(this.line,this.cursor),t=StringPrototypeMatch(e,/^(?:\s+|[^\w\s]+|\w+)\s*/);this[kMoveCursor](t[0].length)}}[kDeleteLeft](){if(this.cursor>0&&this.line.length>0){const e=charLengthLeft(this.line,this.cursor);this.line=StringPrototypeSlice(this.line,0,this.cursor-e)+StringPrototypeSlice(this.line,this.cursor,this.line.length),this.cursor-=e,this[kRefreshLine]()}}[kDeleteRight](){if(this.cursor<this.line.length){const e=charLengthAt(this.line,this.cursor);this.line=StringPrototypeSlice(this.line,0,this.cursor)+StringPrototypeSlice(this.line,this.cursor+e,this.line.length),this[kRefreshLine]()}}[kDeleteWordLeft](){if(this.cursor>0){let e=StringPrototypeSlice(this.line,0,this.cursor);const t=ArrayPrototypeJoin(ArrayPrototypeReverse(ArrayFrom(e)),""),s=StringPrototypeMatch(t,/^\s*(?:[^\w\s]+|\w+)?/);e=StringPrototypeSlice(e,0,e.length-s[0].length),this.line=e+StringPrototypeSlice(this.line,this.cursor,this.line.length),this.cursor=e.length,this[kRefreshLine]()}}[kDeleteWordRight](){if(this.cursor<this.line.length){const e=StringPrototypeSlice(this.line,this.cursor),t=StringPrototypeMatch(e,/^(?:\s+|\W+|\w+)\s*/);this.line=StringPrototypeSlice(this.line,0,this.cursor)+StringPrototypeSlice(e,t[0].length),this[kRefreshLine]()}}[kDeleteLineLeft](){this.line=StringPrototypeSlice(this.line,this.cursor),this.cursor=0,this[kRefreshLine]()}[kDeleteLineRight](){this.line=StringPrototypeSlice(this.line,0,this.cursor),this[kRefreshLine]()}clearLine(){this[kMoveCursor](1/0),this[kWriteToOutput](`\r
`),this.line="",this.cursor=0,this.prevRows=0}[kLine](){const e=this[kAddHistory]();this.clearLine(),this[kOnLine](e)}[kHistoryNext](){if(this.historyIndex>=0){const e=this[kSubstringSearch]||"";let t=this.historyIndex-1;for(;t>=0&&(!StringPrototypeStartsWith(this.history[t],e)||this.line===this.history[t]);)t--;t===-1?this.line=e:this.line=this.history[t],this.historyIndex=t,this.cursor=this.line.length,this[kRefreshLine]()}}[kHistoryPrev](){if(this.historyIndex<this.history.length&&this.history.length){const e=this[kSubstringSearch]||"";let t=this.historyIndex+1;for(;t<this.history.length&&(!StringPrototypeStartsWith(this.history[t],e)||this.line===this.history[t]);)t++;t===this.history.length?this.line=e:this.line=this.history[t],this.historyIndex=t,this.cursor=this.line.length,this[kRefreshLine]()}}[kGetDisplayPos](e){let t=0;const s=this.columns;let i=0;e=stripVTControlCharacters(e);for(const o of new SafeStringIterator(e)){if(o===`
`){i+=MathCeil(t/s)||1,t=0;continue}if(o==="	"){t+=this.tabSize-t%this.tabSize;continue}const l=getStringWidth(o);l===0||l===1?t+=l:((t+1)%s==0&&t++,t+=2)}const n=t%s;return i+=(t-n)/s,{cols:n,rows:i}}getCursorPos(){const e=this[kPrompt]+StringPrototypeSlice(this.line,0,this.cursor);return this[kGetDisplayPos](e)}[kMoveCursor](e){if(e===0)return;const t=this.getCursorPos();this.cursor+=e,this.cursor<0?this.cursor=0:this.cursor>this.line.length&&(this.cursor=this.line.length);const s=this.getCursorPos();if(t.rows===s.rows){const i=s.cols-t.cols;moveCursor(this.output,i,0)}else this[kRefreshLine]()}[kTtyWrite](e,t){const s=this[kPreviousKey];if(t=t||{},this[kPreviousKey]=t,(t.name==="up"||t.name==="down")&&!t.ctrl&&!t.meta&&!t.shift?this[kSubstringSearch]===null&&(this[kSubstringSearch]=StringPrototypeSlice(this.line,0,this.cursor)):this[kSubstringSearch]!==null&&(this[kSubstringSearch]=null,this.history.length===this.historyIndex&&(this.historyIndex=-1)),t.name!=="escape")if(t.ctrl&&t.shift)switch(t.name){case"backspace":this[kDeleteLineLeft]();break;case"delete":this[kDeleteLineRight]();break}else if(t.ctrl)switch(t.name){case"c":this.listenerCount("SIGINT")>0?this.emit("SIGINT"):this.close();break;case"h":this[kDeleteLeft]();break;case"d":this.cursor===0&&this.line.length===0?this.close():this.cursor<this.line.length&&this[kDeleteRight]();break;case"u":this[kDeleteLineLeft]();break;case"k":this[kDeleteLineRight]();break;case"a":this[kMoveCursor](-1/0);break;case"e":this[kMoveCursor](1/0);break;case"b":this[kMoveCursor](-charLengthLeft(this.line,this.cursor));break;case"f":this[kMoveCursor](+charLengthAt(this.line,this.cursor));break;case"l":cursorTo(this.output,0,0),clearScreenDown(this.output),this[kRefreshLine]();break;case"n":this[kHistoryNext]();break;case"p":this[kHistoryPrev]();break;case"z":if(process.platform==="win32")break;this.listenerCount("SIGTSTP")>0?this.emit("SIGTSTP"):(process.once("SIGCONT",()=>{this.paused||(this.pause(),this.emit("SIGCONT")),this[kSetRawMode](!0),this[kRefreshLine]()}),this[kSetRawMode](!1),process.kill(process.pid,"SIGTSTP"));break;case"w":case"backspace":this[kDeleteWordLeft]();break;case"delete":this[kDeleteWordRight]();break;case"left":this[kWordLeft]();break;case"right":this[kWordRight]();break}else if(t.meta)switch(t.name){case"b":this[kWordLeft]();break;case"f":this[kWordRight]();break;case"d":case"delete":this[kDeleteWordRight]();break;case"backspace":this[kDeleteWordLeft]();break}else switch(this[kSawReturnAt]&&t.name!=="enter"&&(this[kSawReturnAt]=0),t.name){case"return":this[kSawReturnAt]=DateNow(),this[kLine]();break;case"enter":(this[kSawReturnAt]===0||DateNow()-this[kSawReturnAt]>this.crlfDelay)&&this[kLine](),this[kSawReturnAt]=0;break;case"backspace":this[kDeleteLeft]();break;case"delete":this[kDeleteRight]();break;case"left":this[kMoveCursor](-charLengthLeft(this.line,this.cursor));break;case"right":this[kMoveCursor](+charLengthAt(this.line,this.cursor));break;case"home":this[kMoveCursor](-1/0);break;case"end":this[kMoveCursor](1/0);break;case"up":this[kHistoryPrev]();break;case"down":this[kHistoryNext]();break;case"tab":if(typeof this.completer=="function"&&this.isCompletionEnabled){const i=s&&s.name==="tab";this[kTabComplete](i);break}default:if(typeof e=="string"&&e){const i=StringPrototypeSplit(e,/\r\n|\n|\r/);for(let n=0,o=i.length;n<o;n++)n>0&&this[kLine](),this[kInsertString](i[n])}}}[SymbolAsyncIterator](){if(this[kLineObjectStream]===void 0){Readable===void 0&&(Readable=require("stream").Readable);const e=new Readable({objectMode:!0,read:()=>{this.resume()},destroy:(n,o)=>{this.off("line",t),this.off("close",s),this.close(),o(n)}}),t=n=>{e.push(n)||this.pause()},s=()=>{e.push(null)},i=n=>{e.destroy(n)};this.on("error",i),this.on("line",t),this.on("close",s),this[kLineObjectStream]=e}return this[kLineObjectStream][SymbolAsyncIterator]()}}module.exports={Interface,InterfaceConstructor,kAddHistory,kDecoder,kDeleteLeft,kDeleteLineLeft,kDeleteLineRight,kDeleteRight,kDeleteWordLeft,kDeleteWordRight,kGetDisplayPos,kHistoryNext,kHistoryPrev,kInsertString,kLine,kLine_buffer,kMoveCursor,kNormalWrite,kOldPrompt,kOnLine,kPreviousKey,kPrompt,kQuestionCallback,kQuestionCancel,kRefreshLine,kSawKeyPress,kSawReturnAt,kSetRawMode,kTabComplete,kTabCompleter,kTtyWrite,kWordLeft,kWordRight,kWriteToOutput};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeJoin,ArrayPrototypePush,Promise}=primordials,{CSI}=require("internal/readline/utils"),{validateBoolean,validateInteger}=require("internal/validators"),{isWritable}=require("internal/streams/utils"),{codes:{ERR_INVALID_ARG_TYPE}}=require("internal/errors"),{kClearToLineBeginning,kClearToLineEnd,kClearLine,kClearScreenDown}=CSI;class Readline{#i=!1;#t;#e=[];constructor(e,t=void 0){if(!isWritable(e))throw new ERR_INVALID_ARG_TYPE("stream","Writable",e);this.#t=e,t?.autoCommit!=null&&(validateBoolean(t.autoCommit,"options.autoCommit"),this.#i=t.autoCommit)}cursorTo(e,t=void 0){validateInteger(e,"x"),t!=null&&validateInteger(t,"y");const i=t==null?CSI`${e+1}G`:CSI`${t+1};${e+1}H`;return this.#i?process.nextTick(()=>this.#t.write(i)):ArrayPrototypePush(this.#e,i),this}moveCursor(e,t){if(e||t){validateInteger(e,"dx"),validateInteger(t,"dy");let i="";e<0?i+=CSI`${-e}D`:e>0&&(i+=CSI`${e}C`),t<0?i+=CSI`${-t}A`:t>0&&(i+=CSI`${t}B`),this.#i?process.nextTick(()=>this.#t.write(i)):ArrayPrototypePush(this.#e,i)}return this}clearLine(e){validateInteger(e,"dir",-1,1);const t=e<0?kClearToLineBeginning:e>0?kClearToLineEnd:kClearLine;return this.#i?process.nextTick(()=>this.#t.write(t)):ArrayPrototypePush(this.#e,t),this}clearScreenDown(){return this.#i?process.nextTick(()=>this.#t.write(kClearScreenDown)):ArrayPrototypePush(this.#e,kClearScreenDown),this}commit(){return new Promise(e=>{this.#t.write(ArrayPrototypeJoin(this.#e,""),e),this.#e=[]})}rollback(){return this.#e=[],this}}module.exports={Readline};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeSlice,ArrayPrototypeSort,RegExpPrototypeTest,StringFromCharCode,StringPrototypeCharCodeAt,StringPrototypeCodePointAt,StringPrototypeMatch,StringPrototypeSlice,StringPrototypeToLowerCase,Symbol}=primordials,kUTF16SurrogateThreshold=65536,kEscape="",kSubstringSearch=Symbol("kSubstringSearch");function CSI(t,...a){let r=`${kEscape}[`;for(let n=0;n<t.length;n++)r+=t[n],n<a.length&&(r+=a[n]);return r}CSI.kEscape=kEscape,CSI.kClearToLineBeginning=CSI`1K`,CSI.kClearToLineEnd=CSI`0K`,CSI.kClearLine=CSI`2K`,CSI.kClearScreenDown=CSI`0J`;function charLengthLeft(t,a){return a<=0?0:a>1&&StringPrototypeCodePointAt(t,a-2)>=kUTF16SurrogateThreshold||StringPrototypeCodePointAt(t,a-1)>=kUTF16SurrogateThreshold?2:1}function charLengthAt(t,a){return t.length<=a?1:StringPrototypeCodePointAt(t,a)>=kUTF16SurrogateThreshold?2:1}function*emitKeys(t){for(;;){let a=yield,r=a,n=!1;const e={sequence:null,name:void 0,ctrl:!1,meta:!1,shift:!1};if(a===kEscape&&(n=!0,r+=a=yield,a===kEscape&&(r+=a=yield)),n&&(a==="O"||a==="[")){let c=a,m=0;if(a==="O")r+=a=yield,a>="0"&&a<="9"&&(m=(a>>0)-1,r+=a=yield),c+=a;else if(a==="["){r+=a=yield,a==="["&&(c+=a,r+=a=yield);const i=r.length-1;a>="0"&&a<="9"&&(r+=a=yield,a>="0"&&a<="9"&&(r+=a=yield)),a===";"&&(r+=a=yield,a>="0"&&a<="9"&&(r+=yield));const f=StringPrototypeSlice(r,i);let s;(s=StringPrototypeMatch(f,/^(\d\d?)(;(\d))?([~^$])$/))?(c+=s[1]+s[4],m=(s[3]||1)-1):(s=StringPrototypeMatch(f,/^((\d;)?(\d))?([A-Za-z])$/))?(c+=s[4],m=(s[3]||1)-1):c+=f}switch(e.ctrl=!!(m&4),e.meta=!!(m&10),e.shift=!!(m&1),e.code=c,c){case"[P":e.name="f1";break;case"[Q":e.name="f2";break;case"[R":e.name="f3";break;case"[S":e.name="f4";break;case"OP":e.name="f1";break;case"OQ":e.name="f2";break;case"OR":e.name="f3";break;case"OS":e.name="f4";break;case"[11~":e.name="f1";break;case"[12~":e.name="f2";break;case"[13~":e.name="f3";break;case"[14~":e.name="f4";break;case"[[A":e.name="f1";break;case"[[B":e.name="f2";break;case"[[C":e.name="f3";break;case"[[D":e.name="f4";break;case"[[E":e.name="f5";break;case"[15~":e.name="f5";break;case"[17~":e.name="f6";break;case"[18~":e.name="f7";break;case"[19~":e.name="f8";break;case"[20~":e.name="f9";break;case"[21~":e.name="f10";break;case"[23~":e.name="f11";break;case"[24~":e.name="f12";break;case"[A":e.name="up";break;case"[B":e.name="down";break;case"[C":e.name="right";break;case"[D":e.name="left";break;case"[E":e.name="clear";break;case"[F":e.name="end";break;case"[H":e.name="home";break;case"OA":e.name="up";break;case"OB":e.name="down";break;case"OC":e.name="right";break;case"OD":e.name="left";break;case"OE":e.name="clear";break;case"OF":e.name="end";break;case"OH":e.name="home";break;case"[1~":e.name="home";break;case"[2~":e.name="insert";break;case"[3~":e.name="delete";break;case"[4~":e.name="end";break;case"[5~":e.name="pageup";break;case"[6~":e.name="pagedown";break;case"[[5~":e.name="pageup";break;case"[[6~":e.name="pagedown";break;case"[7~":e.name="home";break;case"[8~":e.name="end";break;case"[a":e.name="up",e.shift=!0;break;case"[b":e.name="down",e.shift=!0;break;case"[c":e.name="right",e.shift=!0;break;case"[d":e.name="left",e.shift=!0;break;case"[e":e.name="clear",e.shift=!0;break;case"[2$":e.name="insert",e.shift=!0;break;case"[3$":e.name="delete",e.shift=!0;break;case"[5$":e.name="pageup",e.shift=!0;break;case"[6$":e.name="pagedown",e.shift=!0;break;case"[7$":e.name="home",e.shift=!0;break;case"[8$":e.name="end",e.shift=!0;break;case"Oa":e.name="up",e.ctrl=!0;break;case"Ob":e.name="down",e.ctrl=!0;break;case"Oc":e.name="right",e.ctrl=!0;break;case"Od":e.name="left",e.ctrl=!0;break;case"Oe":e.name="clear",e.ctrl=!0;break;case"[2^":e.name="insert",e.ctrl=!0;break;case"[3^":e.name="delete",e.ctrl=!0;break;case"[5^":e.name="pageup",e.ctrl=!0;break;case"[6^":e.name="pagedown",e.ctrl=!0;break;case"[7^":e.name="home",e.ctrl=!0;break;case"[8^":e.name="end",e.ctrl=!0;break;case"[Z":e.name="tab",e.shift=!0;break;default:e.name="undefined";break}}else a==="\r"?(e.name="return",e.meta=n):a===`
`?(e.name="enter",e.meta=n):a==="	"?(e.name="tab",e.meta=n):a==="\b"||a==="\x7F"?(e.name="backspace",e.meta=n):a===kEscape?(e.name="escape",e.meta=n):a===" "?(e.name="space",e.meta=n):!n&&a<=""?(e.name=StringFromCharCode(StringPrototypeCharCodeAt(a)+StringPrototypeCharCodeAt("a")-1),e.ctrl=!0):RegExpPrototypeTest(/^[0-9A-Za-z]$/,a)?(e.name=StringPrototypeToLowerCase(a),e.shift=RegExpPrototypeTest(/^[A-Z]$/,a),e.meta=n):n&&(e.name=a.length?void 0:"escape",e.meta=!0);e.sequence=r,r.length!==0&&(e.name!==void 0||n)?t.emit("keypress",n?void 0:r,e):charLengthAt(r,0)===r.length&&t.emit("keypress",r,e)}}function commonPrefix(t){if(t.length===1)return t[0];const a=ArrayPrototypeSort(ArrayPrototypeSlice(t)),r=a[0],n=a[a.length-1];for(let e=0;e<r.length;e++)if(r[e]!==n[e])return StringPrototypeSlice(r,0,e);return r}module.exports={charLengthAt,charLengthLeft,commonPrefix,emitKeys,kSubstringSearch,CSI};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeForEach,ArrayPrototypeIncludes,ArrayPrototypeJoin,ArrayPrototypePop,ArrayPrototypePush,FunctionPrototype,ObjectKeys,RegExpPrototypeSymbolReplace,StringPrototypeEndsWith,StringPrototypeIncludes,StringPrototypeIndexOf,StringPrototypeRepeat,StringPrototypeSplit,StringPrototypeStartsWith,SyntaxError}=primordials,parser=require("internal/deps/acorn/acorn/dist/acorn").Parser,walk=require("internal/deps/acorn/acorn-walk/dist/walk"),{Recoverable}=require("internal/repl");function isTopLevelDeclaration(e){return e.ancestors[e.ancestors.length-2]===e.body}const noop=FunctionPrototype,visitorsWithoutAncestors={ClassDeclaration(e,t,a){isTopLevelDeclaration(t)&&(t.prepend(e,`${e.id.name}=`),ArrayPrototypePush(t.hoistedDeclarationStatements,`let ${e.id.name}; `)),walk.base.ClassDeclaration(e,t,a)},ForOfStatement(e,t,a){e.await===!0&&(t.containsAwait=!0),walk.base.ForOfStatement(e,t,a)},FunctionDeclaration(e,t,a){t.prepend(e,`this.${e.id.name} = ${e.id.name}; `),ArrayPrototypePush(t.hoistedDeclarationStatements,`var ${e.id.name}; `)},FunctionExpression:noop,ArrowFunctionExpression:noop,MethodDefinition:noop,AwaitExpression(e,t,a){t.containsAwait=!0,walk.base.AwaitExpression(e,t,a)},ReturnStatement(e,t,a){t.containsReturn=!0,walk.base.ReturnStatement(e,t,a)},VariableDeclaration(e,t,a){const r=e.kind,l=ArrayPrototypeIncludes(["ForOfStatement","ForInStatement"],t.ancestors[t.ancestors.length-2].type);if(r==="var"||isTopLevelDeclaration(t)){let s=function(o){switch(o.type){case"Identifier":ArrayPrototypePush(i[r==="var"?0:1][1],o.name);break;case"ObjectPattern":ArrayPrototypeForEach(o.properties,n=>{s(n.value)});break;case"ArrayPattern":ArrayPrototypeForEach(o.elements,n=>{s(n)});break}};t.replace(e.start,e.start+r.length+(l?1:0),r==="var"&&l?"":"void"+(e.declarations.length===1?"":" (")),l||(ArrayPrototypeForEach(e.declarations,o=>{t.prepend(o,"("),t.append(o,o.init?")":"=undefined)")}),e.declarations.length!==1&&t.append(e.declarations[e.declarations.length-1],")"));const i=[["var",[]],["let",[]]];ArrayPrototypeForEach(e.declarations,o=>{s(o.id)}),ArrayPrototypeForEach(i,({0:o,1:n})=>{n.length>0&&ArrayPrototypePush(t.hoistedDeclarationStatements,`${o} ${ArrayPrototypeJoin(n,", ")}; `)})}walk.base.VariableDeclaration(e,t,a)}},visitors={};for(const e of ObjectKeys(walk.base)){const t=visitorsWithoutAncestors[e]||walk.base[e];visitors[e]=(a,r,l)=>{const i=a!==r.ancestors[r.ancestors.length-1];i&&ArrayPrototypePush(r.ancestors,a),t(a,r,l),i&&ArrayPrototypePop(r.ancestors)}}function processTopLevelAwait(e){const t="(async () => { ",a=`${t}${e} })()`,r=StringPrototypeSplit(a,"");let l;try{l=parser.parse(a,{ecmaVersion:"latest"})}catch(n){if(StringPrototypeStartsWith(n.message,"Unterminated "))throw new Recoverable(n);const c=StringPrototypeIndexOf(e,"await"),p=n.pos-t.length;if(c>p||p===c+6&&StringPrototypeIncludes(n.message,"Expecting Unicode escape sequence")||p===c+7&&StringPrototypeIncludes(n.message,"Unexpected token"))return null;const u=n.loc.line,d=u===1?n.loc.column-t.length:n.loc.column;let y=`
`+StringPrototypeSplit(e,`
`)[u-1]+`
`+StringPrototypeRepeat(" ",d)+`^

`+RegExpPrototypeSymbolReplace(/ \([^)]+\)/,n.message,"");throw StringPrototypeEndsWith(y,"Unexpected token")&&(y+=" '"+(e[n.pos-t.length]??e[e.length-1])+"'"),new SyntaxError(y)}const i=l.body[0].expression.callee.body,s={body:i,ancestors:[],hoistedDeclarationStatements:[],replace(n,c,p){for(let u=n;u<c;u++)r[u]="";n===c&&(p+=r[n]),r[n]=p},prepend(n,c){r[n.start]=c+r[n.start]},append(n,c){r[n.end-1]+=c},containsAwait:!1,containsReturn:!1};if(walk.recursive(i,s,visitors),!s.containsAwait||s.containsReturn)return null;const o=i.body[i.body.length-1];return o.type==="ExpressionStatement"&&(s.prepend(o,"return ("),s.append(o.expression,")")),ArrayPrototypeJoin(s.hoistedDeclarationStatements,"")+ArrayPrototypeJoin(r,"")}module.exports={processTopLevelAwait};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeJoin,Boolean,FunctionPrototype,StringPrototypeSplit,StringPrototypeTrim}=primordials,{Interface}=require("readline"),path=require("path"),fs=require("fs"),os=require("os");let debug=require("internal/util/debuglog").debuglog("repl",t=>{debug=t});const{clearTimeout,setTimeout}=require("timers"),noop=FunctionPrototype,kDebounceHistoryMS=15;module.exports=setupHistory;function _writeToOutput(t,i){t._writeToOutput(i),t._refreshLine()}function setupHistory(t,i,e){if(typeof i=="string"&&(i=StringPrototypeTrim(i)),i==="")return t._historyPrev=_replHistoryMessage,e(null,t);if(!i)try{i=path.join(os.homedir(),".node_repl_history")}catch(n){return _writeToOutput(t,`
Error: Could not get the home directory.
REPL session history will not be persisted.
`),debug(n.stack),t._historyPrev=_replHistoryMessage,e(null,t)}let s=null,r=!1,u=!1;t.pause(),fs.open(i,"a+",384,h);function h(n,o){if(n)return _writeToOutput(t,`
Error: Could not open history file.
REPL session history will not be persisted.
`),debug(n.stack),t._historyPrev=_replHistoryMessage,t.resume(),e(null,t);fs.close(o,a)}function a(n){if(n)return e(n);fs.readFile(i,"utf8",y)}function y(n,o){if(n)return e(n);o?t.history=StringPrototypeSplit(o,/[\n\r]+/,t.historySize):t.history=[],fs.open(i,"r+",_)}function _(n,o){if(n)return e(n);fs.ftruncate(o,0,d=>{t._historyHandle=o,t.on("line",f),t.once("exit",c),t.once("flushHistory",function(){t.resume(),e(null,t)}),l()})}function f(n){t._flushing=!0,s&&clearTimeout(s),s=setTimeout(l,kDebounceHistoryMS)}function l(){if(s=null,r){u=!0;return}r=!0;const n=ArrayPrototypeJoin(t.history,os.EOL);fs.write(t._historyHandle,n,0,"utf8",g)}function g(n,o){r=!1,u?(u=!1,f()):(t._flushing=Boolean(s),t._flushing||t.emit("flushHistory"))}function c(){if(t._flushing){t.once("flushHistory",c);return}t.off("line",f),fs.close(t._historyHandle,noop)}}function _replHistoryMessage(){return this.history.length===0&&_writeToOutput(this,`
Persistent history support disabled. Set the NODE_REPL_HISTORY environment
variable to a valid, user-writable path to enable.
`),this._historyPrev=Interface.prototype._historyPrev,this._historyPrev()}
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeFilter,ArrayPrototypeIncludes,ArrayPrototypeMap,Boolean,FunctionPrototypeBind,MathMin,RegExpPrototypeTest,SafeSet,SafeStringIterator,StringPrototypeEndsWith,StringPrototypeIndexOf,StringPrototypeLastIndexOf,StringPrototypeReplace,StringPrototypeSlice,StringPrototypeStartsWith,StringPrototypeToLowerCase,StringPrototypeTrim,Symbol}=primordials,{tokTypes:tt,Parser:AcornParser}=require("internal/deps/acorn/acorn/dist/acorn"),{sendInspectorCommand}=require("internal/util/inspector"),{ERR_INSPECTOR_NOT_AVAILABLE}=require("internal/errors").codes,{clearLine,clearScreenDown,cursorTo,moveCursor}=require("internal/readline/callbacks"),{commonPrefix,kSubstringSearch}=require("internal/readline/utils"),{getStringWidth,inspect}=require("internal/util/inspect");let debug=require("internal/util/debuglog").debuglog("repl",t=>{debug=t});const previewOptions={colors:!1,depth:1,showHidden:!1},REPL_MODE_STRICT=Symbol("repl-strict");function isRecoverableError(t,d){if(RegExpPrototypeTest(/^\s*\{/,d)&&isRecoverableError(t,`(${d}`))return!0;let w=!1;const h=AcornParser.extend(c=>class extends c{constructor(l,i,u){super(l,i,u)}nextToken(){super.nextToken(),this.type===tt.eof&&(w=!0)}raise(l,i){switch(i){case"Unterminated template":case"Unterminated comment":w=!0;break;case"Unterminated string constant":const u=StringPrototypeSlice(this.input,this.lastTokStart,this.pos);RegExpPrototypeTest(/\\(?:\r\n?|\n|\u2028|\u2029)$/,u)&&(w=!0)}super.raise(l,i)}});try{return h.parse(d,{ecmaVersion:"latest"}),!1}catch{return w}}function setupPreview(t,d,w,h){if(process.env.TERM==="dumb"||!h)return{showPreview(){},clearPreview(){}};let c=null,l="",i=0,u=null,P=!1,$=!1,g=null;function S(){const o=t._getDisplayPos(`${t.getPrompt()}${t.line}`),n=t.line.length!==t.cursor?t.getCursorPos():o;return{displayPos:o,cursorPos:n}}function p(){const{cursorPos:o,displayPos:n}=S();return o.rows===n.rows&&o.cols===n.cols}const L=o=>{if(c!==null){const{displayPos:n,cursorPos:a}=S(),f=n.rows-a.rows+1;moveCursor(t.output,0,f),clearLine(t.output),moveCursor(t.output,0,-f),l=c,c=null}if(u!==null){const n=t.line.length!==t.cursor;let a,f;n&&(a=S(),cursorTo(t.output,a.displayPos.cols),f=a.displayPos.rows-a.cursorPos.rows,moveCursor(t.output,0,f));const m=`${t.getPrompt()}${t.line}${u}`,e=t._getDisplayPos(m);e.rows===0||a&&a.displayPos.rows===e.rows?clearLine(t.output,1):clearScreenDown(t.output),n&&(cursorTo(t.output,a.cursorPos.cols),moveCursor(t.output,0,-f)),!o.ctrl&&!o.shift&&(o.name==="escape"?g===null&&o.meta&&(g=t.line):(o.name==="return"||o.name==="enter")&&!o.meta&&g!==t.line&&p()&&t._insertString(u)),u=null}g!==t.line&&(g=null)};function x(o,n){i++;const a=i;t.completer(o,(f,m)=>{if(a!==i)return;if(f){debug("Error while generating completion preview",f);return}const{0:e,1:v}=m;if(!e||e.length===0)return;P=!0;const E=ArrayPrototypeFilter(e,Boolean),b=commonPrefix(E);if(b.length<=v.length)return;const _=StringPrototypeSlice(b,v.length);if(n){t._insertString(_);return}u=_;const A=t.useColors?`[90m${_}[39m`:` // ${_}`,{cursorPos:R,displayPos:T}=S();t.line.length!==t.cursor&&(cursorTo(t.output,T.cols),moveCursor(t.output,0,T.rows-R.rows)),t.output.write(A),cursorTo(t.output,R.cols);const M=`${t.getPrompt()}${t.line}${_}`,q=t._getDisplayPos(M),B=q.rows-R.rows-(q.cols===0?1:0);moveCursor(t.output,0,-B)})}function I(o){return o.replMode===REPL_MODE_STRICT||ArrayPrototypeIncludes(ArrayPrototypeMap(process.execArgv,n=>StringPrototypeReplace(StringPrototypeToLowerCase(n),/_/g,"-")),"--use-strict")}function D(o,n){StringPrototypeStartsWith(o,"{")&&!StringPrototypeEndsWith(o,";")&&!$&&(o=`(${o})`,$=!0),sendInspectorCommand(a=>{a.post("Runtime.evaluate",{expression:o,throwOnSideEffect:!0,timeout:333,contextId:t[d]},(f,m)=>{if(f){n(f);return}const{result:e}=m;if(e.value!==void 0)n(null,inspect(e.value,previewOptions));else if(m.exceptionDetails&&(e.className==="EvalError"||e.className==="SyntaxError"||e.className==="ReferenceError"&&(P||!I(t))))n(null,null);else if(e.objectId){const v=inspect({...t.writer.options,colors:!1,depth:1,compact:!0,breakLength:1/0},previewOptions);a.post("Runtime.callFunctionOn",{functionDeclaration:`(v) =>
                    Reflect
                    .getOwnPropertyDescriptor(globalThis, 'util')
                    .get().inspect(v, ${v})`,objectId:e.objectId,arguments:[e]},(E,b)=>{E?n(E):n(null,b.result.value)})}else n(null,e.unserializableValue||e.type)})},()=>n(new ERR_INSPECTOR_NOT_AVAILABLE))}const s=()=>{if(c!==null||!t.isCompletionEnabled)return;const o=StringPrototypeTrim(t.line);if(o==="")return;P=!1;const n=!1;if(x(t.line,n),t[w])return;const a=(m,e)=>{if(e==null||($=!1,o===e&&l!==e))return;if(m){debug("Error while generating preview",m);return}if(e==="undefined"&&(!t.useColors||t.ignoreUndefined))return;c=e;let v=MathMin(t.columns,250);if(e.length*2>=v&&getStringWidth(e)>v){v-=4+(t.useColors?0:3);let T="";for(const M of new SafeStringIterator(e)){if(v-=getStringWidth(M),v<0)break;T+=M}e=`${T}...`}const E=StringPrototypeIndexOf(e,`
`);E!==-1&&(e=`${StringPrototypeSlice(e,0,E)}`);const b=t.useColors?`[90m${e}[39m`:`// ${e}`,{cursorPos:_,displayPos:A}=S(),R=A.rows-_.rows;moveCursor(t.output,0,R),t.output.write(`
${b}`),cursorTo(t.output,_.cols),moveCursor(t.output,0,-R-1)};let f=o;u!==null&&p()&&g!==t.line&&(f+=u),D(f,a),$&&D(f,a),$=!1},r=FunctionPrototypeBind(t._refreshLine,t);t._refreshLine=()=>{c=null,r(),s()};let y=!0;const C=FunctionPrototypeBind(t._moveCursor,t);t._moveCursor=o=>{const n=t.cursor;if(C(o),n+o>t.line.length&&typeof t.completer=="function"&&y){const a=!0;x(t.line,a)}};const O=FunctionPrototypeBind(t.clearLine,t);return t.clearLine=()=>{y=!1,O(),y=!0},{showPreview:s,clearPreview:L}}function setupReverseSearch(t){if(process.env.TERM==="dumb")return{reverseSearch(){return!1}};const d=new SafeSet,w={r:"bck-i-search: ",s:"fwd-i-search: "};let h=!1,c=-1,l="",i=-1,u="r",P=-1,$=-1,g;function S(s){return w[s]?(u!==s&&(d.clear(),u=s),!0):!1}function p(){d.add(t.history[c]),c+=u==="r"?1:-1,i=-1}function L(){if(l===""){x(t.line,`${w[u]}_`);return}for(u==="r"?c<0&&(c=0):c>=t.history.length&&(c=t.history.length-1);c>=0&&c<t.history.length;){let s=t.history[c];if(d.has(s)){c+=u==="r"?1:-1;continue}if(u==="r"?(i===-1&&(i=s.length),i=StringPrototypeLastIndexOf(s,l,i-1)):i=StringPrototypeIndexOf(s,l,i+1),i===-1)p();else{if(t.useColors){const r=StringPrototypeSlice(s,0,i),y=StringPrototypeSlice(s,i+l.length);s=`${r}[4m${l}[24m${y}`}x(s,`${w[u]}${l}_`,i),P=c,$=i,(u==="r"&&i===0||u==="s"&&s.length===i+l.length)&&p();return}}x(t.line,`failed-${w[u]}${l}_`)}function x(s,r,y=t.cursor){let C=0;if(P!==-1){const e=StringPrototypeSlice(t.history[P],0,$);C=t._getDisplayPos(`${t.getPrompt()}${e}`).rows,cursorTo(t.output,g.cols)}else h&&t.line!==""&&(C=t.getCursorPos().rows,cursorTo(t.output,g.cols));C!==0&&moveCursor(t.output,0,-C),h?(clearScreenDown(t.output),t.output.write(`${s}
${r}`)):t.output.write(`
${r}`),P=-1;const O=t.getPrompt(),o=O+StringPrototypeSlice(s,0,y),n=t._getDisplayPos(o),a=t._getDisplayPos(`${O}${s}`),f=t._getDisplayPos(r),m=f.rows-(f.cols===0?1:0);C=-1-m-(a.rows-n.rows),moveCursor(t.output,0,C),cursorTo(t.output,n.cols)}function I(s){if(h=s!==void 0,!h&&(P!==-1&&(t.line=t.history[P],t.cursor=$,t.historyIndex=P),P=-1,cursorTo(t.output,g.cols),moveCursor(t.output,0,g.rows),clearScreenDown(t.output),t.line!==""&&(t.output.write(t.line),t.line.length!==t.cursor))){const{cols:r,rows:y}=t.getCursorPos();cursorTo(t.output,r),moveCursor(t.output,0,y)}l=s||"",i=-1,c=t.historyIndex,d.clear()}function D(s,r){if(!h)r.ctrl&&S(r.name)&&(c=t.historyIndex,g=t._getDisplayPos(`${t.getPrompt()}`),x(t.line,`${w[u]}_`),h=!0);else if(r.ctrl&&S(r.name))L();else if(r.name==="backspace"||r.ctrl&&(r.name==="h"||r.name==="w"))I(StringPrototypeSlice(l,0,l.length-1)),L();else{if(r.ctrl&&r.name==="c"||r.name==="escape")return P=-1,I(),!0;r.ctrl||r.meta||r.name==="return"||r.name==="enter"||typeof s!="string"||s===""?(I(),t[kSubstringSearch]=""):(I(`${l}${s}`),L())}return h}return{reverseSearch:D}}module.exports={REPL_MODE_SLOPPY:Symbol("repl-sloppy"),REPL_MODE_STRICT,isRecoverableError,kStandaloneREPL:Symbol("kStandaloneREPL"),setupPreview,setupReverseSearch};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeIndexOf,ArrayPrototypeJoin,ArrayPrototypeMap,ErrorPrototypeToString,StringPrototypeRepeat,StringPrototypeSlice,StringPrototypeSplit,StringPrototypeStartsWith,SafeStringIterator}=primordials;let debug=require("internal/util/debuglog").debuglog("source_map",o=>{debug=o});const{getStringWidth}=require("internal/util/inspect"),{readFileSync}=require("fs"),{findSourceMap}=require("internal/source_map/source_map_cache"),{kNoOverride,overrideStackTrace,maybeOverridePrepareStackTrace,kIsNodeError}=require("internal/errors"),{fileURLToPath}=require("internal/url"),prepareStackTrace=(o,e,t)=>{if(overrideStackTrace.has(e)){const n=overrideStackTrace.get(e);return overrideStackTrace.delete(e),n(e,t)}const s=maybeOverridePrepareStackTrace(o,e,t);if(s!==kNoOverride)return s;let r;if(kIsNodeError in e?r=`${e.name} [${e.code}]: ${e.message}`:r=ErrorPrototypeToString(e),t.length===0)return r;let i="",c,N;const l=ArrayPrototypeJoin(ArrayPrototypeMap(t,(n,a)=>{const d=a!==0?`
    at `:"";try{const u=n.getFileName(),m=u===N?c:findSourceMap(u);if(c=m,N=u,m){const{originalLine:S,originalColumn:$,originalSource:g}=m.findEntry(n.getLineNumber()-1,n.getColumnNumber()-1);if(g&&S!==void 0&&$!==void 0){const f=getOriginalSymbolName(m,t,a);a===0&&(i=getErrorSource(m,g,S,$));const y=n.getFunctionName()??n.getMethodName(),p=`${n.getTypeName()!=="global"?`${n.getTypeName()}.`:""}${y||"<anonymous>"}`,h=f&&f!==p?`${f}`:`${p||""}`,b=!!(f||p),E=StringPrototypeStartsWith(g,"file://")?fileURLToPath(g):g;return`${d}${h}${b?" (":""}${E}:${S+1}:${$+1}${b?")":""}`}}}catch(u){debug(u.stack)}return`${d}${n}`}),"");return`${i}${r}
    at ${l}`};function getOriginalSymbolName(o,e,t){const s=o.findEntry(e[t].getEnclosingLineNumber()-1,e[t].getEnclosingColumnNumber()-1);if(s.name)return s.name;const r=e[t].getFileName(),i=e[t+1];if(i&&r===i.getFileName()){const{name:c}=o.findEntry(i.getLineNumber()-1,i.getColumnNumber()-1);return c}}function getErrorSource(o,e,t,s){let r="";const i=StringPrototypeStartsWith(e,"file://")?fileURLToPath(e):e,c=getOriginalSource(o.payload,i),l=StringPrototypeSplit(c,/\r?\n/,t+1)[t];if(!l)return r;let n="";for(const a of new SafeStringIterator(StringPrototypeSlice(l,0,s+1)))n+=a==="	"?"	":StringPrototypeRepeat(" ",getStringWidth(a));return n=StringPrototypeSlice(n,0,-1),r=`${i}:${t+1}
${l}
${n}^

`,r}function getOriginalSource(o,e){let t;const s=StringPrototypeStartsWith(e,"file://")?fileURLToPath(e):e,r=ArrayPrototypeIndexOf(o.sources,e);if(o.sourcesContent?.[r])t=o.sourcesContent[r];else try{t=readFileSync(s,"utf8")}catch(i){debug(i),t=""}return t}module.exports={prepareStackTrace};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,ArrayPrototypePush,ArrayPrototypeSlice,ArrayPrototypeSort,ObjectPrototypeHasOwnProperty,StringPrototypeCharAt}=primordials,{ERR_INVALID_ARG_TYPE}=require("internal/errors").codes;let base64Map;const VLQ_BASE_SHIFT=5,VLQ_BASE_MASK=(1<<5)-1,VLQ_CONTINUATION_MASK=1<<5;class StringCharIterator{constructor(t){this._string=t,this._position=0}next(){return StringPrototypeCharAt(this._string,this._position++)}peek(){return StringPrototypeCharAt(this._string,this._position)}hasNext(){return this._position<this._string.length}}class SourceMap{#e;#t=[];#n={};#r={};constructor(t){if(!base64Map){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";base64Map={};for(let e=0;e<n.length;++e)base64Map[n[e]]=e}this.#e=cloneSourceMapV3(t),this.#i()}get payload(){return cloneSourceMapV3(this.#e)}#i=()=>{this.#e.sections?this.#o(this.#e.sections):this.#s(this.#e,0,0),ArrayPrototypeSort(this.#t,compareSourceMapEntry)};#o=t=>{for(let n=0;n<t.length;++n){const e=t[n];this.#s(e.map,e.offset.line,e.offset.column)}};findEntry(t,n){let e=0,i=this.#t.length;for(;i>1;){const l=i>>1,a=e+l,h=this.#t[a];t<h[0]||t===h[0]&&n<h[1]?i=l:(e=a,i-=l)}const r=this.#t[e];return!e&&r&&(t<r[0]||t===r[0]&&n<r[1])?{}:r?{generatedLine:r[0],generatedColumn:r[1],originalSource:r[2],originalLine:r[3],originalColumn:r[4],name:r[5]}:{}}#s(t,n,e){let i=0,r=0,l=0,a=0;const h=[],p={};for(let c=0;c<t.sources.length;++c){const u=t.sources[c];p[u]=u,ArrayPrototypePush(h,u),this.#n[u]=!0,t.sourcesContent&&t.sourcesContent[c]&&(this.#r[u]=t.sourcesContent[c])}const o=new StringCharIterator(t.mappings);let f=h[i];for(;;){if(o.peek()===",")o.next();else{for(;o.peek()===";";)n+=1,e=0,o.next();if(!o.hasNext())break}if(e+=decodeVLQ(o),isSeparator(o.peek())){ArrayPrototypePush(this.#t,[n,e]);continue}const c=decodeVLQ(o);c&&(i+=c,f=h[i]),r+=decodeVLQ(o),l+=decodeVLQ(o);let u;isSeparator(o.peek())||(a+=decodeVLQ(o),u=t.names?.[a]),ArrayPrototypePush(this.#t,[n,e,f,r,l,u])}}}function isSeparator(s){return s===","||s===";"}function decodeVLQ(s){let t=0,n=0,e;do e=base64Map[s.next()],t+=(e&VLQ_BASE_MASK)<<n,n+=VLQ_BASE_SHIFT;while(e&VLQ_CONTINUATION_MASK);const i=t&1;return t>>>=1,i?-t|1<<31:t}function cloneSourceMapV3(s){if(typeof s!="object")throw new ERR_INVALID_ARG_TYPE("payload",["Object"],s);s={...s};for(const t in s)ObjectPrototypeHasOwnProperty(s,t)&&ArrayIsArray(s[t])&&(s[t]=ArrayPrototypeSlice(s[t]));return s}function compareSourceMapEntry(s,t){const{0:n,1:e}=s,{0:i,1:r}=t;return n!==i?n-i:e-r}module.exports={SourceMap};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeMap,JSONParse,ObjectCreate,ObjectKeys,ObjectGetOwnPropertyDescriptor,ObjectPrototypeHasOwnProperty,RegExpPrototypeTest,SafeMap,StringPrototypeMatch,StringPrototypeSplit}=primordials;function ObjectGetValueSafe(e,r){const t=ObjectGetOwnPropertyDescriptor(e,r);return ObjectPrototypeHasOwnProperty(t,"value")?t.value:void 0}const{Buffer}=require("buffer");let debug=require("internal/util/debuglog").debuglog("source_map",e=>{debug=e});const fs=require("fs"),{getOptionValue}=require("internal/options"),{IterableWeakMap}=require("internal/util/iterable_weak_map"),{normalizeReferrerURL}=require("internal/modules/cjs/helpers"),{validateBoolean}=require("internal/validators"),cjsSourceMapCache=new IterableWeakMap,esmSourceMapCache=new SafeMap,{fileURLToPath,pathToFileURL,URL}=require("internal/url");let SourceMap,sourceMapsEnabled;function getSourceMapsEnabled(){return sourceMapsEnabled===void 0&&setSourceMapsEnabled(getOptionValue("--enable-source-maps")),sourceMapsEnabled}function setSourceMapsEnabled(e){validateBoolean(e,"val");const{setSourceMapsEnabled:r,setPrepareStackTraceCallback:t}=internalBinding("errors");if(r(e),e){const{prepareStackTrace:n}=require("internal/source_map/prepare_stack_trace");t(n)}else if(sourceMapsEnabled!==void 0){const{prepareStackTrace:n}=require("internal/errors");t(n)}sourceMapsEnabled=e}function maybeCacheSourceMap(e,r,t){const n=getSourceMapsEnabled();if(!(process.env.NODE_V8_COVERAGE||n))return;try{e=normalizeReferrerURL(e)}catch(o){debug(o.stack);return}const a=StringPrototypeMatch(r,/\/[*/]#\s+sourceMappingURL=(?<sourceMappingURL>[^\s]+)/);if(a){const o=dataFromUrl(e,a.groups.sourceMappingURL),c=o?null:a.groups.sourceMappingURL;t?cjsSourceMapCache.set(t,{filename:e,lineLengths:lineLengths(r),data:o,url:c}):esmSourceMapCache.set(e,{lineLengths:lineLengths(r),data:o,url:c})}}function dataFromUrl(e,r){try{const t=new URL(r);switch(t.protocol){case"data:":return sourceMapFromDataUrl(e,t.pathname);default:return debug(`unknown protocol ${t.protocol}`),null}}catch(t){debug(t.stack);const n=new URL(r,e).href;return sourceMapFromFile(n)}}function lineLengths(e){return ArrayPrototypeMap(StringPrototypeSplit(e,/\n|\u2028|\u2029/),r=>r.length)}function sourceMapFromFile(e){try{const r=fs.readFileSync(fileURLToPath(e),"utf8"),t=JSONParse(r);return sourcesToAbsolute(e,t)}catch(r){return debug(r.stack),null}}function sourceMapFromDataUrl(e,r){const{0:t,1:n}=StringPrototypeSplit(r,","),a=StringPrototypeSplit(t,";"),o=a[0],c=a[a.length-1]==="base64";if(o==="application/json"){const u=c?Buffer.from(n,"base64").toString("utf8"):n;try{const s=JSONParse(u);return sourcesToAbsolute(e,s)}catch(s){return debug(s.stack),null}}else return debug(`unknown content-type ${o}`),null}function sourcesToAbsolute(e,r){return r.sources=r.sources.map(t=>(t=(r.sourceRoot||"")+t,new URL(t,e).href)),r.sourceRoot="",r}function sourceMapCacheToObject(){const e=ObjectCreate(null);for(const{0:r,1:t}of esmSourceMapCache)e[r]=t;if(appendCJSCache(e),ObjectKeys(e).length!==0)return e}function appendCJSCache(e){for(const r of cjsSourceMapCache)e[ObjectGetValueSafe(r,"filename")]={lineLengths:ObjectGetValueSafe(r,"lineLengths"),data:ObjectGetValueSafe(r,"data"),url:ObjectGetValueSafe(r,"url")}}function findSourceMap(e){RegExpPrototypeTest(/^\w+:\/\//,e)||(e=pathToFileURL(e).href),SourceMap||(SourceMap=require("internal/source_map/source_map").SourceMap);let r=esmSourceMapCache.get(e);if(r===void 0)for(const t of cjsSourceMapCache){const n=ObjectGetValueSafe(t,"filename");e===n&&(r={data:ObjectGetValueSafe(t,"data")})}if(r&&r.data)return new SourceMap(r.data)}module.exports={findSourceMap,getSourceMapsEnabled,setSourceMapsEnabled,maybeCacheSourceMap,sourceMapCacheToObject};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{AbortError,codes}=require("internal/errors"),eos=require("internal/streams/end-of-stream"),{ERR_INVALID_ARG_TYPE}=codes,validateAbortSignal=(e,t)=>{if(typeof e!="object"||!("aborted"in e))throw new ERR_INVALID_ARG_TYPE(t,"AbortSignal",e)};function isNodeStream(e){return!!(e&&typeof e.pipe=="function")}module.exports.addAbortSignal=function(t,o){if(validateAbortSignal(t,"signal"),!isNodeStream(o))throw new ERR_INVALID_ARG_TYPE("stream","stream.Stream",o);return module.exports.addAbortSignalNoValidate(t,o)},module.exports.addAbortSignalNoValidate=function(e,t){if(typeof e!="object"||!("aborted"in e))return t;const o=()=>{t.destroy(new AbortError)};return e.aborted?o():(e.addEventListener("abort",o),eos(t,()=>e.removeEventListener("abort",o))),t};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{StringPrototypeSlice,SymbolIterator,TypedArrayPrototypeSet,Uint8Array}=primordials,{Buffer}=require("buffer"),{inspect}=require("internal/util/inspect");module.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}unshift(t){const e={data:t,next:this.head};this.length===0&&(this.tail=e),this.head=e,++this.length}shift(){if(this.length===0)return;const t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let e=this.head,h=""+e.data;for(;e=e.next;)h+=t+e.data;return h}concat(t){if(this.length===0)return Buffer.alloc(0);const e=Buffer.allocUnsafe(t>>>0);let h=this.head,i=0;for(;h;)TypedArrayPrototypeSet(e,h.data,i),i+=h.data.length,h=h.next;return e}consume(t,e){const h=this.head.data;if(t<h.length){const i=h.slice(0,t);return this.head.data=h.slice(t),i}return t===h.length?this.shift():e?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[SymbolIterator](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let e="",h=this.head,i=0;do{const s=h.data;if(t>s.length)e+=s,t-=s.length;else{t===s.length?(e+=s,++i,h.next?this.head=h.next:this.head=this.tail=null):(e+=StringPrototypeSlice(s,0,t),this.head=h,h.data=StringPrototypeSlice(s,t));break}++i}while(h=h.next);return this.length-=i,e}_getBuffer(t){const e=Buffer.allocUnsafe(t),h=t;let i=this.head,s=0;do{const l=i.data;if(t>l.length)TypedArrayPrototypeSet(e,l,h-t),t-=l.length;else{t===l.length?(TypedArrayPrototypeSet(e,l,h-t),++s,i.next?this.head=i.next:this.head=this.tail=null):(TypedArrayPrototypeSet(e,new Uint8Array(l.buffer,l.byteOffset,t),h-t),this.head=i,i.data=l.slice(t));break}++s}while(i=i.next);return this.length-=s,e}[inspect.custom](t,e){return inspect(this,{...e,depth:0,customInspect:!1})}};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{pipeline}=require("internal/streams/pipeline"),Duplex=require("internal/streams/duplex"),{destroyer}=require("internal/streams/destroy"),{isNodeStream,isReadable,isWritable}=require("internal/streams/utils"),{AbortError,codes:{ERR_INVALID_ARG_VALUE,ERR_MISSING_ARGS}}=require("internal/errors");class ComposeDuplex extends Duplex{constructor(t){super(t);t?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}module.exports=function(...t){if(t.length===0)throw new ERR_MISSING_ARGS("streams");if(t.length===1)return Duplex.from(t[0]);const s=[...t];if(typeof t[0]=="function"&&(t[0]=Duplex.from(t[0])),typeof t[t.length-1]=="function"){const e=t.length-1;t[e]=Duplex.from(t[e])}for(let e=0;e<t.length;++e)if(!!isNodeStream(t[e])){if(e<t.length-1&&!isReadable(t[e]))throw new ERR_INVALID_ARG_VALUE(`streams[${e}]`,s[e],"must be readable");if(e>0&&!isWritable(t[e]))throw new ERR_INVALID_ARG_VALUE(`streams[${e}]`,s[e],"must be writable")}let o,r,u,f,n;function w(e){const l=f;f=null,l?l(e):e?n.destroy(e):!c&&!d&&n.destroy()}const a=t[0],i=pipeline(t,w),d=!!isWritable(a),c=!!isReadable(i);return n=new ComposeDuplex({writableObjectMode:!!a?.writableObjectMode,readableObjectMode:!!i?.writableObjectMode,writable:d,readable:c}),d&&(n._write=function(e,l,b){a.write(e,l)?b():o=b},n._final=function(e){a.end(),r=e},a.on("drain",function(){if(o){const e=o;o=null,e()}}),i.on("finish",function(){if(r){const e=r;r=null,e()}})),c&&(i.on("readable",function(){if(u){const e=u;u=null,e()}}),i.on("end",function(){n.push(null)}),n._read=function(){for(;;){const e=i.read();if(e===null){u=n._read;return}if(!n.push(e))return}}),n._destroy=function(e,l){!e&&f!==null&&(e=new AbortError),u=null,o=null,r=null,f===null?l(e):(f=l,destroyer(i,e))},n};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{aggregateTwoErrors,codes:{ERR_MULTIPLE_CALLBACK},AbortError}=require("internal/errors"),{Symbol}=primordials,{kDestroyed,isDestroyed,isFinished,isServerRequest}=require("internal/streams/utils"),kDestroy=Symbol("kDestroy"),kConstruct=Symbol("kConstruct");function checkError(e,t,i){e&&(e.stack,t&&!t.errored&&(t.errored=e),i&&!i.errored&&(i.errored=e))}function destroy(e,t){const i=this._readableState,o=this._writableState,n=o||i;return o&&o.destroyed||i&&i.destroyed?(typeof t=="function"&&t(),this):(checkError(e,o,i),o&&(o.destroyed=!0),i&&(i.destroyed=!0),n.constructed?_destroy(this,e,t):this.once(kDestroy,function(r){_destroy(this,aggregateTwoErrors(r,e),t)}),this)}function _destroy(e,t,i){let o=!1;function n(r){if(o)return;o=!0;const s=e._readableState,c=e._writableState;checkError(r,c,s),c&&(c.closed=!0),s&&(s.closed=!0),typeof i=="function"&&i(r),r?process.nextTick(emitErrorCloseNT,e,r):process.nextTick(emitCloseNT,e)}try{const r=e._destroy(t||null,n);if(r!=null){const s=r.then;typeof s=="function"&&s.call(r,function(){process.nextTick(n,null)},function(c){process.nextTick(n,c)})}}catch(r){n(r)}}function emitErrorCloseNT(e,t){emitErrorNT(e,t),emitCloseNT(e)}function emitCloseNT(e){const t=e._readableState,i=e._writableState;i&&(i.closeEmitted=!0),t&&(t.closeEmitted=!0),(i&&i.emitClose||t&&t.emitClose)&&e.emit("close")}function emitErrorNT(e,t){const i=e._readableState,o=e._writableState;o&&o.errorEmitted||i&&i.errorEmitted||(o&&(o.errorEmitted=!0),i&&(i.errorEmitted=!0),e.emit("error",t))}function undestroy(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function errorOrDestroy(e,t,i){const o=e._readableState,n=e._writableState;if(n&&n.destroyed||o&&o.destroyed)return this;o&&o.autoDestroy||n&&n.autoDestroy?e.destroy(t):t&&(t.stack,n&&!n.errored&&(n.errored=t),o&&!o.errored&&(o.errored=t),i?process.nextTick(emitErrorNT,e,t):emitErrorNT(e,t))}function construct(e,t){if(typeof e._construct!="function")return;const i=e._readableState,o=e._writableState;i&&(i.constructed=!1),o&&(o.constructed=!1),e.once(kConstruct,t),!(e.listenerCount(kConstruct)>1)&&process.nextTick(constructNT,e)}function constructNT(e){let t=!1;function i(o){if(t){errorOrDestroy(e,o??new ERR_MULTIPLE_CALLBACK);return}t=!0;const n=e._readableState,r=e._writableState,s=r||n;n&&(n.constructed=!0),r&&(r.constructed=!0),s.destroyed?e.emit(kDestroy,o):o?errorOrDestroy(e,o,!0):process.nextTick(emitConstructNT,e)}try{const o=e._construct(i);if(o!=null){const n=o.then;typeof n=="function"&&n.call(o,function(){process.nextTick(i,null)},function(r){process.nextTick(i,r)})}}catch(o){i(o)}}function emitConstructNT(e){e.emit(kConstruct)}function isRequest(e){return e&&e.setHeader&&typeof e.abort=="function"}function emitCloseLegacy(e){e.emit("close")}function emitErrorCloseLegacy(e,t){e.emit("error",t),process.nextTick(emitCloseLegacy,e)}function destroyer(e,t){!e||isDestroyed(e)||(!t&&!isFinished(e)&&(t=new AbortError),isServerRequest(e)?(e.socket=null,e.destroy(t)):isRequest(e)?e.abort():isRequest(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?process.nextTick(emitErrorCloseLegacy,e):process.nextTick(emitCloseLegacy,e),e.destroyed||(e[kDestroyed]=!0))}module.exports={construct,destroyer,destroy,undestroy,errorOrDestroy};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectDefineProperties,ObjectGetOwnPropertyDescriptor,ObjectKeys,ObjectSetPrototypeOf}=primordials;module.exports=Duplex;const Readable=require("internal/streams/readable"),Writable=require("internal/streams/writable");ObjectSetPrototypeOf(Duplex.prototype,Readable.prototype),ObjectSetPrototypeOf(Duplex,Readable);for(const e of ObjectKeys(Writable.prototype))Duplex.prototype[e]||(Duplex.prototype[e]=Writable.prototype[e]);function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);Readable.call(this,e),Writable.call(this,e),e?(this.allowHalfOpen=e.allowHalfOpen!==!1,e.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}ObjectDefineProperties(Duplex.prototype,{writable:ObjectGetOwnPropertyDescriptor(Writable.prototype,"writable"),writableHighWaterMark:ObjectGetOwnPropertyDescriptor(Writable.prototype,"writableHighWaterMark"),writableObjectMode:ObjectGetOwnPropertyDescriptor(Writable.prototype,"writableObjectMode"),writableBuffer:ObjectGetOwnPropertyDescriptor(Writable.prototype,"writableBuffer"),writableLength:ObjectGetOwnPropertyDescriptor(Writable.prototype,"writableLength"),writableFinished:ObjectGetOwnPropertyDescriptor(Writable.prototype,"writableFinished"),writableCorked:ObjectGetOwnPropertyDescriptor(Writable.prototype,"writableCorked"),writableEnded:ObjectGetOwnPropertyDescriptor(Writable.prototype,"writableEnded"),writableNeedDrain:ObjectGetOwnPropertyDescriptor(Writable.prototype,"writableNeedDrain"),destroyed:{get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}});let webStreamsAdapters;function lazyWebStreams(){return webStreamsAdapters===void 0&&(webStreamsAdapters=require("internal/webstreams/adapters")),webStreamsAdapters}Duplex.fromWeb=function(e,t){return lazyWebStreams().newStreamDuplexFromReadableWritablePair(e,t)},Duplex.toWeb=function(e){return lazyWebStreams().newReadableWritablePairFromDuplex(e)};let duplexify;Duplex.from=function(e){return duplexify||(duplexify=require("internal/streams/duplexify")),duplexify(e,"body")};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{isReadable,isWritable,isIterable,isNodeStream,isReadableNodeStream,isWritableNodeStream,isDuplexNodeStream}=require("internal/streams/utils"),eos=require("internal/streams/end-of-stream"),{AbortError,codes:{ERR_INVALID_ARG_TYPE,ERR_INVALID_RETURN_VALUE}}=require("internal/errors"),{destroyer}=require("internal/streams/destroy"),Duplex=require("internal/streams/duplex"),Readable=require("internal/streams/readable"),{createDeferredPromise}=require("internal/util"),from=require("internal/streams/from"),{isBlob}=require("internal/blob"),{AbortController}=require("internal/abort_controller"),{FunctionPrototypeCall}=primordials;class Duplexify extends Duplex{constructor(e){super(e);e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}module.exports=function o(e,l){if(isDuplexNodeStream(e))return e;if(isReadableNodeStream(e))return _duplexify({readable:e});if(isWritableNodeStream(e))return _duplexify({writable:e});if(isNodeStream(e))return _duplexify({writable:!1,readable:!1});if(typeof e=="function"){const{value:r,write:n,final:a,destroy:s}=fromAsyncGen(e);if(isIterable(r))return from(Duplexify,r,{objectMode:!0,write:n,final:a,destroy:s});const u=r?.then;if(typeof u=="function"){let i;const d=FunctionPrototypeCall(u,r,t=>{if(t!=null)throw new ERR_INVALID_RETURN_VALUE("nully","body",t)},t=>{destroyer(i,t)});return i=new Duplexify({objectMode:!0,readable:!1,write:n,final(t){a(async()=>{try{await d,process.nextTick(t,null)}catch(c){process.nextTick(t,c)}})},destroy:s})}throw new ERR_INVALID_RETURN_VALUE("Iterable, AsyncIterable or AsyncFunction",l,r)}if(isBlob(e))return o(e.arrayBuffer());if(isIterable(e))return from(Duplexify,e,{objectMode:!0,writable:!1});if(typeof e?.writable=="object"||typeof e?.readable=="object"){const r=e?.readable?isReadableNodeStream(e?.readable)?e?.readable:o(e.readable):void 0,n=e?.writable?isWritableNodeStream(e?.writable)?e?.writable:o(e.writable):void 0;return _duplexify({readable:r,writable:n})}const f=e?.then;if(typeof f=="function"){let r;return FunctionPrototypeCall(f,e,n=>{n!=null&&r.push(n),r.push(null)},n=>{destroyer(r,n)}),r=new Duplexify({objectMode:!0,writable:!1,read(){}})}throw new ERR_INVALID_ARG_TYPE(l,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function fromAsyncGen(o){let{promise:e,resolve:l}=createDeferredPromise();const f=new AbortController,r=f.signal;return{value:o(async function*(){for(;;){const{chunk:a,done:s,cb:u}=await e;if(process.nextTick(u),s)return;if(r.aborted)throw new AbortError;yield a,{promise:e,resolve:l}=createDeferredPromise()}}(),{signal:r}),write(a,s,u){l({chunk:a,done:!1,cb:u})},final(a){l({done:!0,cb:a})},destroy(a,s){f.abort(),s(a)}}}function _duplexify(o){const e=o.readable&&typeof o.readable.read!="function"?Readable.wrap(o.readable):o.readable,l=o.writable;let f=!!isReadable(e),r=!!isWritable(l),n,a,s,u,i;function d(t){const c=u;u=null,c?c(t):t?i.destroy(t):!f&&!r&&i.destroy()}return i=new Duplexify({readableObjectMode:!!e?.readableObjectMode,writableObjectMode:!!l?.writableObjectMode,readable:f,writable:r}),r&&(eos(l,t=>{r=!1,t&&destroyer(e,t),d(t)}),i._write=function(t,c,b){l.write(t,c)?b():n=b},i._final=function(t){l.end(),a=t},l.on("drain",function(){if(n){const t=n;n=null,t()}}),l.on("finish",function(){if(a){const t=a;a=null,t()}})),f&&(eos(e,t=>{f=!1,t&&destroyer(e,t),d(t)}),e.on("readable",function(){if(s){const t=s;s=null,t()}}),e.on("end",function(){i.push(null)}),i._read=function(){for(;;){const t=e.read();if(t===null){s=i._read;return}if(!i.push(t))return}}),i._destroy=function(t,c){!t&&u!==null&&(t=new AbortError),s=null,n=null,a=null,u===null?c(t):(u=c,destroyer(l,t),destroyer(e,t))},i}
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{AbortError,codes}=require("internal/errors"),{ERR_STREAM_PREMATURE_CLOSE}=codes,{once}=require("internal/util"),{validateAbortSignal,validateFunction,validateObject}=require("internal/validators"),{isClosed,isReadable,isReadableNodeStream,isReadableFinished,isWritable,isWritableNodeStream,isWritableFinished,isNodeStream,willEmitClose:_willEmitClose}=require("internal/streams/utils");function isRequest(e){return e.setHeader&&typeof e.abort=="function"}const nop=()=>{};function eos(e,i,n){arguments.length===2?(n=i,i={}):i==null?i={}:validateObject(i,"options"),validateFunction(n,"callback"),validateAbortSignal(i.signal,"options.signal"),n=once(n);const d=i.readable||i.readable!==!1&&isReadableNodeStream(e),f=i.writable||i.writable!==!1&&isWritableNodeStream(e);isNodeStream(e);const b=e._writableState,v=e._readableState,s=()=>{e.writable||t()};let r=_willEmitClose(e)&&isReadableNodeStream(e)===d&&isWritableNodeStream(e)===f,c=isWritableFinished(e,!1);const t=()=>{c=!0,e.destroyed&&(r=!1),!(r&&(!e.readable||d))&&(!d||u)&&n.call(e)};let u=isReadableFinished(e,!1);const E=()=>{u=!0,e.destroyed&&(r=!1),!(r&&(!e.writable||f))&&(!f||c)&&n.call(e)},a=l=>{n.call(e,l)};let w=isClosed(e);const o=()=>{w=!0;const l=b?.errored||v?.errored;if(l&&typeof l!="boolean")return n.call(e,l);if(d&&!u&&!isReadableFinished(e,!1))return n.call(e,new ERR_STREAM_PREMATURE_CLOSE);if(f&&!c&&!isWritableFinished(e,!1))return n.call(e,new ERR_STREAM_PREMATURE_CLOSE);n.call(e)},L=()=>{e.req.on("finish",t)};isRequest(e)?(e.on("complete",t),r||e.on("abort",o),e.req?L():e.on("request",L)):f&&!b&&(e.on("end",s),e.on("close",s)),!r&&typeof e.aborted=="boolean"&&e.on("aborted",o),e.on("end",E),e.on("finish",t),i.error!==!1&&e.on("error",a),e.on("close",o),w?process.nextTick(o):b?.errorEmitted||v?.errorEmitted?r||process.nextTick(o):(!d&&(!r||isReadable(e))&&(c||!isWritable(e))||!f&&(!r||isWritable(e))&&(u||!isReadable(e))||v&&e.req&&e.aborted)&&process.nextTick(o);const g=()=>{n=nop,e.removeListener("aborted",o),e.removeListener("complete",t),e.removeListener("abort",o),e.removeListener("request",L),e.req&&e.req.removeListener("finish",t),e.removeListener("end",s),e.removeListener("close",s),e.removeListener("finish",t),e.removeListener("end",E),e.removeListener("error",a),e.removeListener("close",o)};if(i.signal&&!w){const l=()=>{const q=n;g(),q.call(e,new AbortError)};if(i.signal.aborted)process.nextTick(l);else{const q=n;n=once((...h)=>{i.signal.removeEventListener("abort",l),q.apply(e,h)}),i.signal.addEventListener("abort",l)}}return g}module.exports=eos;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{PromisePrototypeThen,SymbolAsyncIterator,SymbolIterator}=primordials,{Buffer}=require("buffer"),{ERR_INVALID_ARG_TYPE,ERR_STREAM_NULL_VALUES}=require("internal/errors").codes;function from(f,e,a){let n;if(typeof e=="string"||e instanceof Buffer)return new f({objectMode:!0,...a,read(){this.push(e),this.push(null)}});let i;if(e&&e[SymbolAsyncIterator])i=!0,n=e[SymbolAsyncIterator]();else if(e&&e[SymbolIterator])i=!1,n=e[SymbolIterator]();else throw new ERR_INVALID_ARG_TYPE("iterable",["Iterable"],e);const o=new f({objectMode:!0,highWaterMark:1,...a});let u=!1;o._read=function(){u||(u=!0,h())},o._destroy=function(t,s){PromisePrototypeThen(l(t),()=>process.nextTick(s,t),r=>process.nextTick(s,r||t))};async function l(t){const s=t!=null,r=typeof n.throw=="function";if(s&&r){const{value:c,done:d}=await n.throw(t);if(await c,d)return}if(typeof n.return=="function"){const{value:c}=await n.return();await c}}async function h(){for(;;){try{const{value:t,done:s}=i?await n.next():n.next();if(s)o.push(null);else{const r=t&&typeof t.then=="function"?await t:t;if(r===null)throw u=!1,new ERR_STREAM_NULL_VALUES;if(o.push(r))continue;u=!1}}catch(t){o.destroy(t)}break}}return o}module.exports=from;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectDefineProperties,ObjectDefineProperty,ObjectSetPrototypeOf}=primordials,stream=require("stream"),{getDefaultEncoding}=require("internal/crypto/util");module.exports=LazyTransform;function LazyTransform(t){this._options=t}ObjectSetPrototypeOf(LazyTransform.prototype,stream.Transform.prototype),ObjectSetPrototypeOf(LazyTransform,stream.Transform);function makeGetter(t){return function(){return stream.Transform.call(this,this._options),this._writableState.decodeStrings=!1,(!this._options||!this._options.defaultEncoding)&&(this._writableState.defaultEncoding=getDefaultEncoding()),this[t]}}function makeSetter(t){return function(e){ObjectDefineProperty(this,t,{value:e,enumerable:!0,configurable:!0,writable:!0})}}ObjectDefineProperties(LazyTransform.prototype,{_readableState:{get:makeGetter("_readableState"),set:makeSetter("_readableState"),configurable:!0,enumerable:!0},_writableState:{get:makeGetter("_writableState"),set:makeSetter("_writableState"),configurable:!0,enumerable:!0}});
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,ObjectSetPrototypeOf}=primordials,EE=require("events");function Stream(e){EE.call(this,e)}ObjectSetPrototypeOf(Stream.prototype,EE.prototype),ObjectSetPrototypeOf(Stream,EE),Stream.prototype.pipe=function(e,n){const r=this;function u(t){e.writable&&e.write(t)===!1&&r.pause&&r.pause()}r.on("data",u);function c(){r.readable&&r.resume&&r.resume()}e.on("drain",c),!e._isStdio&&(!n||n.end!==!1)&&(r.on("end",f),r.on("close",a));let i=!1;function f(){i||(i=!0,e.end())}function a(){i||(i=!0,typeof e.destroy=="function"&&e.destroy())}function s(t){o(),EE.listenerCount(this,"error")===0&&this.emit("error",t)}prependListener(r,"error",s),prependListener(e,"error",s);function o(){r.removeListener("data",u),e.removeListener("drain",c),r.removeListener("end",f),r.removeListener("close",a),r.removeListener("error",s),e.removeListener("error",s),r.removeListener("end",o),r.removeListener("close",o),e.removeListener("close",o)}return r.on("end",o),r.on("close",o),e.on("close",o),e.emit("pipe",r),e};function prependListener(e,n,r){if(typeof e.prependListener=="function")return e.prependListener(n,r);!e._events||!e._events[n]?e.on(n,r):ArrayIsArray(e._events[n])?e._events[n].unshift(r):e._events[n]=[r,e._events[n]]}module.exports={Stream,prependListener};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectSetPrototypeOf}=primordials;module.exports=PassThrough;const Transform=require("internal/streams/transform");ObjectSetPrototypeOf(PassThrough.prototype,Transform.prototype),ObjectSetPrototypeOf(PassThrough,Transform);function PassThrough(t){if(!(this instanceof PassThrough))return new PassThrough(t);Transform.call(this,t)}PassThrough.prototype._transform=function(t,o,r){r(null,t)};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,Promise,SymbolAsyncIterator}=primordials,eos=require("internal/streams/end-of-stream"),{once}=require("internal/util"),destroyImpl=require("internal/streams/destroy"),Duplex=require("internal/streams/duplex"),{aggregateTwoErrors,codes:{ERR_INVALID_ARG_TYPE,ERR_INVALID_RETURN_VALUE,ERR_MISSING_ARGS,ERR_STREAM_DESTROYED},AbortError}=require("internal/errors"),{validateCallback,validateAbortSignal}=require("internal/validators"),{isIterable,isReadableNodeStream,isNodeStream}=require("internal/streams/utils"),{AbortController}=require("internal/abort_controller");let PassThrough,Readable;function destroyer(e,i,d,r){r=once(r);let s=!1;return e.on("close",()=>{s=!0}),eos(e,{readable:i,writable:d},o=>{s=!o;const a=e._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&i&&a&&a.ended&&!a.errored&&!a.errorEmitted?e.once("end",r).once("error",r):r(o)}),o=>{s||(s=!0,destroyImpl.destroyer(e,o),r(o||new ERR_STREAM_DESTROYED("pipe")))}}function popCallback(e){return validateCallback(e[e.length-1]),e.pop()}function makeAsyncIterable(e){if(isIterable(e))return e;if(isReadableNodeStream(e))return fromReadable(e);throw new ERR_INVALID_ARG_TYPE("val",["Readable","Iterable","AsyncIterable"],e)}async function*fromReadable(e){Readable||(Readable=require("internal/streams/readable")),yield*Readable.prototype[SymbolAsyncIterator].call(e)}async function pump(e,i,d){let r,s=null;const o=l=>{if(l&&(r=l),s){const c=s;s=null,c()}},a=()=>new Promise((l,c)=>{r?c(r):s=()=>{r?c(r):l()}});i.on("drain",o);const u=eos(i,{readable:!1},o);try{i.writableNeedDrain&&await a();for await(const l of e)i.write(l)||await a();i.end(),await a(),d()}catch(l){d(r!==l?aggregateTwoErrors(r,l):l)}finally{u(),i.off("drain",o)}}function pipeline(...e){const i=once(popCallback(e));return ArrayIsArray(e[0])&&e.length===1&&(e=e[0]),pipelineImpl(e,i)}function pipelineImpl(e,i,d){if(e.length<2)throw new ERR_MISSING_ARGS("streams");const r=new AbortController,s=r.signal,o=d?.signal;validateAbortSignal(o,"options.signal");function a(){b(new AbortError)}o?.addEventListener("abort",a);let u,l;const c=[];let p=0;function R(f){b(f,--p==0)}function b(f,n){if(f&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=f),!(!u&&!n)){for(;c.length;)c.shift()(u);o?.removeEventListener("abort",a),r.abort(),n&&i(u,l)}}let t;for(let f=0;f<e.length;f++){const n=e[f],y=f<e.length-1,A=f>0;if(isNodeStream(n)&&(p++,c.push(destroyer(n,y,A,R))),f===0)if(typeof n=="function"){if(t=n({signal:s}),!isIterable(t))throw new ERR_INVALID_RETURN_VALUE("Iterable, AsyncIterable or Stream","source",t)}else isIterable(n)||isReadableNodeStream(n)?t=n:t=Duplex.from(n);else if(typeof n=="function")if(t=makeAsyncIterable(t),t=n(t,{signal:s}),y){if(!isIterable(t,!0))throw new ERR_INVALID_RETURN_VALUE("AsyncIterable",`transform[${f-1}]`,t)}else{PassThrough||(PassThrough=require("internal/streams/passthrough"));const h=new PassThrough({objectMode:!0}),w=t?.then;if(typeof w=="function")w.call(t,E=>{l=E,h.end(E)},E=>{h.destroy(E)});else if(isIterable(t,!0))p++,pump(t,h,R);else throw new ERR_INVALID_RETURN_VALUE("AsyncIterable or Promise","destination",t);t=h,p++,c.push(destroyer(t,!1,!0,R))}else isNodeStream(n)?(isReadableNodeStream(t)?(t.pipe(n),(n===process.stdout||n===process.stderr)&&t.on("end",()=>n.end())):(t=makeAsyncIterable(t),p++,pump(t,n,R)),t=n):t=Duplex.from(n)}return(s?.aborted||o?.aborted)&&process.nextTick(a),t}module.exports={pipelineImpl,pipeline};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeIndexOf,NumberIsInteger,NumberIsNaN,NumberParseInt,ObjectDefineProperties,ObjectKeys,ObjectSetPrototypeOf,Promise,SafeSet,SymbolAsyncIterator,Symbol}=primordials;module.exports=Readable,Readable.ReadableState=ReadableState;const EE=require("events"),{Stream,prependListener}=require("internal/streams/legacy"),{Buffer}=require("buffer"),{addAbortSignal}=require("internal/streams/add-abort-signal"),eos=require("internal/streams/end-of-stream");let debug=require("internal/util/debuglog").debuglog("stream",e=>{debug=e});const BufferList=require("internal/streams/buffer_list"),destroyImpl=require("internal/streams/destroy"),{getHighWaterMark,getDefaultHighWaterMark}=require("internal/streams/state"),{aggregateTwoErrors,codes:{ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED,ERR_OUT_OF_RANGE,ERR_STREAM_PUSH_AFTER_EOF,ERR_STREAM_UNSHIFT_AFTER_END_EVENT}}=require("internal/errors"),{validateObject}=require("internal/validators"),kPaused=Symbol("kPaused"),{StringDecoder}=require("string_decoder"),from=require("internal/streams/from");ObjectSetPrototypeOf(Readable.prototype,Stream.prototype),ObjectSetPrototypeOf(Readable,Stream);const nop=()=>{},{errorOrDestroy}=destroyImpl;function ReadableState(e,t,r){typeof r!="boolean"&&(r=t instanceof Stream.Duplex),this.objectMode=!!(e&&e.objectMode),r&&(this.objectMode=this.objectMode||!!(e&&e.readableObjectMode)),this.highWaterMark=e?getHighWaterMark(this,e,"readableHighWaterMark",r):getDefaultHighWaterMark(!1),this.buffer=new BufferList,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[kPaused]=null,this.errorEmitted=!1,this.emitClose=!e||e.emitClose!==!1,this.autoDestroy=!e||e.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new StringDecoder(e.encoding),this.encoding=e.encoding)}function Readable(e){if(!(this instanceof Readable))return new Readable(e);const t=this instanceof Stream.Duplex;this._readableState=new ReadableState(e,this,t),e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&!t&&addAbortSignal(e.signal,this)),Stream.call(this,e),destroyImpl.construct(this,()=>{this._readableState.needReadable&&maybeReadMore(this,this._readableState)})}Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(e,t){t(e)},Readable.prototype[EE.captureRejectionSymbol]=function(e){this.destroy(e)},Readable.prototype.push=function(e,t){return readableAddChunk(this,e,t,!1)},Readable.prototype.unshift=function(e,t){return readableAddChunk(this,e,t,!0)};function readableAddChunk(e,t,r,i){debug("readableAddChunk",t);const n=e._readableState;let a;if(n.objectMode||(typeof t=="string"?(r=r||n.defaultEncoding,n.encoding!==r&&(i&&n.encoding?t=Buffer.from(t,r).toString(n.encoding):(t=Buffer.from(t,r),r=""))):t instanceof Buffer?r="":Stream._isUint8Array(t)?(t=Stream._uint8ArrayToBuffer(t),r=""):t!=null&&(a=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],t))),a)errorOrDestroy(e,a);else if(t===null)n.reading=!1,onEofChunk(e,n);else if(n.objectMode||t&&t.length>0)if(i)if(n.endEmitted)errorOrDestroy(e,new ERR_STREAM_UNSHIFT_AFTER_END_EVENT);else{if(n.destroyed||n.errored)return!1;addChunk(e,n,t,!0)}else if(n.ended)errorOrDestroy(e,new ERR_STREAM_PUSH_AFTER_EOF);else{if(n.destroyed||n.errored)return!1;n.reading=!1,n.decoder&&!r?(t=n.decoder.write(t),n.objectMode||t.length!==0?addChunk(e,n,t,!1):maybeReadMore(e,n)):addChunk(e,n,t,!1)}else i||(n.reading=!1,maybeReadMore(e,n));return!n.ended&&(n.length<n.highWaterMark||n.length===0)}function addChunk(e,t,r,i){t.flowing&&t.length===0&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e)),maybeReadMore(e,t)}Readable.prototype.isPaused=function(){const e=this._readableState;return e[kPaused]===!0||e.flowing===!1},Readable.prototype.setEncoding=function(e){const t=new StringDecoder(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let i="";for(const n of r)i+=t.write(n);return r.clear(),i!==""&&r.push(i),this._readableState.length=i.length,this};const MAX_HWM=1073741824;function computeNewHighWaterMark(e){if(e>MAX_HWM)throw new ERR_OUT_OF_RANGE("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++,e}function howMuchToRead(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:NumberIsNaN(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}Readable.prototype.read=function(e){debug("read",e),e===void 0?e=NaN:NumberIsInteger(e)||(e=NumberParseInt(e,10));const t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e)),e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return debug("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?endReadable(this):emitReadable(this),null;if(e=howMuchToRead(e,t),e===0&&t.ended)return t.length===0&&endReadable(this),null;let i=t.needReadable;if(debug("need readable",i),(t.length===0||t.length-e<t.highWaterMark)&&(i=!0,debug("length less than watermark",i)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)i=!1,debug("reading, ended or constructing",i);else if(i){debug("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0);try{const a=this._read(t.highWaterMark);if(a!=null){const s=a.then;typeof s=="function"&&s.call(a,nop,function(u){errorOrDestroy(this,u)})}}catch(a){errorOrDestroy(this,a)}t.sync=!1,t.reading||(e=howMuchToRead(r,t))}let n;return e>0?n=fromList(e,t):n=null,n===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&endReadable(this)),n!==null&&!t.errorEmitted&&!t.closeEmitted&&(t.dataEmitted=!0,this.emit("data",n)),n};function onEofChunk(e,t){if(debug("onEofChunk"),!t.ended){if(t.decoder){const r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?emitReadable(e):(t.needReadable=!1,t.emittedReadable=!0,emitReadable_(e))}}function emitReadable(e){const t=e._readableState;debug("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(debug("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(emitReadable_,e))}function emitReadable_(e){const t=e._readableState;debug("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,flow(e)}function maybeReadMore(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,process.nextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){const r=t.length;if(debug("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}Readable.prototype._read=function(e){throw new ERR_METHOD_NOT_IMPLEMENTED("_read()")},Readable.prototype.pipe=function(e,t){const r=this,i=this._readableState;i.pipes.length===1&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new SafeSet(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),debug("pipe count=%d opts=%j",i.pipes.length,t);const a=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr?u:f;i.endEmitted?process.nextTick(a):r.once("end",a),e.on("unpipe",s);function s(o,l){debug("onunpipe"),o===r&&l&&l.hasUnpiped===!1&&(l.hasUnpiped=!0,w())}function u(){debug("onend"),e.end()}let d,g=!1;function w(){debug("cleanup"),e.removeListener("close",h),e.removeListener("finish",b),d&&e.removeListener("drain",d),e.removeListener("error",c),e.removeListener("unpipe",s),r.removeListener("end",u),r.removeListener("end",f),r.removeListener("data",y),g=!0,d&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&d()}function p(){g||(i.pipes.length===1&&i.pipes[0]===e?(debug("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(debug("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),r.pause()),d||(d=pipeOnDrain(r,e),e.on("drain",d))}r.on("data",y);function y(o){debug("ondata");const l=e.write(o);debug("dest.write",l),l===!1&&p()}function c(o){if(debug("onerror",o),f(),e.removeListener("error",c),EE.listenerCount(e,"error")===0){const l=e._writableState||e._readableState;l&&!l.errorEmitted?errorOrDestroy(e,o):e.emit("error",o)}}prependListener(e,"error",c);function h(){e.removeListener("finish",b),f()}e.once("close",h);function b(){debug("onfinish"),e.removeListener("close",h),f()}e.once("finish",b);function f(){debug("unpipe"),r.unpipe(e)}return e.emit("pipe",r),e.writableNeedDrain===!0?i.flowing&&p():i.flowing||(debug("pipe resume"),r.resume()),e};function pipeOnDrain(e,t){return function(){const i=e._readableState;i.awaitDrainWriters===t?(debug("pipeOnDrain",1),i.awaitDrainWriters=null):i.multiAwaitDrain&&(debug("pipeOnDrain",i.awaitDrainWriters.size),i.awaitDrainWriters.delete(t)),(!i.awaitDrainWriters||i.awaitDrainWriters.size===0)&&EE.listenerCount(e,"data")&&(i.flowing=!0,flow(e))}}Readable.prototype.unpipe=function(e){const t=this._readableState,r={hasUnpiped:!1};if(t.pipes.length===0)return this;if(!e){const n=t.pipes;t.pipes=[],this.pause();for(let a=0;a<n.length;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}const i=ArrayPrototypeIndexOf(t.pipes,e);return i===-1?this:(t.pipes.splice(i,1),t.pipes.length===0&&this.pause(),e.emit("unpipe",this,r),this)},Readable.prototype.on=function(e,t){const r=Stream.prototype.on.call(this,e,t),i=this._readableState;return e==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):e==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,debug("on readable",i.length,i.reading),i.length?emitReadable(this):i.reading||process.nextTick(nReadingNextTick,this)),r},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.removeListener=function(e,t){const r=Stream.prototype.removeListener.call(this,e,t);return e==="readable"&&process.nextTick(updateReadableListening,this),r},Readable.prototype.off=Readable.prototype.removeListener,Readable.prototype.removeAllListeners=function(e){const t=Stream.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick(updateReadableListening,this),t};function updateReadableListening(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&t[kPaused]===!1?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function nReadingNextTick(e){debug("readable nexttick read 0"),e.read(0)}Readable.prototype.resume=function(){const e=this._readableState;return e.flowing||(debug("resume"),e.flowing=!e.readableListening,resume(this,e)),e[kPaused]=!1,this};function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(resume_,e,t))}function resume_(e,t){debug("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[kPaused]=!0,this};function flow(e){const t=e._readableState;for(debug("flow",t.flowing);t.flowing&&e.read()!==null;);}Readable.prototype.wrap=function(e){let t=!1;e.on("data",i=>{!this.push(i)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",i=>{errorOrDestroy(this,i)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const r=ObjectKeys(e);for(let i=1;i<r.length;i++){const n=r[i];this[n]===void 0&&typeof e[n]=="function"&&(this[n]=e[n].bind(e))}return this},Readable.prototype[SymbolAsyncIterator]=function(){return streamToAsyncIterator(this)},Readable.prototype.iterator=function(e){return e!==void 0&&validateObject(e,"options"),streamToAsyncIterator(this,e)};function streamToAsyncIterator(e,t){typeof e.read!="function"&&(e=Readable.wrap(e,{objectMode:!0}));const r=createAsyncIterator(e,t);return r.stream=e,r}async function*createAsyncIterator(e,t){let r=nop;function i(a){this===e?(r(),r=nop):r=a}e.on("readable",i);let n;eos(e,{writable:!1},a=>{n=a?aggregateTwoErrors(n,a):null,r(),r=nop});try{for(;;){const a=e.destroyed?null:e.read();if(a!==null)yield a;else{if(n)throw n;if(n===null)return;await new Promise(i)}}}catch(a){throw n=aggregateTwoErrors(n,a),n}finally{(n||t?.destroyOnReturn!==!1)&&(n===void 0||e._readableState.autoDestroy)&&destroyImpl.destroyer(e,null)}}ObjectDefineProperties(Readable.prototype,{readable:{get(){const e=this._readableState;return!!e&&e.readable!==!1&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{enumerable:!1,get:function(){return!!(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted}},readableHighWaterMark:{enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},destroyed:{enumerable:!1,get(){return this._readableState===void 0?!1:this._readableState.destroyed},set(e){!this._readableState||(this._readableState.destroyed=e)}},readableEnded:{enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),ObjectDefineProperties(ReadableState.prototype,{pipesCount:{get(){return this.pipes.length}},paused:{get(){return this[kPaused]!==!1},set(e){this[kPaused]=!!e}}}),Readable._fromList=fromList;function fromList(e,t){if(t.length===0)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function endReadable(e){const t=e._readableState;debug("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(endReadableNT,t,e))}function endReadableNT(e,t){if(debug("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&e.length===0){if(e.endEmitted=!0,t.emit("end"),t.writable&&t.allowHalfOpen===!1)process.nextTick(endWritableNT,t);else if(e.autoDestroy){const r=t._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&t.destroy()}}}function endWritableNT(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}Readable.from=function(e,t){return from(Readable,e,t)};let webStreamsAdapters;function lazyWebStreams(){return webStreamsAdapters===void 0&&(webStreamsAdapters=require("internal/webstreams/adapters")),webStreamsAdapters}Readable.fromWeb=function(e,t){return lazyWebStreams().newStreamReadableFromReadableStream(e,t)},Readable.toWeb=function(e){return lazyWebStreams().newReadableStreamFromStreamReadable(e)},Readable.wrap=function(e,t){return new Readable({objectMode:e.readableObjectMode??e.objectMode??!0,...t,destroy(r,i){destroyImpl.destroyer(e,r),i(r)}}).wrap(e)};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{MathFloor,NumberIsInteger}=primordials,{ERR_INVALID_ARG_VALUE}=require("internal/errors").codes;function highWaterMarkFrom(r,n,e){return r.highWaterMark!=null?r.highWaterMark:n?r[e]:null}function getDefaultHighWaterMark(r){return r?16:16*1024}function getHighWaterMark(r,n,e,o){const t=highWaterMarkFrom(n,o,e);if(t!=null){if(!NumberIsInteger(t)||t<0){const a=o?`options.${e}`:"options.highWaterMark";throw new ERR_INVALID_ARG_VALUE(a,t)}return MathFloor(t)}return getDefaultHighWaterMark(r.objectMode)}module.exports={getHighWaterMark,getDefaultHighWaterMark};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectSetPrototypeOf,Symbol}=primordials;module.exports=Transform;const{ERR_METHOD_NOT_IMPLEMENTED}=require("internal/errors").codes,Duplex=require("internal/streams/duplex");ObjectSetPrototypeOf(Transform.prototype,Duplex.prototype),ObjectSetPrototypeOf(Transform,Duplex);const kCallback=Symbol("kCallback");function Transform(t){if(!(this instanceof Transform))return new Transform(t);Duplex.call(this,t),this._readableState.sync=!1,this[kCallback]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",prefinish)}function final(t){let f=!1;if(typeof this._flush=="function"&&!this.destroyed){const s=this._flush((e,n)=>{if(f=!0,e){t?t(e):this.destroy(e);return}n!=null&&this.push(n),this.push(null),t&&t()});if(s!=null)try{const e=s.then;typeof e=="function"&&e.call(s,n=>{f||(n!=null&&this.push(n),this.push(null),t&&process.nextTick(t))},n=>{t?process.nextTick(t,n):process.nextTick(()=>this.destroy(n))})}catch(e){process.nextTick(()=>this.destroy(e))}}else this.push(null),t&&t()}function prefinish(){this._final!==final&&final.call(this)}Transform.prototype._final=final,Transform.prototype._transform=function(t,f,s){throw new ERR_METHOD_NOT_IMPLEMENTED("_transform()")},Transform.prototype._write=function(t,f,s){const e=this._readableState,n=this._writableState,h=e.length;let o=!1;const l=this._transform(t,f,(i,r)=>{if(o=!0,i){s(i);return}r!=null&&this.push(r),n.ended||h===e.length||e.length<e.highWaterMark||e.length===0?s():this[kCallback]=s});if(l!==void 0&&l!=null)try{const i=l.then;typeof i=="function"&&i.call(l,r=>{o||(r!=null&&this.push(r),n.ended||h===e.length||e.length<e.highWaterMark||e.length===0?process.nextTick(s):this[kCallback]=s)},r=>{process.nextTick(s,r)})}catch(i){process.nextTick(s,i)}},Transform.prototype._read=function(){if(this[kCallback]){const t=this[kCallback];this[kCallback]=null,t()}};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Symbol,SymbolAsyncIterator,SymbolIterator}=primordials,kDestroyed=Symbol("kDestroyed"),kIsDisturbed=Symbol("kIsDisturbed");function isReadableNodeStream(e){return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!e._writableState||e._readableState?.readable!==!1)&&(!e._writableState||e._readableState))}function isWritableNodeStream(e){return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||e._writableState?.writable!==!1))}function isDuplexNodeStream(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function isNodeStream(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function isIterable(e,t){return e==null?!1:t===!0?typeof e[SymbolAsyncIterator]=="function":t===!1?typeof e[SymbolIterator]=="function":typeof e[SymbolAsyncIterator]=="function"||typeof e[SymbolIterator]=="function"}function isDestroyed(e){if(!isNodeStream(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!!(e.destroyed||e[kDestroyed]||r?.destroyed)}function isWritableEnded(e){if(!isWritableNodeStream(e))return null;if(e.writableEnded===!0)return!0;const t=e._writableState;return t?.errored?!1:typeof t?.ended!="boolean"?null:t.ended}function isWritableFinished(e,t){if(!isWritableNodeStream(e))return null;if(e.writableFinished===!0)return!0;const n=e._writableState;return n?.errored?!1:typeof n?.finished!="boolean"?null:!!(n.finished||t===!1&&n.ended===!0&&n.length===0)}function isReadableEnded(e){if(!isReadableNodeStream(e))return null;if(e.readableEnded===!0)return!0;const t=e._readableState;return!t||t.errored?!1:typeof t?.ended!="boolean"?null:t.ended}function isReadableFinished(e,t){if(!isReadableNodeStream(e))return null;const n=e._readableState;return n?.errored?!1:typeof n?.endEmitted!="boolean"?null:!!(n.endEmitted||t===!1&&n.ended===!0&&n.length===0)}function isReadable(e){const t=isReadableNodeStream(e);return t===null||typeof e?.readable!="boolean"?null:isDestroyed(e)?!1:t&&e.readable&&!isReadableFinished(e)}function isWritable(e){const t=isWritableNodeStream(e);return t===null||typeof e?.writable!="boolean"?null:isDestroyed(e)?!1:t&&e.writable&&!isWritableEnded(e)}function isFinished(e,t){return isNodeStream(e)?isDestroyed(e)?!0:!(t?.readable!==!1&&isReadable(e)||t?.writable!==!1&&isWritable(e)):null}function isClosed(e){if(!isNodeStream(e))return null;const t=e._writableState,n=e._readableState;return typeof t?.closed=="boolean"||typeof n?.closed=="boolean"?t?.closed||n?.closed:typeof e._closed=="boolean"&&isOutgoingMessage(e)?e._closed:null}function isOutgoingMessage(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function isServerResponse(e){return typeof e._sent100=="boolean"&&isOutgoingMessage(e)}function isServerRequest(e){return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&e.req?.upgradeOrConnect===void 0}function willEmitClose(e){if(!isNodeStream(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!r&&isServerResponse(e)||!!(r&&r.autoDestroy&&r.emitClose&&r.closed===!1)}function isDisturbed(e){return!!(e&&(e.readableDidRead||e.readableAborted||e[kIsDisturbed]))}module.exports={kDestroyed,isDisturbed,kIsDisturbed,isClosed,isDestroyed,isDuplexNodeStream,isFinished,isIterable,isReadable,isReadableNodeStream,isReadableEnded,isReadableFinished,isNodeStream,isWritable,isWritableNodeStream,isWritableEnded,isWritableFinished,isServerRequest,isServerResponse,willEmitClose};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeSlice,Error,FunctionPrototypeSymbolHasInstance,ObjectDefineProperty,ObjectDefineProperties,ObjectSetPrototypeOf,StringPrototypeToLowerCase,Symbol,SymbolHasInstance}=primordials;module.exports=Writable,Writable.WritableState=WritableState;const EE=require("events"),Stream=require("internal/streams/legacy").Stream,{Buffer}=require("buffer"),destroyImpl=require("internal/streams/destroy"),{addAbortSignal}=require("internal/streams/add-abort-signal"),{getHighWaterMark,getDefaultHighWaterMark}=require("internal/streams/state"),{ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED,ERR_STREAM_ALREADY_FINISHED,ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING}=require("internal/errors").codes,{errorOrDestroy}=destroyImpl;ObjectSetPrototypeOf(Writable.prototype,Stream.prototype),ObjectSetPrototypeOf(Writable,Stream);function nop(){}const kOnFinished=Symbol("kOnFinished");function WritableState(e,t,r){typeof r!="boolean"&&(r=t instanceof Stream.Duplex),this.objectMode=!!(e&&e.objectMode),r&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?getHighWaterMark(this,e,"writableHighWaterMark",r):getDefaultHighWaterMark(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!!(e&&e.decodeStrings===!1);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=onwrite.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,resetBuffer(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||e.emitClose!==!1,this.autoDestroy=!e||e.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[kOnFinished]=[]}function resetBuffer(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}WritableState.prototype.getBuffer=function(){return ArrayPrototypeSlice(this.buffered,this.bufferedIndex)},ObjectDefineProperty(WritableState.prototype,"bufferedRequestCount",{get(){return this.buffered.length-this.bufferedIndex}});function Writable(e){const t=this instanceof Stream.Duplex;if(!t&&!FunctionPrototypeSymbolHasInstance(Writable,this))return new Writable(e);this._writableState=new WritableState(e,this,t),e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&addAbortSignal(e.signal,this)),Stream.call(this,e),destroyImpl.construct(this,()=>{const r=this._writableState;r.writing||clearBuffer(this,r),finishMaybe(this,r)})}ObjectDefineProperty(Writable,SymbolHasInstance,{value:function(e){return FunctionPrototypeSymbolHasInstance(this,e)?!0:this!==Writable?!1:e&&e._writableState instanceof WritableState}}),Writable.prototype.pipe=function(){errorOrDestroy(this,new ERR_STREAM_CANNOT_PIPE)};function _write(e,t,r,i){const n=e._writableState;if(typeof r=="function")i=r,r=n.defaultEncoding;else{if(!r)r=n.defaultEncoding;else if(r!=="buffer"&&!Buffer.isEncoding(r))throw new ERR_UNKNOWN_ENCODING(r);typeof i!="function"&&(i=nop)}if(t===null)throw new ERR_STREAM_NULL_VALUES;if(!n.objectMode)if(typeof t=="string")n.decodeStrings!==!1&&(t=Buffer.from(t,r),r="buffer");else if(t instanceof Buffer)r="buffer";else if(Stream._isUint8Array(t))t=Stream._uint8ArrayToBuffer(t),r="buffer";else throw new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],t);let f;return n.ending?f=new ERR_STREAM_WRITE_AFTER_END:n.destroyed&&(f=new ERR_STREAM_DESTROYED("write")),f?(process.nextTick(i,f),errorOrDestroy(e,f,!0),f):(n.pendingcb++,writeOrBuffer(e,n,t,r,i))}Writable.prototype.write=function(e,t,r){return _write(this,e,t,r)===!0},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=StringPrototypeToLowerCase(t)),!Buffer.isEncoding(t))throw new ERR_UNKNOWN_ENCODING(t);return this._writableState.defaultEncoding=t,this};function writeOrBuffer(e,t,r,i,n){const f=t.objectMode?1:r.length;t.length+=f;const l=t.length<t.highWaterMark;return l||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:i,callback:n}),t.allBuffers&&i!=="buffer"&&(t.allBuffers=!1),t.allNoop&&n!==nop&&(t.allNoop=!1)):(t.writelen=f,t.writecb=n,t.writing=!0,t.sync=!0,e._write(r,i,t.onwrite),t.sync=!1),l&&!t.errored&&!t.destroyed}function doWrite(e,t,r,i,n,f,l){t.writelen=i,t.writecb=l,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new ERR_STREAM_DESTROYED("write")):r?e._writev(n,t.onwrite):e._write(n,f,t.onwrite),t.sync=!1}function onwriteError(e,t,r,i){--t.pendingcb,i(r),errorBuffer(t),errorOrDestroy(e,r)}function onwrite(e,t){const r=e._writableState,i=r.sync,n=r.writecb;if(typeof n!="function"){errorOrDestroy(e,new ERR_MULTIPLE_CALLBACK);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?process.nextTick(onwriteError,e,r,t,n):onwriteError(e,r,t,n)):(r.buffered.length>r.bufferedIndex&&clearBuffer(e,r),i?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===n?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:n,stream:e,state:r},process.nextTick(afterWriteTick,r.afterWriteTickInfo)):afterWrite(e,r,1,n))}function afterWriteTick({stream:e,state:t,count:r,cb:i}){return t.afterWriteTickInfo=null,afterWrite(e,t,r,i)}function afterWrite(e,t,r,i){for(!t.ending&&!e.destroyed&&t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,i();t.destroyed&&errorBuffer(t),finishMaybe(e,t)}function errorBuffer(e){if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){const{chunk:i,callback:n}=e.buffered[r],f=e.objectMode?1:i.length;e.length-=f,n(e.errored??new ERR_STREAM_DESTROYED("write"))}const t=e[kOnFinished].splice(0);for(let r=0;r<t.length;r++)t[r](e.errored??new ERR_STREAM_DESTROYED("end"));resetBuffer(e)}function clearBuffer(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:r,bufferedIndex:i,objectMode:n}=t,f=r.length-i;if(!f)return;let l=i;if(t.bufferProcessing=!0,f>1&&e._writev){t.pendingcb-=f-1;const s=t.allNoop?nop:c=>{for(let o=l;o<r.length;++o)r[o].callback(c)},u=t.allNoop&&l===0?r:ArrayPrototypeSlice(r,l);u.allBuffers=t.allBuffers,doWrite(e,t,!0,t.length,u,"",s),resetBuffer(t)}else{do{const{chunk:s,encoding:u,callback:c}=r[l];r[l++]=null;const o=n?1:s.length;doWrite(e,t,!1,o,s,u,c)}while(l<r.length&&!t.writing);l===r.length?resetBuffer(t):l>256?(r.splice(0,l),t.bufferedIndex=0):t.bufferedIndex=l}t.bufferProcessing=!1}Writable.prototype._write=function(e,t,r){if(this._writev)this._writev([{chunk:e,encoding:t}],r);else throw new ERR_METHOD_NOT_IMPLEMENTED("_write()")},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,r){const i=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null);let n;if(e!=null){const f=_write(this,e,t);f instanceof Error&&(n=f)}return i.corked&&(i.corked=1,this.uncork()),n||(!i.errored&&!i.ending?(i.ending=!0,finishMaybe(this,i,!0),i.ended=!0):i.finished?n=new ERR_STREAM_ALREADY_FINISHED("end"):i.destroyed&&(n=new ERR_STREAM_DESTROYED("end"))),typeof r=="function"&&(n||i.finished?process.nextTick(r,n):i[kOnFinished].push(r)),this};function needFinish(e){return e.ending&&e.constructed&&e.length===0&&!e.errored&&e.buffered.length===0&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function callFinal(e,t){let r=!1;function i(n){if(r){errorOrDestroy(e,n??ERR_MULTIPLE_CALLBACK());return}if(r=!0,t.pendingcb--,n){const f=t[kOnFinished].splice(0);for(let l=0;l<f.length;l++)f[l](n);errorOrDestroy(e,n,t.sync)}else needFinish(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,process.nextTick(finish,e,t))}t.sync=!0,t.pendingcb++;try{const n=e._final(i);if(n!=null){const f=n.then;typeof f=="function"&&f.call(n,function(){process.nextTick(i,null)},function(l){process.nextTick(i,l)})}}catch(n){i(e,t,n)}t.sync=!1}function prefinish(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.finalCalled=!0,callFinal(e,t)):(t.prefinished=!0,e.emit("prefinish")))}function finishMaybe(e,t,r){needFinish(t)&&(prefinish(e,t),t.pendingcb===0&&needFinish(t)&&(t.pendingcb++,r?process.nextTick(finish,e,t):finish(e,t)))}function finish(e,t){t.pendingcb--,t.finished=!0;const r=t[kOnFinished].splice(0);for(let i=0;i<r.length;i++)r[i]();if(e.emit("finish"),t.autoDestroy){const i=e._readableState;(!i||i.autoDestroy&&(i.endEmitted||i.readable===!1))&&e.destroy()}}ObjectDefineProperties(Writable.prototype,{destroyed:{get(){return this._writableState?this._writableState.destroyed:!1},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{get(){const e=this._writableState;return!!e&&e.writable!==!1&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{get(){const e=this._writableState;return e?!e.destroyed&&!e.ending&&e.needDrain:!1}},writableHighWaterMark:{get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{get(){return this._writableState?this._writableState.corked:0}},writableLength:{get(){return this._writableState&&this._writableState.length}}});const destroy=destroyImpl.destroy;Writable.prototype.destroy=function(e,t){const r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[kOnFinished].length)&&process.nextTick(errorBuffer,r),destroy.call(this,e,t),this},Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(e,t){t(e)},Writable.prototype[EE.captureRejectionSymbol]=function(e){this.destroy(e)};let webStreamsAdapters;function lazyWebStreams(){return webStreamsAdapters===void 0&&(webStreamsAdapters=require("internal/webstreams/adapters")),webStreamsAdapters}Writable.fromWeb=function(e,t){return lazyWebStreams().newStreamWritableFromWritableStream(e,t)},Writable.toWeb=function(e){return lazyWebStreams().newWritableStreamFromStreamWritable(e)};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{globalThis}=primordials;process.emitWarning("These APIs are for internal testing only. Do not use them.","internal/test/binding"),module.isPreloading&&(globalThis.internalBinding=internalBinding,globalThis.primordials=primordials),module.exports={internalBinding,primordials};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{makeTransferable,kClone,kDeserialize}=require("internal/worker/js_transferable");process.emitWarning("These APIs are for internal testing only. Do not use them.","internal/test/transfer");class E{constructor(e){this.b=e}}class F extends E{constructor(e){super(e);return makeTransferable(this)}[kClone](){return{data:{b:this.b},deserializeInfo:"internal/test/transfer:F"}}[kDeserialize]({b:e}){this.b=e}}module.exports={E,F};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,ArrayPrototypeForEach,ArrayPrototypePush,StringPrototypeIndexOf,StringPrototypeSlice,StringPrototypeSplit,ObjectCreate}=primordials;function parseCertString(i){const t=ObjectCreate(null);return ArrayPrototypeForEach(StringPrototypeSplit(i,`
`),e=>{const o=StringPrototypeIndexOf(e,"=");if(o>0){const r=StringPrototypeSlice(e,0,o),n=StringPrototypeSlice(e,o+1);r in t?(ArrayIsArray(t[r])||(t[r]=[t[r]]),ArrayPrototypePush(t[r],n)):t[r]=n}}),t}exports.parseCertString=parseCertString;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,ArrayPrototypeFilter,ArrayPrototypeForEach,ArrayPrototypeJoin,StringPrototypeSplit,StringPrototypeStartsWith}=primordials,{codes:{ERR_CRYPTO_CUSTOM_ENGINE_NOT_SUPPORTED,ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE}}=require("internal/errors"),{isArrayBufferView}=require("internal/util/types"),{validateInt32,validateObject,validateString}=require("internal/validators"),{toBuf}=require("internal/crypto/util"),{crypto:{TLS1_2_VERSION,TLS1_3_VERSION}}=internalBinding("constants");function getDefaultEcdhCurve(){return require("tls").DEFAULT_ECDH_CURVE||"auto"}function getDefaultCiphers(){return require("tls").DEFAULT_CIPHERS}function addCACerts(e,t,i){ArrayPrototypeForEach(t,r=>{validateKeyOrCertOption(i,r),e.addCACert(r)})}function setCerts(e,t,i){ArrayPrototypeForEach(t,r=>{validateKeyOrCertOption(i,r),e.setCert(r)})}function validateKeyOrCertOption(e,t){if(typeof t!="string"&&!isArrayBufferView(t))throw new ERR_INVALID_ARG_TYPE(e,["string","Buffer","TypedArray","DataView"],t)}function setKey(e,t,i,r){validateKeyOrCertOption(`${r}.key`,t),i!=null&&validateString(i,`${r}.passphrase`),e.setKey(t,i)}function processCiphers(e,t){e=StringPrototypeSplit(e||getDefaultCiphers(),":");const i=ArrayPrototypeJoin(ArrayPrototypeFilter(e,n=>n.length>0&&!StringPrototypeStartsWith(n,"TLS_")),":"),r=ArrayPrototypeJoin(ArrayPrototypeFilter(e,n=>n.length>0&&StringPrototypeStartsWith(n,"TLS_")),":");if(r===""&&i==="")throw new ERR_INVALID_ARG_VALUE(t,e);return{cipherList:i,cipherSuites:r}}function configSecureContext(e,t={},i="options"){validateObject(t,i);const{ca:r,cert:n,ciphers:w=getDefaultCiphers(),clientCertEngine:C,crl:l,dhparam:E,ecdhCurve:P=getDefaultEcdhCurve(),key:o,passphrase:a,pfx:g,privateKeyIdentifier:d,privateKeyEngine:y,sessionIdContext:S,sessionTimeout:c,sigalgs:p,ticketKeys:u}=t;if(r?addCACerts(e,ArrayIsArray(r)?r:[r],`${i}.ca`):e.addRootCerts(),n&&setCerts(e,ArrayIsArray(n)?n:[n],`${i}.cert`),o)if(ArrayIsArray(o))for(let s=0;s<o.length;++s){const f=o[s],h=f!=null&&f.pem!==void 0?f.pem:f;setKey(e,h,f.passphrase||a,i)}else setKey(e,o,a,i);if(p!==void 0){if(validateString(p,`${i}.sigalgs`),p==="")throw new ERR_INVALID_ARG_VALUE(`${i}.sigalgs`,p);e.setSigalgs(p)}if(d!==void 0){if(y===void 0)throw new ERR_INVALID_ARG_VALUE(`${i}.privateKeyEngine`,y);if(o)throw new ERR_INVALID_ARG_VALUE(`${i}.privateKeyIdentifier`,d);if(typeof d=="string"&&typeof y=="string")if(e.setEngineKey)e.setEngineKey(d,y);else throw new ERR_CRYPTO_CUSTOM_ENGINE_NOT_SUPPORTED;else throw typeof d!="string"?new ERR_INVALID_ARG_TYPE(`${i}.privateKeyIdentifier`,["string","undefined"],d):new ERR_INVALID_ARG_TYPE(`${i}.privateKeyEngine`,["string","undefined"],y)}w!=null&&validateString(w,`${i}.ciphers`);const{cipherList:$,cipherSuites:_}=processCiphers(w,`${i}.ciphers`);if(e.setCipherSuites(_),e.setCiphers($),_===""&&e.getMaxProto()>TLS1_2_VERSION&&e.getMinProto()<TLS1_3_VERSION&&e.setMaxProto(TLS1_2_VERSION),$===""&&e.getMinProto()<TLS1_3_VERSION&&e.getMaxProto()>TLS1_2_VERSION&&e.setMinProto(TLS1_3_VERSION),validateString(P,`${i}.ecdhCurve`),e.setECDHCurve(P),E!==void 0){validateKeyOrCertOption(`${i}.dhparam`,E);const s=e.setDHParam(E);s&&process.emitWarning(s,"SecurityWarning")}if(l!==void 0)if(ArrayIsArray(l))for(const s of l)validateKeyOrCertOption(`${i}.crl`,s),e.addCRL(s);else validateKeyOrCertOption(`${i}.crl`,l),e.addCRL(l);if(S!==void 0&&(validateString(S,`${i}.sessionIdContext`),e.setSessionIdContext(S)),g!==void 0&&(ArrayIsArray(g)?ArrayPrototypeForEach(g,s=>{const f=s.buf?s.buf:s,h=s.passphrase||a;h!==void 0?e.loadPKCS12(toBuf(f),toBuf(h)):e.loadPKCS12(toBuf(f))}):a?e.loadPKCS12(toBuf(g),toBuf(a)):e.loadPKCS12(toBuf(g))),typeof C=="string"){if(typeof e.setClientCertEngine!="function")throw new ERR_CRYPTO_CUSTOM_ENGINE_NOT_SUPPORTED;e.setClientCertEngine(C)}else if(C!==void 0)throw new ERR_INVALID_ARG_TYPE(`${i}.clientCertEngine`,["string","null","undefined"],C);if(u!==void 0){if(!isArrayBufferView(u))throw new ERR_INVALID_ARG_TYPE(`${i}.ticketKeys`,["Buffer","TypedArray","DataView"],u);if(u.byteLength!==48)throw new ERR_INVALID_ARG_VALUE(`${i}.ticketKeys`,u.byteLength,"must be exactly 48 bytes");e.setTicketKeys(u)}c!==void 0&&(validateInt32(c,`${i}.sessionTimeout`),e.setSessionTimeout(c))}module.exports={configSecureContext};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const EventEmitter=require("events"),{Duplex}=require("stream"),_tls_wrap=require("_tls_wrap"),_tls_common=require("_tls_common"),{Symbol,ReflectConstruct}=primordials,kCallback=Symbol("Callback"),kOtherSide=Symbol("Other");class DuplexSocket extends Duplex{constructor(){super();this[kCallback]=null,this[kOtherSide]=null}_read(){const e=this[kCallback];e&&(this[kCallback]=null,e())}_write(e,r,t){e.length===0?process.nextTick(t):(this[kOtherSide].push(e),this[kOtherSide][kCallback]=t)}_final(e){this[kOtherSide].on("end",e),this[kOtherSide].push(null)}}class DuplexPair{constructor(){this.socket1=new DuplexSocket,this.socket2=new DuplexSocket,this.socket1[kOtherSide]=this.socket2,this.socket2[kOtherSide]=this.socket1}}class SecurePair extends EventEmitter{constructor(e=_tls_common.createSecureContext(),r=!1,t=!r,i=!1,c={}){super();const{socket1:n,socket2:o}=new DuplexPair;this.server=c.server,this.credentials=e,this.encrypted=n,this.cleartext=new _tls_wrap.TLSSocket(o,{secureContext:e,isServer:r,requestCert:t,rejectUnauthorized:i,...c}),this.cleartext.once("secure",()=>this.emit("secure"))}destroy(){this.cleartext.destroy(),this.encrypted.destroy()}}exports.createSecurePair=function(...e){return ReflectConstruct(SecurePair,e)};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,ArrayPrototypeFilter,ArrayPrototypePush,BigIntPrototypeValueOf,BooleanPrototypeValueOf,DatePrototypeGetTime,Error,NumberIsNaN,NumberPrototypeValueOf,ObjectGetOwnPropertySymbols,ObjectGetPrototypeOf,ObjectIs,ObjectKeys,ObjectPrototypeHasOwnProperty,ObjectPrototypePropertyIsEnumerable,ObjectPrototypeToString,SafeMap,SafeSet,StringPrototypeValueOf,SymbolPrototypeValueOf,TypedArrayPrototypeGetSymbolToStringTag,Uint8Array}=primordials,{compare}=internalBinding("buffer"),assert=require("internal/assert"),types=require("internal/util/types"),{isAnyArrayBuffer,isArrayBufferView,isDate,isMap,isRegExp,isSet,isNativeError,isBoxedPrimitive,isNumberObject,isStringObject,isBooleanObject,isBigIntObject,isSymbolObject,isFloat32Array,isFloat64Array}=types,{getOwnNonIndexProperties,propertyFilter:{ONLY_ENUMERABLE,SKIP_SYMBOLS}}=internalBinding("util"),kStrict=!0,kLoose=!1,kNoIterator=0,kIsArray=1,kIsSet=2,kIsMap=3;function areSimilarRegExps(e,t){return e.source===t.source&&e.flags===t.flags}function areSimilarFloatArrays(e,t){if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}function areSimilarTypedArrays(e,t){return e.byteLength!==t.byteLength?!1:compare(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))===0}function areEqualArrayBuffers(e,t){return e.byteLength===t.byteLength&&compare(new Uint8Array(e),new Uint8Array(t))===0}function isEqualBoxedPrimitive(e,t){if(isNumberObject(e))return isNumberObject(t)&&ObjectIs(NumberPrototypeValueOf(e),NumberPrototypeValueOf(t));if(isStringObject(e))return isStringObject(t)&&StringPrototypeValueOf(e)===StringPrototypeValueOf(t);if(isBooleanObject(e))return isBooleanObject(t)&&BooleanPrototypeValueOf(e)===BooleanPrototypeValueOf(t);if(isBigIntObject(e))return isBigIntObject(t)&&BigIntPrototypeValueOf(e)===BigIntPrototypeValueOf(t);if(isSymbolObject(e))return isSymbolObject(t)&&SymbolPrototypeValueOf(e)===SymbolPrototypeValueOf(t);assert.fail(`Unknown boxed type ${e}`)}function innerDeepEqual(e,t,r,f){if(e===t)return e!==0?!0:r?ObjectIs(e,t):!0;if(r){if(typeof e!="object")return typeof e=="number"&&NumberIsNaN(e)&&NumberIsNaN(t);if(typeof t!="object"||e===null||t===null||ObjectGetPrototypeOf(e)!==ObjectGetPrototypeOf(t))return!1}else{if(e===null||typeof e!="object")return t===null||typeof t!="object"?e==t||NumberIsNaN(e)&&NumberIsNaN(t):!1;if(t===null||typeof t!="object")return!1}const i=ObjectPrototypeToString(e),n=ObjectPrototypeToString(t);if(i!==n)return!1;if(ArrayIsArray(e)){if(!ArrayIsArray(t)||e.length!==t.length)return!1;const u=r?ONLY_ENUMERABLE:ONLY_ENUMERABLE|SKIP_SYMBOLS,s=getOwnNonIndexProperties(e,u),o=getOwnNonIndexProperties(t,u);return s.length!==o.length?!1:keyCheck(e,t,r,f,kIsArray,s)}else{if(i==="[object Object]")return keyCheck(e,t,r,f,kNoIterator);if(isDate(e)){if(!isDate(t)||DatePrototypeGetTime(e)!==DatePrototypeGetTime(t))return!1}else if(isRegExp(e)){if(!isRegExp(t)||!areSimilarRegExps(e,t))return!1}else if(isNativeError(e)||e instanceof Error){if(!isNativeError(t)&&!(t instanceof Error)||e.message!==t.message||e.name!==t.name)return!1}else if(isArrayBufferView(e)){if(TypedArrayPrototypeGetSymbolToStringTag(e)!==TypedArrayPrototypeGetSymbolToStringTag(t))return!1;if(!r&&(isFloat32Array(e)||isFloat64Array(e))){if(!areSimilarFloatArrays(e,t))return!1}else if(!areSimilarTypedArrays(e,t))return!1;const u=r?ONLY_ENUMERABLE:ONLY_ENUMERABLE|SKIP_SYMBOLS,s=getOwnNonIndexProperties(e,u),o=getOwnNonIndexProperties(t,u);return s.length!==o.length?!1:keyCheck(e,t,r,f,kNoIterator,s)}else{if(isSet(e))return!isSet(t)||e.size!==t.size?!1:keyCheck(e,t,r,f,kIsSet);if(isMap(e))return!isMap(t)||e.size!==t.size?!1:keyCheck(e,t,r,f,kIsMap);if(isAnyArrayBuffer(e)){if(!isAnyArrayBuffer(t)||!areEqualArrayBuffers(e,t))return!1}else if(isBoxedPrimitive(e)){if(!isEqualBoxedPrimitive(e,t))return!1}else if(ArrayIsArray(t)||isArrayBufferView(t)||isSet(t)||isMap(t)||isDate(t)||isRegExp(t)||isAnyArrayBuffer(t)||isBoxedPrimitive(t)||isNativeError(t)||t instanceof Error)return!1}}return keyCheck(e,t,r,f,kNoIterator)}function getEnumerables(e,t){return ArrayPrototypeFilter(t,r=>ObjectPrototypePropertyIsEnumerable(e,r))}function keyCheck(e,t,r,f,i,n){if(arguments.length===5){n=ObjectKeys(e);const o=ObjectKeys(t);if(n.length!==o.length)return!1}let u=0;for(;u<n.length;u++)if(!ObjectPrototypePropertyIsEnumerable(t,n[u]))return!1;if(r&&arguments.length===5){const o=ObjectGetOwnPropertySymbols(e);if(o.length!==0){let l=0;for(u=0;u<o.length;u++){const c=o[u];if(ObjectPrototypePropertyIsEnumerable(e,c)){if(!ObjectPrototypePropertyIsEnumerable(t,c))return!1;ArrayPrototypePush(n,c),l++}else if(ObjectPrototypePropertyIsEnumerable(t,c))return!1}const y=ObjectGetOwnPropertySymbols(t);if(o.length!==y.length&&getEnumerables(t,y).length!==l)return!1}else{const l=ObjectGetOwnPropertySymbols(t);if(l.length!==0&&getEnumerables(t,l).length!==0)return!1}}if(n.length===0&&(i===kNoIterator||i===kIsArray&&e.length===0||e.size===0))return!0;if(f===void 0)f={val1:new SafeMap,val2:new SafeMap,position:0};else{const o=f.val1.get(e);if(o!==void 0){const l=f.val2.get(t);if(l!==void 0)return o===l}f.position++}f.val1.set(e,f.position),f.val2.set(t,f.position);const s=objEquiv(e,t,r,n,f,i);return f.val1.delete(e),f.val2.delete(t),s}function setHasEqualElement(e,t,r,f){for(const i of e)if(innerDeepEqual(t,i,r,f))return e.delete(i),!0;return!1}function findLooseMatchingPrimitives(e){switch(typeof e){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(NumberIsNaN(e))return!1}return!0}function setMightHaveLoosePrim(e,t,r){const f=findLooseMatchingPrimitives(r);return f??(t.has(f)&&!e.has(f))}function mapMightHaveLoosePrim(e,t,r,f,i){const n=findLooseMatchingPrimitives(r);if(n!=null)return n;const u=t.get(n);return u===void 0&&!t.has(n)||!innerDeepEqual(f,u,!1,i)?!1:!e.has(n)&&innerDeepEqual(f,u,!1,i)}function setEquiv(e,t,r,f){let i=null;for(const n of e)if(typeof n=="object"&&n!==null)i===null&&(i=new SafeSet),i.add(n);else if(!t.has(n)){if(r||!setMightHaveLoosePrim(e,t,n))return!1;i===null&&(i=new SafeSet),i.add(n)}if(i!==null){for(const n of t)if(typeof n=="object"&&n!==null){if(!setHasEqualElement(i,n,r,f))return!1}else if(!r&&!e.has(n)&&!setHasEqualElement(i,n,r,f))return!1;return i.size===0}return!0}function mapHasEqualEntry(e,t,r,f,i,n){for(const u of e)if(innerDeepEqual(r,u,i,n)&&innerDeepEqual(f,t.get(u),i,n))return e.delete(u),!0;return!1}function mapEquiv(e,t,r,f){let i=null;for(const{0:n,1:u}of e)if(typeof n=="object"&&n!==null)i===null&&(i=new SafeSet),i.add(n);else{const s=t.get(n);if(s===void 0&&!t.has(n)||!innerDeepEqual(u,s,r,f)){if(r||!mapMightHaveLoosePrim(e,t,n,u,f))return!1;i===null&&(i=new SafeSet),i.add(n)}}if(i!==null){for(const{0:n,1:u}of t)if(typeof n=="object"&&n!==null){if(!mapHasEqualEntry(i,e,n,u,r,f))return!1}else if(!r&&(!e.has(n)||!innerDeepEqual(e.get(n),u,!1,f))&&!mapHasEqualEntry(i,e,n,u,!1,f))return!1;return i.size===0}return!0}function objEquiv(e,t,r,f,i,n){let u=0;if(n===kIsSet){if(!setEquiv(e,t,r,i))return!1}else if(n===kIsMap){if(!mapEquiv(e,t,r,i))return!1}else if(n===kIsArray)for(;u<e.length;u++)if(ObjectPrototypeHasOwnProperty(e,u)){if(!ObjectPrototypeHasOwnProperty(t,u)||!innerDeepEqual(e[u],t[u],r,i))return!1}else{if(ObjectPrototypeHasOwnProperty(t,u))return!1;{const s=ObjectKeys(e);for(;u<s.length;u++){const o=s[u];if(!ObjectPrototypeHasOwnProperty(t,o)||!innerDeepEqual(e[o],t[o],r,i))return!1}return s.length===ObjectKeys(t).length}}for(u=0;u<f.length;u++){const s=f[u];if(!innerDeepEqual(e[s],t[s],r,i))return!1}return!0}function isDeepEqual(e,t){return innerDeepEqual(e,t,kLoose)}function isDeepStrictEqual(e,t){return innerDeepEqual(e,t,kStrict)}module.exports={isDeepEqual,isDeepStrictEqual};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectCreate,ObjectDefineProperty,RegExp,RegExpPrototypeExec,SafeArrayIterator,StringPrototypeToLowerCase,StringPrototypeToUpperCase}=primordials,{inspect,format,formatWithOptions}=require("internal/util/inspect");let debugImpls,testEnabled;function initializeDebugEnv(e){if(debugImpls=ObjectCreate(null),e){e=e.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replaceAll("*",".*").replaceAll(",","$|^");const n=new RegExp(`^${e}$`,"i");testEnabled=o=>RegExpPrototypeExec(n,o)!==null}else testEnabled=()=>!1}function emitWarningIfNeeded(e){(e==="HTTP"||e==="HTTP2")&&process.emitWarning("Setting the NODE_DEBUG environment variable to '"+StringPrototypeToLowerCase(e)+"' can expose sensitive data (such as passwords, tokens and authentication headers) in the resulting log.")}const noop=()=>{};function debuglogImpl(e,n){if(debugImpls[n]===void 0)if(e){const o=process.pid;emitWarningIfNeeded(n),debugImpls[n]=function(...i){const s=process.stderr.hasColors&&process.stderr.hasColors(),l=formatWithOptions({colors:s},...i),t=inspect(o,{colors:s});process.stderr.write(format(`%s %s: %s
`,n,t,l))}}else debugImpls[n]=noop;return debugImpls[n]}function debuglog(e,n){function o(){e=StringPrototypeToUpperCase(e),i=testEnabled(e)}let r=(...t)=>{switch(o(),r=debuglogImpl(i,e),typeof n=="function"&&n(r),t.length){case 0:return r();case 1:return r(t[0]);case 2:return r(t[0],t[1]);default:return r(...new SafeArrayIterator(t))}},i,s=()=>(o(),s=()=>i,i);const l=(...t)=>{switch(t.length){case 0:return r();case 1:return r(t[0]);case 2:return r(t[0],t[1]);default:return r(...new SafeArrayIterator(t))}};return ObjectDefineProperty(l,"enabled",{get(){return s()},configurable:!0,enumerable:!0}),l}module.exports={debuglog,initializeDebugEnv};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Array,ArrayIsArray,ArrayPrototypeFilter,ArrayPrototypeForEach,ArrayPrototypePop,ArrayPrototypePush,ArrayPrototypePushApply,ArrayPrototypeSort,ArrayPrototypeUnshift,BigIntPrototypeValueOf,BooleanPrototypeValueOf,DatePrototypeGetTime,DatePrototypeToISOString,DatePrototypeToString,ErrorPrototypeToString,FunctionPrototypeCall,FunctionPrototypeToString,JSONStringify,MapPrototypeGetSize,MapPrototypeEntries,MathFloor,MathMax,MathMin,MathRound,MathSqrt,Number,NumberIsNaN,NumberParseFloat,NumberParseInt,NumberPrototypeValueOf,Object,ObjectAssign,ObjectCreate,ObjectDefineProperty,ObjectGetOwnPropertyDescriptor,ObjectGetOwnPropertyNames,ObjectGetOwnPropertySymbols,ObjectGetPrototypeOf,ObjectIs,ObjectKeys,ObjectPrototypeHasOwnProperty,ObjectPrototypePropertyIsEnumerable,ObjectSeal,ObjectSetPrototypeOf,ReflectOwnKeys,RegExp,RegExpPrototypeTest,RegExpPrototypeToString,SafeStringIterator,SafeMap,SafeSet,SetPrototypeGetSize,SetPrototypeValues,String,StringPrototypeCharCodeAt,StringPrototypeCodePointAt,StringPrototypeIncludes,StringPrototypeNormalize,StringPrototypePadEnd,StringPrototypePadStart,StringPrototypeRepeat,StringPrototypeReplace,StringPrototypeSlice,StringPrototypeSplit,StringPrototypeToLowerCase,StringPrototypeTrim,StringPrototypeValueOf,SymbolPrototypeToString,SymbolPrototypeValueOf,SymbolIterator,SymbolToStringTag,TypedArrayPrototypeGetLength,TypedArrayPrototypeGetSymbolToStringTag,Uint8Array,globalThis,uncurryThis}=primordials,{getOwnNonIndexProperties,getPromiseDetails,getProxyDetails,kPending,kRejected,previewEntries,getConstructorName:internalGetConstructorName,getExternalValue,propertyFilter:{ALL_PROPERTIES,ONLY_ENUMERABLE}}=internalBinding("util"),{customInspectSymbol,isError,join,removeColors}=require("internal/util"),{codes:{ERR_INVALID_ARG_TYPE},isStackOverflowError}=require("internal/errors"),{isAsyncFunction,isGeneratorFunction,isAnyArrayBuffer,isArrayBuffer,isArgumentsObject,isBoxedPrimitive,isDataView,isExternal,isMap,isMapIterator,isModuleNamespaceObject,isNativeError,isPromise,isSet,isSetIterator,isWeakMap,isWeakSet,isRegExp,isDate,isTypedArray,isStringObject,isNumberObject,isBooleanObject,isBigIntObject}=require("internal/util/types"),assert=require("internal/assert"),{NativeModule}=require("internal/bootstrap/loaders"),{validateObject}=require("internal/validators");let hexSlice;const builtInObjects=new SafeSet(ArrayPrototypeFilter(ObjectGetOwnPropertyNames(globalThis),e=>RegExpPrototypeTest(/^[A-Z][a-zA-Z0-9]+$/,e))),isUndetectableObject=e=>typeof e=="undefined"&&e!==void 0,inspectDefaultOptions=ObjectSeal({showHidden:!1,depth:2,colors:!1,customInspect:!0,showProxy:!1,maxArrayLength:100,maxStringLength:1e4,breakLength:80,compact:3,sorted:!1,getters:!1}),kObjectType=0,kArrayType=1,kArrayExtrasType=2,strEscapeSequencesRegExp=/[\x00-\x1f\x27\x5c\x7f-\x9f]/,strEscapeSequencesReplacer=/[\x00-\x1f\x27\x5c\x7f-\x9f]/g,strEscapeSequencesRegExpSingle=/[\x00-\x1f\x5c\x7f-\x9f]/,strEscapeSequencesReplacerSingle=/[\x00-\x1f\x5c\x7f-\x9f]/g,keyStrRegExp=/^[a-zA-Z_][a-zA-Z_0-9]*$/,numberRegExp=/^(0|[1-9][0-9]*)$/,coreModuleRegExp=/^    at (?:[^/\\(]+ \(|)node:(.+):\d+:\d+\)?$/,nodeModulesRegExp=/[/\\]node_modules[/\\](.+?)(?=[/\\])/g,classRegExp=/^(\s+[^(]*?)\s*{/,stripCommentsRegExp=/(\/\/.*?\n)|(\/\*(.|\n)*?\*\/)/g,kMinLineLength=16,kWeak=0,kIterator=1,kMapEntries=2,meta=["\\x00","\\x01","\\x02","\\x03","\\x04","\\x05","\\x06","\\x07","\\b","\\t","\\n","\\x0B","\\f","\\r","\\x0E","\\x0F","\\x10","\\x11","\\x12","\\x13","\\x14","\\x15","\\x16","\\x17","\\x18","\\x19","\\x1A","\\x1B","\\x1C","\\x1D","\\x1E","\\x1F","","","","","","","","\\'","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\x7F","\\x80","\\x81","\\x82","\\x83","\\x84","\\x85","\\x86","\\x87","\\x88","\\x89","\\x8A","\\x8B","\\x8C","\\x8D","\\x8E","\\x8F","\\x90","\\x91","\\x92","\\x93","\\x94","\\x95","\\x96","\\x97","\\x98","\\x99","\\x9A","\\x9B","\\x9C","\\x9D","\\x9E","\\x9F"],ansiPattern="[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))",ansi=new RegExp(ansiPattern,"g");let getStringWidth;function getUserOptions(e,n){const t={stylize:e.stylize,showHidden:e.showHidden,depth:e.depth,colors:e.colors,customInspect:e.customInspect,showProxy:e.showProxy,maxArrayLength:e.maxArrayLength,maxStringLength:e.maxStringLength,breakLength:e.breakLength,compact:e.compact,sorted:e.sorted,getters:e.getters,...e.userOptions};if(n){ObjectSetPrototypeOf(t,null);for(const r of ObjectKeys(t))(typeof t[r]=="object"||typeof t[r]=="function")&&t[r]!==null&&delete t[r];t.stylize=ObjectSetPrototypeOf((r,i)=>{let o;try{o=`${e.stylize(r,i)}`}catch{}return typeof o!="string"?r:o},null)}return t}function inspect(e,n){const t={budget:{},indentationLvl:0,seen:[],currentDepth:0,stylize:stylizeNoColor,showHidden:inspectDefaultOptions.showHidden,depth:inspectDefaultOptions.depth,colors:inspectDefaultOptions.colors,customInspect:inspectDefaultOptions.customInspect,showProxy:inspectDefaultOptions.showProxy,maxArrayLength:inspectDefaultOptions.maxArrayLength,maxStringLength:inspectDefaultOptions.maxStringLength,breakLength:inspectDefaultOptions.breakLength,compact:inspectDefaultOptions.compact,sorted:inspectDefaultOptions.sorted,getters:inspectDefaultOptions.getters};if(arguments.length>1){if(arguments.length>2&&(arguments[2]!==void 0&&(t.depth=arguments[2]),arguments.length>3&&arguments[3]!==void 0&&(t.colors=arguments[3])),typeof n=="boolean")t.showHidden=n;else if(n){const r=ObjectKeys(n);for(let i=0;i<r.length;++i){const o=r[i];ObjectPrototypeHasOwnProperty(inspectDefaultOptions,o)||o==="stylize"?t[o]=n[o]:t.userOptions===void 0&&(t.userOptions=n)}}}return t.colors&&(t.stylize=stylizeWithColor),t.maxArrayLength===null&&(t.maxArrayLength=1/0),t.maxStringLength===null&&(t.maxStringLength=1/0),formatValue(t,e,0)}inspect.custom=customInspectSymbol,ObjectDefineProperty(inspect,"defaultOptions",{get(){return inspectDefaultOptions},set(e){return validateObject(e,"options"),ObjectAssign(inspectDefaultOptions,e)}});const defaultFG=39,defaultBG=49;inspect.colors=ObjectAssign(ObjectCreate(null),{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],blink:[5,25],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],doubleunderline:[21,24],black:[30,defaultFG],red:[31,defaultFG],green:[32,defaultFG],yellow:[33,defaultFG],blue:[34,defaultFG],magenta:[35,defaultFG],cyan:[36,defaultFG],white:[37,defaultFG],bgBlack:[40,defaultBG],bgRed:[41,defaultBG],bgGreen:[42,defaultBG],bgYellow:[43,defaultBG],bgBlue:[44,defaultBG],bgMagenta:[45,defaultBG],bgCyan:[46,defaultBG],bgWhite:[47,defaultBG],framed:[51,54],overlined:[53,55],gray:[90,defaultFG],redBright:[91,defaultFG],greenBright:[92,defaultFG],yellowBright:[93,defaultFG],blueBright:[94,defaultFG],magentaBright:[95,defaultFG],cyanBright:[96,defaultFG],whiteBright:[97,defaultFG],bgGray:[100,defaultBG],bgRedBright:[101,defaultBG],bgGreenBright:[102,defaultBG],bgYellowBright:[103,defaultBG],bgBlueBright:[104,defaultBG],bgMagentaBright:[105,defaultBG],bgCyanBright:[106,defaultBG],bgWhiteBright:[107,defaultBG]});function defineColorAlias(e,n){ObjectDefineProperty(inspect.colors,n,{get(){return this[e]},set(t){this[e]=t},configurable:!0,enumerable:!1})}defineColorAlias("gray","grey"),defineColorAlias("gray","blackBright"),defineColorAlias("bgGray","bgGrey"),defineColorAlias("bgGray","bgBlackBright"),defineColorAlias("dim","faint"),defineColorAlias("strikethrough","crossedout"),defineColorAlias("strikethrough","strikeThrough"),defineColorAlias("strikethrough","crossedOut"),defineColorAlias("hidden","conceal"),defineColorAlias("inverse","swapColors"),defineColorAlias("inverse","swapcolors"),defineColorAlias("doubleunderline","doubleUnderline"),inspect.styles=ObjectAssign(ObjectCreate(null),{special:"cyan",number:"yellow",bigint:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",symbol:"green",date:"magenta",regexp:"red",module:"underline"});function addQuotes(e,n){return n===-1?`"${e}"`:n===-2?`\`${e}\``:`'${e}'`}const escapeFn=e=>meta[StringPrototypeCharCodeAt(e)];function strEscape(e){let n=strEscapeSequencesRegExp,t=strEscapeSequencesReplacer,r=39;if(StringPrototypeIncludes(e,"'")&&(StringPrototypeIncludes(e,'"')?!StringPrototypeIncludes(e,"`")&&!StringPrototypeIncludes(e,"${")&&(r=-2):r=-1,r!==39&&(n=strEscapeSequencesRegExpSingle,t=strEscapeSequencesReplacerSingle)),e.length<5e3&&!RegExpPrototypeTest(n,e))return addQuotes(e,r);if(e.length>100)return e=StringPrototypeReplace(e,t,escapeFn),addQuotes(e,r);let i="",o=0;const s=e.length;for(let l=0;l<s;l++){const f=StringPrototypeCharCodeAt(e,l);(f===r||f===92||f<32||f>126&&f<160)&&(o===l?i+=meta[f]:i+=`${StringPrototypeSlice(e,o,l)}${meta[f]}`,o=l+1)}return o!==s&&(i+=StringPrototypeSlice(e,o)),addQuotes(i,r)}function stylizeWithColor(e,n){const t=inspect.styles[n];if(t!==void 0){const r=inspect.colors[t];if(r!==void 0)return`[${r[0]}m${e}[${r[1]}m`}return e}function stylizeNoColor(e){return e}function getEmptyFormatArray(){return[]}function isInstanceof(e,n){try{return e instanceof n}catch{return!1}}function getConstructorName(e,n,t,r){let i;const o=e;for(;e||isUndetectableObject(e);){const f=ObjectGetOwnPropertyDescriptor(e,"constructor");if(f!==void 0&&typeof f.value=="function"&&f.value.name!==""&&isInstanceof(o,f.value))return r!==void 0&&(i!==e||!builtInObjects.has(f.value.name))&&addPrototypeProperties(n,o,i||o,t,r),f.value.name;e=ObjectGetPrototypeOf(e),i===void 0&&(i=e)}if(i===null)return null;const s=internalGetConstructorName(o);if(t>n.depth&&n.depth!==null)return`${s} <Complex prototype>`;const l=getConstructorName(i,n,t+1,r);return l===null?`${s} <${inspect(i,{...n,customInspect:!1,depth:-1})}>`:`${s} <${l}>`}function addPrototypeProperties(e,n,t,r,i){let o=0,s,l;do{if(o!==0||n===t){if(t=ObjectGetPrototypeOf(t),t===null)return;const f=ObjectGetOwnPropertyDescriptor(t,"constructor");if(f!==void 0&&typeof f.value=="function"&&builtInObjects.has(f.value.name))return}o===0?l=new SafeSet:ArrayPrototypeForEach(s,f=>l.add(f)),s=ReflectOwnKeys(t),ArrayPrototypePush(e.seen,n);for(const f of s){if(f==="constructor"||ObjectPrototypeHasOwnProperty(n,f)||o!==0&&l.has(f))continue;const g=ObjectGetOwnPropertyDescriptor(t,f);if(typeof g.value=="function")continue;const a=formatProperty(e,t,r,f,kObjectType,g,n);e.colors?ArrayPrototypePush(i,`[2m${a}[22m`):ArrayPrototypePush(i,a)}ArrayPrototypePop(e.seen)}while(++o!=3)}function getPrefix(e,n,t,r=""){return e===null?n!==""&&t!==n?`[${t}${r}: null prototype] [${n}] `:`[${t}${r}: null prototype] `:n!==""&&e!==n?`${e}${r} [${n}] `:`${e}${r} `}function getKeys(e,n){let t;const r=ObjectGetOwnPropertySymbols(e);if(n)t=ObjectGetOwnPropertyNames(e),r.length!==0&&ArrayPrototypePushApply(t,r);else{try{t=ObjectKeys(e)}catch(i){assert(isNativeError(i)&&i.name==="ReferenceError"&&isModuleNamespaceObject(e)),t=ObjectGetOwnPropertyNames(e)}r.length!==0&&ArrayPrototypePushApply(t,ArrayPrototypeFilter(r,o=>ObjectPrototypePropertyIsEnumerable(e,o)))}return t}function getCtxStyle(e,n,t){let r="";return n===null&&(r=internalGetConstructorName(e),r===t&&(r="Object")),getPrefix(n,t,r)}function formatProxy(e,n,t){if(t>e.depth&&e.depth!==null)return e.stylize("Proxy [Array]","special");t+=1,e.indentationLvl+=2;const r=[formatValue(e,n[0],t),formatValue(e,n[1],t)];return e.indentationLvl-=2,reduceToSingleString(e,r,"",["Proxy [","]"],kArrayExtrasType,t)}function formatValue(e,n,t,r){if(typeof n!="object"&&typeof n!="function"&&!isUndetectableObject(n))return formatPrimitive(e.stylize,n,e);if(n===null)return e.stylize("null","null");const i=n,o=getProxyDetails(n,!!e.showProxy);if(o!==void 0){if(e.showProxy)return formatProxy(e,o,t);n=o}if(e.customInspect){const s=n[customInspectSymbol];if(typeof s=="function"&&s!==inspect&&!(n.constructor&&n.constructor.prototype===n)){const l=e.depth===null?null:e.depth-t,f=o!==void 0||!(i instanceof Object),g=FunctionPrototypeCall(s,i,l,getUserOptions(e,f));if(g!==i)return typeof g!="string"?formatValue(e,g,t):g.replace(/\n/g,`
${" ".repeat(e.indentationLvl)}`)}}if(e.seen.includes(n)){let s=1;return e.circular===void 0?(e.circular=new SafeMap,e.circular.set(n,s)):(s=e.circular.get(n),s===void 0&&(s=e.circular.size+1,e.circular.set(n,s))),e.stylize(`[Circular *${s}]`,"special")}return formatRaw(e,n,t,r)}function formatRaw(e,n,t,r){let i,o;e.showHidden&&(t<=e.depth||e.depth===null)&&(o=[]);const s=getConstructorName(n,e,t,o);o!==void 0&&o.length===0&&(o=void 0);let l=n[SymbolToStringTag];(typeof l!="string"||l!==""&&(e.showHidden?ObjectPrototypeHasOwnProperty:ObjectPrototypePropertyIsEnumerable)(n,SymbolToStringTag))&&(l="");let f="",g=getEmptyFormatArray,a,h=!0,p=0;const y=e.showHidden?ALL_PROPERTIES:ONLY_ENUMERABLE;let c=kObjectType;if(n[SymbolIterator]||s===null)if(h=!1,ArrayIsArray(n)){const d=s!=="Array"||l!==""?getPrefix(s,l,"Array",`(${n.length})`):"";if(i=getOwnNonIndexProperties(n,y),a=[`${d}[`,"]"],n.length===0&&i.length===0&&o===void 0)return`${a[0]}]`;c=kArrayExtrasType,g=formatArray}else if(isSet(n)){const d=SetPrototypeGetSize(n),u=getPrefix(s,l,"Set",`(${d})`);if(i=getKeys(n,e.showHidden),g=s!==null?formatSet.bind(null,n):formatSet.bind(null,SetPrototypeValues(n)),d===0&&i.length===0&&o===void 0)return`${u}{}`;a=[`${u}{`,"}"]}else if(isMap(n)){const d=MapPrototypeGetSize(n),u=getPrefix(s,l,"Map",`(${d})`);if(i=getKeys(n,e.showHidden),g=s!==null?formatMap.bind(null,n):formatMap.bind(null,MapPrototypeEntries(n)),d===0&&i.length===0&&o===void 0)return`${u}{}`;a=[`${u}{`,"}"]}else if(isTypedArray(n)){i=getOwnNonIndexProperties(n,y);let d=n,u="";s===null&&(u=TypedArrayPrototypeGetSymbolToStringTag(n),d=new primordials[u](n));const P=TypedArrayPrototypeGetLength(n);if(a=[`${getPrefix(s,l,u,`(${P})`)}[`,"]"],n.length===0&&i.length===0&&!e.showHidden)return`${a[0]}]`;g=formatTypedArray.bind(null,d,P),c=kArrayExtrasType}else isMapIterator(n)?(i=getKeys(n,e.showHidden),a=getIteratorBraces("Map",l),g=formatIterator.bind(null,a)):isSetIterator(n)?(i=getKeys(n,e.showHidden),a=getIteratorBraces("Set",l),g=formatIterator.bind(null,a)):h=!0;if(h)if(i=getKeys(n,e.showHidden),a=["{","}"],s==="Object"){if(isArgumentsObject(n)?a[0]="[Arguments] {":l!==""&&(a[0]=`${getPrefix(s,l,"Object")}{`),i.length===0&&o===void 0)return`${a[0]}}`}else if(typeof n=="function"){if(f=getFunctionBase(n,s,l),i.length===0&&o===void 0)return e.stylize(f,"special")}else if(isRegExp(n)){f=RegExpPrototypeToString(s!==null?n:new RegExp(n));const d=getPrefix(s,l,"RegExp");if(d!=="RegExp "&&(f=`${d}${f}`),i.length===0&&o===void 0||t>e.depth&&e.depth!==null)return e.stylize(f,"regexp")}else if(isDate(n)){f=NumberIsNaN(DatePrototypeGetTime(n))?DatePrototypeToString(n):DatePrototypeToISOString(n);const d=getPrefix(s,l,"Date");if(d!=="Date "&&(f=`${d}${f}`),i.length===0&&o===void 0)return e.stylize(f,"date")}else if(isError(n)){if(f=formatError(n,s,l,e,i),i.length===0&&o===void 0)return f}else if(isAnyArrayBuffer(n)){const d=isArrayBuffer(n)?"ArrayBuffer":"SharedArrayBuffer",u=getPrefix(s,l,d);if(r===void 0)g=formatArrayBuffer;else if(i.length===0&&o===void 0)return u+`{ byteLength: ${formatNumber(e.stylize,n.byteLength)} }`;a[0]=`${u}{`,ArrayPrototypeUnshift(i,"byteLength")}else if(isDataView(n))a[0]=`${getPrefix(s,l,"DataView")}{`,ArrayPrototypeUnshift(i,"byteLength","byteOffset","buffer");else if(isPromise(n))a[0]=`${getPrefix(s,l,"Promise")}{`,g=formatPromise;else if(isWeakSet(n))a[0]=`${getPrefix(s,l,"WeakSet")}{`,g=e.showHidden?formatWeakSet:formatWeakCollection;else if(isWeakMap(n))a[0]=`${getPrefix(s,l,"WeakMap")}{`,g=e.showHidden?formatWeakMap:formatWeakCollection;else if(isModuleNamespaceObject(n))a[0]=`${getPrefix(s,l,"Module")}{`,g=formatNamespaceObject.bind(null,i);else if(isBoxedPrimitive(n)){if(f=getBoxedBase(n,e,i,s,l),i.length===0&&o===void 0)return f}else{if(i.length===0&&o===void 0){if(isExternal(n)){const d=getExternalValue(n).toString(16);return e.stylize(`[External: ${d}]`,"special")}return`${getCtxStyle(n,s,l)}{}`}a[0]=`${getCtxStyle(n,s,l)}{`}if(t>e.depth&&e.depth!==null){let d=getCtxStyle(n,s,l).slice(0,-1);return s!==null&&(d=`[${d}]`),e.stylize(d,"special")}t+=1,e.seen.push(n),e.currentDepth=t;let m;const L=e.indentationLvl;try{for(m=g(e,n,t),p=0;p<i.length;p++)m.push(formatProperty(e,n,t,i[p],c));o!==void 0&&m.push(...o)}catch(d){const u=getCtxStyle(n,s,l).slice(0,-1);return handleMaxCallStackSize(e,d,u,L)}if(e.circular!==void 0){const d=e.circular.get(n);if(d!==void 0){const u=e.stylize(`<ref *${d}>`,"special");e.compact!==!0?f=f===""?u:`${u} ${f}`:a[0]=`${u} ${a[0]}`}}if(e.seen.pop(),e.sorted){const d=e.sorted===!0?void 0:e.sorted;if(c===kObjectType)m=m.sort(d);else if(i.length>1){const u=m.slice(m.length-i.length).sort(d);m.splice(m.length-i.length,i.length,...u)}}const $=reduceToSingleString(e,m,f,a,c,t,n),b=(e.budget[e.indentationLvl]||0)+$.length;return e.budget[e.indentationLvl]=b,b>2**27&&(e.depth=-1),$}function getIteratorBraces(e,n){return n!==`${e} Iterator`&&(n!==""&&(n+="] ["),n+=`${e} Iterator`),[`[${n}] {`,"}"]}function getBoxedBase(e,n,t,r,i){let o,s;isNumberObject(e)?(o=NumberPrototypeValueOf,s="Number"):isStringObject(e)?(o=StringPrototypeValueOf,s="String",t.splice(0,e.length)):isBooleanObject(e)?(o=BooleanPrototypeValueOf,s="Boolean"):isBigIntObject(e)?(o=BigIntPrototypeValueOf,s="BigInt"):(o=SymbolPrototypeValueOf,s="Symbol");let l=`[${s}`;return s!==r&&(r===null?l+=" (null prototype)":l+=` (${r})`),l+=`: ${formatPrimitive(stylizeNoColor,o(e),n)}]`,i!==""&&i!==r&&(l+=` [${i}]`),t.length!==0||n.stylize===stylizeNoColor?l:n.stylize(l,StringPrototypeToLowerCase(s))}function getClassBase(e,n,t){let o=`class ${ObjectPrototypeHasOwnProperty(e,"name")&&e.name||"(anonymous)"}`;if(n!=="Function"&&n!==null&&(o+=` [${n}]`),t!==""&&n!==t&&(o+=` [${t}]`),n!==null){const s=ObjectGetPrototypeOf(e).name;s&&(o+=` extends ${s}`)}else o+=" extends [null prototype]";return`[${o}]`}function getFunctionBase(e,n,t){const r=FunctionPrototypeToString(e);if(r.slice(0,5)==="class"&&r.endsWith("}")){const s=r.slice(5,-1),l=s.indexOf("{");if(l!==-1&&(!s.slice(0,l).includes("(")||classRegExp.test(s.replace(stripCommentsRegExp))))return getClassBase(e,n,t)}let i="Function";isGeneratorFunction(e)&&(i=`Generator${i}`),isAsyncFunction(e)&&(i=`Async${i}`);let o=`[${i}`;return n===null&&(o+=" (null prototype)"),e.name===""?o+=" (anonymous)":o+=`: ${e.name}`,o+="]",n!==i&&n!==null&&(o+=` ${n}`),t!==""&&n!==t&&(o+=` [${t}]`),o}function formatError(e,n,t,r,i){const o=e.name!=null?String(e.name):"Error";let s=o.length,l=e.stack?String(e.stack):ErrorPrototypeToString(e);if(!r.showHidden&&i.length!==0)for(const a of["name","message","stack"]){const h=i.indexOf(a);h!==-1&&l.includes(e[a])&&i.splice(h,1)}if(n===null||o.endsWith("Error")&&l.startsWith(o)&&(l.length===s||l[s]===":"||l[s]===`
`)){let a="Error";if(n===null){const p=l.match(/^([A-Z][a-z_ A-Z0-9[\]()-]+)(?::|\n {4}at)/)||l.match(/^([a-z_A-Z0-9-]*Error)$/);a=p&&p[1]||"",s=a.length,a=a||"Error"}const h=getPrefix(n,t,a).slice(0,-1);o!==h&&(h.includes(o)?s===0?l=`${h}: ${l}`:l=`${h}${l.slice(s)}`:l=`${h} [${o}]${l.slice(s)}`)}let f=e.message&&l.indexOf(e.message)||-1;f!==-1&&(f+=e.message.length);const g=l.indexOf(`
    at`,f);if(g===-1)l=`[${l}]`;else if(r.colors){let a=l.slice(0,g);const h=l.slice(g+1).split(`
`);for(const p of h){const y=p.match(coreModuleRegExp);if(y!==null&&NativeModule.exists(y[1]))a+=`
${r.stylize(p,"undefined")}`;else{let c;a+=`
`;let m=0;for(;c=nodeModulesRegExp.exec(p);)a+=p.slice(m,c.index+14),a+=r.stylize(c[1],"module"),m=c.index+c[0].length;a+=m===0?p:p.slice(m)}}l=a}if(r.indentationLvl!==0){const a=" ".repeat(r.indentationLvl);l=l.replace(/\n/g,`
${a}`)}return l}function groupArrayElements(e,n,t){let r=0,i=0,o=0,s=n.length;e.maxArrayLength<n.length&&s--;const l=2,f=new Array(s);for(;o<s;o++){const a=getStringWidth(n[o],e.colors);f[o]=a,r+=a+l,i<a&&(i=a)}const g=i+l;if(g*3+e.indentationLvl<e.breakLength&&(r/g>5||i<=6)){const a=2.5,h=MathSqrt(g-r/n.length),p=MathMax(g-3-h,1),y=MathMin(MathRound(MathSqrt(a*p*s)/p),MathFloor((e.breakLength-e.indentationLvl)/g),e.compact*4,15);if(y<=1)return n;const c=[],m=[];for(let $=0;$<y;$++){let S=0;for(let b=$;b<n.length;b+=y)f[b]>S&&(S=f[b]);S+=l,m[$]=S}let L=StringPrototypePadStart;if(t!==void 0){for(let $=0;$<n.length;$++)if(typeof t[$]!="number"&&typeof t[$]!="bigint"){L=StringPrototypePadEnd;break}}for(let $=0;$<s;$+=y){const S=MathMin($+y,s);let b="",d=$;for(;d<S-1;d++){const u=m[d-$]+n[d].length-f[d];b+=L(`${n[d]}, `,u," ")}if(L===StringPrototypePadStart){const u=m[d-$]+n[d].length-f[d]-l;b+=StringPrototypePadStart(n[d],u," ")}else b+=n[d];ArrayPrototypePush(c,b)}e.maxArrayLength<n.length&&ArrayPrototypePush(c,n[s]),n=c}return n}function handleMaxCallStackSize(e,n,t,r){if(isStackOverflowError(n))return e.seen.pop(),e.indentationLvl=r,e.stylize(`[${t}: Inspection interrupted prematurely. Maximum call stack size exceeded.]`,"special");assert.fail(n.stack)}function formatNumber(e,n){return e(ObjectIs(n,-0)?"-0":`${n}`,"number")}function formatBigInt(e,n){return e(`${n}n`,"bigint")}function formatPrimitive(e,n,t){if(typeof n=="string"){let r="";if(n.length>t.maxStringLength){const i=n.length-t.maxStringLength;n=n.slice(0,t.maxStringLength),r=`... ${i} more character${i>1?"s":""}`}return t.compact!==!0&&n.length>kMinLineLength&&n.length>t.breakLength-t.indentationLvl-4?n.split(/(?<=\n)/).map(i=>e(strEscape(i),"string")).join(` +
${" ".repeat(t.indentationLvl+2)}`)+r:e(strEscape(n),"string")+r}return typeof n=="number"?formatNumber(e,n):typeof n=="bigint"?formatBigInt(e,n):typeof n=="boolean"?e(`${n}`,"boolean"):typeof n=="undefined"?e("undefined","undefined"):e(SymbolPrototypeToString(n),"symbol")}function formatNamespaceObject(e,n,t,r){const i=new Array(e.length);for(let o=0;o<e.length;o++)try{i[o]=formatProperty(n,t,r,e[o],kObjectType)}catch(s){assert(isNativeError(s)&&s.name==="ReferenceError");const l={[e[o]]:""};i[o]=formatProperty(n,l,r,e[o],kObjectType);const f=i[o].lastIndexOf(" ");i[o]=i[o].slice(0,f+1)+n.stylize("<uninitialized>","special")}return e.length=0,i}function formatSpecialArray(e,n,t,r,i,o){const s=ObjectKeys(n);let l=o;for(;o<s.length&&i.length<r;o++){const g=s[o],a=+g;if(a>2**32-2)break;if(`${l}`!==g){if(!numberRegExp.test(g))break;const h=a-l,p=h>1?"s":"",y=`<${h} empty item${p}>`;if(i.push(e.stylize(y,"undefined")),l=a,i.length===r)break}i.push(formatProperty(e,n,t,g,kArrayType)),l++}const f=n.length-l;if(i.length!==r){if(f>0){const g=f>1?"s":"",a=`<${f} empty item${g}>`;i.push(e.stylize(a,"undefined"))}}else f>0&&i.push(`... ${f} more item${f>1?"s":""}`);return i}function formatArrayBuffer(e,n){let t;try{t=new Uint8Array(n)}catch{return[e.stylize("(detached)","special")]}hexSlice===void 0&&(hexSlice=uncurryThis(require("buffer").Buffer.prototype.hexSlice));let r=StringPrototypeTrim(StringPrototypeReplace(hexSlice(t,0,MathMin(e.maxArrayLength,t.length)),/(.{2})/g,"$1 "));const i=t.length-e.maxArrayLength;return i>0&&(r+=` ... ${i} more byte${i>1?"s":""}`),[`${e.stylize("[Uint8Contents]","special")}: <${r}>`]}function formatArray(e,n,t){const r=n.length,i=MathMin(MathMax(0,e.maxArrayLength),r),o=r-i,s=[];for(let l=0;l<i;l++){if(!ObjectPrototypeHasOwnProperty(n,l))return formatSpecialArray(e,n,t,i,s,l);s.push(formatProperty(e,n,t,l,kArrayType))}return o>0&&s.push(`... ${o} more item${o>1?"s":""}`),s}function formatTypedArray(e,n,t,r,i){const o=MathMin(MathMax(0,t.maxArrayLength),n),s=e.length-o,l=new Array(o),f=e.length>0&&typeof e[0]=="number"?formatNumber:formatBigInt;for(let g=0;g<o;++g)l[g]=f(t.stylize,e[g]);if(s>0&&(l[o]=`... ${s} more item${s>1?"s":""}`),t.showHidden){t.indentationLvl+=2;for(const g of["BYTES_PER_ELEMENT","length","byteLength","byteOffset","buffer"]){const a=formatValue(t,e[g],i,!0);ArrayPrototypePush(l,`[${g}]: ${a}`)}t.indentationLvl-=2}return l}function formatSet(e,n,t,r){const i=[];n.indentationLvl+=2;for(const o of e)ArrayPrototypePush(i,formatValue(n,o,r));return n.indentationLvl-=2,i}function formatMap(e,n,t,r){const i=[];n.indentationLvl+=2;for(const{0:o,1:s}of e)i.push(`${formatValue(n,o,r)} => ${formatValue(n,s,r)}`);return n.indentationLvl-=2,i}function formatSetIterInner(e,n,t,r){const i=MathMax(e.maxArrayLength,0),o=MathMin(i,t.length),s=new Array(o);e.indentationLvl+=2;for(let f=0;f<o;f++)s[f]=formatValue(e,t[f],n);e.indentationLvl-=2,r===kWeak&&!e.sorted&&ArrayPrototypeSort(s);const l=t.length-o;return l>0&&ArrayPrototypePush(s,`... ${l} more item${l>1?"s":""}`),s}function formatMapIterInner(e,n,t,r){const i=MathMax(e.maxArrayLength,0),o=t.length/2,s=o-i,l=MathMin(i,o);let f=new Array(l),g=0;if(e.indentationLvl+=2,r===kWeak){for(;g<l;g++){const a=g*2;f[g]=`${formatValue(e,t[a],n)} => ${formatValue(e,t[a+1],n)}`}e.sorted||(f=f.sort())}else for(;g<l;g++){const a=g*2,h=[formatValue(e,t[a],n),formatValue(e,t[a+1],n)];f[g]=reduceToSingleString(e,h,"",["[","]"],kArrayExtrasType,n)}return e.indentationLvl-=2,s>0&&f.push(`... ${s} more item${s>1?"s":""}`),f}function formatWeakCollection(e){return[e.stylize("<items unknown>","special")]}function formatWeakSet(e,n,t){const r=previewEntries(n);return formatSetIterInner(e,t,r,kWeak)}function formatWeakMap(e,n,t){const r=previewEntries(n);return formatMapIterInner(e,t,r,kWeak)}function formatIterator(e,n,t,r){const{0:i,1:o}=previewEntries(t,!0);return o?(e[0]=e[0].replace(/ Iterator] {$/," Entries] {"),formatMapIterInner(n,r,i,kMapEntries)):formatSetIterInner(n,r,i,kIterator)}function formatPromise(e,n,t){let r;const{0:i,1:o}=getPromiseDetails(n);if(i===kPending)r=[e.stylize("<pending>","special")];else{e.indentationLvl+=2;const s=formatValue(e,o,t);e.indentationLvl-=2,r=[i===kRejected?`${e.stylize("<rejected>","special")} ${s}`:s]}return r}function formatProperty(e,n,t,r,i,o,s=n){let l,f,g=" ";if(o=o||ObjectGetOwnPropertyDescriptor(n,r)||{value:n[r],enumerable:!0},o.value!==void 0){const a=e.compact!==!0||i!==kObjectType?2:3;e.indentationLvl+=a,f=formatValue(e,o.value,t),a===3&&e.breakLength<getStringWidth(f,e.colors)&&(g=`
${" ".repeat(e.indentationLvl)}`),e.indentationLvl-=a}else if(o.get!==void 0){const a=o.set!==void 0?"Getter/Setter":"Getter",h=e.stylize,p="special";if(e.getters&&(e.getters===!0||e.getters==="get"&&o.set===void 0||e.getters==="set"&&o.set!==void 0))try{const y=FunctionPrototypeCall(o.get,s);if(e.indentationLvl+=2,y===null)f=`${h(`[${a}:`,p)} ${h("null","null")}${h("]",p)}`;else if(typeof y=="object")f=`${h(`[${a}]`,p)} ${formatValue(e,y,t)}`;else{const c=formatPrimitive(h,y,e);f=`${h(`[${a}:`,p)} ${c}${h("]",p)}`}e.indentationLvl-=2}catch(y){const c=`<Inspection threw (${y.message})>`;f=`${h(`[${a}:`,p)} ${c}${h("]",p)}`}else f=e.stylize(`[${a}]`,p)}else o.set!==void 0?f=e.stylize("[Setter]","special"):f=e.stylize("undefined","undefined");if(i===kArrayType)return f;if(typeof r=="symbol"){const a=StringPrototypeReplace(SymbolPrototypeToString(r),strEscapeSequencesReplacer,escapeFn);l=`[${e.stylize(a,"symbol")}]`}else r==="__proto__"?l="['__proto__']":o.enumerable===!1?l=`[${StringPrototypeReplace(r,strEscapeSequencesReplacer,escapeFn)}]`:RegExpPrototypeTest(keyStrRegExp,r)?l=e.stylize(r,"name"):l=e.stylize(strEscape(r),"string");return`${l}:${g}${f}`}function isBelowBreakLength(e,n,t,r){let i=n.length+t;if(i+n.length>e.breakLength)return!1;for(let o=0;o<n.length;o++)if(e.colors?i+=removeColors(n[o]).length:i+=n[o].length,i>e.breakLength)return!1;return r===""||!StringPrototypeIncludes(r,`
`)}function reduceToSingleString(e,n,t,r,i,o,s){if(e.compact!==!0){if(typeof e.compact=="number"&&e.compact>=1){const a=n.length;if(i===kArrayExtrasType&&a>6&&(n=groupArrayElements(e,n,s)),e.currentDepth-o<e.compact&&a===n.length){const h=n.length+e.indentationLvl+r[0].length+t.length+10;if(isBelowBreakLength(e,n,h,t))return`${t?`${t} `:""}${r[0]} ${join(n,", ")} ${r[1]}`}}const g=`
${StringPrototypeRepeat(" ",e.indentationLvl)}`;return`${t?`${t} `:""}${r[0]}${g}  ${join(n,`,${g}  `)}${g}${r[1]}`}if(isBelowBreakLength(e,n,0,t))return`${r[0]}${t?` ${t}`:""} ${join(n,", ")} `+r[1];const l=StringPrototypeRepeat(" ",e.indentationLvl),f=t===""&&r[0].length===1?" ":`${t?` ${t}`:""}
${l}  `;return`${r[0]}${f}${join(n,`,
${l}  `)} ${r[1]}`}function hasBuiltInToString(e){const t=getProxyDetails(e,!1);if(t!==void 0&&(e=t),typeof e.toString!="function")return!0;if(ObjectPrototypeHasOwnProperty(e,"toString"))return!1;let r=e;do r=ObjectGetPrototypeOf(r);while(!ObjectPrototypeHasOwnProperty(r,"toString"));const i=ObjectGetOwnPropertyDescriptor(r,"constructor");return i!==void 0&&typeof i.value=="function"&&builtInObjects.has(i.value.name)}const firstErrorLine=e=>StringPrototypeSplit(e.message,`
`,1)[0];let CIRCULAR_ERROR_MESSAGE;function tryStringify(e){try{return JSONStringify(e)}catch(n){if(!CIRCULAR_ERROR_MESSAGE)try{const t={};t.a=t,JSONStringify(t)}catch(t){CIRCULAR_ERROR_MESSAGE=firstErrorLine(t)}if(n.name==="TypeError"&&firstErrorLine(n)===CIRCULAR_ERROR_MESSAGE)return"[Circular]";throw n}}function format(...e){return formatWithOptionsInternal(void 0,e)}function formatWithOptions(e,...n){if(typeof e!="object"||e===null)throw new ERR_INVALID_ARG_TYPE("inspectOptions","object",e);return formatWithOptionsInternal(e,n)}function formatWithOptionsInternal(e,n){const t=n[0];let r=0,i="",o="";if(typeof t=="string"){if(n.length===1)return t;let s,l=0;for(let f=0;f<t.length-1;f++)if(StringPrototypeCharCodeAt(t,f)===37){const g=StringPrototypeCharCodeAt(t,++f);if(r+1!==n.length){switch(g){case 115:const a=n[++r];typeof a=="number"?s=formatNumber(stylizeNoColor,a):typeof a=="bigint"?s=`${a}n`:typeof a!="object"||a===null||!hasBuiltInToString(a)?s=String(a):s=inspect(a,{...e,compact:3,colors:!1,depth:0});break;case 106:s=tryStringify(n[++r]);break;case 100:const h=n[++r];typeof h=="bigint"?s=`${h}n`:typeof h=="symbol"?s="NaN":s=formatNumber(stylizeNoColor,Number(h));break;case 79:s=inspect(n[++r],e);break;case 111:s=inspect(n[++r],{...e,showHidden:!0,showProxy:!0,depth:4});break;case 105:const p=n[++r];typeof p=="bigint"?s=`${p}n`:typeof p=="symbol"?s="NaN":s=formatNumber(stylizeNoColor,NumberParseInt(p));break;case 102:const y=n[++r];typeof y=="symbol"?s="NaN":s=formatNumber(stylizeNoColor,NumberParseFloat(y));break;case 99:r+=1,s="";break;case 37:i+=StringPrototypeSlice(t,l,f),l=f+1;continue;default:continue}l!==f-1&&(i+=StringPrototypeSlice(t,l,f-1)),i+=s,l=f+1}else g===37&&(i+=StringPrototypeSlice(t,l,f),l=f+1)}l!==0&&(r++,o=" ",l<t.length&&(i+=StringPrototypeSlice(t,l)))}for(;r<n.length;){const s=n[r];i+=o,i+=typeof s!="string"?inspect(s,e):s,o=" ",r++}return i}if(internalBinding("config").hasIntl){const e=internalBinding("icu");getStringWidth=function(t,r=!0){let i=0;r&&(t=stripVTControlCharacters(t));for(let o=0;o<t.length;o++){const s=t.charCodeAt(o);if(s>=127){i+=e.getStringWidth(t.slice(o).normalize("NFC"));break}i+=s>=32?1:0}return i}}else{getStringWidth=function(r,i=!0){let o=0;i&&(r=stripVTControlCharacters(r)),r=StringPrototypeNormalize(r,"NFC");for(const s of new SafeStringIterator(r)){const l=StringPrototypeCodePointAt(s,0);e(l)?o+=2:n(l)||o++}return o};const e=t=>t>=4352&&(t<=4447||t===9001||t===9002||t>=11904&&t<=12871&&t!==12351||t>=12880&&t<=19903||t>=19968&&t<=42182||t>=43360&&t<=43388||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65131||t>=65281&&t<=65376||t>=65504&&t<=65510||t>=110592&&t<=110593||t>=127488&&t<=127569||t>=127744&&t<=128591||t>=131072&&t<=262141),n=t=>t<=31||t>=127&&t<=159||t>=768&&t<=879||t>=8203&&t<=8207||t>=8400&&t<=8447||t>=65024&&t<=65039||t>=65056&&t<=65071||t>=917760&&t<=917999}function stripVTControlCharacters(e){return e.replace(ansi,"")}module.exports={inspect,format,formatWithOptions,getStringWidth,inspectDefaultOptions,stripVTControlCharacters};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeConcat,FunctionPrototypeBind,ObjectDefineProperty,ObjectKeys}=primordials;let session;function sendInspectorCommand(e,t){const{hasInspector:r}=internalBinding("config");if(!r)return t();const n=require("inspector");session===void 0&&(session=new n.Session),session.connect();try{return e(session)}finally{session.disconnect()}}function installConsoleExtensions(e){if(e.require)return;const{tryGetCwd:t}=require("internal/process/execution"),r=require("internal/modules/cjs/loader").Module,{makeRequireFunction:n}=require("internal/modules/cjs/helpers"),s=new r("<inspector console>"),o=t();s.paths=ArrayPrototypeConcat(r._nodeModulePaths(o),r.globalPaths),e.require=n(s)}function wrapConsole(e,t){const{consoleCall:r}=internalBinding("inspector");for(const n of ObjectKeys(t))e.hasOwnProperty(n)?(e[n]=FunctionPrototypeBind(r,e,t[n],e[n]),ObjectDefineProperty(e[n],"name",{value:n})):e[n]=t[n]}let consoleFromVM;module.exports={installConsoleExtensions,sendInspectorCommand,wrapConsole,get consoleFromVM(){return consoleFromVM},set consoleFromVM(e){consoleFromVM=e}};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectFreeze,SafeFinalizationRegistry,SafeSet,SafeWeakMap,SafeWeakRef,SymbolIterator}=primordials;class IterableWeakMap{#e=new SafeWeakMap;#t=new SafeSet;#r=new SafeFinalizationRegistry(cleanup);set(e,t){const s=this.#e.get(e);if(s)this.#e.set(e,{value:t,ref:s.ref});else{const r=new SafeWeakRef(e);this.#e.set(e,{value:t,ref:r}),this.#t.add(r),this.#r.register(e,{set:this.#t,ref:r},r)}}get(e){return this.#e.get(e)?.value}has(e){return this.#e.has(e)}delete(e){const t=this.#e.get(e);return t?(this.#e.delete(e),this.#t.delete(t.ref),this.#r.unregister(t.ref),!0):!1}[SymbolIterator](){const e=this.#t[SymbolIterator](),t=()=>{const s=e.next();if(s.done)return s;const r=s.value.deref();if(r==null)return t();const{value:i}=this.#e.get(r);return{done:!1,value:i}};return{[SymbolIterator](){return this},next:t}}}function cleanup({set:n,ref:e}){n.delete(e)}ObjectFreeze(IterableWeakMap.prototype),module.exports={IterableWeakMap};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayBufferIsView,ObjectDefineProperties,TypedArrayPrototypeGetSymbolToStringTag}=primordials;function isTypedArray(r){return TypedArrayPrototypeGetSymbolToStringTag(r)!==void 0}function isUint8Array(r){return TypedArrayPrototypeGetSymbolToStringTag(r)==="Uint8Array"}function isUint8ClampedArray(r){return TypedArrayPrototypeGetSymbolToStringTag(r)==="Uint8ClampedArray"}function isUint16Array(r){return TypedArrayPrototypeGetSymbolToStringTag(r)==="Uint16Array"}function isUint32Array(r){return TypedArrayPrototypeGetSymbolToStringTag(r)==="Uint32Array"}function isInt8Array(r){return TypedArrayPrototypeGetSymbolToStringTag(r)==="Int8Array"}function isInt16Array(r){return TypedArrayPrototypeGetSymbolToStringTag(r)==="Int16Array"}function isInt32Array(r){return TypedArrayPrototypeGetSymbolToStringTag(r)==="Int32Array"}function isFloat32Array(r){return TypedArrayPrototypeGetSymbolToStringTag(r)==="Float32Array"}function isFloat64Array(r){return TypedArrayPrototypeGetSymbolToStringTag(r)==="Float64Array"}function isBigInt64Array(r){return TypedArrayPrototypeGetSymbolToStringTag(r)==="BigInt64Array"}function isBigUint64Array(r){return TypedArrayPrototypeGetSymbolToStringTag(r)==="BigUint64Array"}module.exports={...internalBinding("types"),isArrayBufferView:ArrayBufferIsView,isTypedArray,isUint8Array,isUint8ClampedArray,isUint16Array,isUint32Array,isInt8Array,isInt16Array,isInt32Array,isFloat32Array,isFloat64Array,isBigInt64Array,isBigUint64Array};let isCryptoKey,isKeyObject;ObjectDefineProperties(module.exports,{isKeyObject:{configurable:!1,enumerable:!0,value(r){return process.versions.openssl?(isKeyObject||({isKeyObject}=require("internal/crypto/keys")),isKeyObject(r)):!1}},isCryptoKey:{configurable:!1,enumerable:!0,value(r){return process.versions.openssl?(isCryptoKey||({isCryptoKey}=require("internal/crypto/keys")),isCryptoKey(r)):!1}}});
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const assert=require("internal/assert"),{ArrayIsArray,ArrayPrototypeForEach,ArrayPrototypeIndexOf,ArrayPrototypeSome,ObjectCreate,ObjectDefineProperty,ObjectGetPrototypeOf,ObjectSetPrototypeOf,PromiseAll,ReflectApply,SafeWeakMap,Symbol,SymbolToStringTag,TypeError}=primordials,{isContext}=internalBinding("contextify"),{isModuleNamespaceObject,isArrayBufferView}=require("internal/util/types"),{getConstructorOf,customInspectSymbol,emitExperimentalWarning}=require("internal/util"),{ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_VM_MODULE_ALREADY_LINKED,ERR_VM_MODULE_DIFFERENT_CONTEXT,ERR_VM_MODULE_CANNOT_CREATE_CACHED_DATA,ERR_VM_MODULE_LINKING_ERRORED,ERR_VM_MODULE_NOT_MODULE,ERR_VM_MODULE_STATUS}=require("internal/errors").codes,{validateBoolean,validateFunction,validateInt32,validateObject,validateUint32,validateString}=require("internal/validators"),binding=internalBinding("module_wrap"),{ModuleWrap,kUninstantiated,kInstantiating,kInstantiated,kEvaluating,kEvaluated,kErrored}=binding,STATUS_MAP={[kUninstantiated]:"unlinked",[kInstantiating]:"linking",[kInstantiated]:"linked",[kEvaluating]:"evaluating",[kEvaluated]:"evaluated",[kErrored]:"errored"};let globalModuleId=0;const defaultModuleName="vm:module",wrapToModuleMap=new SafeWeakMap,kWrap=Symbol("kWrap"),kContext=Symbol("kContext"),kPerContextModuleId=Symbol("kPerContextModuleId"),kLink=Symbol("kLink");class Module{constructor(t){if(emitExperimentalWarning("VM Modules"),new.target===Module)throw new TypeError("Module is not a constructor");const{context:e,sourceText:i,syntheticExportNames:r,syntheticEvaluationSteps:s}=t;if(e!==void 0&&(validateObject(e,"context"),!isContext(e)))throw new ERR_INVALID_ARG_TYPE("options.context","vm.Context",e);let{identifier:n}=t;if(n!==void 0)validateString(n,"options.identifier");else if(e===void 0)n=`${defaultModuleName}(${globalModuleId++})`;else if(e[kPerContextModuleId]!==void 0){const u=e[kPerContextModuleId];n=`${defaultModuleName}(${u})`,e[kPerContextModuleId]+=1}else n=`${defaultModuleName}(0)`,ObjectDefineProperty(e,kPerContextModuleId,{value:1,writable:!0,enumerable:!1,configurable:!0});i!==void 0?(this[kWrap]=new ModuleWrap(n,e,i,t.lineOffset,t.columnOffset,t.cachedData),binding.callbackMap.set(this[kWrap],{initializeImportMeta:t.initializeImportMeta,importModuleDynamically:t.importModuleDynamically?importModuleDynamicallyWrap(t.importModuleDynamically):void 0})):(assert(s),this[kWrap]=new ModuleWrap(n,e,r,s)),wrapToModuleMap.set(this[kWrap],this),this[kContext]=e}get identifier(){if(this[kWrap]===void 0)throw new ERR_VM_MODULE_NOT_MODULE;return this[kWrap].url}get context(){if(this[kWrap]===void 0)throw new ERR_VM_MODULE_NOT_MODULE;return this[kContext]}get namespace(){if(this[kWrap]===void 0)throw new ERR_VM_MODULE_NOT_MODULE;if(this[kWrap].getStatus()<kInstantiated)throw new ERR_VM_MODULE_STATUS("must not be unlinked or linking");return this[kWrap].getNamespace()}get status(){if(this[kWrap]===void 0)throw new ERR_VM_MODULE_NOT_MODULE;return STATUS_MAP[this[kWrap].getStatus()]}get error(){if(this[kWrap]===void 0)throw new ERR_VM_MODULE_NOT_MODULE;if(this[kWrap].getStatus()!==kErrored)throw new ERR_VM_MODULE_STATUS("must be errored");return this[kWrap].getError()}async link(t){if(this[kWrap]===void 0)throw new ERR_VM_MODULE_NOT_MODULE;if(validateFunction(t,"linker"),this.status==="linked")throw new ERR_VM_MODULE_ALREADY_LINKED;if(this.status!=="unlinked")throw new ERR_VM_MODULE_STATUS("must be unlinked");await this[kLink](t),this[kWrap].instantiate()}async evaluate(t={}){if(this[kWrap]===void 0)throw new ERR_VM_MODULE_NOT_MODULE;validateObject(t,"options");let e=t.timeout;e===void 0?e=-1:validateUint32(e,"options.timeout",!0);const{breakOnSigint:i=!1}=t;validateBoolean(i,"options.breakOnSigint");const r=this[kWrap].getStatus();if(r!==kInstantiated&&r!==kEvaluated&&r!==kErrored)throw new ERR_VM_MODULE_STATUS("must be one of linked, evaluated, or errored");await this[kWrap].evaluate(e,i)}[customInspectSymbol](t,e){if(this[kWrap]===void 0)throw new ERR_VM_MODULE_NOT_MODULE;if(typeof t=="number"&&t<0)return this;const i=getConstructorOf(this)||Module,r=ObjectCreate({constructor:i});r.status=this.status,r.identifier=this.identifier,r.context=this.context,ObjectSetPrototypeOf(r,ObjectGetPrototypeOf(this)),ObjectDefineProperty(r,SymbolToStringTag,{value:i.name,configurable:!0});const{inspect:s}=require("internal/util/inspect");return s(r,{...e,customInspect:!1})}}const kDependencySpecifiers=Symbol("kDependencySpecifiers"),kNoError=Symbol("kNoError");class SourceTextModule extends Module{#t=kNoError;#e;constructor(t,e={}){validateString(t,"sourceText"),validateObject(e,"options");const{lineOffset:i=0,columnOffset:r=0,initializeImportMeta:s,importModuleDynamically:n,context:u,identifier:h,cachedData:d}=e;if(validateInt32(i,"options.lineOffset"),validateInt32(r,"options.columnOffset"),s!==void 0&&typeof s!="function")throw new ERR_INVALID_ARG_TYPE("options.initializeImportMeta","function",s);if(n!==void 0&&typeof n!="function")throw new ERR_INVALID_ARG_TYPE("options.importModuleDynamically","function",n);if(d!==void 0&&!isArrayBufferView(d))throw new ERR_INVALID_ARG_TYPE("options.cachedData",["Buffer","TypedArray","DataView"],d);super({sourceText:t,context:u,identifier:h,lineOffset:i,columnOffset:r,cachedData:d,initializeImportMeta:s,importModuleDynamically:n});this[kLink]=async c=>{this.#e="linking";const f=this[kWrap].link(async(l,w)=>{const o=await c(l,this,{assert:w});if(o[kWrap]===void 0)throw new ERR_VM_MODULE_NOT_MODULE;if(o.context!==this.context)throw new ERR_VM_MODULE_DIFFERENT_CONTEXT;if(o.status==="errored")throw new ERR_VM_MODULE_LINKING_ERRORED;return o.status==="unlinked"&&await o[kLink](c),o[kWrap]});try{f!==void 0&&await PromiseAll(f)}catch(l){throw this.#t=l,l}finally{this.#e=void 0}},this[kDependencySpecifiers]=void 0}get dependencySpecifiers(){if(this[kWrap]===void 0)throw new ERR_VM_MODULE_NOT_MODULE;return this[kDependencySpecifiers]===void 0&&(this[kDependencySpecifiers]=this[kWrap].getStaticDependencySpecifiers()),this[kDependencySpecifiers]}get status(){if(this[kWrap]===void 0)throw new ERR_VM_MODULE_NOT_MODULE;return this.#t!==kNoError?"errored":this.#e?this.#e:super.status}get error(){if(this[kWrap]===void 0)throw new ERR_VM_MODULE_NOT_MODULE;return this.#t!==kNoError?this.#t:super.error}createCachedData(){const{status:t}=this;if(t==="evaluating"||t==="evaluated"||t==="errored")throw new ERR_VM_MODULE_CANNOT_CREATE_CACHED_DATA;return this[kWrap].createCachedData()}}class SyntheticModule extends Module{constructor(t,e,i={}){if(!ArrayIsArray(t)||ArrayPrototypeSome(t,n=>typeof n!="string"))throw new ERR_INVALID_ARG_TYPE("exportNames","Array of unique strings",t);ArrayPrototypeForEach(t,(n,u)=>{if(ArrayPrototypeIndexOf(t,n,u+1)!==-1)throw new ERR_INVALID_ARG_VALUE(`exportNames.${n}`,n,"is duplicated")}),validateFunction(e,"evaluateCallback"),validateObject(i,"options");const{context:r,identifier:s}=i;super({syntheticExportNames:t,syntheticEvaluationSteps:e,context:r,identifier:s});this[kLink]=()=>this[kWrap].link(()=>{assert.fail("link callback should not be called")})}setExport(t,e){if(this[kWrap]===void 0)throw new ERR_VM_MODULE_NOT_MODULE;if(validateString(t,"name"),this[kWrap].getStatus()<kInstantiated)throw new ERR_VM_MODULE_STATUS("must be linked");this[kWrap].setExport(t,e)}}function importModuleDynamicallyWrap(a){return async(...e)=>{const i=await ReflectApply(a,this,e);if(isModuleNamespaceObject(i))return i;if(!i||i[kWrap]===void 0)throw new ERR_VM_MODULE_NOT_MODULE;if(i.status==="errored")throw i.error;return i.namespace}}module.exports={Module,SourceTextModule,SyntheticModule,importModuleDynamicallyWrap,getModuleFromWrap:a=>wrapToModuleMap.get(a)};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeMap,PromiseAll,PromisePrototypeThen,PromisePrototypeFinally,PromiseResolve,Uint8Array}=primordials,{ReadableStream,isReadableStream}=require("internal/webstreams/readablestream"),{WritableStream,isWritableStream}=require("internal/webstreams/writablestream"),{CountQueuingStrategy}=require("internal/webstreams/queuingstrategies"),{Writable,Readable,Duplex,destroy}=require("stream"),{isDestroyed,isReadable,isReadableEnded,isWritable,isWritableEnded}=require("internal/streams/utils"),{Buffer}=require("buffer"),{errnoException,codes:{ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_INVALID_STATE,ERR_STREAM_PREMATURE_CLOSE},AbortError}=require("internal/errors"),{createDeferredPromise}=require("internal/util"),{validateBoolean,validateObject}=require("internal/validators"),{WriteWrap,ShutdownWrap,kReadBytesOrError,kLastWriteWasAsync,streamBaseState}=internalBinding("stream_wrap"),finished=require("internal/streams/end-of-stream"),{UV_EOF}=internalBinding("uv");function newWritableStreamFromStreamWritable(e){if(typeof e?._writableState!="object")throw new ERR_INVALID_ARG_TYPE("streamWritable","stream.Writable",e);if(isDestroyed(e)||!isWritable(e)){const r=new WritableStream;return r.close(),r}const u=e.writableHighWaterMark,f=e.writableObjectMode?new CountQueuingStrategy({highWaterMark:u}):{highWaterMark:u};let s,i,a;function n(){i!==void 0&&i.resolve()}const t=finished(e,r=>{if(r?.code==="ERR_STREAM_PREMATURE_CLOSE"){const o=new AbortError;o.cause=r,r=o}if(t(),e.on("error",()=>{}),r!=null){i!==void 0&&i.reject(r),a!==void 0&&(a.reject(r),a=void 0),s.error(r),s=void 0;return}if(a!==void 0){a.resolve(),a=void 0;return}s.error(new AbortError),s=void 0});return e.on("drain",n),new WritableStream({start(r){s=r},async write(r){if(e.writableNeedDrain||!e.write(r))return i=createDeferredPromise(),PromisePrototypeFinally(i.promise,()=>{i=void 0})},abort(r){destroy(e,r)},close(){return a===void 0&&!isWritableEnded(e)?(a=createDeferredPromise(),e.end(),a.promise):(s=void 0,PromiseResolve())}},f)}function newStreamWritableFromWritableStream(e,u={}){if(!isWritableStream(e))throw new ERR_INVALID_ARG_TYPE("writableStream","WritableStream",e);validateObject(u,"options");const{highWaterMark:f,decodeStrings:s=!0,objectMode:i=!1,signal:a}=u;validateBoolean(i,"options.objectMode"),validateBoolean(s,"options.decodeStrings");const n=e.getWriter();let t=!1;const r=new Writable({highWaterMark:f,objectMode:i,decodeStrings:s,signal:a,writev(o,c){function d(w){try{c(w)}catch(S){process.nextTick(()=>destroy(r,S))}}PromisePrototypeThen(n.ready,()=>PromisePrototypeThen(PromiseAll(ArrayPrototypeMap(o,w=>n.write(w))),d,d),d)},write(o,c,d){typeof o=="string"&&s&&!i&&(o=Buffer.from(o,c),o=new Uint8Array(o.buffer,o.byteOffset,o.byteLength));function w(S){try{d(S)}catch(p){destroy(r,p)}}PromisePrototypeThen(n.ready,()=>PromisePrototypeThen(n.write(o),w,w),w)},destroy(o,c){function d(){try{c(o)}catch(w){process.nextTick(()=>{throw w})}}if(!t){o!=null?PromisePrototypeThen(n.abort(o),d,d):PromisePrototypeThen(n.close(),d,d);return}d()},final(o){function c(d){try{o(d)}catch(w){process.nextTick(()=>destroy(r,w))}}t||PromisePrototypeThen(n.close(),c,c)}});return PromisePrototypeThen(n.closed,()=>{t=!0,isWritableEnded(r)||destroy(r,new ERR_STREAM_PREMATURE_CLOSE)},o=>{t=!0,destroy(r,o)}),r}function newReadableStreamFromStreamReadable(e){if(typeof e?._readableState!="object")throw new ERR_INVALID_ARG_TYPE("streamReadable","stream.Readable",e);if(isDestroyed(e)||!isReadable(e)){const t=new ReadableStream;return t.cancel(),t}const u=e.readableObjectMode,f=e.readableHighWaterMark,s=u?new CountQueuingStrategy({highWaterMark:f}):{highWaterMark:f};let i;function a(t){Buffer.isBuffer(t)&&!u&&(t=new Uint8Array(t)),i.enqueue(t),i.desiredSize<=0&&e.pause()}e.pause();const n=finished(e,t=>{if(t?.code==="ERR_STREAM_PREMATURE_CLOSE"){const r=new AbortError;r.cause=t,t=r}if(n(),e.on("error",()=>{}),t)return i.error(t);i.close()});return e.on("data",a),new ReadableStream({start(t){i=t},pull(){e.resume()},cancel(t){destroy(e,t)}},s)}function newStreamReadableFromReadableStream(e,u={}){if(!isReadableStream(e))throw new ERR_INVALID_ARG_TYPE("readableStream","ReadableStream",e);validateObject(u,"options");const{highWaterMark:f,encoding:s,objectMode:i=!1,signal:a}=u;if(s!==void 0&&!Buffer.isEncoding(s))throw new ERR_INVALID_ARG_VALUE(s,"options.encoding");validateBoolean(i,"options.objectMode");const n=e.getReader();let t=!1;const r=new Readable({objectMode:i,highWaterMark:f,encoding:s,signal:a,read(){PromisePrototypeThen(n.read(),o=>{o.done?r.push(null):r.push(o.value)},o=>destroy(r,o))},destroy(o,c){function d(){try{c(o)}catch(w){process.nextTick(()=>{throw w})}}if(!t){PromisePrototypeThen(n.cancel(o),d,d);return}d()}});return PromisePrototypeThen(n.closed,()=>{t=!0,isReadableEnded(r)||r.push(null)},o=>{t=!0,destroy(r,o)}),r}function newReadableWritablePairFromDuplex(e){if(typeof e?._writableState!="object"||typeof e?._readableState!="object")throw new ERR_INVALID_ARG_TYPE("duplex","stream.Duplex",e);if(isDestroyed(e)){const s=new WritableStream,i=new ReadableStream;return s.close(),i.cancel(),{readable:i,writable:s}}const u=isWritable(e)?newWritableStreamFromStreamWritable(e):new WritableStream;isWritable(e)||u.close();const f=isReadable(e)?newReadableStreamFromStreamReadable(e):new ReadableStream;return isReadable(e)||f.cancel(),{writable:u,readable:f}}function newStreamDuplexFromReadableWritablePair(e={},u={}){validateObject(e,"pair");const{readable:f,writable:s}=e;if(!isReadableStream(f))throw new ERR_INVALID_ARG_TYPE("pair.readable","ReadableStream",f);if(!isWritableStream(s))throw new ERR_INVALID_ARG_TYPE("pair.writable","WritableStream",s);validateObject(u,"options");const{allowHalfOpen:i=!1,objectMode:a=!1,encoding:n,decodeStrings:t=!0,highWaterMark:r,signal:o}=u;if(validateBoolean(a,"options.objectMode"),n!==void 0&&!Buffer.isEncoding(n))throw new ERR_INVALID_ARG_VALUE(n,"options.encoding");const c=s.getWriter(),d=f.getReader();let w=!1,S=!1;const p=new Duplex({allowHalfOpen:i,highWaterMark:r,objectMode:a,encoding:n,decodeStrings:t,signal:o,writev(l,m){function b(y){try{m(y)}catch(h){process.nextTick(()=>destroy(p,h))}}PromisePrototypeThen(c.ready,()=>PromisePrototypeThen(PromiseAll(ArrayPrototypeMap(l,y=>c.write(y))),b,b),b)},write(l,m,b){typeof l=="string"&&t&&!a&&(l=Buffer.from(l,m),l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength));function y(h){try{b(h)}catch(g){destroy(p,g)}}PromisePrototypeThen(c.ready,()=>PromisePrototypeThen(c.write(l),y,y),y)},final(l){function m(b){try{l(b)}catch(y){process.nextTick(()=>destroy(p,y))}}w||PromisePrototypeThen(c.close(),m,m)},read(){PromisePrototypeThen(d.read(),l=>{l.done?p.push(null):p.push(l.value)},l=>destroy(p,l))},destroy(l,m){function b(){try{m(l)}catch(g){process.nextTick(()=>{throw g})}}async function y(){w||await c.abort(l)}async function h(){S||await d.cancel(l)}if(!w||!S){PromisePrototypeThen(PromiseAll([y(),h()]),b,b);return}b()}});return PromisePrototypeThen(c.closed,()=>{w=!0,isWritableEnded(p)||destroy(p,new ERR_STREAM_PREMATURE_CLOSE)},l=>{w=!0,S=!0,destroy(p,l)}),PromisePrototypeThen(d.closed,()=>{S=!0,isReadableEnded(p)||p.push(null)},l=>{w=!0,S=!0,destroy(p,l)}),p}function newWritableStreamFromStreamBase(e,u){validateObject(e,"streamBase");let f;function s(n,t){const r=new WriteWrap;return r.handle=e,r.oncomplete=i,r.async=!1,r.bytes=0,r.buffer=null,r.controller=n,r.promise=t,r}function i(n){if(n<0){const t=errnoException(n,"write",this.error);this.promise.reject(t),this.controller.error(t);return}this.promise.resolve()}function a(n,t){const r=createDeferredPromise();let o,c;try{c=s(t,r),o=e.writeBuffer(c,n),streamBaseState[kLastWriteWasAsync]&&(c.buffer=n),c.async=!!streamBaseState[kLastWriteWasAsync]}catch(d){r.reject(d)}return o!==0?r.reject(errnoException(o,"write",c)):c.async||r.resolve(),r.promise}return new WritableStream({write(n,t){return f=f!==void 0?PromisePrototypeThen(f,()=>a(n,t),r=>t.error(r)):a(n,t),f},close(){const n=createDeferredPromise(),t=new ShutdownWrap;return t.oncomplete=()=>n.resolve(),e.shutdown(t)===1&&n.resolve(),n.promise}},u)}function newReadableStreamFromStreamBase(e,u,f={}){validateObject(e,"streamBase"),validateObject(f,"options");const{ondone:s=()=>{}}=f;if(typeof e.onread=="function")throw new ERR_INVALID_STATE("StreamBase already has a consumer");if(typeof s!="function")throw new ERR_INVALID_ARG_TYPE("options.ondone","Function",s);let i;return e.onread=a=>{const n=streamBaseState[kReadBytesOrError];if(n!==0)try{if(n===UV_EOF){i.close(),e.readStop();try{s()}catch(t){i.error(t)}return}i.enqueue(a),i.desiredSize<=0&&e.readStop()}catch(t){i.error(t),e.readStop()}},new ReadableStream({start(a){i=a},pull(){e.readStart()},cancel(){const a=createDeferredPromise();try{s()}catch(r){return a.reject(r),a.promise}const n=new ShutdownWrap;return n.oncomplete=()=>a.resolve(),e.shutdown(n)===1&&a.resolve(),a.promise}},u)}module.exports={newWritableStreamFromStreamWritable,newReadableStreamFromStreamReadable,newStreamWritableFromWritableStream,newStreamReadableFromReadableStream,newReadableWritablePairFromDuplex,newStreamDuplexFromReadableWritablePair,newWritableStreamFromStreamBase,newReadableStreamFromStreamBase};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectDefineProperties,Symbol}=primordials,{codes:{ERR_INVALID_ARG_VALUE,ERR_INVALID_THIS}}=require("internal/errors"),{newReadableWritablePairFromDuplex}=require("internal/webstreams/adapters"),{customInspect,kEnumerableProperty}=require("internal/webstreams/util"),{customInspectSymbol:kInspect}=require("internal/util");let zlib;function lazyZlib(){return zlib??=require("zlib"),zlib}const kHandle=Symbol("kHandle"),kTransform=Symbol("kTransform"),kType=Symbol("kType");function isCompressionStream(t){return typeof t?.[kHandle]=="object"&&t?.[kType]==="CompressionStream"}function isDecompressionStream(t){return typeof t?.[kHandle]=="object"&&t?.[kType]==="DecompressionStream"}class CompressionStream{constructor(e){switch(this[kType]="CompressionStream",e){case"deflate":this[kHandle]=lazyZlib().createDeflate();break;case"gzip":this[kHandle]=lazyZlib().createGzip();break;default:throw new ERR_INVALID_ARG_VALUE("format",e)}this[kTransform]=newReadableWritablePairFromDuplex(this[kHandle])}get readable(){if(!isCompressionStream(this))throw new ERR_INVALID_THIS("CompressionStream");return this[kTransform].readable}get writable(){if(!isCompressionStream(this))throw new ERR_INVALID_THIS("CompressionStream");return this[kTransform].writable}[kInspect](e,r){if(!isCompressionStream(this))throw new ERR_INVALID_THIS("CompressionStream");customInspect(e,r,"CompressionStream",{readable:this[kTransform].readable,writable:this[kTransform].writable})}}class DecompressionStream{constructor(e){switch(this[kType]="DecompressionStream",e){case"deflate":this[kHandle]=lazyZlib().createInflate();break;case"gzip":this[kHandle]=lazyZlib().createGunzip();break;default:throw new ERR_INVALID_ARG_VALUE("format",e)}this[kTransform]=newReadableWritablePairFromDuplex(this[kHandle])}get readable(){if(!isDecompressionStream(this))throw new ERR_INVALID_THIS("DecompressionStream");return this[kTransform].readable}get writable(){if(!isDecompressionStream(this))throw new ERR_INVALID_THIS("DecompressionStream");return this[kTransform].writable}[kInspect](e,r){if(!isDecompressionStream(this))throw new ERR_INVALID_THIS("DecompressionStream");customInspect(e,r,"DecompressionStream",{readable:this[kTransform].readable,writable:this[kTransform].writable})}}ObjectDefineProperties(CompressionStream.prototype,{readable:kEnumerableProperty,writable:kEnumerableProperty}),ObjectDefineProperties(DecompressionStream.prototype,{readable:kEnumerableProperty,writable:kEnumerableProperty}),module.exports={CompressionStream,DecompressionStream};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectDefineProperties,Symbol}=primordials,{TextDecoder,TextEncoder}=require("internal/encoding"),{TransformStream}=require("internal/webstreams/transformstream"),{customInspect,kEnumerableProperty}=require("internal/webstreams/util"),{codes:{ERR_INVALID_THIS}}=require("internal/errors"),{customInspectSymbol:kInspect}=require("internal/util"),kHandle=Symbol("kHandle"),kTransform=Symbol("kTransform"),kType=Symbol("kType");function isTextEncoderStream(r){return typeof r?.[kHandle]=="object"&&r?.[kType]==="TextEncoderStream"}function isTextDecoderStream(r){return typeof r?.[kHandle]=="object"&&r?.[kType]==="TextDecoderStream"}class TextEncoderStream{constructor(){this[kType]="TextEncoderStream",this[kHandle]=new TextEncoder,this[kTransform]=new TransformStream({transform:(e,t)=>{const n=this[kHandle].encode(e);n&&t.enqueue(n)},flush:e=>{const t=this[kHandle].encode();t.byteLength>0&&e.enqueue(t),e.terminate()}})}get encoding(){if(!isTextEncoderStream(this))throw new ERR_INVALID_THIS("TextEncoderStream");return this[kHandle].encoding}get readable(){if(!isTextEncoderStream(this))throw new ERR_INVALID_THIS("TextEncoderStream");return this[kTransform].readable}get writable(){if(!isTextEncoderStream(this))throw new ERR_INVALID_THIS("TextEncoderStream");return this[kTransform].writable}[kInspect](e,t){if(!isTextEncoderStream(this))throw new ERR_INVALID_THIS("TextEncoderStream");return customInspect(e,t,"TextEncoderStream",{encoding:this[kHandle].encoding,readable:this[kTransform].readable,writable:this[kTransform].writable})}}class TextDecoderStream{constructor(e="utf-8",t={}){this[kType]="TextDecoderStream",this[kHandle]=new TextDecoder(e,t),this[kTransform]=new TransformStream({transform:(n,i)=>{const o=this[kHandle].decode(n,{stream:!0});o&&i.enqueue(o)},flush:n=>{const i=this[kHandle].decode();i&&n.enqueue(i),n.terminate()}})}get encoding(){if(!isTextDecoderStream(this))throw new ERR_INVALID_THIS("TextDecoderStream");return this[kHandle].encoding}get fatal(){if(!isTextDecoderStream(this))throw new ERR_INVALID_THIS("TextDecoderStream");return this[kHandle].fatal}get ignoreBOM(){if(!isTextDecoderStream(this))throw new ERR_INVALID_THIS("TextDecoderStream");return this[kHandle].ignoreBOM}get readable(){if(!isTextDecoderStream(this))throw new ERR_INVALID_THIS("TextDecoderStream");return this[kTransform].readable}get writable(){if(!isTextDecoderStream(this))throw new ERR_INVALID_THIS("TextDecoderStream");return this[kTransform].writable}[kInspect](e,t){if(!isTextDecoderStream(this))throw new ERR_INVALID_THIS("TextDecoderStream");return customInspect(e,t,"TextDecoderStream",{encoding:this[kHandle].encoding,fatal:this[kHandle].fatal,ignoreBOM:this[kHandle].ignoreBOM,readable:this[kTransform].readable,writable:this[kTransform].writable})}}ObjectDefineProperties(TextEncoderStream.prototype,{encoding:kEnumerableProperty,readable:kEnumerableProperty,writable:kEnumerableProperty}),ObjectDefineProperties(TextDecoderStream.prototype,{encoding:kEnumerableProperty,fatal:kEnumerableProperty,ignoreBOM:kEnumerableProperty,readable:kEnumerableProperty,writable:kEnumerableProperty}),module.exports={TextEncoderStream,TextDecoderStream};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectDefineProperties,SymbolToStringTag}=primordials,{codes:{ERR_INVALID_THIS,ERR_MISSING_OPTION}}=require("internal/errors"),{customInspectSymbol:kInspect}=require("internal/util"),{customInspect,isBrandCheck,kType,kState,kEnumerableProperty}=require("internal/webstreams/util"),{validateObject}=require("internal/validators"),isByteLengthQueuingStrategy=isBrandCheck("ByteLengthQueuingStrategy"),isCountQueuingStrategy=isBrandCheck("CountQueuingStrategy"),byteSizeFunction=function(t){return t.byteLength},countSizeFunction=function(){return 1};class ByteLengthQueuingStrategy{[kType]="ByteLengthQueuingStrategy";get[SymbolToStringTag](){return this[kType]}constructor(t){if(validateObject(t,"init"),t.highWaterMark===void 0)throw new ERR_MISSING_OPTION("options.highWaterMark");this[kState]={highWaterMark:+t.highWaterMark}}get highWaterMark(){if(!isByteLengthQueuingStrategy(this))throw new ERR_INVALID_THIS("ByteLengthQueuingStrategy");return this[kState].highWaterMark}get size(){if(!isByteLengthQueuingStrategy(this))throw new ERR_INVALID_THIS("ByteLengthQueuingStrategy");return byteSizeFunction}[kInspect](t,r){return customInspect(t,r,this[kType],{highWaterMark:this.highWaterMark})}}ObjectDefineProperties(ByteLengthQueuingStrategy.prototype,{highWaterMark:kEnumerableProperty,size:kEnumerableProperty});class CountQueuingStrategy{[kType]="CountQueuingStrategy";get[SymbolToStringTag](){return this[kType]}constructor(t){if(validateObject(t,"init"),t.highWaterMark===void 0)throw new ERR_MISSING_OPTION("options.highWaterMark");this[kState]={highWaterMark:+t.highWaterMark}}get highWaterMark(){if(!isCountQueuingStrategy(this))throw new ERR_INVALID_THIS("CountQueuingStrategy");return this[kState].highWaterMark}get size(){if(!isCountQueuingStrategy(this))throw new ERR_INVALID_THIS("CountQueuingStrategy");return countSizeFunction}[kInspect](t,r){return customInspect(t,r,this[kType],{highWaterMark:this.highWaterMark})}}ObjectDefineProperties(CountQueuingStrategy.prototype,{highWaterMark:kEnumerableProperty,size:kEnumerableProperty}),module.exports={ByteLengthQueuingStrategy,CountQueuingStrategy};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayBuffer,ArrayBufferPrototypeSlice,ArrayPrototypePush,ArrayPrototypeShift,DataViewCtor,FunctionPrototypeBind,FunctionPrototypeCall,MathMin,NumberIsInteger,ObjectCreate,ObjectDefineProperties,ObjectSetPrototypeOf,Promise,PromisePrototypeCatch,PromisePrototypeThen,PromiseResolve,PromiseReject,PromiseAll,ReflectConstruct,Symbol,SymbolAsyncIterator,SymbolToStringTag,Uint8Array}=primordials,{codes:{ERR_ILLEGAL_CONSTRUCTOR,ERR_INVALID_ARG_VALUE,ERR_INVALID_ARG_TYPE,ERR_INVALID_STATE,ERR_INVALID_THIS}}=require("internal/errors"),{DOMException}=internalBinding("messaging"),{isArrayBufferView,isDataView}=require("internal/util/types"),{createDeferredPromise,customInspectSymbol:kInspect}=require("internal/util"),{serialize,deserialize}=require("v8"),{validateObject}=require("internal/validators"),{kAborted}=require("internal/abort_controller"),{MessageChannel}=require("internal/worker/io"),{kDeserialize,kTransfer,kTransferList,makeTransferable}=require("internal/worker/js_transferable"),{queueMicrotask}=require("internal/process/task_queues"),{kIsDisturbed}=require("internal/streams/utils"),{ArrayBufferViewGetBuffer,ArrayBufferViewGetByteLength,ArrayBufferViewGetByteOffset,ArrayBufferGetByteLength,AsyncIterator,copyArrayBuffer,customInspect,dequeueValue,ensureIsPromise,enqueueValueWithSize,extractHighWaterMark,extractSizeAlgorithm,lazyTransfer,isBrandCheck,resetQueue,setPromiseHandled,transferArrayBuffer,nonOpCancel,nonOpPull,nonOpStart,kType,kState,kEnumerableProperty}=require("internal/webstreams/util"),{WritableStreamDefaultWriter,isWritableStream,isWritableStreamLocked,isWritableStreamDefaultController,isWritableStreamDefaultWriter,writableStreamAbort,writableStreamCloseQueuedOrInFlight,writableStreamDefaultWriterCloseWithErrorPropagation,writableStreamDefaultWriterRelease,writableStreamDefaultWriterWrite}=require("internal/webstreams/writablestream"),assert=require("internal/assert"),kCancel=Symbol("kCancel"),kClose=Symbol("kClose"),kChunk=Symbol("kChunk"),kError=Symbol("kError"),kPull=Symbol("kPull");class ReadableStream{[kType]="ReadableStream";get[SymbolToStringTag](){return this[kType]}constructor(e={},r={}){if(e===null)throw new ERR_INVALID_ARG_VALUE("source","Object",e);this[kState]={disturbed:!1,state:"readable",storedError:void 0,stream:void 0,transfer:{writable:void 0,port1:void 0,port2:void 0,promise:void 0}};const n=r?.size,a=r?.highWaterMark,s=e.type;if(`${s}`=="bytes"){if(n!==void 0)throw new ERR_INVALID_ARG_VALUE.RangeError("strategy.size",n);setupReadableByteStreamControllerFromSource(this,e,extractHighWaterMark(a,0));return}if(s!==void 0)throw new ERR_INVALID_ARG_VALUE("source.type",s);return setupReadableStreamDefaultControllerFromSource(this,e,extractHighWaterMark(a,1),extractSizeAlgorithm(n)),makeTransferable(this)}get[kIsDisturbed](){return this[kState].disturbed}get locked(){if(!isReadableStream(this))throw new ERR_INVALID_THIS("ReadableStream");return isReadableStreamLocked(this)}cancel(e=void 0){return isReadableStream(this)?isReadableStreamLocked(this)?PromiseReject(new ERR_INVALID_STATE.TypeError("ReadableStream is locked")):readableStreamCancel(this,e):PromiseReject(new ERR_INVALID_THIS("ReadableStream"))}getReader(e={}){if(!isReadableStream(this))throw new ERR_INVALID_THIS("ReadableStream");validateObject(e,"options",{nullable:!0,allowFunction:!0});const r=e?.mode;if(r===void 0)return new ReadableStreamDefaultReader(this);if(`${r}`!="byob")throw new ERR_INVALID_ARG_VALUE("options.mode",r);return new ReadableStreamBYOBReader(this)}pipeThrough(e,r={}){if(!isReadableStream(this))throw new ERR_INVALID_THIS("ReadableStream");const n=e?.readable;if(!isReadableStream(n))throw new ERR_INVALID_ARG_TYPE("transform.readable","ReadableStream",n);const a=e?.writable;if(!isWritableStream(a))throw new ERR_INVALID_ARG_TYPE("transform.writable","WritableStream",a);const s=r?.preventAbort,i=r?.preventCancel,o=r?.preventClose,u=r?.signal;if(u!==void 0&&u?.[kAborted]===void 0)throw new ERR_INVALID_ARG_TYPE("options.signal","AbortSignal",u);if(isReadableStreamLocked(this))throw new ERR_INVALID_STATE.TypeError("The ReadableStream is locked");if(isWritableStreamLocked(a))throw new ERR_INVALID_STATE.TypeError("The WritableStream is locked");const l=readableStreamPipeTo(this,a,!!o,!!s,!!i,u);return setPromiseHandled(l),n}pipeTo(e,r={}){try{if(!isReadableStream(this))throw new ERR_INVALID_THIS("ReadableStream");if(!isWritableStream(e))throw new ERR_INVALID_ARG_TYPE("transform.writable","WritableStream",e);const n=r?.preventAbort,a=r?.preventCancel,s=r?.preventClose,i=r?.signal;if(i!==void 0&&i?.[kAborted]===void 0)throw new ERR_INVALID_ARG_TYPE("options.signal","AbortSignal",i);if(isReadableStreamLocked(this))throw new ERR_INVALID_STATE.TypeError("The ReadableStream is locked");if(isWritableStreamLocked(e))throw new ERR_INVALID_STATE.TypeError("The WritableStream is locked");return readableStreamPipeTo(this,e,!!s,!!n,!!a,i)}catch(n){return PromiseReject(n)}}tee(){if(!isReadableStream(this))throw new ERR_INVALID_THIS("ReadableStream");return readableStreamTee(this,!1)}values(e={}){if(!isReadableStream(this))throw new ERR_INVALID_THIS("ReadableStream");validateObject(e,"options");const{preventCancel:r=!1}=e,n=new ReadableStreamDefaultReader(this);let a=!1,s=!1,i;function o(){if(a)return PromiseResolve({done:!0,value:void 0});if(n[kState].stream===void 0)return PromiseReject(new ERR_INVALID_STATE.TypeError("The reader is not bound to a ReadableStream"));const l=createDeferredPromise();return readableStreamDefaultReaderRead(n,{[kChunk](f){i=void 0,l.resolve({value:f,done:!1})},[kClose](){i=void 0,a=!0,readableStreamReaderGenericRelease(n),l.resolve({done:!0,value:void 0})},[kError](f){i=void 0,a=!0,readableStreamReaderGenericRelease(n),l.reject(f)}}),l.promise}async function u(l){if(a)return{done:!0,value:l};if(a=!0,n[kState].stream===void 0)throw new ERR_INVALID_STATE.TypeError("The reader is not bound to a ReadableStream");if(assert(!n[kState].readRequests.length),!r){const f=readableStreamReaderGenericCancel(n,l);return readableStreamReaderGenericRelease(n),await f,{done:!0,value:l}}return readableStreamReaderGenericRelease(n),{done:!0,value:l}}return ObjectSetPrototypeOf({next(){return s||(i=PromiseResolve(),s=!0),i=i!==void 0?PromisePrototypeThen(i,o,o):o(),i},return(l){return i?PromisePrototypeThen(i,()=>u(l),()=>u(l)):u(l)},[SymbolAsyncIterator](){return this}},AsyncIterator)}[kInspect](e,r){return customInspect(e,r,this[kType],{locked:this.locked,state:this[kState].state})}[kTransfer](){if(!isReadableStream(this))throw new ERR_INVALID_THIS("ReadableStream");if(this.locked)throw this[kState].transfer.port1?.close(),this[kState].transfer.port1=void 0,this[kState].transfer.port2=void 0,new DOMException("Cannot transfer a locked ReadableStream","DataCloneError");const{writable:e,promise:r}=lazyTransfer().newCrossRealmWritableSink(this,this[kState].transfer.port1);return this[kState].transfer.writable=e,this[kState].transfer.promise=r,{data:{port:this[kState].transfer.port2},deserializeInfo:"internal/webstreams/readablestream:TransferredReadableStream"}}[kTransferList](){const{port1:e,port2:r}=new MessageChannel;return this[kState].transfer.port1=e,this[kState].transfer.port2=r,[r]}[kDeserialize]({port:e}){const r=lazyTransfer();setupReadableStreamDefaultControllerFromSource(this,new r.CrossRealmTransformReadableSource(e),0,()=>1)}}ObjectDefineProperties(ReadableStream.prototype,{[SymbolAsyncIterator]:{configurable:!0,enumerable:!1,writable:!0,value:ReadableStream.prototype.values},locked:kEnumerableProperty,cancel:kEnumerableProperty,getReader:kEnumerableProperty,pipeThrough:kEnumerableProperty,pipeTo:kEnumerableProperty,tee:kEnumerableProperty});function TransferredReadableStream(){return makeTransferable(ReflectConstruct(function(){this[kType]="ReadableStream",this[kState]={disturbed:!1,state:"readable",storedError:void 0,stream:void 0,transfer:{writable:void 0,port:void 0,promise:void 0}}},[],ReadableStream))}TransferredReadableStream.prototype[kDeserialize]=()=>{};class ReadableStreamBYOBRequest{[kType]="ReadableStreamBYOBRequest";get[SymbolToStringTag](){return this[kType]}constructor(){throw new ERR_ILLEGAL_CONSTRUCTOR}get view(){if(!isReadableStreamBYOBRequest(this))throw new ERR_INVALID_THIS("ReadableStreamBYOBRequest");return this[kState].view}respond(e){if(!isReadableStreamBYOBRequest(this))throw new ERR_INVALID_THIS("ReadableStreamBYOBRequest");const{view:r,controller:n}=this[kState];if(n===void 0)throw new ERR_INVALID_STATE.TypeError("This BYOB request has been invalidated");const a=ArrayBufferViewGetByteLength(r),s=ArrayBufferViewGetBuffer(r),i=ArrayBufferGetByteLength(s);if(a===0||i===0)throw new ERR_INVALID_STATE.TypeError("View ArrayBuffer is zero-length or detached");readableByteStreamControllerRespond(n,e)}respondWithNewView(e){if(!isReadableStreamBYOBRequest(this))throw new ERR_INVALID_THIS("ReadableStreamBYOBRequest");const{controller:r}=this[kState];if(r===void 0)throw new ERR_INVALID_STATE.TypeError("This BYOB request has been invalidated");readableByteStreamControllerRespondWithNewView(r,e)}[kInspect](e,r){return customInspect(e,r,this[kType],{view:this.view,controller:this[kState].controller})}}ObjectDefineProperties(ReadableStreamBYOBRequest.prototype,{view:kEnumerableProperty,respond:kEnumerableProperty,respondWithNewView:kEnumerableProperty});function createReadableStreamBYOBRequest(t,e){return ReflectConstruct(function(){this[kType]="ReadableStreamBYOBRequest",this[kState]={controller:t,view:e}},[],ReadableStreamBYOBRequest)}class DefaultReadRequest{constructor(){this[kState]=createDeferredPromise()}[kChunk](e){this[kState].resolve?.({value:e,done:!1})}[kClose](){this[kState].resolve?.({value:void 0,done:!0})}[kError](e){this[kState].reject?.(e)}get promise(){return this[kState].promise}}class ReadIntoRequest{constructor(){this[kState]=createDeferredPromise()}[kChunk](e){this[kState].resolve?.({value:e,done:!1})}[kClose](e){this[kState].resolve?.({value:e,done:!0})}[kError](e){this[kState].reject?.(e)}get promise(){return this[kState].promise}}class ReadableStreamDefaultReader{[kType]="ReadableStreamDefaultReader";get[SymbolToStringTag](){return this[kType]}constructor(e){if(!isReadableStream(e))throw new ERR_INVALID_ARG_TYPE("stream","ReadableStream",e);this[kState]={readRequests:[],stream:void 0,close:{promise:void 0,resolve:void 0,reject:void 0}},setupReadableStreamDefaultReader(this,e)}read(){if(!isReadableStreamDefaultReader(this))return PromiseReject(new ERR_INVALID_THIS("ReadableStreamDefaultReader"));if(this[kState].stream===void 0)return PromiseReject(new ERR_INVALID_STATE.TypeError("The reader is not attached to a stream"));const e=new DefaultReadRequest;return readableStreamDefaultReaderRead(this,e),e.promise}releaseLock(){if(!isReadableStreamDefaultReader(this))throw new ERR_INVALID_THIS("ReadableStreamDefaultReader");if(this[kState].stream!==void 0){if(this[kState].readRequests.length)throw new ERR_INVALID_STATE.TypeError("Cannot release with pending read requests");readableStreamReaderGenericRelease(this)}}get closed(){return isReadableStreamDefaultReader(this)?this[kState].close.promise:PromiseReject(new ERR_INVALID_THIS("ReadableStreamDefaultReader"))}cancel(e=void 0){return isReadableStreamDefaultReader(this)?this[kState].stream===void 0?PromiseReject(new ERR_INVALID_STATE.TypeError("The reader is not attached to a stream")):readableStreamReaderGenericCancel(this,e):PromiseReject(new ERR_INVALID_THIS("ReadableStreamDefaultReader"))}[kInspect](e,r){return customInspect(e,r,this[kType],{stream:this[kState].stream,readRequests:this[kState].readRequests.length,close:this[kState].close.promise})}}ObjectDefineProperties(ReadableStreamDefaultReader.prototype,{closed:kEnumerableProperty,read:kEnumerableProperty,releaseLock:kEnumerableProperty,cancel:kEnumerableProperty});class ReadableStreamBYOBReader{[kType]="ReadableStreamBYOBReader";get[SymbolToStringTag](){return this[kType]}constructor(e){if(!isReadableStream(e))throw new ERR_INVALID_ARG_TYPE("stream","ReadableStream",e);this[kState]={stream:void 0,requestIntoRequests:[],close:{promise:void 0,resolve:void 0,reject:void 0}},setupReadableStreamBYOBReader(this,e)}read(e){if(!isReadableStreamBYOBReader(this))return PromiseReject(new ERR_INVALID_THIS("ReadableStreamBYOBReader"));if(!isArrayBufferView(e))return PromiseReject(new ERR_INVALID_ARG_TYPE("view",["Buffer","TypedArray","DataView"],e));const r=ArrayBufferViewGetByteLength(e),n=ArrayBufferViewGetBuffer(e),a=ArrayBufferGetByteLength(n);if(r===0||a===0)return PromiseReject(new ERR_INVALID_STATE.TypeError("View ArrayBuffer is zero-length or detached"));if(this[kState].stream===void 0)return PromiseReject(new ERR_INVALID_STATE.TypeError("The reader is not attached to a stream"));const s=new ReadIntoRequest;return readableStreamBYOBReaderRead(this,e,s),s.promise}releaseLock(){if(!isReadableStreamBYOBReader(this))throw new ERR_INVALID_THIS("ReadableStreamBYOBReader");if(this[kState].stream!==void 0){if(this[kState].readIntoRequests.length)throw new ERR_INVALID_STATE.TypeError("Cannot release with pending read requests");readableStreamReaderGenericRelease(this)}}get closed(){return isReadableStreamBYOBReader(this)?this[kState].close.promise:PromiseReject(new ERR_INVALID_THIS("ReadableStreamBYOBReader"))}cancel(e=void 0){return isReadableStreamBYOBReader(this)?this[kState].stream===void 0?PromiseReject(new ERR_INVALID_STATE.TypeError("The reader is not attached to a stream")):readableStreamReaderGenericCancel(this,e):PromiseReject(new ERR_INVALID_THIS("ReadableStreamBYOBReader"))}[kInspect](e,r){return customInspect(e,r,this[kType],{stream:this[kState].stream,requestIntoRequests:this[kState].requestIntoRequests.length,close:this[kState].close.promise})}}ObjectDefineProperties(ReadableStreamBYOBReader.prototype,{closed:kEnumerableProperty,read:kEnumerableProperty,releaseLock:kEnumerableProperty,cancel:kEnumerableProperty});class ReadableStreamDefaultController{[kType]="ReadableStreamDefaultController";get[SymbolToStringTag](){return this[kType]}constructor(){throw new ERR_ILLEGAL_CONSTRUCTOR}get desiredSize(){return readableStreamDefaultControllerGetDesiredSize(this)}close(){if(!readableStreamDefaultControllerCanCloseOrEnqueue(this))throw new ERR_INVALID_STATE.TypeError("Controller is already closed");readableStreamDefaultControllerClose(this)}enqueue(e=void 0){if(!readableStreamDefaultControllerCanCloseOrEnqueue(this))throw new ERR_INVALID_STATE.TypeError("Controller is already closed");readableStreamDefaultControllerEnqueue(this,e)}error(e=void 0){readableStreamDefaultControllerError(this,e)}[kCancel](e){return readableStreamDefaultControllerCancelSteps(this,e)}[kPull](e){readableStreamDefaultControllerPullSteps(this,e)}[kInspect](e,r){return customInspect(e,r,this[kType],{})}}ObjectDefineProperties(ReadableStreamDefaultController.prototype,{desiredSize:kEnumerableProperty,close:kEnumerableProperty,enqueue:kEnumerableProperty,error:kEnumerableProperty});function createReadableStreamDefaultController(){return ReflectConstruct(function(){this[kType]="ReadableStreamDefaultController",this[kState]={}},[],ReadableStreamDefaultController)}class ReadableByteStreamController{[kType]="ReadableByteStreamController";get[SymbolToStringTag](){return this[kType]}constructor(){throw new ERR_ILLEGAL_CONSTRUCTOR}get byobRequest(){if(!isReadableByteStreamController(this))throw new ERR_INVALID_THIS("ReadableByteStreamController");if(this[kState].byobRequest===null&&this[kState].pendingPullIntos.length){const{buffer:e,byteOffset:r,bytesFilled:n,byteLength:a}=this[kState].pendingPullIntos[0],s=new Uint8Array(e,r+n,a-n);this[kState].byobRequest=createReadableStreamBYOBRequest(this,s)}return this[kState].byobRequest}get desiredSize(){if(!isReadableByteStreamController(this))throw new ERR_INVALID_THIS("ReadableByteStreamController");return readableByteStreamControllerGetDesiredSize(this)}close(){if(!isReadableByteStreamController(this))throw new ERR_INVALID_THIS("ReadableByteStreamController");if(this[kState].closeRequested)throw new ERR_INVALID_STATE.TypeError("Controller is already closed");if(this[kState].stream[kState].state!=="readable")throw new ERR_INVALID_STATE.TypeError("ReadableStream is already closed");readableByteStreamControllerClose(this)}enqueue(e){if(!isReadableByteStreamController(this))throw new ERR_INVALID_THIS("ReadableByteStreamController");if(!isArrayBufferView(e))throw new ERR_INVALID_ARG_TYPE("chunk",["Buffer","TypedArray","DataView"],e);const r=ArrayBufferViewGetByteLength(e),n=ArrayBufferViewGetByteOffset(e),a=ArrayBufferViewGetBuffer(e),s=ArrayBufferGetByteLength(a);if(r===0||s===0)throw new ERR_INVALID_STATE.TypeError("chunk ArrayBuffer is zero-length or detached");if(this[kState].closeRequested)throw new ERR_INVALID_STATE.TypeError("Controller is already closed");if(this[kState].stream[kState].state!=="readable")throw new ERR_INVALID_STATE.TypeError("ReadableStream is already closed");readableByteStreamControllerEnqueue(this,a,r,n)}error(e=void 0){if(!isReadableByteStreamController(this))throw new ERR_INVALID_THIS("ReadableByteStreamController");readableByteStreamControllerError(this,e)}[kCancel](e){return readableByteStreamControllerCancelSteps(this,e)}[kPull](e){readableByteStreamControllerPullSteps(this,e)}[kInspect](e,r){return customInspect(e,r,this[kType],{})}}ObjectDefineProperties(ReadableByteStreamController.prototype,{byobRequest:kEnumerableProperty,desiredSize:kEnumerableProperty,close:kEnumerableProperty,enqueue:kEnumerableProperty,error:kEnumerableProperty});function createReadableByteStreamController(){return ReflectConstruct(function(){this[kType]="ReadableByteStreamController",this[kState]={}},[],ReadableByteStreamController)}function createTeeReadableStream(t,e,r){return ReflectConstruct(function(){return this[kType]="ReadableStream",this[kState]={disturbed:!1,state:"readable",storedError:void 0,stream:void 0,transfer:{writable:void 0,port:void 0,promise:void 0}},setupReadableStreamDefaultControllerFromSource(this,ObjectCreate(null,{start:{value:t},pull:{value:e},cancel:{value:r}}),1,()=>1),makeTransferable(this)},[],ReadableStream)}const isReadableStream=isBrandCheck("ReadableStream"),isReadableByteStreamController=isBrandCheck("ReadableByteStreamController"),isReadableStreamBYOBRequest=isBrandCheck("ReadableStreamBYOBRequest"),isReadableStreamDefaultReader=isBrandCheck("ReadableStreamDefaultReader"),isReadableStreamBYOBReader=isBrandCheck("ReadableStreamBYOBReader");function readableStreamPipeTo(t,e,r,n,a,s){let i,o;try{i=new ReadableStreamDefaultReader(t),o=new WritableStreamDefaultWriter(e)}catch(d){return PromiseReject(d)}t[kState].disturbed=!0;let u=!1;if(s!==void 0&&s?.[kAborted]===void 0)return PromiseReject(new ERR_INVALID_ARG_TYPE("options.signal","AbortSignal",s));const l=createDeferredPromise();let f=PromiseResolve();function b(d,w){writableStreamDefaultWriterRelease(o),readableStreamReaderGenericRelease(i),s!==void 0&&s.removeEventListener("abort",h),d?l.reject(w):l.resolve()}async function p(){const d=f;await d,d!==f&&await p()}function m(d,w,R){if(u)return;if(u=!0,e[kState].state==="writable"&&!writableStreamCloseQueuedOrInFlight(e)){PromisePrototypeThen(p(),B,g=>b(!0,g));return}B();function B(){PromisePrototypeThen(d(),()=>b(w,R),g=>b(!0,g))}}function c(d,w){if(!u){if(u=!0,e[kState].state==="writable"&&!writableStreamCloseQueuedOrInFlight(e)){PromisePrototypeThen(p(),()=>b(d,w),R=>b(!0,R));return}b(d,w)}}function h(){const d=new DOMException("The operation was aborted","AbortError"),w=[];n||ArrayPrototypePush(w,()=>e[kState].state==="writable"?writableStreamAbort(e,d):PromiseResolve()),a||ArrayPrototypePush(w,()=>t[kState].state==="readable"?readableStreamCancel(t,d):PromiseResolve()),m(async()=>PromiseAll(w.map(R=>R())),!0,d)}function y(d,w,R){d[kState].state==="errored"?R(d[kState].storedError):PromisePrototypeCatch(w,R)}function S(d,w,R){d[kState].state==="closed"?R(d[kState].storedError):PromisePrototypeThen(w,R,()=>{})}async function q(){return u?!0:(await o[kState].ready.promise,new Promise((d,w)=>{readableStreamDefaultReaderRead(i,{[kChunk](R){f=writableStreamDefaultWriterWrite(o,R),setPromiseHandled(f),d(!1)},[kClose]:()=>d(!0),[kError]:w})}))}async function C(){for(;!await q(););}if(s!==void 0){if(s.aborted)return h(),l.promise;s.addEventListener("abort",h,{once:!0})}if(setPromiseHandled(C()),y(t,i[kState].close.promise,d=>{if(!n)return m(()=>writableStreamAbort(e,d),!0,d);c(!0,d)}),y(e,o[kState].close.promise,d=>{if(!a)return m(()=>readableStreamCancel(t,d),!0,d);c(!0,d)}),S(t,i[kState].close.promise,()=>{if(!r)return m(()=>writableStreamDefaultWriterCloseWithErrorPropagation(o));c()}),writableStreamCloseQueuedOrInFlight(e)||e[kState].state==="closed"){const d=new ERR_INVALID_STATE.TypeError("Destination WritableStream is closed");a?c(!0,d):m(()=>readableStreamCancel(t,d),!0,d)}return l.promise}function readableStreamTee(t,e){const r=new ReadableStreamDefaultReader(t);let n=!1,a=!1,s=!1,i,o,u,l;const f=createDeferredPromise();async function b(){if(n)return;n=!0;const c={[kChunk](h){queueMicrotask(()=>{n=!1;const y=h;let S=h;!s&&e&&(S=deserialize(serialize(S))),a||readableStreamDefaultControllerEnqueue(u[kState].controller,y),s||readableStreamDefaultControllerEnqueue(l[kState].controller,S)})},[kClose](){n=!1,a||readableStreamDefaultControllerClose(u[kState].controller),s||readableStreamDefaultControllerClose(l[kState].controller),(!a||!s)&&f.resolve()},[kError](){n=!1}};readableStreamDefaultReaderRead(r,c)}function p(c){if(a=!0,i=c,s){const h=[i,o];f.resolve(readableStreamCancel(t,h))}return f.promise}function m(c){if(s=!0,o=c,a){const h=[i,o];f.resolve(readableStreamCancel(t,h))}return f.promise}return u=createTeeReadableStream(nonOpStart,b,p),l=createTeeReadableStream(nonOpStart,b,m),PromisePrototypeCatch(r[kState].close.promise,c=>{readableStreamDefaultControllerError(u[kState].controller,c),readableStreamDefaultControllerError(l[kState].controller,c),(!a||!s)&&f.resolve()}),[u,l]}function readableByteStreamControllerConvertPullIntoDescriptor(t){const{buffer:e,bytesFilled:r,byteLength:n,byteOffset:a,ctor:s,elementSize:i}=t;if(r>n)throw new ERR_INVALID_STATE.RangeError("The buffer size is invalid");assert(!(r%i));const o=transferArrayBuffer(e);return new s(o,a,r/i)}function isReadableStreamLocked(t){return t[kState].reader!==void 0}function readableStreamCancel(t,e){switch(t[kState].disturbed=!0,t[kState].state){case"closed":return PromiseResolve();case"errored":return PromiseReject(t[kState].storedError)}readableStreamClose(t);const{reader:r}=t[kState];if(r!==void 0&&readableStreamHasBYOBReader(t)){for(let n=0;n<r[kState].readIntoRequests.length;n++)r[kState].readIntoRequests[n][kClose]();r[kState].readIntoRequests=[]}return PromisePrototypeThen(ensureIsPromise(t[kState].controller[kCancel],t[kState].controller,e),()=>{})}function readableStreamClose(t){assert(t[kState].state==="readable"),t[kState].state="closed";const{reader:e}=t[kState];if(e!==void 0&&(e[kState].close.resolve(),readableStreamHasDefaultReader(t))){for(let r=0;r<e[kState].readRequests.length;r++)e[kState].readRequests[r][kClose]();e[kState].readRequests=[]}}function readableStreamError(t,e){assert(t[kState].state==="readable"),t[kState].state="errored",t[kState].storedError=e;const{reader:r}=t[kState];if(r!==void 0)if(r[kState].close.reject(e),setPromiseHandled(r[kState].close.promise),readableStreamHasDefaultReader(t)){for(let n=0;n<r[kState].readRequests.length;n++)r[kState].readRequests[n][kError](e);r[kState].readRequests=[]}else{assert(readableStreamHasBYOBReader(t));for(let n=0;n<r[kState].readIntoRequests.length;n++)r[kState].readIntoRequests[n][kError](e);r[kState].readIntoRequests=[]}}function readableStreamHasDefaultReader(t){const{reader:e}=t[kState];return e===void 0?!1:e[kState]!==void 0&&e[kType]==="ReadableStreamDefaultReader"}function readableStreamGetNumReadRequests(t){return assert(readableStreamHasDefaultReader(t)),t[kState].reader[kState].readRequests.length}function readableStreamHasBYOBReader(t){const{reader:e}=t[kState];return e===void 0?!1:e[kState]!==void 0&&e[kType]==="ReadableStreamBYOBReader"}function readableStreamGetNumReadIntoRequests(t){return assert(readableStreamHasBYOBReader(t)),t[kState].reader[kState].readIntoRequests.length}function readableStreamFulfillReadRequest(t,e,r){assert(readableStreamHasDefaultReader(t));const{reader:n}=t[kState];assert(n[kState].readRequests.length);const a=ArrayPrototypeShift(n[kState].readRequests);r?a[kClose]():a[kChunk](e)}function readableStreamFulfillReadIntoRequest(t,e,r){assert(readableStreamHasBYOBReader(t));const{reader:n}=t[kState];assert(n[kState].readIntoRequests.length);const a=ArrayPrototypeShift(n[kState].readIntoRequests);r?a[kClose](e):a[kChunk](e)}function readableStreamAddReadRequest(t,e){assert(readableStreamHasDefaultReader(t)),assert(t[kState].state==="readable"),ArrayPrototypePush(t[kState].reader[kState].readRequests,e)}function readableStreamAddReadIntoRequest(t,e){assert(readableStreamHasBYOBReader(t)),assert(t[kState].state!=="errored"),ArrayPrototypePush(t[kState].reader[kState].readIntoRequests,e)}function readableStreamReaderGenericCancel(t,e){const{stream:r}=t[kState];return assert(r!==void 0),readableStreamCancel(r,e)}function readableStreamReaderGenericInitialize(t,e){switch(t[kState].stream=e,e[kState].reader=t,e[kState].state){case"readable":t[kState].close=createDeferredPromise();break;case"closed":t[kState].close={promise:PromiseResolve(),resolve:void 0,reject:void 0};break;case"errored":t[kState].close={promise:PromiseReject(e[kState].storedError),resolve:void 0,reject:void 0},setPromiseHandled(t[kState].close.promise);break}}function readableStreamReaderGenericRelease(t){const{stream:e}=t[kState];assert(e!==void 0),assert(e[kState].reader===t),e[kState].state==="readable"?t[kState].close.reject?.(new ERR_INVALID_STATE.TypeError("Reader released")):t[kState].close={promise:PromiseReject(new ERR_INVALID_STATE.TypeError("Reader released")),resolve:void 0,reject:void 0},setPromiseHandled(t[kState].close.promise),e[kState].reader=void 0,t[kState].stream=void 0}function readableStreamBYOBReaderRead(t,e,r){const{stream:n}=t[kState];if(assert(n!==void 0),n[kState].disturbed=!0,n[kState].state==="errored"){r[kError](n[kState].storedError);return}readableByteStreamControllerPullInto(n[kState].controller,e,r)}function readableStreamDefaultReaderRead(t,e){const{stream:r}=t[kState];switch(assert(r!==void 0),r[kState].disturbed=!0,r[kState].state){case"closed":e[kClose]();break;case"errored":e[kError](r[kState].storedError);break;case"readable":r[kState].controller[kPull](e)}}function setupReadableStreamBYOBReader(t,e){if(isReadableStreamLocked(e))throw new ERR_INVALID_STATE.TypeError("ReadableStream is locked");const{controller:r}=e[kState];if(!isReadableByteStreamController(r))throw new ERR_INVALID_ARG_VALUE("reader",t,"must be a byte stream");readableStreamReaderGenericInitialize(t,e),t[kState].readIntoRequests=[]}function setupReadableStreamDefaultReader(t,e){if(isReadableStreamLocked(e))throw new ERR_INVALID_STATE.TypeError("ReadableStream is locked");readableStreamReaderGenericInitialize(t,e),t[kState].readRequests=[]}function readableStreamDefaultControllerClose(t){!readableStreamDefaultControllerCanCloseOrEnqueue(t)||(t[kState].closeRequested=!0,t[kState].queue.length||(readableStreamDefaultControllerClearAlgorithms(t),readableStreamClose(t[kState].stream)))}function readableStreamDefaultControllerEnqueue(t,e){if(!readableStreamDefaultControllerCanCloseOrEnqueue(t))return;const{stream:r}=t[kState];if(isReadableStreamLocked(r)&&readableStreamGetNumReadRequests(r))readableStreamFulfillReadRequest(r,e,!1);else try{const n=FunctionPrototypeCall(t[kState].sizeAlgorithm,void 0,e);enqueueValueWithSize(t,e,n)}catch(n){throw readableStreamDefaultControllerError(t,n),n}readableStreamDefaultControllerCallPullIfNeeded(t)}function readableStreamDefaultControllerHasBackpressure(t){return!readableStreamDefaultControllerShouldCallPull(t)}function readableStreamDefaultControllerCanCloseOrEnqueue(t){const{stream:e}=t[kState];return!t[kState].closeRequested&&e[kState].state==="readable"}function readableStreamDefaultControllerGetDesiredSize(t){const{stream:e,highWaterMark:r,queueTotalSize:n}=t[kState];switch(e[kState].state){case"errored":return null;case"closed":return 0;default:return r-n}}function readableStreamDefaultControllerShouldCallPull(t){const{stream:e}=t[kState];if(!readableStreamDefaultControllerCanCloseOrEnqueue(t)||!t[kState].started)return!1;if(isReadableStreamLocked(e)&&readableStreamGetNumReadRequests(e))return!0;const r=readableStreamDefaultControllerGetDesiredSize(t);return assert(r!==null),r>0}function readableStreamDefaultControllerCallPullIfNeeded(t){if(!!readableStreamDefaultControllerShouldCallPull(t)){if(t[kState].pulling){t[kState].pullAgain=!0;return}assert(!t[kState].pullAgain),t[kState].pulling=!0,PromisePrototypeThen(ensureIsPromise(t[kState].pullAlgorithm,t),()=>{t[kState].pulling=!1,t[kState].pullAgain&&(t[kState].pullAgain=!1,readableStreamDefaultControllerCallPullIfNeeded(t))},e=>readableStreamDefaultControllerError(t,e))}}function readableStreamDefaultControllerClearAlgorithms(t){t[kState].pullAlgorithm=void 0,t[kState].cancelAlgorithm=void 0,t[kState].sizeAlgorithm=void 0}function readableStreamDefaultControllerError(t,e){const{stream:r}=t[kState];r[kState].state==="readable"&&(resetQueue(t),readableStreamDefaultControllerClearAlgorithms(t),readableStreamError(r,e))}function readableStreamDefaultControllerCancelSteps(t,e){resetQueue(t);const r=t[kState].cancelAlgorithm(e);return readableStreamDefaultControllerClearAlgorithms(t),r}function readableStreamDefaultControllerPullSteps(t,e){const{stream:r,queue:n}=t[kState];if(n.length){const a=dequeueValue(t);t[kState].closeRequested&&!n.length?(readableStreamDefaultControllerClearAlgorithms(t),readableStreamClose(r)):readableStreamDefaultControllerCallPullIfNeeded(t),e[kChunk](a);return}readableStreamAddReadRequest(r,e),readableStreamDefaultControllerCallPullIfNeeded(t)}function setupReadableStreamDefaultController(t,e,r,n,a,s,i){assert(t[kState].controller===void 0),e[kState]={cancelAlgorithm:a,closeRequested:!1,highWaterMark:s,pullAgain:!1,pullAlgorithm:n,pulling:!1,queue:[],queueTotalSize:0,started:!1,sizeAlgorithm:i,stream:t},t[kState].controller=e;const o=r();PromisePrototypeThen(PromiseResolve(o),()=>{e[kState].started=!0,assert(!e[kState].pulling),assert(!e[kState].pullAgain),readableStreamDefaultControllerCallPullIfNeeded(e)},u=>readableStreamDefaultControllerError(e,u))}function setupReadableStreamDefaultControllerFromSource(t,e,r,n){const a=createReadableStreamDefaultController(),s=e?.start,i=e?.pull,o=e?.cancel,u=s?FunctionPrototypeBind(s,e,a):nonOpStart,l=i?FunctionPrototypeBind(i,e,a):nonOpPull,f=o?FunctionPrototypeBind(o,e):nonOpCancel;setupReadableStreamDefaultController(t,a,u,l,f,r,n)}function readableByteStreamControllerClose(t){const{closeRequested:e,pendingPullIntos:r,queueTotalSize:n,stream:a}=t[kState];if(!(e||a[kState].state!=="readable")){if(n){t[kState].closeRequested=!0;return}if(r.length&&r[0].bytesFilled>0){const i=new ERR_INVALID_STATE.TypeError("Partial read");throw readableByteStreamControllerError(t,i),i}readableByteStreamControllerClearAlgorithms(t),readableStreamClose(a)}}function readableByteStreamControllerCommitPullIntoDescriptor(t,e){assert(t[kState].state!=="errored");let r=!1;t[kState].state==="closed"&&(e.bytesFilled=0,r=!0);const n=readableByteStreamControllerConvertPullIntoDescriptor(e);e.type==="default"?readableStreamFulfillReadRequest(t,n,r):(assert(e.type==="byob"),readableStreamFulfillReadIntoRequest(t,n,r))}function readableByteStreamControllerInvalidateBYOBRequest(t){t[kState].byobRequest!==null&&(t[kState].byobRequest[kState].controller=void 0,t[kState].byobRequest[kState].view=null,t[kState].byobRequest=null)}function readableByteStreamControllerClearAlgorithms(t){t[kState].pullAlgorithm=void 0,t[kState].cancelAlgorithm=void 0}function readableByteStreamControllerClearPendingPullIntos(t){readableByteStreamControllerInvalidateBYOBRequest(t),t[kState].pendingPullIntos=[]}function readableByteStreamControllerGetDesiredSize(t){const{stream:e,highWaterMark:r,queueTotalSize:n}=t[kState];switch(e[kState].state){case"errored":return null;case"closed":return 0;default:return r-n}}function readableByteStreamControllerShouldCallPull(t){const{stream:e}=t[kState];if(e[kState].state!=="readable"||t[kState].closeRequested||!t[kState].started)return!1;if(readableStreamHasDefaultReader(e)&&readableStreamGetNumReadRequests(e)>0||readableStreamHasBYOBReader(e)&&readableStreamGetNumReadIntoRequests(e)>0)return!0;const r=readableByteStreamControllerGetDesiredSize(t);return assert(r!==null),r>0}function readableByteStreamControllerHandleQueueDrain(t){const{closeRequested:e,queueTotalSize:r,stream:n}=t[kState];if(assert(n[kState].state==="readable"),!r&&e){readableByteStreamControllerClearAlgorithms(t),readableStreamClose(n);return}readableByteStreamControllerCallPullIfNeeded(t)}function readableByteStreamControllerPullInto(t,e,r){const{closeRequested:n,stream:a,pendingPullIntos:s}=t[kState];let i=1,o=DataViewCtor;isArrayBufferView(e)&&!isDataView(e)&&(i=e.constructor.BYTES_PER_ELEMENT,o=e.constructor);const u=ArrayBufferViewGetBuffer(e),l=ArrayBufferViewGetByteOffset(e),f=ArrayBufferViewGetByteLength(e),b=ArrayBufferGetByteLength(u);let p;try{p=transferArrayBuffer(u)}catch(c){r[kError](c);return}const m={buffer:p,bufferByteLength:b,byteOffset:l,byteLength:f,bytesFilled:0,elementSize:i,ctor:o,type:"byob"};if(s.length){ArrayPrototypePush(s,m),readableStreamAddReadIntoRequest(a,r);return}if(a[kState].state==="closed"){const c=new o(m.buffer,l,0);r[kClose](c);return}if(t[kState].queueTotalSize){if(readableByteStreamControllerFillPullIntoDescriptorFromQueue(t,m)){const c=readableByteStreamControllerConvertPullIntoDescriptor(m);readableByteStreamControllerHandleQueueDrain(t),r[kChunk](c);return}if(n){const c=new ERR_INVALID_STATE.TypeError("ReadableStream closed");readableByteStreamControllerError(t,c),r[kError](c);return}}ArrayPrototypePush(s,m),readableStreamAddReadIntoRequest(a,r),readableByteStreamControllerCallPullIfNeeded(t)}function readableByteStreamControllerRespondInternal(t,e){const{stream:r,pendingPullIntos:n}=t[kState],a=n[0];if(readableByteStreamControllerInvalidateBYOBRequest(t),r[kState].state==="closed"){if(e)throw new ERR_INVALID_STATE.TypeError("Controller is closed but view is not zero-length");readableByteStreamControllerRespondInClosedState(t,a)}else{if(assert(r[kState].state==="readable"),!e)throw new ERR_INVALID_STATE.TypeError("View cannot be zero-length");readableByteStreamControllerRespondInReadableState(t,e,a)}readableByteStreamControllerCallPullIfNeeded(t)}function readableByteStreamControllerRespond(t,e){const{pendingPullIntos:r,stream:n}=t[kState];assert(r.length);const a=r[0];if(n[kState].state==="closed"){if(e!==0)throw new ERR_INVALID_ARG_VALUE("bytesWritten",e)}else{if(assert(n[kState].state==="readable"),!e)throw new ERR_INVALID_ARG_VALUE("bytesWritten",e);if(a.bytesFilled+e>a.byteLength)throw new ERR_INVALID_ARG_VALUE.RangeError("bytesWritten",e)}a.buffer=transferArrayBuffer(a.buffer),readableByteStreamControllerRespondInternal(t,e)}function readableByteStreamControllerRespondInClosedState(t,e){assert(!e.bytesFilled);const{stream:r}=t[kState];if(readableStreamHasBYOBReader(r))for(;readableStreamGetNumReadIntoRequests(r)>0;)readableByteStreamControllerCommitPullIntoDescriptor(r,readableByteStreamControllerShiftPendingPullInto(t))}function readableByteStreamControllerFillHeadPullIntoDescriptor(t,e,r){const{pendingPullIntos:n,byobRequest:a}=t[kState];assert(!n.length||n[0]===r),assert(a===null),r.bytesFilled+=e}function readableByteStreamControllerEnqueue(t,e,r,n){const{closeRequested:a,pendingPullIntos:s,queue:i,stream:o}=t[kState];if(a||o[kState].state!=="readable")return;const u=transferArrayBuffer(e);if(s.length){const l=s[0];if(ArrayBufferGetByteLength(l.buffer)===0)throw new ERR_INVALID_STATE.TypeError("Destination ArrayBuffer is zero-length or detached");l.buffer=transferArrayBuffer(l.buffer)}if(readableByteStreamControllerInvalidateBYOBRequest(t),readableStreamHasDefaultReader(o))if(!readableStreamGetNumReadRequests(o))readableByteStreamControllerEnqueueChunkToQueue(t,u,n,r);else{assert(!i.length);const l=new Uint8Array(u,n,r);readableStreamFulfillReadRequest(o,l,!1)}else readableStreamHasBYOBReader(o)?(readableByteStreamControllerEnqueueChunkToQueue(t,u,n,r),readableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(t)):(assert(!isReadableStreamLocked(o)),readableByteStreamControllerEnqueueChunkToQueue(t,u,n,r));readableByteStreamControllerCallPullIfNeeded(t)}function readableByteStreamControllerEnqueueChunkToQueue(t,e,r,n){ArrayPrototypePush(t[kState].queue,{buffer:e,byteOffset:r,byteLength:n}),t[kState].queueTotalSize+=n}function readableByteStreamControllerFillPullIntoDescriptorFromQueue(t,e){const{buffer:r,byteLength:n,byteOffset:a,bytesFilled:s,elementSize:i}=e,o=s-s%i,u=MathMin(t[kState].queueTotalSize,n-s),l=s+u,f=l-l%i;let b=u,p=!1;f>o&&(b=f-s,p=!0);const{queue:m}=t[kState];for(;b;){const c=m[0],h=MathMin(b,c.byteLength),y=a+e.bytesFilled,S=ArrayBufferGetByteLength(r);if(S-y<h)throw new ERR_INVALID_STATE.RangeError("view ArrayBuffer size is invalid");assert(S-y>=h),copyArrayBuffer(r,y,c.buffer,c.byteOffset,h),c.byteLength===h?ArrayPrototypeShift(m):(c.byteOffset+=h,c.byteLength-=h),t[kState].queueTotalSize-=h,readableByteStreamControllerFillHeadPullIntoDescriptor(t,h,e),b-=h}return p||(assert(!t[kState].queueTotalSize),assert(e.bytesFilled>0),assert(e.bytesFilled<i)),p}function readableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(t){const{closeRequested:e,pendingPullIntos:r,stream:n}=t[kState];for(assert(!e);r.length;){if(!t[kState].queueTotalSize)return;const a=r[0];readableByteStreamControllerFillPullIntoDescriptorFromQueue(t,a)&&(readableByteStreamControllerShiftPendingPullInto(t),readableByteStreamControllerCommitPullIntoDescriptor(n,a))}}function readableByteStreamControllerRespondInReadableState(t,e,r){const{buffer:n,bytesFilled:a,byteLength:s}=r;if(a+e>s)throw new ERR_INVALID_STATE.RangeError("The buffer size is invalid");if(readableByteStreamControllerFillHeadPullIntoDescriptor(t,e,r),r.bytesFilled<r.elementSize)return;readableByteStreamControllerShiftPendingPullInto(t);const i=r.bytesFilled%r.elementSize;if(i){const o=r.byteOffset+r.bytesFilled,u=o-i,l=ArrayBufferPrototypeSlice(n,u,o);readableByteStreamControllerEnqueueChunkToQueue(t,l,0,ArrayBufferGetByteLength(l))}r.bytesFilled-=i,readableByteStreamControllerCommitPullIntoDescriptor(t[kState].stream,r),readableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(t)}function readableByteStreamControllerRespondWithNewView(t,e){const{stream:r,pendingPullIntos:n}=t[kState];assert(n.length);const a=n[0];if(assert(r[kState].state!=="errored"),!isArrayBufferView(e))throw new ERR_INVALID_ARG_TYPE("view",["Buffer","TypedArray","DataView"],e);const s=ArrayBufferViewGetByteLength(e),i=ArrayBufferViewGetByteOffset(e),o=ArrayBufferViewGetBuffer(e),u=ArrayBufferGetByteLength(o),{byteOffset:l,byteLength:f,bytesFilled:b,bufferByteLength:p}=a;if(l+b!==i)throw new ERR_INVALID_ARG_VALUE.RangeError("view",e);if(b+i>f)throw new ERR_INVALID_ARG_VALUE.RangeError("view",e);if(p!==u)throw new ERR_INVALID_ARG_VALUE.RangeError("view",e);a.buffer=transferArrayBuffer(o),readableByteStreamControllerRespondInternal(t,s)}function readableByteStreamControllerShiftPendingPullInto(t){return assert(t[kState].byobRequest===null),ArrayPrototypeShift(t[kState].pendingPullIntos)}function readableByteStreamControllerCallPullIfNeeded(t){if(!!readableByteStreamControllerShouldCallPull(t)){if(t[kState].pulling){t[kState].pullAgain=!0;return}assert(!t[kState].pullAgain),t[kState].pulling=!0,PromisePrototypeThen(ensureIsPromise(t[kState].pullAlgorithm,t),()=>{t[kState].pulling=!1,t[kState].pullAgain&&(t[kState].pullAgain=!1,readableByteStreamControllerCallPullIfNeeded(t))},e=>readableByteStreamControllerError(t,e))}}function readableByteStreamControllerError(t,e){const{stream:r}=t[kState];r[kState].state==="readable"&&(readableByteStreamControllerClearPendingPullIntos(t),resetQueue(t),readableByteStreamControllerClearAlgorithms(t),readableStreamError(r,e))}function readableByteStreamControllerCancelSteps(t,e){readableByteStreamControllerClearPendingPullIntos(t),resetQueue(t);const r=t[kState].cancelAlgorithm(e);return readableByteStreamControllerClearAlgorithms(t),r}function readableByteStreamControllerPullSteps(t,e){const{pendingPullIntos:r,queue:n,queueTotalSize:a,stream:s}=t[kState];if(assert(readableStreamHasDefaultReader(s)),a){assert(!readableStreamGetNumReadRequests(s));const{buffer:o,byteOffset:u,byteLength:l}=ArrayPrototypeShift(n);t[kState].queueTotalSize-=l,readableByteStreamControllerHandleQueueDrain(t);const f=new Uint8Array(o,u,l);e[kChunk](f);return}const{autoAllocateChunkSize:i}=t[kState];if(i!==void 0)try{const o=new ArrayBuffer(i);ArrayPrototypePush(r,{buffer:o,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,ctor:Uint8Array,type:"default"})}catch(o){e[kError](o);return}readableStreamAddReadRequest(s,e),readableByteStreamControllerCallPullIfNeeded(t)}function setupReadableByteStreamController(t,e,r,n,a,s,i){assert(t[kState].controller===void 0),i!==void 0&&(assert(NumberIsInteger(i)),assert(i>0)),e[kState]={byobRequest:null,closeRequested:!1,pullAgain:!1,pulling:!1,started:!1,stream:t,queue:[],queueTotalSize:0,highWaterMark:s,pullAlgorithm:n,cancelAlgorithm:a,autoAllocateChunkSize:i,pendingPullIntos:[]},t[kState].controller=e;const o=r();PromisePrototypeThen(PromiseResolve(o),()=>{e[kState].started=!0,assert(!e[kState].pulling),assert(!e[kState].pullAgain),readableByteStreamControllerCallPullIfNeeded(e)},u=>readableByteStreamControllerError(e,u))}function setupReadableByteStreamControllerFromSource(t,e,r){const n=createReadableByteStreamController(),a=e?.start,s=e?.pull,i=e?.cancel,o=e?.autoAllocateChunkSize,u=a?FunctionPrototypeBind(a,e,n):nonOpStart,l=s?FunctionPrototypeBind(s,e,n):nonOpPull,f=i?FunctionPrototypeBind(i,e):nonOpCancel;if(o===0)throw new ERR_INVALID_ARG_VALUE("source.autoAllocateChunkSize",o);setupReadableByteStreamController(t,n,u,l,f,r,o)}module.exports={ReadableStream,ReadableStreamDefaultReader,ReadableStreamBYOBReader,ReadableStreamBYOBRequest,ReadableByteStreamController,ReadableStreamDefaultController,TransferredReadableStream,isReadableStream,isReadableByteStreamController,isReadableStreamBYOBRequest,isReadableStreamDefaultReader,isReadableStreamBYOBReader,isWritableStreamDefaultWriter,isWritableStreamDefaultController,readableStreamPipeTo,readableStreamTee,readableByteStreamControllerConvertPullIntoDescriptor,isReadableStreamLocked,readableStreamCancel,readableStreamClose,readableStreamError,readableStreamHasDefaultReader,readableStreamGetNumReadRequests,readableStreamHasBYOBReader,readableStreamGetNumReadIntoRequests,readableStreamFulfillReadRequest,readableStreamFulfillReadIntoRequest,readableStreamAddReadRequest,readableStreamAddReadIntoRequest,readableStreamReaderGenericCancel,readableStreamReaderGenericInitialize,readableStreamReaderGenericRelease,readableStreamBYOBReaderRead,readableStreamDefaultReaderRead,setupReadableStreamBYOBReader,setupReadableStreamDefaultReader,readableStreamDefaultControllerClose,readableStreamDefaultControllerEnqueue,readableStreamDefaultControllerHasBackpressure,readableStreamDefaultControllerCanCloseOrEnqueue,readableStreamDefaultControllerGetDesiredSize,readableStreamDefaultControllerShouldCallPull,readableStreamDefaultControllerCallPullIfNeeded,readableStreamDefaultControllerClearAlgorithms,readableStreamDefaultControllerError,readableStreamDefaultControllerCancelSteps,readableStreamDefaultControllerPullSteps,setupReadableStreamDefaultController,setupReadableStreamDefaultControllerFromSource,readableByteStreamControllerClose,readableByteStreamControllerCommitPullIntoDescriptor,readableByteStreamControllerInvalidateBYOBRequest,readableByteStreamControllerClearAlgorithms,readableByteStreamControllerClearPendingPullIntos,readableByteStreamControllerGetDesiredSize,readableByteStreamControllerShouldCallPull,readableByteStreamControllerHandleQueueDrain,readableByteStreamControllerPullInto,readableByteStreamControllerRespondInternal,readableByteStreamControllerRespond,readableByteStreamControllerRespondInClosedState,readableByteStreamControllerFillHeadPullIntoDescriptor,readableByteStreamControllerEnqueue,readableByteStreamControllerEnqueueChunkToQueue,readableByteStreamControllerFillPullIntoDescriptorFromQueue,readableByteStreamControllerProcessPullIntoDescriptorsUsingQueue,readableByteStreamControllerRespondInReadableState,readableByteStreamControllerRespondWithNewView,readableByteStreamControllerShiftPendingPullInto,readableByteStreamControllerCallPullIfNeeded,readableByteStreamControllerError,readableByteStreamControllerCancelSteps,readableByteStreamControllerPullSteps,setupReadableByteStreamController,setupReadableByteStreamControllerFromSource};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectDefineProperties,PromiseResolve,ReflectConstruct}=primordials,{kState,setPromiseHandled}=require("internal/webstreams/util"),{DOMException}=internalBinding("messaging"),{ReadableStream,readableStreamDefaultControllerEnqueue,readableStreamDefaultControllerClose,readableStreamDefaultControllerError,readableStreamPipeTo}=require("internal/webstreams/readablestream"),{WritableStream,writableStreamDefaultControllerErrorIfNeeded}=require("internal/webstreams/writablestream"),{createDeferredPromise}=require("internal/util"),assert=require("internal/assert"),{makeTransferable,kClone,kDeserialize}=require("internal/worker/js_transferable");class CloneableDOMException extends DOMException{constructor(r,e){super(r,e);return this[kDeserialize]({message:this.message,name:this.name,code:this.code}),makeTransferable(this)}[kClone](){return{data:{message:this.message,name:this.name,code:this.code},deserializeInfo:"internal/webstreams/transfer:InternalCloneableDOMException"}}[kDeserialize]({message:r,name:e,code:s}){ObjectDefineProperties(this,{message:{configurable:!0,enumerable:!0,get(){return r}},name:{configurable:!0,enumerable:!0,get(){return e}},code:{configurable:!0,enumerable:!0,get(){return s}}})}}function InternalCloneableDOMException(){return makeTransferable(ReflectConstruct(CloneableDOMException,[],DOMException))}InternalCloneableDOMException[kDeserialize]=()=>{};class CrossRealmTransformReadableSource{constructor(r){this[kState]={port:r,controller:void 0},r.onmessage=({data:e})=>{const{controller:s}=this[kState],{type:a,value:o}=e;switch(a){case"chunk":readableStreamDefaultControllerEnqueue(s,o);break;case"close":readableStreamDefaultControllerClose(s),r.close();break;case"error":readableStreamDefaultControllerError(s,o),r.close();break}},r.onmessageerror=()=>{const e=new CloneableDOMException("Internal transferred ReadableStream error","DataCloneError");r.postMessage({type:"error",value:e}),readableStreamDefaultControllerError(this[kState].controller,e),r.close()}}start(r){this[kState].controller=r}async pull(){this[kState].port.postMessage({type:"pull"})}async cancel(r){try{this[kState].port.postMessage({type:"error",value:r})}catch(e){throw e instanceof DOMException&&(e=new CloneableDOMException(e.message,e.name)),this[kState].port.postMessage({type:"error",value:e}),e}finally{this[kState].port.close()}}}class CrossRealmTransformWritableSink{constructor(r){this[kState]={port:r,controller:void 0,backpressurePromise:createDeferredPromise()},r.onmessage=({data:e})=>{assert(typeof e=="object");const{type:s,value:a}={...e};switch(assert(typeof s=="string"),s){case"pull":this[kState].backpressurePromise!==void 0&&this[kState].backpressurePromise.resolve?.(),this[kState].backpressurePromise=void 0;break;case"error":writableStreamDefaultControllerErrorIfNeeded(this[kState].controller,a),this[kState].backpressurePromise!==void 0&&this[kState].backpressurePromise.resolve?.(),this[kState].backpressurePromise=void 0;break}},r.onmessageerror=()=>{const e=new CloneableDOMException("Internal transferred ReadableStream error","DataCloneError");r.postMessage({type:"error",value:e}),writableStreamDefaultControllerErrorIfNeeded(this[kState].controller,e),r.close()}}start(r){this[kState].controller=r}async write(r){this[kState].backpressurePromise===void 0&&(this[kState].backpressurePromise={promise:PromiseResolve(),resolve:void 0,reject:void 0}),await this[kState].backpressurePromise.promise,this[kState].backpressurePromise=createDeferredPromise();try{this[kState].port.postMessage({type:"chunk",value:r})}catch(e){throw e instanceof DOMException&&(e=new CloneableDOMException(e.message,e.name)),this[kState].port.postMessage({type:"error",value:e}),this[kState].port.close(),e}}close(){this[kState].port.postMessage({type:"close"}),this[kState].port.close()}abort(r){try{this[kState].port.postMessage({type:"error",value:r})}catch(e){throw e instanceof DOMException&&(e=new CloneableDOMException(e.message,e.name)),this[kState].port.postMessage({type:"error",value:e}),e}finally{this[kState].port.close()}}}function newCrossRealmReadableStream(t,r){const e=new ReadableStream(new CrossRealmTransformReadableSource(r)),s=readableStreamPipeTo(e,t,!1,!1,!1);return setPromiseHandled(s),{readable:e,promise:s}}function newCrossRealmWritableSink(t,r){const e=new WritableStream(new CrossRealmTransformWritableSink(r)),s=readableStreamPipeTo(t,e,!1,!1,!1);return setPromiseHandled(s),{writable:e,promise:s}}module.exports={newCrossRealmReadableStream,newCrossRealmWritableSink,CrossRealmTransformWritableSink,CrossRealmTransformReadableSource,CloneableDOMException,InternalCloneableDOMException};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{FunctionPrototypeBind,FunctionPrototypeCall,ObjectDefineProperties,PromisePrototypeCatch,PromisePrototypeThen,PromiseResolve,ReflectConstruct,SymbolToStringTag}=primordials,{codes:{ERR_ILLEGAL_CONSTRUCTOR,ERR_INVALID_ARG_VALUE,ERR_INVALID_STATE,ERR_INVALID_THIS}}=require("internal/errors"),{DOMException}=internalBinding("messaging"),{createDeferredPromise,customInspectSymbol:kInspect}=require("internal/util"),{kDeserialize,kTransfer,kTransferList,makeTransferable}=require("internal/worker/js_transferable"),{customInspect,ensureIsPromise,extractHighWaterMark,extractSizeAlgorithm,isBrandCheck,nonOpFlush,kType,kState,kEnumerableProperty}=require("internal/webstreams/util"),{ReadableStream,readableStreamDefaultControllerCanCloseOrEnqueue,readableStreamDefaultControllerClose,readableStreamDefaultControllerEnqueue,readableStreamDefaultControllerError,readableStreamDefaultControllerGetDesiredSize,readableStreamDefaultControllerHasBackpressure}=require("internal/webstreams/readablestream"),{WritableStream,writableStreamDefaultControllerErrorIfNeeded}=require("internal/webstreams/writablestream"),assert=require("internal/assert");class TransformStream{[kType]="TransformStream";get[SymbolToStringTag](){return this[kType]}constructor(e=null,t={},n={}){const a=e?.readableType,o=e?.writableType,s=e?.start;if(a!==void 0)throw new ERR_INVALID_ARG_VALUE.RangeError("transformer.readableType",a);if(o!==void 0)throw new ERR_INVALID_ARG_VALUE.RangeError("transformer.writableType",o);const i=n?.highWaterMark,l=n?.size,f=t?.highWaterMark,c=t?.size,m=extractHighWaterMark(i,0),d=extractSizeAlgorithm(l),h=extractHighWaterMark(f,1),b=extractSizeAlgorithm(c),u=createDeferredPromise();return initializeTransformStream(this,u,h,b,m,d),setupTransformStreamDefaultControllerFromTransformer(this,e),s!==void 0?u.resolve(FunctionPrototypeCall(s,e,this[kState].controller)):u.resolve(),makeTransferable(this)}get readable(){if(!isTransformStream(this))throw new ERR_INVALID_THIS("TransformStream");return this[kState].readable}get writable(){if(!isTransformStream(this))throw new ERR_INVALID_THIS("TransformStream");return this[kState].writable}[kInspect](e,t){return customInspect(e,t,this[kType],{readable:this.readable,writable:this.writable,backpressure:this[kState].backpressure})}[kTransfer](){if(!isTransformStream(this))throw new ERR_INVALID_THIS("TransformStream");const{readable:e,writable:t}=this[kState];if(e.locked)throw new DOMException("Cannot transfer a locked ReadableStream","DataCloneError");if(t.locked)throw new DOMException("Cannot transfer a locked WritableStream","DataCloneError");return{data:{readable:e,writable:t},deserializeInfo:"internal/webstreams/transformstream:TransferredTransformStream"}}[kTransferList](){return[this[kState].readable,this[kState].writable]}[kDeserialize]({readable:e,writable:t}){this[kState].readable=e,this[kState].writable=t}}ObjectDefineProperties(TransformStream.prototype,{readable:kEnumerableProperty,writable:kEnumerableProperty});function TransferredTransformStream(){return makeTransferable(ReflectConstruct(function(){this[kType]="TransformStream",this[kState]={readable:void 0,writable:void 0,backpressure:void 0,backpressureChange:{promise:void 0,resolve:void 0,reject:void 0},controller:void 0}},[],TransformStream))}TransferredTransformStream.prototype[kDeserialize]=()=>{};class TransformStreamDefaultController{[kType]="TransformStreamDefaultController";get[SymbolToStringTag](){return this[kType]}constructor(){throw new ERR_ILLEGAL_CONSTRUCTOR}get desiredSize(){if(!isTransformStreamDefaultController(this))throw new ERR_INVALID_THIS("TransformStreamDefaultController");const{stream:e}=this[kState],{readable:t}=e[kState],{controller:n}=t[kState];return readableStreamDefaultControllerGetDesiredSize(n)}enqueue(e=void 0){if(!isTransformStreamDefaultController(this))throw new ERR_INVALID_THIS("TransformStreamDefaultController");transformStreamDefaultControllerEnqueue(this,e)}error(e=void 0){if(!isTransformStreamDefaultController(this))throw new ERR_INVALID_THIS("TransformStreamDefaultController");transformStreamDefaultControllerError(this,e)}terminate(){if(!isTransformStreamDefaultController(this))throw new ERR_INVALID_THIS("TransformStreamDefaultController");transformStreamDefaultControllerTerminate(this)}[kInspect](e,t){return customInspect(e,t,this[kType],{stream:this[kState].stream})}}ObjectDefineProperties(TransformStreamDefaultController.prototype,{desiredSize:kEnumerableProperty,enqueue:kEnumerableProperty,error:kEnumerableProperty,terminate:kEnumerableProperty});function createTransformStreamDefaultController(){return ReflectConstruct(function(){this[kType]="TransformStreamDefaultController"},[],TransformStreamDefaultController)}const isTransformStream=isBrandCheck("TransformStream"),isTransformStreamDefaultController=isBrandCheck("TransformStreamDefaultController");async function defaultTransformAlgorithm(r,e){transformStreamDefaultControllerEnqueue(e,r)}function initializeTransformStream(r,e,t,n,a,o){const s=new WritableStream({start(){return e.promise},write(l){return transformStreamDefaultSinkWriteAlgorithm(r,l)},abort(l){return transformStreamDefaultSinkAbortAlgorithm(r,l)},close(){return transformStreamDefaultSinkCloseAlgorithm(r)}},{highWaterMark:t,size:n}),i=new ReadableStream({start(){return e.promise},pull(){return transformStreamDefaultSourcePullAlgorithm(r)},cancel(l){return transformStreamErrorWritableAndUnblockWrite(r,l),PromiseResolve()}},{highWaterMark:a,size:o});r[kState]={readable:i,writable:s,controller:void 0,backpressure:void 0,backpressureChange:{promise:void 0,resolve:void 0,reject:void 0}},transformStreamSetBackpressure(r,!0)}function transformStreamError(r,e){const{readable:t}=r[kState],{controller:n}=t[kState];readableStreamDefaultControllerError(n,e),transformStreamErrorWritableAndUnblockWrite(r,e)}function transformStreamErrorWritableAndUnblockWrite(r,e){const{controller:t,writable:n}=r[kState];transformStreamDefaultControllerClearAlgorithms(t),writableStreamDefaultControllerErrorIfNeeded(n[kState].controller,e),r[kState].backpressure&&transformStreamSetBackpressure(r,!1)}function transformStreamSetBackpressure(r,e){assert(r[kState].backpressure!==e),r[kState].backpressureChange.promise!==void 0&&r[kState].backpressureChange.resolve?.(),r[kState].backpressureChange=createDeferredPromise(),r[kState].backpressure=e}function setupTransformStreamDefaultController(r,e,t,n){assert(isTransformStream(r)),assert(r[kState].controller===void 0),e[kState]={stream:r,transformAlgorithm:t,flushAlgorithm:n},r[kState].controller=e}function setupTransformStreamDefaultControllerFromTransformer(r,e){const t=createTransformStreamDefaultController(),n=e?.transform||defaultTransformAlgorithm,a=e?.flush||nonOpFlush,o=FunctionPrototypeBind(n,e),s=FunctionPrototypeBind(a,e);setupTransformStreamDefaultController(r,t,o,s)}function transformStreamDefaultControllerClearAlgorithms(r){r[kState].transformAlgorithm=void 0,r[kState].flushAlgorithm=void 0}function transformStreamDefaultControllerEnqueue(r,e){const{stream:t}=r[kState],{readable:n}=t[kState],{controller:a}=n[kState];if(!readableStreamDefaultControllerCanCloseOrEnqueue(a))throw new ERR_INVALID_STATE.TypeError("Unable to enqueue");try{readableStreamDefaultControllerEnqueue(a,e)}catch(s){throw transformStreamErrorWritableAndUnblockWrite(t,s),n[kState].storedError}const o=readableStreamDefaultControllerHasBackpressure(a);o!==t[kState].backpressure&&(assert(o),transformStreamSetBackpressure(t,!0))}function transformStreamDefaultControllerError(r,e){transformStreamError(r[kState].stream,e)}function transformStreamDefaultControllerPerformTransform(r,e){const t=ensureIsPromise(r[kState].transformAlgorithm,r,e,r);return PromisePrototypeCatch(t,n=>{throw transformStreamError(r[kState].stream,n),n})}function transformStreamDefaultControllerTerminate(r){const{stream:e}=r[kState],{readable:t}=e[kState];assert(t!==void 0);const{controller:n}=t[kState];readableStreamDefaultControllerClose(n),transformStreamErrorWritableAndUnblockWrite(e,new ERR_INVALID_STATE.TypeError("TransformStream has been terminated"))}function transformStreamDefaultSinkWriteAlgorithm(r,e){const{writable:t,controller:n}=r[kState];if(assert(t[kState].state==="writable"),r[kState].backpressure){const a=r[kState].backpressureChange.promise;return PromisePrototypeThen(a,()=>{const{writable:o}=r[kState];if(o[kState].state==="erroring")throw o[kState].storedError;return assert(o[kState].state==="writable"),transformStreamDefaultControllerPerformTransform(n,e)})}return transformStreamDefaultControllerPerformTransform(n,e)}async function transformStreamDefaultSinkAbortAlgorithm(r,e){transformStreamError(r,e)}function transformStreamDefaultSinkCloseAlgorithm(r){const{readable:e,controller:t}=r[kState],n=ensureIsPromise(t[kState].flushAlgorithm,t,t);return transformStreamDefaultControllerClearAlgorithms(t),PromisePrototypeThen(n,()=>{if(e[kState].state==="errored")throw e[kState].storedError;readableStreamDefaultControllerClose(e[kState].controller)},a=>{throw transformStreamError(r,a),e[kState].storedError})}function transformStreamDefaultSourcePullAlgorithm(r){return assert(r[kState].backpressure),assert(r[kState].backpressureChange.promise!==void 0),transformStreamSetBackpressure(r,!1),r[kState].backpressureChange.promise}module.exports={TransformStream,TransformStreamDefaultController,TransferredTransformStream,isTransformStream,isTransformStreamDefaultController};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayBufferPrototype,ArrayPrototypePush,ArrayPrototypeShift,AsyncIteratorPrototype,FunctionPrototypeCall,MathMax,NumberIsNaN,ObjectCreate,PromisePrototypeThen,PromiseResolve,PromiseReject,ReflectGet,Symbol}=primordials,{codes:{ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_OPERATION_FAILED}}=require("internal/errors"),{copyArrayBuffer,detachArrayBuffer}=internalBinding("buffer"),{isPromise}=require("internal/util/types"),{inspect}=require("util"),{getPromiseDetails,kPending}=internalBinding("util"),assert=require("internal/assert"),kState=Symbol("kState"),kType=Symbol("kType"),AsyncIterator=ObjectCreate(AsyncIteratorPrototype,{next:{configurable:!0,enumerable:!0,writable:!0},return:{configurable:!0,enumerable:!0,writable:!0}});function extractHighWaterMark(e,t){if(e===void 0)return t;if(e=+e,typeof e!="number"||NumberIsNaN(e)||e<0)throw new ERR_INVALID_ARG_VALUE.RangeError("strategy.highWaterMark",e);return e}function extractSizeAlgorithm(e){if(e===void 0)return()=>1;if(typeof e!="function")throw new ERR_INVALID_ARG_TYPE("strategy.size","Function",e);return e}function customInspect(e,t,n,r){if(e<0)return this;const u={...t,depth:t.depth==null?null:t.depth-1};return`${n} ${inspect(r,u)}`}function ArrayBufferViewGetBuffer(e){return ReflectGet(e.constructor.prototype,"buffer",e)}function ArrayBufferViewGetByteLength(e){return ReflectGet(e.constructor.prototype,"byteLength",e)}function ArrayBufferViewGetByteOffset(e){return ReflectGet(e.constructor.prototype,"byteOffset",e)}function ArrayBufferGetByteLength(e){return ReflectGet(ArrayBufferPrototype,"byteLength",e)}function isBrandCheck(e){return t=>t!=null&&t[kState]!==void 0&&t[kType]===e}function transferArrayBuffer(e){const t=detachArrayBuffer(e);if(t===void 0)throw new ERR_OPERATION_FAILED.TypeError("The ArrayBuffer could not be transferred");return t}function dequeueValue(e){assert(e[kState].queue!==void 0),assert(e[kState].queueTotalSize!==void 0),assert(e[kState].queue.length);const{value:t,size:n}=ArrayPrototypeShift(e[kState].queue);return e[kState].queueTotalSize=MathMax(0,e[kState].queueTotalSize-n),t}function resetQueue(e){assert(e[kState].queue!==void 0),assert(e[kState].queueTotalSize!==void 0),e[kState].queue=[],e[kState].queueTotalSize=0}function peekQueueValue(e){return assert(e[kState].queue!==void 0),assert(e[kState].queueTotalSize!==void 0),assert(e[kState].queue.length),e[kState].queue[0].value}function enqueueValueWithSize(e,t,n){if(assert(e[kState].queue!==void 0),assert(e[kState].queueTotalSize!==void 0),n=+n,typeof n!="number"||n<0||NumberIsNaN(n)||n===1/0)throw new ERR_INVALID_ARG_VALUE.RangeError("size",n);ArrayPrototypePush(e[kState].queue,{value:t,size:n}),e[kState].queueTotalSize+=n}function ensureIsPromise(e,t,...n){try{const r=FunctionPrototypeCall(e,t,...n);return isPromise(r)?r:PromiseResolve(r)}catch(r){return PromiseReject(r)}}function isPromisePending(e){return e===void 0?!1:getPromiseDetails(e)?.[0]===kPending}function setPromiseHandled(e){PromisePrototypeThen(e,()=>{},()=>{})}async function nonOpFlush(){}function nonOpStart(){}async function nonOpPull(){}async function nonOpCancel(){}async function nonOpWrite(){}let transfer;function lazyTransfer(){return transfer===void 0&&(transfer=require("internal/webstreams/transfer")),transfer}const kEnumerableProperty=ObjectCreate(null);kEnumerableProperty.enumerable=!0,module.exports={ArrayBufferViewGetBuffer,ArrayBufferViewGetByteLength,ArrayBufferViewGetByteOffset,ArrayBufferGetByteLength,AsyncIterator,copyArrayBuffer,customInspect,dequeueValue,ensureIsPromise,enqueueValueWithSize,extractHighWaterMark,extractSizeAlgorithm,lazyTransfer,isBrandCheck,isPromisePending,peekQueueValue,resetQueue,setPromiseHandled,transferArrayBuffer,nonOpCancel,nonOpFlush,nonOpPull,nonOpStart,nonOpWrite,kType,kState,kEnumerableProperty};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypePush,ArrayPrototypeShift,FunctionPrototypeBind,FunctionPrototypeCall,ObjectDefineProperties,PromisePrototypeThen,PromiseResolve,PromiseReject,ReflectConstruct,Symbol,SymbolToStringTag}=primordials,{codes:{ERR_ILLEGAL_CONSTRUCTOR,ERR_INVALID_ARG_VALUE,ERR_INVALID_ARG_TYPE,ERR_INVALID_STATE,ERR_INVALID_THIS}}=require("internal/errors"),{DOMException}=internalBinding("messaging"),{createDeferredPromise,customInspectSymbol:kInspect}=require("internal/util"),{MessageChannel}=require("internal/worker/io"),{kDeserialize,kTransfer,kTransferList,makeTransferable}=require("internal/worker/js_transferable"),{customInspect,dequeueValue,ensureIsPromise,enqueueValueWithSize,extractHighWaterMark,extractSizeAlgorithm,lazyTransfer,isBrandCheck,isPromisePending,peekQueueValue,resetQueue,setPromiseHandled,nonOpCancel,nonOpStart,nonOpWrite,kType,kState,kEnumerableProperty}=require("internal/webstreams/util"),{AbortController}=require("internal/abort_controller"),assert=require("internal/assert"),kAbort=Symbol("kAbort"),kCloseSentinel=Symbol("kCloseSentinel"),kError=Symbol("kError");class WritableStream{[kType]="WritableStream";get[SymbolToStringTag](){return this[kType]}constructor(r=null,t={}){const i=r?.type;if(i!==void 0)throw new ERR_INVALID_ARG_VALUE.RangeError("type",i);this[kState]={close:createDeferredPromise(),closeRequest:{promise:void 0,resolve:void 0,reject:void 0},inFlightWriteRequest:{promise:void 0,resolve:void 0,reject:void 0},inFlightCloseRequest:{promise:void 0,resolve:void 0,reject:void 0},pendingAbortRequest:{abort:{promise:void 0,resolve:void 0,reject:void 0},reason:void 0,wasAlreadyErroring:!1},backpressure:!1,controller:void 0,state:"writable",storedError:void 0,writeRequests:[],writer:void 0,transfer:{readable:void 0,port1:void 0,port2:void 0,promise:void 0}};const n=extractSizeAlgorithm(t?.size),o=extractHighWaterMark(t?.highWaterMark,1);return setupWritableStreamDefaultControllerFromSink(this,r,o,n),makeTransferable(this)}get locked(){if(!isWritableStream(this))throw new ERR_INVALID_THIS("WritableStream");return isWritableStreamLocked(this)}abort(r=void 0){return isWritableStream(this)?isWritableStreamLocked(this)?PromiseReject(new ERR_INVALID_STATE.TypeError("WritableStream is locked")):writableStreamAbort(this,r):PromiseReject(new ERR_INVALID_THIS("WritableStream"))}close(){return isWritableStream(this)?isWritableStreamLocked(this)?PromiseReject(new ERR_INVALID_STATE.TypeError("WritableStream is locked")):writableStreamCloseQueuedOrInFlight(this)?PromiseReject(new ERR_INVALID_STATE.TypeError("Failure closing WritableStream")):writableStreamClose(this):PromiseReject(new ERR_INVALID_THIS("WritableStream"))}getWriter(){if(!isWritableStream(this))throw new ERR_INVALID_THIS("WritableStream");return new WritableStreamDefaultWriter(this)}[kInspect](r,t){return customInspect(r,t,this[kType],{locked:this.locked,state:this[kState].state})}[kTransfer](){if(!isWritableStream(this))throw new ERR_INVALID_THIS("WritableStream");if(this.locked)throw this[kState].transfer.port1?.close(),this[kState].transfer.port1=void 0,this[kState].transfer.port2=void 0,new DOMException("Cannot transfer a locked WritableStream","DataCloneError");const{readable:r,promise:t}=lazyTransfer().newCrossRealmReadableStream(this,this[kState].transfer.port1);return this[kState].transfer.readable=r,this[kState].transfer.promise=t,setPromiseHandled(this[kState].transfer.promise),{data:{port:this[kState].transfer.port2},deserializeInfo:"internal/webstreams/writablestream:TransferredWritableStream"}}[kTransferList](){const{port1:r,port2:t}=new MessageChannel;return this[kState].transfer.port1=r,this[kState].transfer.port2=t,[t]}[kDeserialize]({port:r}){const t=lazyTransfer();setupWritableStreamDefaultControllerFromSink(this,new t.CrossRealmTransformWritableSink(r),1,()=>1)}}ObjectDefineProperties(WritableStream.prototype,{locked:kEnumerableProperty,abort:kEnumerableProperty,close:kEnumerableProperty,getWriter:kEnumerableProperty});function TransferredWritableStream(){return makeTransferable(ReflectConstruct(function(){this[kType]="WritableStream",this[kState]={close:createDeferredPromise(),closeRequest:{promise:void 0,resolve:void 0,reject:void 0},inFlightWriteRequest:{promise:void 0,resolve:void 0,reject:void 0},inFlightCloseRequest:{promise:void 0,resolve:void 0,reject:void 0},pendingAbortRequest:{abort:{promise:void 0,resolve:void 0,reject:void 0},reason:void 0,wasAlreadyErroring:!1},backpressure:!1,controller:void 0,state:"writable",storedError:void 0,writeRequests:[],writer:void 0,transfer:{promise:void 0,port1:void 0,port2:void 0,readable:void 0}}},[],WritableStream))}TransferredWritableStream.prototype[kDeserialize]=()=>{};class WritableStreamDefaultWriter{[kType]="WritableStreamDefaultWriter";get[SymbolToStringTag](){return this[kType]}constructor(r){if(!isWritableStream(r))throw new ERR_INVALID_ARG_TYPE("stream","WritableStream",r);this[kState]={stream:void 0,close:{promise:void 0,resolve:void 0,reject:void 0},ready:{promise:void 0,resolve:void 0,reject:void 0}},setupWritableStreamDefaultWriter(this,r)}get closed(){return isWritableStreamDefaultWriter(this)?this[kState].close.promise:PromiseReject(new ERR_INVALID_THIS("WritableStreamDefaultWriter"))}get desiredSize(){if(!isWritableStreamDefaultWriter(this))throw new ERR_INVALID_THIS("WritableStreamDefaultWriter");if(this[kState].stream===void 0)throw new ERR_INVALID_STATE.TypeError("Writer is not bound to a WritableStream");return writableStreamDefaultWriterGetDesiredSize(this)}get ready(){return isWritableStreamDefaultWriter(this)?this[kState].ready.promise:PromiseReject(new ERR_INVALID_THIS("WritableStreamDefaultWriter"))}abort(r=void 0){return isWritableStreamDefaultWriter(this)?this[kState].stream===void 0?PromiseReject(new ERR_INVALID_STATE.TypeError("Writer is not bound to a WritableStream")):writableStreamDefaultWriterAbort(this,r):PromiseReject(new ERR_INVALID_THIS("WritableStreamDefaultWriter"))}close(){if(!isWritableStreamDefaultWriter(this))return PromiseReject(new ERR_INVALID_THIS("WritableStreamDefaultWriter"));const{stream:r}=this[kState];return r===void 0?PromiseReject(new ERR_INVALID_STATE.TypeError("Writer is not bound to a WritableStream")):writableStreamCloseQueuedOrInFlight(r)?PromiseReject(new ERR_INVALID_STATE.TypeError("Failure to close WritableStream")):writableStreamDefaultWriterClose(this)}releaseLock(){if(!isWritableStreamDefaultWriter(this))throw new ERR_INVALID_THIS("WritableStreamDefaultWriter");const{stream:r}=this[kState];r!==void 0&&(assert(r[kState].writer!==void 0),writableStreamDefaultWriterRelease(this))}write(r=void 0){return isWritableStreamDefaultWriter(this)?this[kState].stream===void 0?PromiseReject(new ERR_INVALID_STATE.TypeError("Writer is not bound to a WritableStream")):writableStreamDefaultWriterWrite(this,r):PromiseReject(new ERR_INVALID_THIS("WritableStreamDefaultWriter"))}[kInspect](r,t){return customInspect(r,t,this[kType],{stream:this[kState].stream,close:this[kState].close.promise,ready:this[kState].ready.promise,desiredSize:this.desiredSize})}}ObjectDefineProperties(WritableStreamDefaultWriter.prototype,{closed:kEnumerableProperty,ready:kEnumerableProperty,desiredSize:kEnumerableProperty,abort:kEnumerableProperty,close:kEnumerableProperty,releaseLock:kEnumerableProperty,write:kEnumerableProperty});class WritableStreamDefaultController{[kType]="WritableStreamDefaultController";get[SymbolToStringTag](){return this[kType]}constructor(){throw new ERR_ILLEGAL_CONSTRUCTOR}[kAbort](r){const t=this[kState].abortAlgorithm(r);return writableStreamDefaultControllerClearAlgorithms(this),t}[kError](){resetQueue(this)}get abortReason(){if(!isWritableStreamDefaultController(this))throw new ERR_INVALID_THIS("WritableStreamDefaultController");return this[kState].abortReason}get signal(){if(!isWritableStreamDefaultController(this))throw new ERR_INVALID_THIS("WritableStreamDefaultController");return this[kState].abortController.signal}error(r=void 0){if(!isWritableStreamDefaultController(this))throw new ERR_INVALID_THIS("WritableStreamDefaultController");this[kState].stream[kState].state==="writable"&&writableStreamDefaultControllerError(this,r)}[kInspect](r,t){return customInspect(r,t,this[kType],{stream:this[kState].stream})}}ObjectDefineProperties(WritableStreamDefaultController.prototype,{abortReason:kEnumerableProperty,signal:kEnumerableProperty,error:kEnumerableProperty});function createWritableStreamDefaultController(){return ReflectConstruct(function(){this[kType]="WritableStreamDefaultController"},[],WritableStreamDefaultController)}const isWritableStream=isBrandCheck("WritableStream"),isWritableStreamDefaultWriter=isBrandCheck("WritableStreamDefaultWriter"),isWritableStreamDefaultController=isBrandCheck("WritableStreamDefaultController");function isWritableStreamLocked(e){return e[kState].writer!==void 0}function setupWritableStreamDefaultWriter(e,r){if(isWritableStreamLocked(r))throw new ERR_INVALID_STATE.TypeError("WritableStream is locked");switch(e[kState].stream=r,r[kState].writer=e,r[kState].state){case"writable":!writableStreamCloseQueuedOrInFlight(r)&&r[kState].backpressure?e[kState].ready=createDeferredPromise():e[kState].ready={promise:PromiseResolve(),resolve:void 0,reject:void 0},t();break;case"erroring":e[kState].ready={promise:PromiseReject(r[kState].storedError),resolve:void 0,reject:void 0},setPromiseHandled(e[kState].ready.promise),t();break;case"closed":e[kState].ready={promise:PromiseResolve(),resolve:void 0,reject:void 0},e[kState].close={promise:PromiseResolve(),resolve:void 0,reject:void 0};break;default:e[kState].ready={promise:PromiseReject(r[kState].storedError),resolve:void 0,reject:void 0},e[kState].close={promise:PromiseReject(r[kState].storedError),resolve:void 0,reject:void 0},setPromiseHandled(e[kState].ready.promise),setPromiseHandled(e[kState].close.promise)}function t(){e[kState].close=createDeferredPromise()}}function writableStreamAbort(e,r){const{state:t,controller:i}=e[kState];if(t==="closed"||t==="errored")return PromiseResolve();if(i[kState].abortReason=r,i[kState].abortController.abort(),e[kState].pendingAbortRequest.abort.promise!==void 0)return e[kState].pendingAbortRequest.abort.promise;assert(t==="writable"||t==="erroring");let n=!1;t==="erroring"&&(n=!0,r=void 0);const o=createDeferredPromise();return e[kState].pendingAbortRequest={abort:o,reason:r,wasAlreadyErroring:n},n||writableStreamStartErroring(e,r),o.promise}function writableStreamClose(e){const{state:r,writer:t,backpressure:i,controller:n}=e[kState];if(r==="closed"||r==="errored")return PromiseReject(new ERR_INVALID_STATE.TypeError("WritableStream is closed"));assert(r==="writable"||r==="erroring"),assert(!writableStreamCloseQueuedOrInFlight(e)),e[kState].closeRequest=createDeferredPromise();const{promise:o}=e[kState].closeRequest;return t!==void 0&&i&&r==="writable"&&t[kState].ready.resolve?.(),writableStreamDefaultControllerClose(n),o}function writableStreamUpdateBackpressure(e,r){assert(e[kState].state==="writable"),assert(!writableStreamCloseQueuedOrInFlight(e));const{writer:t}=e[kState];t!==void 0&&e[kState].backpressure!==r&&(r?t[kState].ready=createDeferredPromise():t[kState].ready.resolve?.()),e[kState].backpressure=r}function writableStreamStartErroring(e,r){assert(e[kState].storedError===void 0),assert(e[kState].state==="writable");const{controller:t,writer:i}=e[kState];assert(t!==void 0),e[kState].state="erroring",e[kState].storedError=r,i!==void 0&&writableStreamDefaultWriterEnsureReadyPromiseRejected(i,r),!writableStreamHasOperationMarkedInFlight(e)&&t[kState].started&&writableStreamFinishErroring(e)}function writableStreamRejectCloseAndClosedPromiseIfNeeded(e){assert(e[kState].state==="errored"),e[kState].closeRequest.promise!==void 0&&(assert(e[kState].inFlightCloseRequest.promise===void 0),e[kState].closeRequest.reject?.(e[kState].storedError),e[kState].closeRequest={promise:void 0,reject:void 0,resolve:void 0});const{writer:r}=e[kState];r!==void 0&&(r[kState].close.reject?.(e[kState].storedError),setPromiseHandled(r[kState].close.promise))}function writableStreamMarkFirstWriteRequestInFlight(e){assert(e[kState].inFlightWriteRequest.promise===void 0),assert(e[kState].writeRequests.length);const r=ArrayPrototypeShift(e[kState].writeRequests);e[kState].inFlightWriteRequest=r}function writableStreamMarkCloseRequestInFlight(e){assert(e[kState].inFlightWriteRequest.promise===void 0),assert(e[kState].closeRequest.promise!==void 0),e[kState].inFlightCloseRequest=e[kState].closeRequest,e[kState].closeRequest={promise:void 0,resolve:void 0,reject:void 0}}function writableStreamHasOperationMarkedInFlight(e){const{inFlightWriteRequest:r,inFlightCloseRequest:t}=e[kState];return!(r.promise===void 0&&t.promise===void 0)}function writableStreamFinishInFlightWriteWithError(e,r){assert(e[kState].inFlightWriteRequest.promise!==void 0),e[kState].inFlightWriteRequest.reject?.(r),e[kState].inFlightWriteRequest={promise:void 0,resolve:void 0,reject:void 0},assert(e[kState].state==="writable"||e[kState].state==="erroring"),writableStreamDealWithRejection(e,r)}function writableStreamFinishInFlightWrite(e){assert(e[kState].inFlightWriteRequest.promise!==void 0),e[kState].inFlightWriteRequest.resolve?.(),e[kState].inFlightWriteRequest={promise:void 0,resolve:void 0,reject:void 0}}function writableStreamFinishInFlightCloseWithError(e,r){assert(e[kState].inFlightCloseRequest.promise!==void 0),e[kState].inFlightCloseRequest.reject?.(r),e[kState].inFlightCloseRequest={promise:void 0,resolve:void 0,reject:void 0},assert(e[kState].state==="writable"||e[kState].state==="erroring"),e[kState].pendingAbortRequest.abort.promise!==void 0&&(e[kState].pendingAbortRequest.abort.reject?.(r),e[kState].pendingAbortRequest={abort:{promise:void 0,resolve:void 0,reject:void 0},reason:void 0,wasAlreadyErroring:!1}),writableStreamDealWithRejection(e,r)}function writableStreamFinishInFlightClose(e){assert(e[kState].inFlightCloseRequest.promise!==void 0),e[kState].inFlightCloseRequest.resolve?.(),e[kState].inFlightCloseRequest={promise:void 0,resolve:void 0,reject:void 0},e[kState].state==="erroring"&&(e[kState].storedError=void 0,e[kState].pendingAbortRequest.abort.promise!==void 0&&(e[kState].pendingAbortRequest.abort.resolve?.(),e[kState].pendingAbortRequest={abort:{promise:void 0,resolve:void 0,reject:void 0},reason:void 0,wasAlreadyErroring:!1})),e[kState].state="closed",e[kState].writer!==void 0&&e[kState].writer[kState].close.resolve?.(),assert(e[kState].pendingAbortRequest.abort.promise===void 0),assert(e[kState].storedError===void 0)}function writableStreamFinishErroring(e){assert(e[kState].state==="erroring"),assert(!writableStreamHasOperationMarkedInFlight(e)),e[kState].state="errored",e[kState].controller[kError]();const r=e[kState].storedError;for(let i=0;i<e[kState].writeRequests.length;i++)e[kState].writeRequests[i].reject?.(r);if(e[kState].writeRequests=[],e[kState].pendingAbortRequest.abort.promise===void 0){writableStreamRejectCloseAndClosedPromiseIfNeeded(e);return}const t=e[kState].pendingAbortRequest;if(e[kState].pendingAbortRequest={abort:{promise:void 0,resolve:void 0,reject:void 0},reason:void 0,wasAlreadyErroring:!1},t.wasAlreadyErroring){t.abort.reject?.(r),writableStreamRejectCloseAndClosedPromiseIfNeeded(e);return}PromisePrototypeThen(ensureIsPromise(e[kState].controller[kAbort],e[kState].controller,t.reason),()=>{t.abort.resolve?.(),writableStreamRejectCloseAndClosedPromiseIfNeeded(e)},i=>{t.abort.reject?.(i),writableStreamRejectCloseAndClosedPromiseIfNeeded(e)})}function writableStreamDealWithRejection(e,r){const{state:t}=e[kState];if(t==="writable"){writableStreamStartErroring(e,r);return}assert(t==="erroring"),writableStreamFinishErroring(e)}function writableStreamCloseQueuedOrInFlight(e){return!(e[kState].closeRequest.promise===void 0&&e[kState].inFlightCloseRequest.promise===void 0)}function writableStreamAddWriteRequest(e){assert(isWritableStreamLocked(e)),assert(e[kState].state==="writable");const{promise:r,resolve:t,reject:i}=createDeferredPromise();return ArrayPrototypePush(e[kState].writeRequests,{promise:r,resolve:t,reject:i}),r}function writableStreamDefaultWriterWrite(e,r){const{stream:t}=e[kState];assert(t!==void 0);const{controller:i}=t[kState],n=writableStreamDefaultControllerGetChunkSize(i,r);if(t!==e[kState].stream)return PromiseReject(new ERR_INVALID_STATE.TypeError("Mismatched WritableStreams"));const{state:o}=t[kState];if(o==="errored")return PromiseReject(t[kState].storedError);if(writableStreamCloseQueuedOrInFlight(t)||o==="closed")return PromiseReject(new ERR_INVALID_STATE.TypeError("WritableStream is closed"));if(o==="erroring")return PromiseReject(t[kState].storedError);assert(o==="writable");const s=writableStreamAddWriteRequest(t);return writableStreamDefaultControllerWrite(i,r,n),s}function writableStreamDefaultWriterRelease(e){const{stream:r}=e[kState];assert(r!==void 0),assert(r[kState].writer===e);const t=new ERR_INVALID_STATE.TypeError("Writer has been released");writableStreamDefaultWriterEnsureReadyPromiseRejected(e,t),writableStreamDefaultWriterEnsureClosedPromiseRejected(e,t),r[kState].writer=void 0,e[kState].stream=void 0}function writableStreamDefaultWriterGetDesiredSize(e){const{stream:r}=e[kState];switch(r[kState].state){case"errored":case"erroring":return null;case"closed":return 0}return writableStreamDefaultControllerGetDesiredSize(r[kState].controller)}function writableStreamDefaultWriterEnsureReadyPromiseRejected(e,r){isPromisePending(e[kState].ready.promise)?e[kState].ready.reject?.(r):e[kState].ready={promise:PromiseReject(r),resolve:void 0,reject:void 0},setPromiseHandled(e[kState].ready.promise)}function writableStreamDefaultWriterEnsureClosedPromiseRejected(e,r){isPromisePending(e[kState].close.promise)?e[kState].close.reject?.(r):e[kState].close={promise:PromiseReject(r),resolve:void 0,reject:void 0},setPromiseHandled(e[kState].close.promise)}function writableStreamDefaultWriterCloseWithErrorPropagation(e){const{stream:r}=e[kState];assert(r!==void 0);const{state:t}=r[kState];return writableStreamCloseQueuedOrInFlight(r)||t==="closed"?PromiseResolve():t==="errored"?PromiseReject(r[kState].storedError):(assert(t==="writable"||t==="erroring"),writableStreamDefaultWriterClose(e))}function writableStreamDefaultWriterClose(e){const{stream:r}=e[kState];return assert(r!==void 0),writableStreamClose(r)}function writableStreamDefaultWriterAbort(e,r){const{stream:t}=e[kState];return assert(t!==void 0),writableStreamAbort(t,r)}function writableStreamDefaultControllerWrite(e,r,t){try{enqueueValueWithSize(e,r,t)}catch(n){writableStreamDefaultControllerErrorIfNeeded(e,n);return}const{stream:i}=e[kState];!writableStreamCloseQueuedOrInFlight(i)&&i[kState].state==="writable"&&writableStreamUpdateBackpressure(i,writableStreamDefaultControllerGetBackpressure(e)),writableStreamDefaultControllerAdvanceQueueIfNeeded(e)}function writableStreamDefaultControllerProcessWrite(e,r){const{stream:t,writeAlgorithm:i}=e[kState];writableStreamMarkFirstWriteRequestInFlight(t),PromisePrototypeThen(ensureIsPromise(i,e,r,e),()=>{writableStreamFinishInFlightWrite(t);const{state:n}=t[kState];assert(n==="writable"||n==="erroring"),dequeueValue(e),!writableStreamCloseQueuedOrInFlight(t)&&n==="writable"&&writableStreamUpdateBackpressure(t,writableStreamDefaultControllerGetBackpressure(e)),writableStreamDefaultControllerAdvanceQueueIfNeeded(e)},n=>{t[kState].state==="writable"&&writableStreamDefaultControllerClearAlgorithms(e),writableStreamFinishInFlightWriteWithError(t,n)})}function writableStreamDefaultControllerProcessClose(e){const{closeAlgorithm:r,queue:t,stream:i}=e[kState];writableStreamMarkCloseRequestInFlight(i),dequeueValue(e),assert(!t.length);const n=ensureIsPromise(r,e);writableStreamDefaultControllerClearAlgorithms(e),PromisePrototypeThen(n,()=>writableStreamFinishInFlightClose(i),o=>writableStreamFinishInFlightCloseWithError(i,o))}function writableStreamDefaultControllerGetDesiredSize(e){const{highWaterMark:r,queueTotalSize:t}=e[kState];return r-t}function writableStreamDefaultControllerGetChunkSize(e,r){try{return FunctionPrototypeCall(e[kState].sizeAlgorithm,void 0,r)}catch(t){return writableStreamDefaultControllerErrorIfNeeded(e,t),1}}function writableStreamDefaultControllerErrorIfNeeded(e,r){const{stream:t}=e[kState];t[kState].state==="writable"&&writableStreamDefaultControllerError(e,r)}function writableStreamDefaultControllerError(e,r){const{stream:t}=e[kState];assert(t[kState].state==="writable"),writableStreamDefaultControllerClearAlgorithms(e),writableStreamStartErroring(t,r)}function writableStreamDefaultControllerClose(e){enqueueValueWithSize(e,kCloseSentinel,0),writableStreamDefaultControllerAdvanceQueueIfNeeded(e)}function writableStreamDefaultControllerClearAlgorithms(e){e[kState].writeAlgorithm=void 0,e[kState].closeAlgorithm=void 0,e[kState].abortAlgorithm=void 0,e[kState].sizeAlgorithm=void 0}function writableStreamDefaultControllerGetBackpressure(e){return writableStreamDefaultControllerGetDesiredSize(e)<=0}function writableStreamDefaultControllerAdvanceQueueIfNeeded(e){const{queue:r,started:t,stream:i}=e[kState];if(!t||i[kState].inFlightWriteRequest.promise!==void 0)return;if(i[kState].state==="erroring"){writableStreamFinishErroring(i);return}if(!r.length)return;const n=peekQueueValue(e);n===kCloseSentinel?writableStreamDefaultControllerProcessClose(e):writableStreamDefaultControllerProcessWrite(e,n)}function setupWritableStreamDefaultControllerFromSink(e,r,t,i){const n=createWritableStreamDefaultController(),o=r?.start,s=r?.write,u=r?.close,d=r?.abort,a=o?FunctionPrototypeBind(o,r,n):nonOpStart,l=s?FunctionPrototypeBind(s,r):nonOpWrite,f=u?FunctionPrototypeBind(u,r):nonOpCancel,c=d?FunctionPrototypeBind(d,r):nonOpCancel;setupWritableStreamDefaultController(e,n,a,l,f,c,t,i)}function setupWritableStreamDefaultController(e,r,t,i,n,o,s,u){assert(isWritableStream(e)),assert(e[kState].controller===void 0),r[kState]={abortAlgorithm:o,abortReason:void 0,closeAlgorithm:n,highWaterMark:s,queue:[],queueTotalSize:0,abortController:new AbortController,sizeAlgorithm:u,started:!1,stream:e,writeAlgorithm:i},e[kState].controller=r,writableStreamUpdateBackpressure(e,writableStreamDefaultControllerGetBackpressure(r));const d=t();PromisePrototypeThen(PromiseResolve(d),()=>{assert(e[kState].state==="writable"||e[kState].state==="erroring"),r[kState].started=!0,writableStreamDefaultControllerAdvanceQueueIfNeeded(r)},a=>{assert(e[kState].state==="writable"||e[kState].state==="erroring"),r[kState].started=!0,writableStreamDealWithRejection(e,a)})}module.exports={WritableStream,WritableStreamDefaultWriter,WritableStreamDefaultController,TransferredWritableStream,isWritableStream,isWritableStreamDefaultController,isWritableStreamDefaultWriter,isWritableStreamLocked,setupWritableStreamDefaultWriter,writableStreamAbort,writableStreamClose,writableStreamUpdateBackpressure,writableStreamStartErroring,writableStreamRejectCloseAndClosedPromiseIfNeeded,writableStreamMarkFirstWriteRequestInFlight,writableStreamMarkCloseRequestInFlight,writableStreamHasOperationMarkedInFlight,writableStreamFinishInFlightWriteWithError,writableStreamFinishInFlightWrite,writableStreamFinishInFlightCloseWithError,writableStreamFinishInFlightClose,writableStreamFinishErroring,writableStreamDealWithRejection,writableStreamCloseQueuedOrInFlight,writableStreamAddWriteRequest,writableStreamDefaultWriterWrite,writableStreamDefaultWriterRelease,writableStreamDefaultWriterGetDesiredSize,writableStreamDefaultWriterEnsureReadyPromiseRejected,writableStreamDefaultWriterEnsureClosedPromiseRejected,writableStreamDefaultWriterCloseWithErrorPropagation,writableStreamDefaultWriterClose,writableStreamDefaultWriterAbort,writableStreamDefaultControllerWrite,writableStreamDefaultControllerProcessWrite,writableStreamDefaultControllerProcessClose,writableStreamDefaultControllerGetDesiredSize,writableStreamDefaultControllerGetChunkSize,writableStreamDefaultControllerErrorIfNeeded,writableStreamDefaultControllerError,writableStreamDefaultControllerClose,writableStreamDefaultControllerClearAlgorithms,writableStreamDefaultControllerGetBackpressure,writableStreamDefaultControllerAdvanceQueueIfNeeded,setupWritableStreamDefaultControllerFromSink,setupWritableStreamDefaultController};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeForEach,ArrayPrototypeMap,ArrayPrototypePush,FunctionPrototypeBind,FunctionPrototypeCall,ObjectAssign,ObjectCreate,ObjectDefineProperty,ObjectDefineProperties,ObjectGetOwnPropertyDescriptors,ObjectGetPrototypeOf,ObjectSetPrototypeOf,ReflectApply,Symbol,SymbolFor}=primordials,{handle_onclose:handleOnCloseSymbol,oninit:onInitSymbol,no_message_symbol:noMessageSymbol}=internalBinding("symbols"),{MessagePort,MessageChannel,broadcastChannel,drainMessagePort,moveMessagePortToContext,receiveMessageOnPort:receiveMessageOnPort_,stopMessagePort,checkMessagePort,DOMException}=internalBinding("messaging"),{getEnvMessagePort}=internalBinding("worker"),{Readable,Writable}=require("stream"),{Event,EventTarget,NodeEventTarget,defineEventHandler,initNodeEventTarget,kCreateEvent,kNewListener,kRemoveListener}=require("internal/event_target"),{inspect}=require("internal/util/inspect"),{codes:{ERR_INVALID_ARG_TYPE,ERR_INVALID_THIS,ERR_MISSING_ARGS}}=require("internal/errors"),kData=Symbol("kData"),kHandle=Symbol("kHandle"),kIncrementsPortRef=Symbol("kIncrementsPortRef"),kLastEventId=Symbol("kLastEventId"),kName=Symbol("kName"),kOrigin=Symbol("kOrigin"),kOnMessage=Symbol("kOnMessage"),kOnMessageError=Symbol("kOnMessageError"),kPort=Symbol("kPort"),kPorts=Symbol("kPorts"),kWaitingStreams=Symbol("kWaitingStreams"),kWritableCallbacks=Symbol("kWritableCallbacks"),kSource=Symbol("kSource"),kStartedReading=Symbol("kStartedReading"),kStdioWantsMoreDataCallback=Symbol("kStdioWantsMoreDataCallback"),kCurrentlyReceivingPorts=SymbolFor("nodejs.internal.kCurrentlyReceivingPorts"),kType=Symbol("kType"),messageTypes={UP_AND_RUNNING:"upAndRunning",COULD_NOT_SERIALIZE_ERROR:"couldNotSerializeError",ERROR_MESSAGE:"errorMessage",STDIO_PAYLOAD:"stdioPayload",STDIO_WANTS_MORE_DATA:"stdioWantsMoreData",LOAD_SCRIPT:"loadScript"},MessagePortPrototype=ObjectCreate(ObjectGetPrototypeOf(MessagePort.prototype),ObjectGetOwnPropertyDescriptors(MessagePort.prototype));ObjectSetPrototypeOf(MessagePort,NodeEventTarget),ObjectSetPrototypeOf(MessagePort.prototype,NodeEventTarget.prototype),MessagePort.prototype.ref=MessagePortPrototype.ref,MessagePort.prototype.unref=MessagePortPrototype.unref;function validateMessagePort(t,e){if(!checkMessagePort(t))throw new ERR_INVALID_ARG_TYPE(e,"MessagePort",t)}function isMessageEvent(t){return t!=null&&kData in t}class MessageEvent extends Event{constructor(e,{data:s=null,origin:r="",lastEventId:i="",source:o=null,ports:a=[]}={}){super(e);this[kData]=s,this[kOrigin]=`${r}`,this[kLastEventId]=`${i}`,this[kSource]=o,this[kPorts]=[...a],this[kSource]!==null&&validateMessagePort(this[kSource],"init.source");for(let n=0;n<this[kPorts].length;n++)validateMessagePort(this[kPorts][n],`init.ports[${n}]`)}}ObjectDefineProperties(MessageEvent.prototype,{data:{get(){if(!isMessageEvent(this))throw new ERR_INVALID_THIS("MessageEvent");return this[kData]},enumerable:!0,configurable:!0,set:void 0},origin:{get(){if(!isMessageEvent(this))throw new ERR_INVALID_THIS("MessageEvent");return this[kOrigin]},enumerable:!0,configurable:!0,set:void 0},lastEventId:{get(){if(!isMessageEvent(this))throw new ERR_INVALID_THIS("MessageEvent");return this[kLastEventId]},enumerable:!0,configurable:!0,set:void 0},source:{get(){if(!isMessageEvent(this))throw new ERR_INVALID_THIS("MessageEvent");return this[kSource]},enumerable:!0,configurable:!0,set:void 0},ports:{get(){if(!isMessageEvent(this))throw new ERR_INVALID_THIS("MessageEvent");return this[kPorts]},enumerable:!0,configurable:!0,set:void 0}});const originalCreateEvent=EventTarget.prototype[kCreateEvent];ObjectDefineProperty(MessagePort.prototype,kCreateEvent,{value:function(t,e){if(e!=="message"&&e!=="messageerror")return ReflectApply(originalCreateEvent,this,arguments);const s=this[kCurrentlyReceivingPorts];return this[kCurrentlyReceivingPorts]=void 0,new MessageEvent(e,{data:t,ports:s})},configurable:!1,writable:!1,enumerable:!1});function oninit(){initNodeEventTarget(this),setupPortReferencing(this,this,"message"),this[kCurrentlyReceivingPorts]=void 0}defineEventHandler(MessagePort.prototype,"message"),defineEventHandler(MessagePort.prototype,"messageerror"),ObjectDefineProperty(MessagePort.prototype,onInitSymbol,{enumerable:!0,writable:!1,value:oninit});class MessagePortCloseEvent extends Event{constructor(){super("close")}}function onclose(){this.dispatchEvent(new MessagePortCloseEvent)}ObjectDefineProperty(MessagePort.prototype,handleOnCloseSymbol,{enumerable:!1,writable:!1,value:onclose}),MessagePort.prototype.close=function(t){typeof t=="function"&&this.once("close",t),FunctionPrototypeCall(MessagePortPrototype.close,this)},ObjectDefineProperty(MessagePort.prototype,inspect.custom,{enumerable:!1,writable:!1,value:function(){let e;try{e=FunctionPrototypeCall(MessagePortPrototype.hasRef,this)}catch{return this}return ObjectAssign(ObjectCreate(MessagePort.prototype),e===void 0?{active:!1}:{active:!0,refed:e},this)}});function setupPortReferencing(t,e,s){t.unref(),e.on("newListener",function(n){n===s&&o(e.listenerCount(n))}),e.on("removeListener",function(n){n===s&&a(e.listenerCount(n))});const r=e[kNewListener];e[kNewListener]=function(n,c,...h){return c===s&&o(n-1),ReflectApply(r,this,arguments)};const i=e[kRemoveListener];e[kRemoveListener]=function(n,c,...h){return c===s&&a(n),ReflectApply(i,this,arguments)};function o(n){n===0&&(t.ref(),FunctionPrototypeCall(MessagePortPrototype.start,t))}function a(n){n===0&&(stopMessagePort(t),t.unref())}}class ReadableWorkerStdio extends Readable{constructor(e,s){super();this[kPort]=e,this[kName]=s,this[kIncrementsPortRef]=!0,this[kStartedReading]=!1,this.on("end",()=>{this[kStartedReading]&&this[kIncrementsPortRef]&&--this[kPort][kWaitingStreams]==0&&this[kPort].unref()})}_read(){!this[kStartedReading]&&this[kIncrementsPortRef]&&(this[kStartedReading]=!0,this[kPort][kWaitingStreams]++==0&&this[kPort].ref()),this[kPort].postMessage({type:messageTypes.STDIO_WANTS_MORE_DATA,stream:this[kName]})}}class WritableWorkerStdio extends Writable{constructor(e,s){super({decodeStrings:!1});this[kPort]=e,this[kName]=s,this[kWritableCallbacks]=[]}_writev(e,s){this[kPort].postMessage({type:messageTypes.STDIO_PAYLOAD,stream:this[kName],chunks:ArrayPrototypeMap(e,({chunk:r,encoding:i})=>({chunk:r,encoding:i}))}),ArrayPrototypePush(this[kWritableCallbacks],s),this[kPort][kWaitingStreams]++==0&&this[kPort].ref()}_final(e){this[kPort].postMessage({type:messageTypes.STDIO_PAYLOAD,stream:this[kName],chunks:[{chunk:null,encoding:""}]}),e()}[kStdioWantsMoreDataCallback](){const e=this[kWritableCallbacks];this[kWritableCallbacks]=[],ArrayPrototypeForEach(e,s=>s()),(this[kPort][kWaitingStreams]-=e.length)==0&&this[kPort].unref()}}function createWorkerStdio(){const t=getEnvMessagePort();return t[kWaitingStreams]=0,{stdin:new ReadableWorkerStdio(t,"stdin"),stdout:new WritableWorkerStdio(t,"stdout"),stderr:new WritableWorkerStdio(t,"stderr")}}function receiveMessageOnPort(t){const e=receiveMessageOnPort_(t?.[kHandle]??t);if(e!==noMessageSymbol)return{message:e}}function onMessageEvent(t,e){this.dispatchEvent(new MessageEvent(t,{data:e}))}function isBroadcastChannel(t){return t?.[kType]==="BroadcastChannel"}class BroadcastChannel extends EventTarget{constructor(e){if(arguments.length===0)throw new ERR_MISSING_ARGS("name");super();this[kType]="BroadcastChannel",this[kName]=`${e}`,this[kHandle]=broadcastChannel(this[kName]),this[kOnMessage]=FunctionPrototypeBind(onMessageEvent,this,"message"),this[kOnMessageError]=FunctionPrototypeBind(onMessageEvent,this,"messageerror"),this[kHandle].on("message",this[kOnMessage]),this[kHandle].on("messageerror",this[kOnMessageError])}[inspect.custom](e,s){if(!isBroadcastChannel(this))throw new ERR_INVALID_THIS("BroadcastChannel");if(e<0)return"BroadcastChannel";const r={...s,depth:s.depth==null?null:s.depth-1};return`BroadcastChannel ${inspect({name:this[kName],active:this[kHandle]!==void 0},r)}`}get name(){if(!isBroadcastChannel(this))throw new ERR_INVALID_THIS("BroadcastChannel");return this[kName]}close(){if(!isBroadcastChannel(this))throw new ERR_INVALID_THIS("BroadcastChannel");this[kHandle]!==void 0&&(this[kHandle].off("message",this[kOnMessage]),this[kHandle].off("messageerror",this[kOnMessageError]),this[kOnMessage]=void 0,this[kOnMessageError]=void 0,this[kHandle].close(),this[kHandle]=void 0)}postMessage(e){if(!isBroadcastChannel(this))throw new ERR_INVALID_THIS("BroadcastChannel");if(arguments.length===0)throw new ERR_MISSING_ARGS("message");if(this[kHandle]===void 0)throw new DOMException("BroadcastChannel is closed.");if(this[kHandle].postMessage(e)===void 0)throw new DOMException("Message could not be posted.")}ref(){if(!isBroadcastChannel(this))throw new ERR_INVALID_THIS("BroadcastChannel");return this[kHandle]&&this[kHandle].ref(),this}unref(){if(!isBroadcastChannel(this))throw new ERR_INVALID_THIS("BroadcastChannel");return this[kHandle]&&this[kHandle].unref(),this}}const kEnumerableProperty=ObjectCreate(null);kEnumerableProperty.enumerable=!0,ObjectDefineProperties(BroadcastChannel.prototype,{name:kEnumerableProperty,close:kEnumerableProperty,postMessage:kEnumerableProperty}),defineEventHandler(BroadcastChannel.prototype,"message"),defineEventHandler(BroadcastChannel.prototype,"messageerror"),module.exports={drainMessagePort,messageTypes,kPort,kIncrementsPortRef,kWaitingStreams,kStdioWantsMoreDataCallback,moveMessagePortToContext,MessagePort,MessageChannel,MessageEvent,receiveMessageOnPort,setupPortReferencing,ReadableWorkerStdio,WritableWorkerStdio,createWorkerStdio,BroadcastChannel};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Error,ObjectDefineProperties,ObjectGetOwnPropertyDescriptors,ObjectGetPrototypeOf,ObjectSetPrototypeOf,ReflectConstruct,StringPrototypeSplit}=primordials,{messaging_deserialize_symbol,messaging_transfer_symbol,messaging_clone_symbol,messaging_transfer_list_symbol}=internalBinding("symbols"),{JSTransferable,setDeserializerCreateObjectFunction}=internalBinding("messaging");function setup(){setDeserializerCreateObjectFunction(e=>{const{0:t,1:r}=StringPrototypeSplit(e,":"),n=require(t)[r];if(typeof n!="function"||typeof n.prototype[messaging_deserialize_symbol]!="function")throw new Error(`Unknown deserialize spec ${e}`);return new n})}function makeTransferable(e){const t=ReflectConstruct(JSTransferable,[],e.constructor);return ObjectDefineProperties(t,ObjectGetOwnPropertyDescriptors(e)),ObjectSetPrototypeOf(t,ObjectGetPrototypeOf(e)),t}module.exports={makeTransferable,setup,JSTransferable,kClone:messaging_clone_symbol,kDeserialize:messaging_deserialize_symbol,kTransfer:messaging_transfer_symbol,kTransferList:messaging_transfer_list_symbol};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const credentials=internalBinding("credentials"),rawMethods=internalBinding("process_methods"),{unavailable}=require("internal/process/worker_thread_only");process.abort=unavailable("process.abort()"),process.chdir=unavailable("process.chdir()"),process.umask=wrappedUmask,process.cwd=rawMethods.cwd,credentials.implementsPosixCredentials&&(process.initgroups=unavailable("process.initgroups()"),process.setgroups=unavailable("process.setgroups()"),process.setegid=unavailable("process.setegid()"),process.seteuid=unavailable("process.seteuid()"),process.setgid=unavailable("process.setgid()"),process.setuid=unavailable("process.setuid()"));const{codes:{ERR_WORKER_UNSUPPORTED_OPERATION}}=require("internal/errors");function wrappedUmask(s){if(s!==void 0)throw new ERR_WORKER_UNSUPPORTED_OPERATION("Setting process.umask()");return rawMethods.umask(s)}
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const credentials=internalBinding("credentials"),rawMethods=internalBinding("process_methods");if(process.abort=rawMethods.abort,process.umask=wrappedUmask,process.chdir=wrappedChdir,process.cwd=wrappedCwd,credentials.implementsPosixCredentials){const e=wrapPosixCredentialSetters(credentials);process.initgroups=e.initgroups,process.setgroups=e.setgroups,process.setegid=e.setegid,process.seteuid=e.seteuid,process.setgid=e.setgid,process.setuid=e.setuid}const{parseFileMode,validateArray,validateString}=require("internal/validators");function wrapPosixCredentialSetters(e){const{codes:{ERR_INVALID_ARG_TYPE:u,ERR_UNKNOWN_CREDENTIAL:i}}=require("internal/errors"),{validateUint32:d}=require("internal/validators"),{initgroups:c,setgroups:p,setegid:a,seteuid:l,setgid:f,setuid:g}=e;function w(t,r){o(t,"user"),o(r,"extraGroup");const s=c(t,r);if(s===1)throw new i("User",t);if(s===2)throw new i("Group",r)}function h(t){validateArray(t,"groups");for(let s=0;s<t.length;s++)o(t[s],`groups[${s}]`);const r=p(t);if(r>0)throw new i("Group",t[r-1])}function n(t,r){return function(s){if(o(s,"id"),typeof s=="number"&&(s|=0),r(s)===1)throw new i(t,s)}}function o(t,r){if(typeof t=="number")d(t,r);else if(typeof t!="string")throw new u(r,["number","string"],t)}return{initgroups:w,setgroups:h,setegid:n("Group",a),seteuid:n("User",l),setgid:n("Group",f),setuid:n("User",g)}}let cachedCwd="";function wrappedChdir(e){validateString(e,"directory"),rawMethods.chdir(e),cachedCwd=""}function wrappedUmask(e){return e!==void 0&&(e=parseFileMode(e,"mask")),rawMethods.umask(e)}function wrappedCwd(){return cachedCwd===""&&(cachedCwd=rawMethods.cwd()),cachedCwd}
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectDefineProperty}=primordials,rawMethods=internalBinding("process_methods");process._debugProcess=rawMethods._debugProcess,process._debugEnd=rawMethods._debugEnd,process._startProfilerIdleNotifier=()=>{},process._stopProfilerIdleNotifier=()=>{};function defineStream(e,t){ObjectDefineProperty(process,e,{configurable:!0,enumerable:!0,get:t})}defineStream("stdout",getStdout),defineStream("stdin",getStdin),defineStream("stderr",getStderr);const{startListeningIfSignal,stopListeningIfSignal}=require("internal/process/signal");process.on("newListener",startListeningIfSignal),process.on("removeListener",stopListeningIfSignal);const{guessHandleType}=internalBinding("util");function createWritableStdioStream(e){let t;switch(guessHandleType(e)){case"TTY":const n=require("tty");t=new n.WriteStream(e),t._type="tty";break;case"FILE":const s=require("internal/fs/sync_write_stream");t=new s(e,{autoClose:!1}),t._type="fs";break;case"PIPE":case"TCP":const r=require("net");if(process.channel&&process.channel.fd===e){const{kChannelHandle:i}=require("internal/child_process");t=new r.Socket({handle:process[i],readable:!1,writable:!0})}else t=new r.Socket({fd:e,readable:!1,writable:!0});t._type="pipe";break;default:const{Writable:a}=require("stream");t=new a({write(i,l,o){o()}})}return t.fd=e,t._isStdio=!0,t}function dummyDestroy(e,t){t(e),this._undestroy(),this._writableState.emitClose||process.nextTick(()=>{this.emit("close")})}let stdin,stdout,stderr;function getStdout(){return stdout||(stdout=createWritableStdioStream(1),stdout.destroySoon=stdout.destroy,stdout._destroy=dummyDestroy,stdout.isTTY&&process.on("SIGWINCH",()=>stdout._refreshSize()),stdout)}function getStderr(){return stderr||(stderr=createWritableStdioStream(2),stderr.destroySoon=stderr.destroy,stderr._destroy=dummyDestroy,stderr.isTTY&&process.on("SIGWINCH",()=>stderr._refreshSize()),stderr)}function getStdin(){if(stdin)return stdin;const e=0;switch(guessHandleType(e)){case"TTY":const n=require("tty");stdin=new n.ReadStream(e);break;case"FILE":const s=require("fs");stdin=new s.ReadStream(null,{fd:e,autoClose:!1});break;case"PIPE":case"TCP":const r=require("net");process.channel&&process.channel.fd===e?stdin=new r.Socket({handle:process.channel,readable:!0,writable:!1,manualStart:!0}):stdin=new r.Socket({fd:e,readable:!0,writable:!1,manualStart:!0}),stdin._writableState.ended=!0;break;default:const{Readable:a}=require("stream");stdin=new a({read(){}}),stdin.push(null)}stdin.fd=e,stdin._handle&&stdin._handle.readStop&&(stdin._handle.reading=!1,stdin._readableState.reading=!1,stdin._handle.readStop()),stdin.on("pause",()=>{process.nextTick(t)});function t(){!stdin._handle||stdin._handle.reading&&!stdin.readableFlowing&&(stdin._readableState.reading=!1,stdin._handle.reading=!1,stdin._handle.readStop())}return stdin}rawMethods.resetStdioForTesting=function(){stdin=void 0,stdout=void 0,stderr=void 0};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectDefineProperty}=primordials;delete process._debugProcess,delete process._debugEnd;function defineStream(e,r){ObjectDefineProperty(process,e,{configurable:!0,enumerable:!0,get:r})}defineStream("stdout",getStdout),defineStream("stdin",getStdin),defineStream("stderr",getStderr);const{startListeningIfSignal,stopListeningIfSignal}=require("internal/process/signal");process.removeListener("newListener",startListeningIfSignal),process.removeListener("removeListener",stopListeningIfSignal);const{createWorkerStdio}=require("internal/worker/io");let workerStdio;function lazyWorkerStdio(){return workerStdio||(workerStdio=createWorkerStdio()),workerStdio}function getStdout(){return lazyWorkerStdio().stdout}function getStderr(){return lazyWorkerStdio().stderr}function getStdin(){return lazyWorkerStdio().stdin}
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{areIdentical,isSrcSubdir}=require("internal/fs/cp/cp"),{codes}=require("internal/errors"),{os:{errno:{EEXIST,EISDIR,EINVAL,ENOTDIR}}}=internalBinding("constants"),{ERR_FS_CP_DIR_TO_NON_DIR,ERR_FS_CP_EEXIST,ERR_FS_CP_EINVAL,ERR_FS_CP_FIFO_PIPE,ERR_FS_CP_NON_DIR_TO_DIR,ERR_FS_CP_SOCKET,ERR_FS_CP_SYMLINK_TO_SUBDIRECTORY,ERR_FS_CP_UNKNOWN,ERR_FS_EISDIR,ERR_INVALID_RETURN_VALUE}=codes,{chmodSync,copyFileSync,existsSync,lstatSync,mkdirSync,readdirSync,readlinkSync,statSync,symlinkSync,unlinkSync,utimesSync}=require("fs"),{dirname,isAbsolute,join,parse,resolve}=require("path"),{isPromise}=require("util/types");function cpSyncFn(r,n,e){if(e.preserveTimestamps&&process.arch==="ia32"){const o="Using the preserveTimestamps option in 32-bit node is not recommended";process.emitWarning(o,"TimestampPrecisionWarning")}const{srcStat:t,destStat:i}=checkPathsSync(r,n,e);return checkParentPathsSync(r,t,n),handleFilterAndCopy(i,r,n,e)}function checkPathsSync(r,n,e){const{srcStat:t,destStat:i}=getStatsSync(r,n,e);if(i){if(areIdentical(t,i))throw new ERR_FS_CP_EINVAL({message:"src and dest cannot be the same",path:n,syscall:"cp",errno:EINVAL});if(t.isDirectory()&&!i.isDirectory())throw new ERR_FS_CP_DIR_TO_NON_DIR({message:`cannot overwrite directory ${r} with non-directory ${n}`,path:n,syscall:"cp",errno:EISDIR});if(!t.isDirectory()&&i.isDirectory())throw new ERR_FS_CP_NON_DIR_TO_DIR({message:`cannot overwrite non-directory ${r} with directory ${n}`,path:n,syscall:"cp",errno:ENOTDIR})}if(t.isDirectory()&&isSrcSubdir(r,n))throw new ERR_FS_CP_EINVAL({message:`cannot copy ${r} to a subdirectory of self ${n}`,path:n,syscall:"cp",errno:EINVAL});return{srcStat:t,destStat:i}}function getStatsSync(r,n,e){let t;const i=e.dereference?c=>statSync(c,{bigint:!0}):c=>lstatSync(c,{bigint:!0}),o=i(r);try{t=i(n)}catch(c){if(c.code==="ENOENT")return{srcStat:o,destStat:null};throw c}return{srcStat:o,destStat:t}}function checkParentPathsSync(r,n,e){const t=resolve(dirname(r)),i=resolve(dirname(e));if(i===t||i===parse(i).root)return;let o;try{o=statSync(i,{bigint:!0})}catch(c){if(c.code==="ENOENT")return;throw c}if(areIdentical(n,o))throw new ERR_FS_CP_EINVAL({message:`cannot copy ${r} to a subdirectory of self ${e}`,path:e,syscall:"cp",errno:EINVAL});return checkParentPathsSync(r,n,i)}function handleFilterAndCopy(r,n,e,t){if(t.filter){const o=t.filter(n,e);if(isPromise(o))throw new ERR_INVALID_RETURN_VALUE("boolean","filter",o);if(!o)return}const i=dirname(e);return existsSync(i)||mkdirSync(i,{recursive:!0}),getStats(r,n,e,t)}function startCopy(r,n,e,t){if(!(t.filter&&!t.filter(n,e)))return getStats(r,n,e,t)}function getStats(r,n,e,t){const o=(t.dereference?statSync:lstatSync)(n);if(o.isDirectory()&&t.recursive)return onDir(o,r,n,e,t);if(o.isDirectory())throw new ERR_FS_EISDIR({message:`${n} is a directory (not copied)`,path:n,syscall:"cp",errno:EINVAL});if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return onFile(o,r,n,e,t);if(o.isSymbolicLink())return onLink(r,n,e);throw o.isSocket()?new ERR_FS_CP_SOCKET({message:`cannot copy a socket file: ${e}`,path:e,syscall:"cp",errno:EINVAL}):o.isFIFO()?new ERR_FS_CP_FIFO_PIPE({message:`cannot copy a FIFO pipe: ${e}`,path:e,syscall:"cp",errno:EINVAL}):new ERR_FS_CP_UNKNOWN({message:`cannot copy an unknown file type: ${e}`,path:e,syscall:"cp",errno:EINVAL})}function onFile(r,n,e,t,i){return n?mayCopyFile(r,e,t,i):copyFile(r,e,t,i)}function mayCopyFile(r,n,e,t){if(t.force)return unlinkSync(e),copyFile(r,n,e,t);if(t.errorOnExist)throw new ERR_FS_CP_EEXIST({message:`${e} already exists`,path:e,syscall:"cp",errno:EEXIST})}function copyFile(r,n,e,t){return copyFileSync(n,e),t.preserveTimestamps&&handleTimestamps(r.mode,n,e),setDestMode(e,r.mode)}function handleTimestamps(r,n,e){return fileIsNotWritable(r)&&makeFileWritable(e,r),setDestTimestamps(n,e)}function fileIsNotWritable(r){return(r&128)==0}function makeFileWritable(r,n){return setDestMode(r,n|128)}function setDestMode(r,n){return chmodSync(r,n)}function setDestTimestamps(r,n){const e=statSync(r);return utimesSync(n,e.atime,e.mtime)}function onDir(r,n,e,t,i){return n?copyDir(e,t,i):mkDirAndCopy(r.mode,e,t,i)}function mkDirAndCopy(r,n,e,t){return mkdirSync(e),copyDir(n,e,t),setDestMode(e,r)}function copyDir(r,n,e){readdirSync(r).forEach(t=>copyDirItem(t,r,n,e))}function copyDirItem(r,n,e,t){const i=join(n,r),o=join(e,r),{destStat:c}=checkPathsSync(i,o,t);return startCopy(c,i,o,t)}function onLink(r,n,e){let t=readlinkSync(n);if(isAbsolute(t)||(t=resolve(dirname(n),t)),!r)return symlinkSync(t,e);let i;try{i=readlinkSync(e)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return symlinkSync(t,e);throw o}if(isAbsolute(i)||(i=resolve(dirname(e),i)),isSrcSubdir(t,i))throw new ERR_FS_CP_EINVAL({message:`cannot copy ${t} to a subdirectory of self ${i}`,path:e,syscall:"cp",errno:EINVAL});if(statSync(e).isDirectory()&&isSrcSubdir(i,t))throw new ERR_FS_CP_SYMLINK_TO_SUBDIRECTORY({message:`cannot overwrite ${i} with ${t}`,path:e,syscall:"cp",errno:EINVAL});return copyLink(t,e)}function copyLink(r,n){return unlinkSync(n),symlinkSync(r,n)}module.exports={cpSyncFn};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeEvery,ArrayPrototypeFilter,Boolean,PromiseAll,PromisePrototypeCatch,PromisePrototypeThen,PromiseReject,SafeArrayIterator,StringPrototypeSplit}=primordials,{codes:{ERR_FS_CP_DIR_TO_NON_DIR,ERR_FS_CP_EEXIST,ERR_FS_CP_EINVAL,ERR_FS_CP_FIFO_PIPE,ERR_FS_CP_NON_DIR_TO_DIR,ERR_FS_CP_SOCKET,ERR_FS_CP_SYMLINK_TO_SUBDIRECTORY,ERR_FS_CP_UNKNOWN,ERR_FS_EISDIR}}=require("internal/errors"),{os:{errno:{EEXIST,EISDIR,EINVAL,ENOTDIR}}}=internalBinding("constants"),{chmod,copyFile,lstat,mkdir,readdir,readlink,stat,symlink,unlink,utimes}=require("fs/promises"),{dirname,isAbsolute,join,parse,resolve,sep}=require("path");async function cpFn(r,e,n){if(n.preserveTimestamps&&process.arch==="ia32"){const a="Using the preserveTimestamps option in 32-bit node is not recommended";process.emitWarning(a,"TimestampPrecisionWarning")}const t=await checkPaths(r,e,n),{srcStat:i,destStat:o}=t;return await checkParentPaths(r,i,e),n.filter?handleFilter(checkParentDir,o,r,e,n):checkParentDir(o,r,e,n)}async function checkPaths(r,e,n){const{0:t,1:i}=await getStats(r,e,n);if(i){if(areIdentical(t,i))throw new ERR_FS_CP_EINVAL({message:"src and dest cannot be the same",path:e,syscall:"cp",errno:EINVAL});if(t.isDirectory()&&!i.isDirectory())throw new ERR_FS_CP_DIR_TO_NON_DIR({message:`cannot overwrite directory ${r} with non-directory ${e}`,path:e,syscall:"cp",errno:EISDIR});if(!t.isDirectory()&&i.isDirectory())throw new ERR_FS_CP_NON_DIR_TO_DIR({message:`cannot overwrite non-directory ${r} with directory ${e}`,path:e,syscall:"cp",errno:ENOTDIR})}if(t.isDirectory()&&isSrcSubdir(r,e))throw new ERR_FS_CP_EINVAL({message:`cannot copy ${r} to a subdirectory of self ${e}`,path:e,syscall:"cp",errno:EINVAL});return{srcStat:t,destStat:i}}function areIdentical(r,e){return e.ino&&e.dev&&e.ino===r.ino&&e.dev===r.dev}function getStats(r,e,n){const t=n.dereference?i=>stat(i,{bigint:!0}):i=>lstat(i,{bigint:!0});return PromiseAll(new SafeArrayIterator([t(r),PromisePrototypeCatch(t(e),i=>{if(i.code==="ENOENT")return null;throw i})]))}async function checkParentDir(r,e,n,t){const i=dirname(n);return await pathExists(i)||await mkdir(i,{recursive:!0}),getStatsForCopy(r,e,n,t)}function pathExists(r){return PromisePrototypeThen(stat(r),()=>!0,e=>e.code==="ENOENT"?!1:PromiseReject(e))}async function checkParentPaths(r,e,n){const t=resolve(dirname(r)),i=resolve(dirname(n));if(i===t||i===parse(i).root)return;let o;try{o=await stat(i,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(areIdentical(e,o))throw new ERR_FS_CP_EINVAL({message:`cannot copy ${r} to a subdirectory of self ${n}`,path:n,syscall:"cp",errno:EINVAL});return checkParentPaths(r,e,i)}const normalizePathToArray=r=>ArrayPrototypeFilter(StringPrototypeSplit(resolve(r),sep),Boolean);function isSrcSubdir(r,e){const n=normalizePathToArray(r),t=normalizePathToArray(e);return ArrayPrototypeEvery(n,(i,o)=>t[o]===i)}async function handleFilter(r,e,n,t,i,o){if(await i.filter(n,t))return r(e,n,t,i,o)}function startCopy(r,e,n,t){return t.filter?handleFilter(getStatsForCopy,r,e,n,t):getStatsForCopy(r,e,n,t)}async function getStatsForCopy(r,e,n,t){const o=await(t.dereference?stat:lstat)(e);if(o.isDirectory()&&t.recursive)return onDir(o,r,e,n,t);if(o.isDirectory())throw new ERR_FS_EISDIR({message:`${e} is a directory (not copied)`,path:e,syscall:"cp",errno:EINVAL});if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return onFile(o,r,e,n,t);if(o.isSymbolicLink())return onLink(r,e,n);throw o.isSocket()?new ERR_FS_CP_SOCKET({message:`cannot copy a socket file: ${n}`,path:n,syscall:"cp",errno:EINVAL}):o.isFIFO()?new ERR_FS_CP_FIFO_PIPE({message:`cannot copy a FIFO pipe: ${n}`,path:n,syscall:"cp",errno:EINVAL}):new ERR_FS_CP_UNKNOWN({message:`cannot copy an unknown file type: ${n}`,path:n,syscall:"cp",errno:EINVAL})}function onFile(r,e,n,t,i){return e?mayCopyFile(r,n,t,i):_copyFile(r,n,t,i)}async function mayCopyFile(r,e,n,t){if(t.force)return await unlink(n),_copyFile(r,e,n,t);if(t.errorOnExist)throw new ERR_FS_CP_EEXIST({message:`${n} already exists`,path:n,syscall:"cp",errno:EEXIST})}async function _copyFile(r,e,n,t){return await copyFile(e,n),t.preserveTimestamps?handleTimestampsAndMode(r.mode,e,n):setDestMode(n,r.mode)}async function handleTimestampsAndMode(r,e,n){return fileIsNotWritable(r)&&await makeFileWritable(n,r),setDestTimestampsAndMode(r,e,n)}function fileIsNotWritable(r){return(r&128)==0}function makeFileWritable(r,e){return setDestMode(r,e|128)}async function setDestTimestampsAndMode(r,e,n){return await setDestTimestamps(e,n),setDestMode(n,r)}function setDestMode(r,e){return chmod(r,e)}async function setDestTimestamps(r,e){const n=await stat(r);return utimes(e,n.atime,n.mtime)}function onDir(r,e,n,t,i){return e?copyDir(n,t,i):mkDirAndCopy(r.mode,n,t,i)}async function mkDirAndCopy(r,e,n,t){return await mkdir(n),await copyDir(e,n,t),setDestMode(n,r)}async function copyDir(r,e,n){const t=await readdir(r);for(let i=0;i<t.length;i++){const o=t[i],a=join(r,o),c=join(e,o),{destStat:s}=await checkPaths(a,c,n);await startCopy(s,a,c,n)}}async function onLink(r,e,n){let t=await readlink(e);if(isAbsolute(t)||(t=resolve(dirname(e),t)),!r)return symlink(t,n);let i;try{i=await readlink(n)}catch(a){if(a.code==="EINVAL"||a.code==="UNKNOWN")return symlink(t,n);throw a}if(isAbsolute(i)||(i=resolve(dirname(n),i)),isSrcSubdir(t,i))throw new ERR_FS_CP_EINVAL({message:`cannot copy ${t} to a subdirectory of self ${i}`,path:n,syscall:"cp",errno:EINVAL});if((await stat(e)).isDirectory()&&isSrcSubdir(i,t))throw new ERR_FS_CP_SYMLINK_TO_SUBDIRECTORY({message:`cannot overwrite ${i} with ${t}`,path:n,syscall:"cp",errno:EINVAL});return copyLink(t,n)}async function copyLink(r,e){return await unlink(e),symlink(r,e)}module.exports={areIdentical,cpFn,isSrcSubdir};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeForEach,ArrayPrototypeJoin,ArrayPrototypeSome,ObjectDefineProperty,ObjectPrototypeHasOwnProperty,SafeMap,SafeSet,StringPrototypeCharCodeAt,StringPrototypeIncludes,StringPrototypeSlice,StringPrototypeStartsWith}=primordials,{ERR_MANIFEST_DEPENDENCY_MISSING,ERR_UNKNOWN_BUILTIN_MODULE}=require("internal/errors").codes,{NativeModule}=require("internal/bootstrap/loaders"),{validateString}=require("internal/validators"),path=require("path"),{pathToFileURL,fileURLToPath,URL}=require("internal/url"),{getOptionValue}=require("internal/options"),userConditions=getOptionValue("--conditions");let debug=require("internal/util/debuglog").debuglog("module",e=>{debug=e});const noAddons=getOptionValue("--no-addons"),addonConditions=noAddons?[]:["node-addons"],cjsConditions=new SafeSet(["require","node",...addonConditions,...userConditions]);function loadNativeModule(e,s){const t=NativeModule.map.get(e);if(t?.canBeRequiredByUsers)return debug("load native module %s",s),t.compileForPublicLoader(),t}const urlToFileCache=new SafeMap;function makeRequireFunction(e,s){const t=e.constructor;let r;if(s){const n=e.filename||e.id,i=cjsConditions,{resolve:y,reaction:h}=s;r=function(d){let f=!0;const a=y(d,i);if(a===!0)f=!1;else if(a){const c=a.href;if(a.protocol==="node:"){const l=a.pathname,p=loadNativeModule(l,c);if(p&&p.canBeRequiredByUsers)return p.exports;throw new ERR_UNKNOWN_BUILTIN_MODULE(l)}else if(a.protocol==="file:"){let l;return urlToFileCache.has(c)?l=urlToFileCache.get(c):(l=fileURLToPath(a),urlToFileCache.set(c,l)),e.require(l)}}return f&&h(new ERR_MANIFEST_DEPENDENCY_MISSING(n,d,ArrayPrototypeJoin([...i],", "))),e.require(d)}}else r=function(i){return e.require(i)};function u(n,i){return validateString(n,"request"),t._resolveFilename(n,e,!1,i)}r.resolve=u;function o(n){return validateString(n,"request"),t._resolveLookupPaths(n,e)}return u.paths=o,r.main=process.mainModule,r.extensions=t._extensions,r.cache=t._cache,r}function stripBOM(e){return StringPrototypeCharCodeAt(e)===65279&&(e=StringPrototypeSlice(e,1)),e}function addBuiltinLibsToObject(e,s){const t=require("internal/modules/cjs/loader").Module,{builtinModules:r}=t,u=new t(s);ArrayPrototypeForEach(r,o=>{if(StringPrototypeStartsWith(o,"_")||StringPrototypeIncludes(o,"/")||ObjectPrototypeHasOwnProperty(e,o))return;const n=i=>{delete e[o],e[o]=i};ObjectDefineProperty(e,o,{get:()=>{const i=u.require(o);return delete e[o],ObjectDefineProperty(e,o,{get:()=>i,set:n,configurable:!0,enumerable:!1}),i},set:n,configurable:!0,enumerable:!1})})}function normalizeReferrerURL(e){return typeof e=="string"&&path.isAbsolute(e)?pathToFileURL(e).href:new URL(e).href}function hasEsmSyntax(e){debug("Checking for ESM syntax");const s=require("internal/deps/acorn/acorn/dist/acorn").Parser;let t;try{t=s.parse(e,{sourceType:"module",ecmaVersion:"latest"})}catch{return!1}return ArrayPrototypeSome(t.body,r=>r.type==="ExportDefaultDeclaration"||r.type==="ExportNamedDeclaration"||r.type==="ImportDeclaration"||r.type==="ExportAllDeclaration")}module.exports={addBuiltinLibsToObject,cjsConditions,hasEsmSyntax,loadNativeModule,makeRequireFunction,normalizeReferrerURL,stripBOM};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,ArrayPrototypeConcat,ArrayPrototypeFilter,ArrayPrototypeIncludes,ArrayPrototypeIndexOf,ArrayPrototypeJoin,ArrayPrototypePush,ArrayPrototypeSlice,ArrayPrototypeSplice,ArrayPrototypeUnshift,ArrayPrototypeUnshiftApply,Boolean,Error,JSONParse,ObjectCreate,ObjectDefineProperty,ObjectFreeze,ObjectGetOwnPropertyDescriptor,ObjectGetPrototypeOf,ObjectKeys,ObjectPrototype,ObjectPrototypeHasOwnProperty,ObjectSetPrototypeOf,Proxy,ReflectApply,ReflectSet,RegExpPrototypeExec,RegExpPrototypeTest,SafeMap,SafeWeakMap,String,StringPrototypeCharAt,StringPrototypeCharCodeAt,StringPrototypeEndsWith,StringPrototypeLastIndexOf,StringPrototypeIndexOf,StringPrototypeMatch,StringPrototypeRepeat,StringPrototypeSlice,StringPrototypeSplit,StringPrototypeStartsWith}=primordials,cjsParseCache=new SafeWeakMap;module.exports={wrapSafe,Module,toRealPath,readPackageScope,cjsParseCache,get hasLoadedAnyUserCJSModule(){return hasLoadedAnyUserCJSModule}};const{NativeModule}=require("internal/bootstrap/loaders"),{maybeCacheSourceMap}=require("internal/source_map/source_map_cache"),{pathToFileURL,fileURLToPath,isURLInstance}=require("internal/url"),{deprecate}=require("internal/util"),vm=require("vm"),assert=require("internal/assert"),fs=require("fs"),internalFS=require("internal/fs/utils"),path=require("path"),{sep}=path,{internalModuleStat}=internalBinding("fs"),packageJsonReader=require("internal/modules/package_json_reader"),{safeGetenv}=internalBinding("credentials"),{cjsConditions,hasEsmSyntax,loadNativeModule,makeRequireFunction,normalizeReferrerURL,stripBOM}=require("internal/modules/cjs/helpers"),{getOptionValue}=require("internal/options"),preserveSymlinks=getOptionValue("--preserve-symlinks"),preserveSymlinksMain=getOptionValue("--preserve-symlinks-main"),policy=getOptionValue("--experimental-policy")?require("internal/process/policy"):null;let hasLoadedAnyUserCJSModule=!1;const{codes:{ERR_INVALID_ARG_VALUE,ERR_INVALID_MODULE_SPECIFIER,ERR_REQUIRE_ESM,ERR_UNKNOWN_BUILTIN_MODULE},setArrowMessage}=require("internal/errors"),{validateString}=require("internal/validators"),pendingDeprecation=getOptionValue("--pending-deprecation"),{CHAR_FORWARD_SLASH,CHAR_BACKWARD_SLASH,CHAR_COLON}=require("internal/constants"),{isProxy}=require("internal/util/types"),asyncESM=require("internal/process/esm_loader"),{enrichCJSError}=require("internal/modules/esm/translators"),{kEvaluated}=internalBinding("module_wrap"),{encodedSepRegEx,packageExportsResolve,packageImportsResolve}=require("internal/modules/esm/resolve"),isWindows=process.platform==="win32",relativeResolveCache=ObjectCreate(null);let requireDepth=0,statCache=null,isPreloading=!1;function stat(e){if(e=path.toNamespacedPath(e),statCache!==null){const r=statCache.get(e);if(r!==void 0)return r}const t=internalModuleStat(e);return statCache!==null&&t>=0&&statCache.set(e,t),t}function updateChildren(e,t,r){const n=e?.children;n&&!(r&&ArrayPrototypeIncludes(n,t))&&ArrayPrototypePush(n,t)}const moduleParentCache=new SafeWeakMap;function Module(e="",t){this.id=e,this.path=path.dirname(e),this.exports={},moduleParentCache.set(this,t),updateChildren(t,this,!1),this.filename=null,this.loaded=!1,this.children=[]}const builtinModules=[];for(const{0:e,1:t}of NativeModule.map)t.canBeRequiredByUsers&&ArrayPrototypePush(builtinModules,e);ObjectFreeze(builtinModules),Module.builtinModules=builtinModules,Module._cache=ObjectCreate(null),Module._pathCache=ObjectCreate(null),Module._extensions=ObjectCreate(null);let modulePaths=[];Module.globalPaths=[];let patched=!1,wrap=function(e){return Module.wrapper[0]+e+Module.wrapper[1]};const wrapper=["(function (exports, require, module, __filename, __dirname) { ",`
});`];let wrapperProxy=new Proxy(wrapper,{set(e,t,r,n){return patched=!0,ReflectSet(e,t,r,n)},defineProperty(e,t,r){return patched=!0,ObjectDefineProperty(e,t,r)}});ObjectDefineProperty(Module,"wrap",{get(){return wrap},set(e){patched=!0,wrap=e}}),ObjectDefineProperty(Module,"wrapper",{get(){return wrapperProxy},set(e){patched=!0,wrapperProxy=e}});const isPreloadingDesc={get(){return isPreloading}};ObjectDefineProperty(Module.prototype,"isPreloading",isPreloadingDesc),ObjectDefineProperty(NativeModule.prototype,"isPreloading",isPreloadingDesc);function getModuleParent(){return moduleParentCache.get(this)}function setModuleParent(e){moduleParentCache.set(this,e)}ObjectDefineProperty(Module.prototype,"parent",{get:pendingDeprecation?deprecate(getModuleParent,"module.parent is deprecated due to accuracy issues. Please use require.main to find program entry point instead.","DEP0144"):getModuleParent,set:pendingDeprecation?deprecate(setModuleParent,"module.parent is deprecated due to accuracy issues. Please use require.main to find program entry point instead.","DEP0144"):setModuleParent});let debug=require("internal/util/debuglog").debuglog("module",e=>{debug=e});Module._debug=deprecate(debug,"Module._debug is deprecated.","DEP0077");const packageJsonCache=new SafeMap;function readPackage(e){const t=path.resolve(e,"package.json"),r=packageJsonCache.get(t);if(r!==void 0)return r;const n=packageJsonReader.read(t),o=n.containsKeys===!1?"{}":n.string;if(o===void 0)return packageJsonCache.set(t,!1),!1;try{const s=JSONParse(o),i={name:s.name,main:s.main,exports:s.exports,imports:s.imports,type:s.type};return packageJsonCache.set(t,i),i}catch(s){throw s.path=t,s.message="Error parsing "+t+": "+s.message,s}}function readPackageScope(e){const t=StringPrototypeIndexOf(e,sep);let r;do{if(r=StringPrototypeLastIndexOf(e,sep),e=StringPrototypeSlice(e,0,r),StringPrototypeEndsWith(e,sep+"node_modules"))return!1;const n=readPackage(e+sep);if(n)return{data:n,path:e}}while(r>t);return!1}function tryPackage(e,t,r,n){const o=readPackage(e)?.main;if(!o)return tryExtensions(path.resolve(e,"index"),t,r);const s=path.resolve(e,o);let i=tryFile(s,r)||tryExtensions(s,t,r)||tryExtensions(path.resolve(s,"index"),t,r);if(i===!1)if(i=tryExtensions(path.resolve(e,"index"),t,r),i){const c=path.resolve(e,"package.json");process.emitWarning(`Invalid 'main' field in '${c}' of '${o}'. Please either fix that or report it to the module author`,"DeprecationWarning","DEP0128")}else{const c=new Error(`Cannot find module '${s}'. Please verify that the package.json has a valid "main" entry`);throw c.code="MODULE_NOT_FOUND",c.path=path.resolve(e,"package.json"),c.requestPath=n,c}return i}const realpathCache=new SafeMap;function tryFile(e,t){if(stat(e)===0)return preserveSymlinks&&!t?path.resolve(e):toRealPath(e)}function toRealPath(e){return fs.realpathSync(e,{[internalFS.realpathCacheKey]:realpathCache})}function tryExtensions(e,t,r){for(let n=0;n<t.length;n++){const o=tryFile(e+t[n],r);if(o)return o}return!1}function findLongestRegisteredExtension(e){const t=path.basename(e);let r,n,o=0;for(;(n=StringPrototypeIndexOf(t,".",o))!==-1;)if(o=n+1,n!==0&&(r=StringPrototypeSlice(t,n),Module._extensions[r]))return r;return".js"}function trySelfParentPath(e){if(!e)return!1;if(e.filename)return e.filename;if(e.id==="<repl>"||e.id==="internal/preload")try{return process.cwd()+path.sep}catch{return!1}}function trySelf(e,t){if(!e)return!1;const{data:r,path:n}=readPackageScope(e)||{};if(!r||r.exports===void 0||typeof r.name!="string")return!1;let o;if(t===r.name)o=".";else if(StringPrototypeStartsWith(t,`${r.name}/`))o="."+StringPrototypeSlice(t,r.name.length);else return!1;try{return finalizeEsmResolution(packageExportsResolve(pathToFileURL(n+"/package.json"),o,r,pathToFileURL(e),cjsConditions),e,n)}catch(s){throw s.code==="ERR_MODULE_NOT_FOUND"?createEsmNotFoundErr(t,n+"/package.json"):s}}const EXPORTS_PATTERN=/^((?:@[^/\\%]+\/)?[^./\\%][^/\\%]*)(\/.*)?$/;function resolveExports(e,t){const{1:r,2:n=""}=StringPrototypeMatch(t,EXPORTS_PATTERN)||[];if(!r)return;const o=path.resolve(e,r),s=readPackage(o);if(s?.exports!=null)try{return finalizeEsmResolution(packageExportsResolve(pathToFileURL(o+"/package.json"),"."+n,s,null,cjsConditions),null,o)}catch(i){throw i.code==="ERR_MODULE_NOT_FOUND"?createEsmNotFoundErr(t,o+"/package.json"):i}}const trailingSlashRegex=/(?:^|\/)\.?\.$/;Module._findPath=function(e,t,r){const n=path.isAbsolute(e);if(n)t=[""];else if(!t||t.length===0)return!1;const o=e+"\0"+ArrayPrototypeJoin(t,"\0"),s=Module._pathCache[o];if(s)return s;let i,c=e.length>0&&StringPrototypeCharCodeAt(e,e.length-1)===CHAR_FORWARD_SLASH;c||(c=RegExpPrototypeTest(trailingSlashRegex,e));for(let d=0;d<t.length;d++){const a=t[d];if(a&&stat(a)<1)continue;if(!n){const p=resolveExports(a,e);if(p)return p}const l=path.resolve(a,e);let u;const f=stat(l);if(c||(f===0&&(r?preserveSymlinksMain?u=path.resolve(l):u=toRealPath(l):preserveSymlinks?u=path.resolve(l):u=toRealPath(l)),u||(i===void 0&&(i=ObjectKeys(Module._extensions)),u=tryExtensions(l,i,r))),!u&&f===1&&(i===void 0&&(i=ObjectKeys(Module._extensions)),u=tryPackage(l,i,r,e)),u)return Module._pathCache[o]=u,u}return!1};const nmChars=[115,101,108,117,100,111,109,95,101,100,111,110],nmLen=nmChars.length;isWindows?Module._nodeModulePaths=function(e){if(e=path.resolve(e),StringPrototypeCharCodeAt(e,e.length-1)===CHAR_BACKWARD_SLASH&&StringPrototypeCharCodeAt(e,e.length-2)===CHAR_COLON)return[e+"node_modules"];const t=[];for(let r=e.length-1,n=0,o=e.length;r>=0;--r){const s=StringPrototypeCharCodeAt(e,r);s===CHAR_BACKWARD_SLASH||s===CHAR_FORWARD_SLASH||s===CHAR_COLON?(n!==nmLen&&ArrayPrototypePush(t,StringPrototypeSlice(e,0,o)+"\\node_modules"),o=r,n=0):n!==-1&&(nmChars[n]===s?++n:n=-1)}return t}:Module._nodeModulePaths=function(e){if(e=path.resolve(e),e==="/")return["/node_modules"];const t=[];for(let r=e.length-1,n=0,o=e.length;r>=0;--r){const s=StringPrototypeCharCodeAt(e,r);s===CHAR_FORWARD_SLASH?(n!==nmLen&&ArrayPrototypePush(t,StringPrototypeSlice(e,0,o)+"/node_modules"),o=r,n=0):n!==-1&&(nmChars[n]===s?++n:n=-1)}return ArrayPrototypePush(t,"/node_modules"),t},Module._resolveLookupPaths=function(e,t){if(NativeModule.canBeRequiredByUsers(e))return debug("looking for %j in []",e),null;if(StringPrototypeCharAt(e,0)!=="."||e.length>1&&StringPrototypeCharAt(e,1)!=="."&&StringPrototypeCharAt(e,1)!=="/"&&(!isWindows||StringPrototypeCharAt(e,1)!=="\\")){let n=modulePaths;return t?.paths?.length&&(n=ArrayPrototypeConcat(t.paths,n)),debug("looking for %j in %j",e,n),n.length>0?n:null}if(!t||!t.id||!t.filename){const n=["."];return debug("looking for %j in %j",e,n),n}debug("RELATIVE: requested: %s from parent.id %s",e,t.id);const r=[path.dirname(t.filename)];return debug("looking for %j",r),r};function emitCircularRequireWarning(e){process.emitWarning(`Accessing non-existent property '${String(e)}' of module exports inside circular dependency`)}const CircularRequirePrototypeWarningProxy=new Proxy({},{get(e,t){if(t in e||t==="__esModule")return e[t];emitCircularRequireWarning(t)},getOwnPropertyDescriptor(e,t){if(ObjectPrototypeHasOwnProperty(e,t)||t==="__esModule")return ObjectGetOwnPropertyDescriptor(e,t);emitCircularRequireWarning(t)}});function getExportsForCircularRequire(e){return e.exports&&!isProxy(e.exports)&&ObjectGetPrototypeOf(e.exports)===ObjectPrototype&&!e.exports.__esModule&&ObjectSetPrototypeOf(e.exports,CircularRequirePrototypeWarningProxy),e.exports}Module._load=function(e,t,r){let n;if(t){debug("Module._load REQUEST %s parent: %s",e,t.id),n=`${t.path}\0${e}`;const a=relativeResolveCache[n];if(a!==void 0){const l=Module._cache[a];if(l!==void 0)return updateChildren(t,l,!0),l.loaded?l.exports:getExportsForCircularRequire(l);delete relativeResolveCache[n]}}const o=Module._resolveFilename(e,t,r);if(StringPrototypeStartsWith(o,"node:")){const a=StringPrototypeSlice(o,5),l=loadNativeModule(a,e);if(!l?.canBeRequiredByUsers)throw new ERR_UNKNOWN_BUILTIN_MODULE(o);return l.exports}const s=Module._cache[o];if(s!==void 0){if(updateChildren(t,s,!0),s.loaded)return s.exports;{const a=cjsParseCache.get(s);if(!a||a.loaded)return getExportsForCircularRequire(s);a.loaded=!0}}const i=loadNativeModule(o,e);if(i?.canBeRequiredByUsers)return i.exports;const c=s||new Module(o,t);r&&(process.mainModule=c,c.id="."),Module._cache[o]=c,t!==void 0&&(relativeResolveCache[n]=o);let d=!0;try{c.load(o),d=!1}finally{if(d){if(delete Module._cache[o],t!==void 0){delete relativeResolveCache[n];const a=t?.children;if(ArrayIsArray(a)){const l=ArrayPrototypeIndexOf(a,c);l!==-1&&ArrayPrototypeSplice(a,l,1)}}}else c.exports&&!isProxy(c.exports)&&ObjectGetPrototypeOf(c.exports)===CircularRequirePrototypeWarningProxy&&ObjectSetPrototypeOf(c.exports,ObjectPrototype)}return c.exports},Module._resolveFilename=function(e,t,r,n){if(StringPrototypeStartsWith(e,"node:")||NativeModule.canBeRequiredByUsers(e))return e;let o;if(typeof n=="object"&&n!==null)if(ArrayIsArray(n.paths))if(StringPrototypeStartsWith(e,"./")||StringPrototypeStartsWith(e,"../")||isWindows&&StringPrototypeStartsWith(e,".\\")||StringPrototypeStartsWith(e,"..\\"))o=n.paths;else{const f=new Module("",null);o=[];for(let p=0;p<n.paths.length;p++){const y=n.paths[p];f.paths=Module._nodeModulePaths(y);const h=Module._resolveLookupPaths(e,f);for(let g=0;g<h.length;g++)ArrayPrototypeIncludes(o,h[g])||ArrayPrototypePush(o,h[g])}}else if(n.paths===void 0)o=Module._resolveLookupPaths(e,t);else throw new ERR_INVALID_ARG_VALUE("options.paths",n.paths);else o=Module._resolveLookupPaths(e,t);if(t?.filename&&e[0]==="#"){const u=readPackageScope(t.filename)||{};if(u.data?.imports!=null)try{return finalizeEsmResolution(packageImportsResolve(e,pathToFileURL(t.filename),cjsConditions),t.filename,u.path)}catch(f){throw f.code==="ERR_MODULE_NOT_FOUND"?createEsmNotFoundErr(e):f}}const s=trySelfParentPath(t),i=trySelf(s,e);if(i){const u=e+"\0"+(o.length===1?o[0]:ArrayPrototypeJoin(o,"\0"));return Module._pathCache[u]=i,i}const c=Module._findPath(e,o,r,!1);if(c)return c;const d=[];for(let u=t;u;u=moduleParentCache.get(u))ArrayPrototypePush(d,u.filename||u.id);let a=`Cannot find module '${e}'`;d.length>0&&(a=a+`
Require stack:
- `+ArrayPrototypeJoin(d,`
- `));const l=new Error(a);throw l.code="MODULE_NOT_FOUND",l.requireStack=d,l};function finalizeEsmResolution(e,t,r){if(RegExpPrototypeTest(encodedSepRegEx,e))throw new ERR_INVALID_MODULE_SPECIFIER(e,'must not include encoded "/" or "\\" characters',t);const n=fileURLToPath(e),o=tryFile(n);if(o)return o;throw createEsmNotFoundErr(n,path.resolve(r,"package.json"))}function createEsmNotFoundErr(e,t){const r=new Error(`Cannot find module '${e}'`);return r.code="MODULE_NOT_FOUND",t&&(r.path=t),r}Module.prototype.load=function(e){debug("load %j for module %j",e,this.id),assert(!this.loaded),this.filename=e,this.paths=Module._nodeModulePaths(path.dirname(e));const t=findLongestRegisteredExtension(e);if(StringPrototypeEndsWith(e,".mjs")&&!Module._extensions[".mjs"])throw new ERR_REQUIRE_ESM(e,!0);Module._extensions[t](this,e),this.loaded=!0;const r=asyncESM.esmLoader,n=this.exports;(module?.module===void 0||module.module.getStatus()<kEvaluated)&&!r.cjsCache.has(this)&&r.cjsCache.set(this,n)},Module.prototype.require=function(e){if(validateString(e,"id"),e==="")throw new ERR_INVALID_ARG_VALUE("id",e,"must be a non-empty string");requireDepth++;try{return Module._load(e,this,!1)}finally{requireDepth--}};let resolvedArgv,hasPausedEntry=!1;function wrapSafe(e,t,r){if(patched){const n=Module.wrap(t);return vm.runInThisContext(n,{filename:e,lineOffset:0,displayErrors:!0,importModuleDynamically:async o=>asyncESM.esmLoader.import(o,normalizeReferrerURL(e))})}try{return vm.compileFunction(t,["exports","require","module","__filename","__dirname"],{filename:e,importModuleDynamically(n){return asyncESM.esmLoader.import(n,normalizeReferrerURL(e))}})}catch(n){throw process.mainModule===r&&enrichCJSError(n,t),n}}Module.prototype._compile=function(e,t){let r,n;policy?.manifest&&(r=pathToFileURL(t),n=policy.manifest.getDependencyMapper(r),policy.manifest.assertIntegrity(r,e)),maybeCacheSourceMap(t,e,this);const o=wrapSafe(t,e,this);let s=null;if(getOptionValue("--inspect-brk")&&process._eval==null){if(!resolvedArgv)if(process.argv[1])try{resolvedArgv=Module._resolveFilename(process.argv[1],null,!1)}catch{assert(ArrayIsArray(getOptionValue("--require")))}else resolvedArgv="repl";resolvedArgv&&!hasPausedEntry&&t===resolvedArgv&&(hasPausedEntry=!0,s=internalBinding("inspector").callAndPauseOnStart)}const i=path.dirname(t),c=makeRequireFunction(this,n);let d;const a=this.exports,l=a,u=this;return requireDepth===0&&(statCache=new SafeMap),s?d=s(o,l,a,c,u,t,i):d=ReflectApply(o,l,[a,c,u,t,i]),hasLoadedAnyUserCJSModule=!0,requireDepth===0&&(statCache=null),d},Module._extensions[".js"]=function(e,t){const r=cjsParseCache.get(e);let n;if(r?.source?(n=r.source,r.source=void 0):n=fs.readFileSync(t,"utf8"),StringPrototypeEndsWith(t,".js")){const o=readPackageScope(t);if(o?.data?.type==="module"){const i=moduleParentCache.get(e)?.filename,c=path.resolve(o.path,"package.json"),d=hasEsmSyntax(n),a=new ERR_REQUIRE_ESM(t,d,i,c);if(Module._cache[i]){let l;try{l=fs.readFileSync(i,"utf8")}catch{}if(l){const u=StringPrototypeSplit(StringPrototypeSlice(a.stack,StringPrototypeIndexOf(a.stack,"    at ")),`
`,1)[0],{1:f,2:p}=RegExpPrototypeExec(/(\d+):(\d+)\)/,u)||[];if(f&&p){const y=StringPrototypeSplit(l,`
`)[f-1],h=`${i}:${f}
${y}
${StringPrototypeRepeat(" ",p-1)}^
`;setArrowMessage(a,h)}}}throw a}}e._compile(n,t)},Module._extensions[".json"]=function(e,t){const r=fs.readFileSync(t,"utf8");if(policy?.manifest){const n=pathToFileURL(t);policy.manifest.assertIntegrity(n,r)}try{e.exports=JSONParse(stripBOM(r))}catch(n){throw n.message=t+": "+n.message,n}},Module._extensions[".node"]=function(e,t){if(policy?.manifest){const r=fs.readFileSync(t),n=pathToFileURL(t);policy.manifest.assertIntegrity(n,r)}return process.dlopen(e,path.toNamespacedPath(t))};function createRequireFromPath(e){const r=StringPrototypeEndsWith(e,"/")||isWindows&&StringPrototypeEndsWith(e,"\\")?path.join(e,"noop.js"):e,n=new Module(r);return n.filename=r,n.paths=Module._nodeModulePaths(n.path),makeRequireFunction(n,null)}const createRequireError="must be a file URL object, file URL string, or absolute path string";function createRequire(e){let t;if(isURLInstance(e)||typeof e=="string"&&!path.isAbsolute(e))try{t=fileURLToPath(e)}catch{throw new ERR_INVALID_ARG_VALUE("filename",e,createRequireError)}else{if(typeof e!="string")throw new ERR_INVALID_ARG_VALUE("filename",e,createRequireError);t=e}return createRequireFromPath(t)}Module.createRequire=createRequire,Module._initPaths=function(){const e=isWindows?process.env.USERPROFILE:safeGetenv("HOME"),t=isWindows?process.env.NODE_PATH:safeGetenv("NODE_PATH"),r=isWindows?path.resolve(process.execPath,".."):path.resolve(process.execPath,"..",".."),n=[path.resolve(r,"lib","node")];e&&(ArrayPrototypeUnshift(n,path.resolve(e,".node_libraries")),ArrayPrototypeUnshift(n,path.resolve(e,".node_modules"))),t&&ArrayPrototypeUnshiftApply(n,ArrayPrototypeFilter(StringPrototypeSplit(t,path.delimiter),Boolean)),modulePaths=n,Module.globalPaths=ArrayPrototypeSlice(modulePaths)},Module._preloadModules=function(e){if(!ArrayIsArray(e))return;isPreloading=!0;const t=new Module("internal/preload",null);try{t.paths=Module._nodeModulePaths(process.cwd())}catch(r){if(r.code!=="ENOENT")throw isPreloading=!1,r}for(let r=0;r<e.length;r++)t.require(e[r]);isPreloading=!1},Module.syncBuiltinESMExports=function(){for(const t of NativeModule.map.values())t.canBeRequiredByUsers&&t.syncExports()},Module.Module=Module;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeJoin,ArrayPrototypeMap,JSONStringify,ObjectCreate,SafeSet}=primordials;let debug=require("internal/util/debuglog").debuglog("esm",o=>{debug=o});function createImport(o,t){const r=JSONStringify(o);return`import * as $import_${t} from ${r};
import.meta.imports[${r}] = $import_${t};`}function createExport(o){const t=`${o}`;return`let $${t};
export { $${t} as ${t} };
import.meta.exports.${t} = {
  get: () => $${t},
  set: (v) => $${t} = v,
};`}const createDynamicModule=(o,t,r="",p)=>{debug("creating ESM facade for %s with exports: %j",r,t);const c=`
${ArrayPrototypeJoin(ArrayPrototypeMap(o,createImport),`
`)}
${ArrayPrototypeJoin(ArrayPrototypeMap(t,createExport),`
`)}
import.meta.done();
`,{ModuleWrap:m,callbackMap:l}=internalBinding("module_wrap"),s=new m(`${r}`,void 0,c,0,0),a=new SafeSet,e={exports:ObjectCreate(null),onReady:n=>{a.add(n)}};return o.length&&(e.imports=ObjectCreate(null)),l.set(s,{initializeImportMeta:(n,d)=>{n.exports=e.exports,e.imports&&(n.imports=e.imports),n.done=()=>{p(e),e.onReady=i=>i(e);for(const i of a)a.delete(i),i(e)}}}),{module:s,reflect:e}};module.exports=createDynamicModule;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectAssign,ObjectCreate,ObjectPrototypeHasOwnProperty,RegExpPrototypeExec}=primordials,{extname}=require("path"),{getOptionValue}=require("internal/options"),experimentalJsonModules=getOptionValue("--experimental-json-modules"),experimentalSpecifierResolution=getOptionValue("--experimental-specifier-resolution"),experimentalWasmModules=getOptionValue("--experimental-wasm-modules"),{getPackageType}=require("internal/modules/esm/resolve"),{URL,fileURLToPath}=require("internal/url"),{ERR_UNKNOWN_FILE_EXTENSION}=require("internal/errors").codes,extensionFormatMap={__proto__:null,".cjs":"commonjs",".js":"module",".mjs":"module"},legacyExtensionFormatMap={__proto__:null,".cjs":"commonjs",".js":"commonjs",".json":"commonjs",".mjs":"module",".node":"commonjs"};experimentalWasmModules&&(extensionFormatMap[".wasm"]=legacyExtensionFormatMap[".wasm"]="wasm"),experimentalJsonModules&&(extensionFormatMap[".json"]=legacyExtensionFormatMap[".json"]="json");const protocolHandlers=ObjectAssign(ObjectCreate(null),{"data:"(o){const{1:t}=RegExpPrototypeExec(/^([^/]+\/[^;,]+)(?:[^,]*?)(;base64)?,/,o.pathname)||[,null];return{__proto__:null,"text/javascript":"module","application/json":experimentalJsonModules?"json":null,"application/wasm":experimentalWasmModules?"wasm":null}[t]||null},"file:"(o,t){const e=extname(o.pathname);let n;if(e===".js"?n=getPackageType(o.href)==="module"?"module":"commonjs":n=extensionFormatMap[e],!n)if(experimentalSpecifierResolution==="node")process.emitWarning("The Node.js specifier resolution in ESM is experimental.","ExperimentalWarning"),n=legacyExtensionFormatMap[e];else throw new ERR_UNKNOWN_FILE_EXTENSION(e,fileURLToPath(t));return n||null},"node:"(){return"builtin"}});function defaultGetFormat(o,t){const e=new URL(o);return ObjectPrototypeHasOwnProperty(protocolHandlers,e.protocol)?protocolHandlers[e.protocol](e,o):null}module.exports={defaultGetFormat,extensionFormatMap,legacyExtensionFormatMap};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{RegExpPrototypeExec,decodeURIComponent}=primordials,{getOptionValue}=require("internal/options"),policy=getOptionValue("--experimental-policy")?require("internal/process/policy"):null,{Buffer}=require("buffer"),fs=require("internal/fs/promises").exports,{URL}=require("internal/url"),{ERR_INVALID_URL,ERR_INVALID_URL_SCHEME}=require("internal/errors").codes,readFileAsync=fs.readFile,DATA_URL_PATTERN=/^[^/]+\/[^,;]+(?:[^,]*?)(;base64)?,([\s\S]*)$/;async function defaultGetSource(r,{format:i}={},a){const e=new URL(r);let t;if(e.protocol==="file:")t=await readFileAsync(e);else if(e.protocol==="data:"){const o=RegExpPrototypeExec(DATA_URL_PATTERN,e.pathname);if(!o)throw new ERR_INVALID_URL(r);const{1:n,2:s}=o;t=Buffer.from(decodeURIComponent(s),n?"base64":"utf8")}else throw new ERR_INVALID_URL_SCHEME(["file","data"]);return policy?.manifest&&policy.manifest.assertIntegrity(e,t),t}exports.defaultGetSource=defaultGetSource;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{defaultGetFormat}=require("internal/modules/esm/get_format"),{defaultGetSource}=require("internal/modules/esm/get_source"),{translators}=require("internal/modules/esm/translators");async function defaultLoad(r,s){let{format:e,source:t}=s;return translators.has(e)||(e=defaultGetFormat(r)),e==="builtin"||e==="commonjs"?t=null:t==null&&(t=await defaultGetSource(r,{format:e})),{format:e,source:t}}module.exports={defaultLoad};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";require("internal/modules/cjs/loader");const{Array,ArrayIsArray,ArrayPrototypeJoin,ArrayPrototypePush,FunctionPrototypeBind,FunctionPrototypeCall,ObjectCreate,ObjectSetPrototypeOf,PromiseAll,RegExpPrototypeExec,SafeArrayIterator,SafeWeakMap,globalThis}=primordials,{ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_INVALID_MODULE_SPECIFIER,ERR_INVALID_RETURN_PROPERTY_VALUE,ERR_INVALID_RETURN_VALUE,ERR_UNKNOWN_MODULE_FORMAT}=require("internal/errors").codes,{pathToFileURL,isURLInstance}=require("internal/url"),{isAnyArrayBuffer,isArrayBufferView}=require("internal/util/types"),ModuleMap=require("internal/modules/esm/module_map"),ModuleJob=require("internal/modules/esm/module_job"),{defaultResolve,DEFAULT_CONDITIONS}=require("internal/modules/esm/resolve"),{defaultLoad}=require("internal/modules/esm/load"),{translators}=require("internal/modules/esm/translators"),{getOptionValue}=require("internal/options");class ESMLoader{#o=[];#e=[defaultLoad];#t=[defaultResolve];cjsCache=new SafeWeakMap;evalIndex=0;moduleMap=new ModuleMap;translators=translators;static pluckHooks({globalPreload:e,resolve:t,load:n,dynamicInstantiate:s,getFormat:o,getGlobalPreloadCode:a,getSource:r,transformSource:l}){const i=[],u=ObjectCreate(null);return a&&(e??=a,process.emitWarning('Loader hook "getGlobalPreloadCode" has been renamed to "globalPreload"')),s&&ArrayPrototypePush(i,"dynamicInstantiate"),o&&ArrayPrototypePush(i,"getFormat"),r&&ArrayPrototypePush(i,"getSource"),l&&ArrayPrototypePush(i,"transformSource"),i.length&&process.emitWarning(`Obsolete loader hook(s) supplied and will be ignored: ${ArrayPrototypeJoin(i,", ")}`,"DeprecationWarning"),e&&(u.globalPreloader=FunctionPrototypeBind(e,null)),t&&(u.resolver=FunctionPrototypeBind(t,null)),n&&(u.loader=FunctionPrototypeBind(n,null)),u}async addCustomLoaders(e=[]){ArrayIsArray(e)||(e=[e]);for(let t=0;t<e.length;t++){const n=e[t],{globalPreloader:s,resolver:o,loader:a}=ESMLoader.pluckHooks(n);s&&ArrayPrototypePush(this.#o,FunctionPrototypeBind(s,null)),o&&ArrayPrototypePush(this.#t,FunctionPrototypeBind(o,null)),a&&ArrayPrototypePush(this.#e,FunctionPrototypeBind(a,null))}this.preload()}async eval(e,t=pathToFileURL(`${process.cwd()}/[eval${++this.evalIndex}]`).href){const n=a=>{const{ModuleWrap:r,callbackMap:l}=internalBinding("module_wrap"),i=new r(a,void 0,e,0,0);return l.set(i,{importModuleDynamically:(u,{url:c})=>this.import(u,c)}),i},s=new ModuleJob(this,t,n,!1,!1);this.moduleMap.set(t,s);const{module:o}=await s.run();return{namespace:o.getNamespace()}}async getModuleJob(e,t){const{format:n,url:s}=await this.resolve(e,t);let o=this.moduleMap.get(s);if(typeof o=="function"&&this.moduleMap.set(s,o=o()),o!==void 0)return o;const a=async(l,i)=>{const{format:u,source:c}=await this.load(l,{format:n}),d=translators.get(u);if(!d)throw new ERR_UNKNOWN_MODULE_FORMAT(u);return FunctionPrototypeCall(d,this,l,c,i)},r=t===void 0&&getOptionValue("--inspect-brk");return o=new ModuleJob(this,s,a,t===void 0,r),this.moduleMap.set(s,o),o}async import(e,t){const n=ArrayIsArray(e);n||(e=[e]);const s=e.length,o=new Array(s);for(let r=0;r<s;r++)o[r]=this.getModuleJob(e[r],t).then(l=>l.run()).then(({module:l})=>l.getNamespace());const a=await PromiseAll(new SafeArrayIterator(o));return n?a:a[0]}async load(e,t={}){const n=this.#e[0],o=await(this.#e.length===1?n:this.#e[1])(e,t,n);if(typeof o!="object")throw new ERR_INVALID_RETURN_VALUE("object","loader load",o);const{format:a,source:r}=o;if(a==null){const l=RegExpPrototypeExec(/^data:([^/]+\/[^;,]+)(?:[^,]*?)(;base64)?,/,e);throw new ERR_INVALID_MODULE_SPECIFIER(e,l?`has an unsupported MIME type "${l[1]}"`:"")}if(typeof a!="string")throw new ERR_INVALID_RETURN_PROPERTY_VALUE("string","loader resolve","format",a);if(r!=null&&typeof r!="string"&&!isAnyArrayBuffer(r)&&!isArrayBufferView(r))throw ERR_INVALID_RETURN_PROPERTY_VALUE("string, an ArrayBuffer, or a TypedArray","loader load","source",r);return{format:a,source:r}}preload(){const e=this.#o.length;if(!!e)for(let t=0;t<e;t++){const n=this.#o[t]();if(n==null)return;if(typeof n!="string")throw new ERR_INVALID_RETURN_VALUE("string","loader globalPreloadCode",n);const{compileFunction:s}=require("vm"),o=s(n,["getBuiltin"],{filename:"<preload>"}),{NativeModule:a}=require("internal/bootstrap/loaders");FunctionPrototypeCall(o,globalThis,r=>{if(a.canBeRequiredByUsers(r))return require(r);throw new ERR_INVALID_ARG_VALUE("builtinName",r)})}}async resolve(e,t){if(!(t===void 0)&&typeof t!="string"&&!isURLInstance(t))throw new ERR_INVALID_ARG_TYPE("parentURL",["string","URL"],t);const s=DEFAULT_CONDITIONS,o=this.#t[0],r=await(this.#t.length===1?o:this.#t[1])(e,{conditions:s,parentURL:t},o);if(typeof r!="object")throw new ERR_INVALID_RETURN_VALUE("object","loader resolve",r);const{format:l,url:i}=r;if(l!=null&&typeof l!="string")throw new ERR_INVALID_RETURN_PROPERTY_VALUE("string","loader resolve","format",l);if(typeof i!="string")throw new ERR_INVALID_RETURN_PROPERTY_VALUE("string","loader resolve","url",i);return{format:l,url:i}}}ObjectSetPrototypeOf(ESMLoader.prototype,null),exports.ESMLoader=ESMLoader;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeJoin,ArrayPrototypeMap,ArrayPrototypePush,ArrayPrototypeSome,FunctionPrototype,ObjectSetPrototypeOf,PromiseAll,PromiseResolve,PromisePrototypeCatch,ReflectApply,RegExpPrototypeTest,SafeArrayIterator,SafeSet,StringPrototypeIncludes,StringPrototypeMatch,StringPrototypeReplace,StringPrototypeSplit,StringPrototypeStartsWith}=primordials,{ModuleWrap}=internalBinding("module_wrap"),{decorateErrorStack}=require("internal/util"),{getSourceMapsEnabled}=require("internal/source_map/source_map_cache"),assert=require("internal/assert"),resolvedPromise=PromiseResolve(),noop=FunctionPrototype;let hasPausedEntry=!1;const CJSGlobalLike=["require","module","exports","__filename","__dirname"],isCommonJSGlobalLikeNotDefinedError=m=>ArrayPrototypeSome(CJSGlobalLike,t=>m===`${t} is not defined`);class ModuleJob{constructor(t,o,e,n,d){this.loader=t,this.isMain=n,this.inspectBrk=d,this.module=void 0,this.modulePromise=ReflectApply(e,t,[o,n]);const s=async()=>{this.module=await this.modulePromise,assert(this.module instanceof ModuleWrap);const i=[],a=this.module.link(async l=>{const r=this.loader.getModuleJob(l,o);return ArrayPrototypePush(i,r),(await r).modulePromise});return a!==void 0&&await PromiseAll(new SafeArrayIterator(a)),PromiseAll(new SafeArrayIterator(i))};this.linked=s(),PromisePrototypeCatch(this.linked,noop),this.instantiated=void 0}instantiate(){return this.instantiated===void 0&&(this.instantiated=this._instantiate()),this.instantiated}async _instantiate(){const t=new SafeSet,o=async e=>{if(t.has(e))return;t.add(e);const n=await e.linked;return PromiseAll(new SafeArrayIterator(ArrayPrototypeMap(n,o)))};await o(this);try{!hasPausedEntry&&this.inspectBrk?(hasPausedEntry=!0,internalBinding("inspector").callAndPauseOnStart(this.module.instantiate,this.module)):this.module.instantiate()}catch(e){if(decorateErrorStack(e),!getSourceMapsEnabled()&&StringPrototypeIncludes(e.message," does not provide an export named")){const n=StringPrototypeSplit(e.stack,`
`),d=StringPrototypeReplace(n[0],/:\d+$/,""),{1:s,2:i}=StringPrototypeMatch(e.message,/module '(.*)' does not provide an export named '(.+)'/),{url:a}=await this.loader.resolve(s,d),{format:l}=await this.loader.load(a);if(l==="commonjs"){const r=n[1],c=StringPrototypeMatch(r,/{.*}/),u=c&&StringPrototypeReplace(c,/\s+as\s+/g,": ");e.message=`Named export '${i}' not found. The requested module '${s}' is a CommonJS module, which may not support all module.exports as named exports.
CommonJS modules can always be imported via the default export, for example using:

import pkg from '${s}';
${u?`const ${u} = pkg;
`:""}`;const p=StringPrototypeSplit(e.stack,`
`);p[3]=`SyntaxError: ${e.message}`,e.stack=ArrayPrototypeJoin(p,`
`)}}throw e}for(const e of t)e.instantiated=resolvedPromise}async run(){await this.instantiate();const t=-1,o=!1;try{await this.module.evaluate(t,o)}catch(e){if(e?.name==="ReferenceError"&&isCommonJSGlobalLikeNotDefinedError(e.message)){e.message+=" in ES module scope",StringPrototypeStartsWith(e.message,"require ")&&(e.message+=", you can use import instead");const n=StringPrototypeStartsWith(this.module.url,"file://")&&RegExpPrototypeTest(/\.js(\?[^#]*)?(#.*)?$/,this.module.url)&&require("internal/modules/esm/resolve").getPackageScopeConfig(this.module.url);n.type==="module"&&(e.message+=`
This file is being treated as an ES module because it has a '.js' file extension and '${n.pjsonPath}' contains "type": "module". To treat it as a CommonJS script, rename it to use the '.cjs' file extension.`)}throw e}return{module:this.module}}}ObjectSetPrototypeOf(ModuleJob.prototype,null),module.exports=ModuleJob;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const ModuleJob=require("internal/modules/esm/module_job"),{SafeMap}=primordials;let debug=require("internal/util/debuglog").debuglog("esm",t=>{debug=t});const{ERR_INVALID_ARG_TYPE}=require("internal/errors").codes,{validateString}=require("internal/validators");class ModuleMap extends SafeMap{constructor(e){super(e)}get(e){return validateString(e,"url"),super.get(e)}set(e,r){if(validateString(e,"url"),!(r instanceof ModuleJob)&&typeof r!="function")throw new ERR_INVALID_ARG_TYPE("job","ModuleJob",r);return debug(`Storing ${e} in ModuleMap`),super.set(e,r)}has(e){return validateString(e,"url"),super.has(e)}}module.exports=ModuleMap;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,ArrayPrototypeJoin,ArrayPrototypeShift,JSONParse,JSONStringify,ObjectFreeze,ObjectGetOwnPropertyNames,ObjectPrototypeHasOwnProperty,RegExp,RegExpPrototypeSymbolReplace,RegExpPrototypeTest,SafeMap,SafeSet,String,StringPrototypeEndsWith,StringPrototypeIncludes,StringPrototypeIndexOf,StringPrototypeLastIndexOf,StringPrototypeReplace,StringPrototypeSlice,StringPrototypeSplit,StringPrototypeStartsWith}=primordials,internalFS=require("internal/fs/utils"),{NativeModule}=require("internal/bootstrap/loaders"),{realpathSync,statSync,Stats}=require("fs"),{getOptionValue}=require("internal/options"),policy=getOptionValue("--experimental-policy")?require("internal/process/policy"):null,{sep,relative,resolve}=require("path"),preserveSymlinks=getOptionValue("--preserve-symlinks"),preserveSymlinksMain=getOptionValue("--preserve-symlinks-main"),typeFlag=getOptionValue("--input-type"),{URL,pathToFileURL,fileURLToPath}=require("internal/url"),{ERR_INPUT_TYPE_NOT_ALLOWED,ERR_INVALID_ARG_VALUE,ERR_INVALID_MODULE_SPECIFIER,ERR_INVALID_PACKAGE_CONFIG,ERR_INVALID_PACKAGE_TARGET,ERR_MANIFEST_DEPENDENCY_MISSING,ERR_MODULE_NOT_FOUND,ERR_PACKAGE_IMPORT_NOT_DEFINED,ERR_PACKAGE_PATH_NOT_EXPORTED,ERR_UNSUPPORTED_DIR_IMPORT,ERR_UNSUPPORTED_ESM_URL_SCHEME}=require("internal/errors").codes,{Module:CJSModule}=require("internal/modules/cjs/loader"),packageJsonReader=require("internal/modules/package_json_reader"),userConditions=getOptionValue("--conditions"),noAddons=getOptionValue("--no-addons"),addonConditions=noAddons?[]:["node-addons"],DEFAULT_CONDITIONS=ObjectFreeze(["node","import",...addonConditions,...userConditions]),DEFAULT_CONDITIONS_SET=new SafeSet(DEFAULT_CONDITIONS),emittedPackageWarnings=new SafeSet;function emitTrailingSlashPatternDeprecation(n,e,o){const t=fileURLToPath(e);emittedPackageWarnings.has(t+"|"+n)||(emittedPackageWarnings.add(t+"|"+n),process.emitWarning(`Use of deprecated trailing slash pattern mapping "${n}" in the "exports" field module resolution of the package at ${t}${o?` imported from ${fileURLToPath(o)}`:""}. Mapping specifiers ending in "/" is no longer supported.`,"DeprecationWarning","DEP0155"))}function emitLegacyIndexDeprecation(n,e,o,t){if(defaultGetFormat(n)!=="module")return;const i=fileURLToPath(n),s=fileURLToPath(new URL(".",e)),u=fileURLToPath(o);t?process.emitWarning(`Package ${s} has a "main" field set to ${JSONStringify(t)}, excluding the full filename and extension to the resolved file at "${StringPrototypeSlice(i,s.length)}", imported from ${u}.
 Automatic extension resolution of the "main" field is deprecated for ES modules.`,"DeprecationWarning","DEP0151"):process.emitWarning(`No "main" or "exports" field defined in the package.json for ${s} resolving the main entry point "${StringPrototypeSlice(i,s.length)}", imported from ${u}.
Default "index" lookups for the main are deprecated for ES modules.`,"DeprecationWarning","DEP0151")}function getConditionsSet(n){if(n!==void 0&&n!==DEFAULT_CONDITIONS){if(!ArrayIsArray(n))throw new ERR_INVALID_ARG_VALUE("conditions",n,"expected an array");return new SafeSet(n)}return DEFAULT_CONDITIONS_SET}const realpathCache=new SafeMap,packageJSONCache=new SafeMap,tryStatSync=n=>statSync(n,{throwIfNoEntry:!1})??new Stats;function getPackageConfig(n,e,o){const t=packageJSONCache.get(n);if(t!==void 0)return t;const r=packageJsonReader.read(n).string;if(r===void 0){const a={pjsonPath:n,exists:!1,main:void 0,name:void 0,type:"none",exports:void 0,imports:void 0};return packageJSONCache.set(n,a),a}let i;try{i=JSONParse(r)}catch(a){throw new ERR_INVALID_PACKAGE_CONFIG(n,(o?`"${e}" from `:"")+fileURLToPath(o||e),a.message)}let{imports:s,main:u,name:f,type:d}=i;const{exports:l}=i;(typeof s!="object"||s===null)&&(s=void 0),typeof u!="string"&&(u=void 0),typeof f!="string"&&(f=void 0),d!=="module"&&d!=="commonjs"&&(d="none");const c={pjsonPath:n,exists:!0,main:u,name:f,type:d,exports:l,imports:s};return packageJSONCache.set(n,c),c}function getPackageScopeConfig(n){let e=new URL("./package.json",n);for(;;){const r=e.pathname;if(StringPrototypeEndsWith(r,"node_modules/package.json"))break;const i=getPackageConfig(fileURLToPath(e),n);if(i.exists)return i;const s=e;if(e=new URL("../package.json",e),e.pathname===s.pathname)break}const o=fileURLToPath(e),t={pjsonPath:o,exists:!1,main:void 0,name:void 0,type:"none",exports:void 0,imports:void 0};return packageJSONCache.set(o,t),t}function fileExists(n){return statSync(n,{throwIfNoEntry:!1})?.isFile()??!1}function legacyMainResolve(n,e,o){let t;if(e.main!==void 0){if(fileExists(t=new URL(`./${e.main}`,n)))return t;if(fileExists(t=new URL(`./${e.main}.js`,n))||fileExists(t=new URL(`./${e.main}.json`,n))||fileExists(t=new URL(`./${e.main}.node`,n))||fileExists(t=new URL(`./${e.main}/index.js`,n))||fileExists(t=new URL(`./${e.main}/index.json`,n))||fileExists(t=new URL(`./${e.main}/index.node`,n))||(t=void 0),t)return emitLegacyIndexDeprecation(t,n,o,e.main),t}if(fileExists(t=new URL("./index.js",n))||fileExists(t=new URL("./index.json",n))||fileExists(t=new URL("./index.node",n))||(t=void 0),t)return emitLegacyIndexDeprecation(t,n,o,e.main),t;throw new ERR_MODULE_NOT_FOUND(fileURLToPath(new URL(".",n)),fileURLToPath(o))}function resolveExtensionsWithTryExactName(n){return fileExists(n)?n:resolveExtensions(n)}const extensions=[".js",".json",".node",".mjs"];function resolveExtensions(n){for(let e=0;e<extensions.length;e++){const o=extensions[e],t=new URL(`${n.pathname}${o}`,n);if(fileExists(t))return t}}function resolveDirectoryEntry(n){const e=fileURLToPath(n),o=resolve(e,"package.json");if(fileExists(o)){const t=packageJsonReader.read(o);if(t.containsKeys){const{main:r}=JSONParse(t.string);if(r!=null){const i=pathToFileURL(resolve(e,r));return resolveExtensionsWithTryExactName(i)}}}return resolveExtensions(new URL("index",n))}const encodedSepRegEx=/%2F|%2C/i;function finalizeResolution(n,e){if(RegExpPrototypeTest(encodedSepRegEx,n.pathname))throw new ERR_INVALID_MODULE_SPECIFIER(n.pathname,'must not include encoded "/" or "\\" characters',fileURLToPath(e));const o=fileURLToPath(n);if(getOptionValue("--experimental-specifier-resolution")==="node"){let r=resolveExtensionsWithTryExactName(n);if(r!==void 0)return r;if(StringPrototypeEndsWith(o,"/"))return resolveDirectoryEntry(n)||n;if(r=resolveDirectoryEntry(new URL(`${n}/`)),r!==void 0)return r;throw new ERR_MODULE_NOT_FOUND(n.pathname,fileURLToPath(e),"module")}const t=tryStatSync(StringPrototypeEndsWith(o,"/")?StringPrototypeSlice(o,-1):o);if(t.isDirectory()){const r=new ERR_UNSUPPORTED_DIR_IMPORT(o,fileURLToPath(e));throw r.url=String(n),r}else if(!t.isFile())throw new ERR_MODULE_NOT_FOUND(o||n.pathname,e&&fileURLToPath(e),"module");return n}function throwImportNotDefined(n,e,o){throw new ERR_PACKAGE_IMPORT_NOT_DEFINED(n,e&&fileURLToPath(new URL(".",e)),fileURLToPath(o))}function throwExportsNotFound(n,e,o){throw new ERR_PACKAGE_PATH_NOT_EXPORTED(fileURLToPath(new URL(".",e)),n,o&&fileURLToPath(o))}function throwInvalidSubpath(n,e,o,t){const r=`request is not a valid subpath for the "${o?"imports":"exports"}" resolution of ${fileURLToPath(e)}`;throw new ERR_INVALID_MODULE_SPECIFIER(n,r,t&&fileURLToPath(t))}function throwInvalidPackageTarget(n,e,o,t,r){throw typeof e=="object"&&e!==null?e=JSONStringify(e,null,""):e=`${e}`,new ERR_INVALID_PACKAGE_TARGET(fileURLToPath(new URL(".",o)),n,e,t,r&&fileURLToPath(r))}const invalidSegmentRegEx=/(^|\\|\/)(\.\.?|node_modules)(\\|\/|$)/,patternRegEx=/\*/g;function resolvePackageTargetString(n,e,o,t,r,i,s,u){if(e!==""&&!i&&n[n.length-1]!=="/"&&throwInvalidPackageTarget(o,n,t,s,r),!StringPrototypeStartsWith(n,"./")){if(s&&!StringPrototypeStartsWith(n,"../")&&!StringPrototypeStartsWith(n,"/")){let c=!1;try{new URL(n),c=!0}catch{}if(!c){const a=i?RegExpPrototypeSymbolReplace(patternRegEx,n,()=>e):n+e;return packageResolve(a,t,u)}}throwInvalidPackageTarget(o,n,t,s,r)}RegExpPrototypeTest(invalidSegmentRegEx,StringPrototypeSlice(n,2))&&throwInvalidPackageTarget(o,n,t,s,r);const f=new URL(n,t),d=f.pathname,l=new URL(".",t).pathname;if(StringPrototypeStartsWith(d,l)||throwInvalidPackageTarget(o,n,t,s,r),e==="")return f;if(RegExpPrototypeTest(invalidSegmentRegEx,e)){const c=i?StringPrototypeReplace(o,"*",()=>e):o+e;throwInvalidSubpath(c,t,s,r)}return i?new URL(RegExpPrototypeSymbolReplace(patternRegEx,f.href,()=>e)):new URL(e,f)}function isArrayIndex(n){const e=+n;return`${e}`!==n?!1:e>=0&&e<4294967295}function resolvePackageTarget(n,e,o,t,r,i,s,u){if(typeof e=="string")return resolvePackageTargetString(e,o,t,n,r,i,s,u);if(ArrayIsArray(e)){if(e.length===0)return null;let f;for(let d=0;d<e.length;d++){const l=e[d];let c;try{c=resolvePackageTarget(n,l,o,t,r,i,s,u)}catch(a){if(f=a,a.code==="ERR_INVALID_PACKAGE_TARGET")continue;throw a}if(c!==void 0){if(c===null){f=null;continue}return c}}if(f==null)return f;throw f}else if(typeof e=="object"&&e!==null){const f=ObjectGetOwnPropertyNames(e);for(let d=0;d<f.length;d++){const l=f[d];if(isArrayIndex(l))throw new ERR_INVALID_PACKAGE_CONFIG(fileURLToPath(n),r,'"exports" cannot contain numeric property keys.')}for(let d=0;d<f.length;d++){const l=f[d];if(l==="default"||u.has(l)){const c=e[l],a=resolvePackageTarget(n,c,o,t,r,i,s,u);if(a===void 0)continue;return a}}return}else if(e===null)return null;throwInvalidPackageTarget(t,e,n,s,r)}function isConditionalExportsMainSugar(n,e,o){if(typeof n=="string"||ArrayIsArray(n))return!0;if(typeof n!="object"||n===null)return!1;const t=ObjectGetOwnPropertyNames(n);let r=!1,i=0;for(let s=0;s<t.length;s++){const u=t[s],f=u===""||u[0]!==".";if(i++==0)r=f;else if(r!==f)throw new ERR_INVALID_PACKAGE_CONFIG(fileURLToPath(e),o,`"exports" cannot contain some keys starting with '.' and some not. The exports object must either be an object of package subpath keys or an object of main entry condition name keys only.`)}return r}function packageExportsResolve(n,e,o,t,r){let i=o.exports;if(isConditionalExportsMainSugar(i,n,t)&&(i={".":i}),ObjectPrototypeHasOwnProperty(i,e)&&!StringPrototypeIncludes(e,"*")&&!StringPrototypeEndsWith(e,"/")){const d=i[e],l=resolvePackageTarget(n,d,"",e,t,!1,!1,r);return l==null&&throwExportsNotFound(e,n,t),l}let s="",u;const f=ObjectGetOwnPropertyNames(i);for(let d=0;d<f.length;d++){const l=f[d],c=StringPrototypeIndexOf(l,"*");if(c!==-1&&StringPrototypeStartsWith(e,StringPrototypeSlice(l,0,c))){StringPrototypeEndsWith(e,"/")&&emitTrailingSlashPatternDeprecation(e,n,t);const a=StringPrototypeSlice(l,c+1);e.length>=l.length&&StringPrototypeEndsWith(e,a)&&patternKeyCompare(s,l)===1&&StringPrototypeLastIndexOf(l,"*")===c&&(s=l,u=StringPrototypeSlice(e,c,e.length-a.length))}}if(s){const d=i[s],l=resolvePackageTarget(n,d,u,s,t,!0,!1,r);return l==null&&throwExportsNotFound(e,n,t),l}throwExportsNotFound(e,n,t)}function patternKeyCompare(n,e){const o=StringPrototypeIndexOf(n,"*"),t=StringPrototypeIndexOf(e,"*"),r=o===-1?n.length:o+1,i=t===-1?e.length:t+1;return r>i?-1:i>r||o===-1?1:t===-1||n.length>e.length?-1:e.length>n.length?1:0}function packageImportsResolve(n,e,o){if(n==="#"||StringPrototypeStartsWith(n,"#/")||StringPrototypeEndsWith(n,"/")){const i="is not a valid internal imports specifier name";throw new ERR_INVALID_MODULE_SPECIFIER(n,i,fileURLToPath(e))}let t;const r=getPackageScopeConfig(e);if(r.exists){t=pathToFileURL(r.pjsonPath);const i=r.imports;if(i)if(ObjectPrototypeHasOwnProperty(i,n)&&!StringPrototypeIncludes(n,"*")){const s=resolvePackageTarget(t,i[n],"",n,e,!1,!0,o);if(s!=null)return s}else{let s="",u;const f=ObjectGetOwnPropertyNames(i);for(let d=0;d<f.length;d++){const l=f[d],c=StringPrototypeIndexOf(l,"*");if(c!==-1&&StringPrototypeStartsWith(n,StringPrototypeSlice(l,0,c))){const a=StringPrototypeSlice(l,c+1);n.length>=l.length&&StringPrototypeEndsWith(n,a)&&patternKeyCompare(s,l)===1&&StringPrototypeLastIndexOf(l,"*")===c&&(s=l,u=StringPrototypeSlice(n,c,n.length-a.length))}}if(s){const d=i[s],l=resolvePackageTarget(t,d,u,s,e,!0,!0,o);if(l!=null)return l}}}throwImportNotDefined(n,t,e)}function getPackageType(n){return getPackageScopeConfig(n).type}function parsePackageName(n,e){let o=StringPrototypeIndexOf(n,"/"),t=!0,r=!1;n[0]==="@"&&(r=!0,o===-1||n.length===0?t=!1:o=StringPrototypeIndexOf(n,"/",o+1));const i=o===-1?n:StringPrototypeSlice(n,0,o);for(let u=0;u<i.length;u++)if(i[u]==="%"||i[u]==="\\"){t=!1;break}if(!t)throw new ERR_INVALID_MODULE_SPECIFIER(n,"is not a valid package name",fileURLToPath(e));const s="."+(o===-1?"":StringPrototypeSlice(n,o));return{packageName:i,packageSubpath:s,isScoped:r}}function packageResolve(n,e,o){const{packageName:t,packageSubpath:r,isScoped:i}=parsePackageName(n,e),s=getPackageScopeConfig(e);if(s.exists){const l=pathToFileURL(s.pjsonPath);if(s.name===t&&s.exports!==void 0&&s.exports!==null)return packageExportsResolve(l,r,s,e,o)}let u=new URL("./node_modules/"+t+"/package.json",e),f=fileURLToPath(u),d;do{if(!tryStatSync(StringPrototypeSlice(f,0,f.length-13)).isDirectory()){d=f,u=new URL((i?"../../../../node_modules/":"../../../node_modules/")+t+"/package.json",u),f=fileURLToPath(u);continue}const c=getPackageConfig(f,n,e);return c.exports!==void 0&&c.exports!==null?packageExportsResolve(u,r,c,e,o):r==="."?legacyMainResolve(u,c,e):new URL(r,u)}while(f.length!==d.length);throw new ERR_MODULE_NOT_FOUND(t,fileURLToPath(e))}function isBareSpecifier(n){return n[0]&&n[0]!=="/"&&n[0]!=="."}function isRelativeSpecifier(n){return n[0]==="."&&(n.length===1||n[1]==="/"||n[1]==="."&&(n.length===2||n[2]==="/"))}function shouldBeTreatedAsRelativeOrAbsolutePath(n){return n===""?!1:n[0]==="/"?!0:isRelativeSpecifier(n)}function moduleResolve(n,e,o){let t;if(shouldBeTreatedAsRelativeOrAbsolutePath(n))t=new URL(n,e);else if(n[0]==="#")t=packageImportsResolve(n,e,o);else try{t=new URL(n)}catch{t=packageResolve(n,e,o)}return finalizeResolution(t,e)}function resolveAsCommonJS(n,e){try{const o=fileURLToPath(e),t=new CJSModule(o,null);t.paths=CJSModule._nodeModulePaths(o);let r=CJSModule._resolveFilename(n,t,!1);if(isRelativeSpecifier(n))r=relative(o,r),StringPrototypeStartsWith(r,`..${sep}`)||(r=`.${sep}${r}`);else if(isBareSpecifier(n)){const i=StringPrototypeSplit(n,"/")[0],s=StringPrototypeIndexOf(r,i);s!==-1&&(r=StringPrototypeSlice(r,s))}return process.platform==="win32"&&(r=RegExpPrototypeSymbolReplace(new RegExp(`\\${sep}`,"g"),r,"/")),r}catch{return!1}}function defaultResolve(n,e={},o){let{parentURL:t,conditions:r}=e;if(t&&policy?.manifest){const f=policy.manifest.getDependencyMapper(t);if(f){const{resolve:d,reaction:l}=f,c=d(n,new SafeSet(r));let a=!0;if(c===!0)a=!1;else if(c)return{url:c.href};a&&l(new ERR_MANIFEST_DEPENDENCY_MISSING(t,n,ArrayPrototypeJoin([...r],", ")))}}let i;try{if(i=new URL(n),i.protocol==="data:")return{url:n}}catch{}if(i&&i.protocol==="node:")return{url:n};if(i&&i.protocol!=="file:"&&i.protocol!=="data:")throw new ERR_UNSUPPORTED_ESM_URL_SCHEME(i);if(NativeModule.canBeRequiredByUsers(n))return{url:"node:"+n};t&&StringPrototypeStartsWith(t,"data:")&&new URL(n,t);const s=t===void 0;if(s&&(t=pathToFileURL(`${process.cwd()}/`).href,typeFlag))throw new ERR_INPUT_TYPE_NOT_ALLOWED;r=getConditionsSet(r);let u;try{u=moduleResolve(n,t,r)}catch(f){if(f.code==="ERR_MODULE_NOT_FOUND"||f.code==="ERR_UNSUPPORTED_DIR_IMPORT"){StringPrototypeStartsWith(n,"file://")&&(n=fileURLToPath(n));const d=resolveAsCommonJS(n,t);if(d){const l=StringPrototypeSplit(f.stack,`
`),c=`Did you mean to import ${d}?`;f.stack=ArrayPrototypeShift(l)+`
`+c+`
`+ArrayPrototypeJoin(l,`
`),f.message+=`
${c}`}}throw f}if(s?!preserveSymlinksMain:!preserveSymlinks){const f=fileURLToPath(u),d=realpathSync(f,{[internalFS.realpathCacheKey]:realpathCache}),l=u;u=pathToFileURL(d+(StringPrototypeEndsWith(f,sep)?"/":"")),u.search=l.search,u.hash=l.hash}return{url:`${u}`}}module.exports={DEFAULT_CONDITIONS,defaultResolve,encodedSepRegEx,getPackageScopeConfig,getPackageType,packageExportsResolve,packageImportsResolve};const{defaultGetFormat}=require("internal/modules/esm/get_format");
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeForEach,ArrayPrototypeMap,Boolean,JSONParse,ObjectGetPrototypeOf,ObjectPrototypeHasOwnProperty,ObjectKeys,PromisePrototypeThen,PromiseReject,SafeArrayIterator,SafeMap,SafeSet,StringPrototypeReplace,StringPrototypeSlice,StringPrototypeStartsWith,SyntaxErrorPrototype,globalThis:{WebAssembly}}=primordials;let _TYPES=null;function lazyTypes(){return _TYPES!==null?_TYPES:_TYPES=require("internal/util/types")}const{readFileSync}=require("fs"),{extname,isAbsolute}=require("path"),{hasEsmSyntax,loadNativeModule,stripBOM}=require("internal/modules/cjs/helpers"),{Module:CJSModule,cjsParseCache}=require("internal/modules/cjs/loader"),internalURLModule=require("internal/url"),createDynamicModule=require("internal/modules/esm/create_dynamic_module"),{fileURLToPath,URL}=require("url");let debug=require("internal/util/debuglog").debuglog("esm",t=>{debug=t});const{emitExperimentalWarning}=require("internal/util"),{ERR_UNKNOWN_BUILTIN_MODULE,ERR_INVALID_RETURN_PROPERTY_VALUE}=require("internal/errors").codes,{maybeCacheSourceMap}=require("internal/source_map/source_map_cache"),moduleWrap=internalBinding("module_wrap"),{ModuleWrap}=moduleWrap,{getOptionValue}=require("internal/options"),experimentalImportMetaResolve=getOptionValue("--experimental-import-meta-resolve"),asyncESM=require("internal/process/esm_loader"),{emitWarningSync}=require("internal/process/warning"),{TextDecoder}=require("internal/encoding");let cjsParse;async function initCJSParse(){if(typeof WebAssembly=="undefined")cjsParse=require("internal/deps/cjs-module-lexer/lexer").parse;else{const{parse:t,init:e}=require("internal/deps/cjs-module-lexer/dist/lexer");await e(),cjsParse=t}}const translators=new SafeMap;exports.translators=translators,exports.enrichCJSError=enrichCJSError;let DECODER=null;function assertBufferSource(t,e,r){if(e&&typeof t=="string")return;const{isArrayBufferView:s,isAnyArrayBuffer:o}=lazyTypes();if(!(s(t)||o(t)))throw new ERR_INVALID_RETURN_PROPERTY_VALUE(`${e?"string, ":""}array buffer, or typed array`,r,"source",t)}function stringify(t){return typeof t=="string"?t:(assertBufferSource(t,!1,"transformSource"),DECODER=DECODER===null?new TextDecoder:DECODER,DECODER.decode(t))}function errPath(t){const e=new URL(t);return e.protocol==="file:"?fileURLToPath(e):t}async function importModuleDynamically(t,{url:e}){return asyncESM.esmLoader.import(t,e)}function createImportMetaResolve(t){return async function(r,s=t){return PromisePrototypeThen(asyncESM.esmLoader.resolve(r,s),({url:o})=>o,o=>o.code==="ERR_UNSUPPORTED_DIR_IMPORT"?o.url:PromiseReject(o))}}function initializeImportMeta(t,{url:e}){experimentalImportMetaResolve&&(t.resolve=createImportMetaResolve(e)),t.url=e}translators.set("module",async function(e,r,s){assertBufferSource(r,!0,"load"),r=stringify(r),maybeCacheSourceMap(e,r),debug(`Translating StandardModule ${e}`);const o=new ModuleWrap(e,void 0,r,0,0);return moduleWrap.callbackMap.set(o,{initializeImportMeta,importModuleDynamically}),o});function enrichCJSError(t,e,r){t!=null&&ObjectGetPrototypeOf(t)===SyntaxErrorPrototype&&hasEsmSyntax(e||readFileSync(r,"utf-8"))&&emitWarningSync('To load an ES module, set "type": "module" in the package.json or use the .mjs extension.')}const isWindows=process.platform==="win32",winSepRegEx=/\//g;translators.set("commonjs",async function(e,r,s){debug(`Translating CJSModule ${e}`);let o=internalURLModule.fileURLToPath(new URL(e));isWindows&&(o=StringPrototypeReplace(o,winSepRegEx,"\\")),cjsParse||await initCJSParse();const{module:n,exportNames:a}=cjsPreparseModuleExports(o),l=a.has("default")?[...a]:["default",...a];return new ModuleWrap(e,void 0,l,function(){debug(`Loading CJSModule ${e}`);let c;if(asyncESM.esmLoader.cjsCache.has(n))c=asyncESM.esmLoader.cjsCache.get(n),asyncESM.esmLoader.cjsCache.delete(n);else try{c=CJSModule._load(o,void 0,s)}catch(i){throw enrichCJSError(i,void 0,o),i}for(const i of a){if(!ObjectPrototypeHasOwnProperty(c,i)||i==="default")continue;let u;try{u=c[i]}catch{}this.setExport(i,u)}this.setExport("default",c)})});function cjsPreparseModuleExports(t){let e=CJSModule._cache[t];if(e){const l=cjsParseCache.get(e);if(l)return{module:e,exportNames:l.exportNames}}const r=Boolean(e);r||(e=new CJSModule(t),e.filename=t,e.paths=CJSModule._nodeModulePaths(e.path),CJSModule._cache[t]=e);let s;try{s=readFileSync(t,"utf8")}catch{}let o,n;try{({exports:o,reexports:n}=cjsParse(s||""))}catch{o=[],n=[]}const a=new SafeSet(new SafeArrayIterator(o));return cjsParseCache.set(e,{source:s,exportNames:a,loaded:r}),n.length&&(e.filename=t,e.paths=CJSModule._nodeModulePaths(e.path)),ArrayPrototypeForEach(n,l=>{let c;try{c=CJSModule._resolveFilename(l,e)}catch{return}const i=extname(c);if((i===".js"||i===".cjs"||!CJSModule._extensions[i])&&isAbsolute(c)){const{exportNames:u}=cjsPreparseModuleExports(c);for(const d of u)a.add(d)}}),{module:e,exportNames:a}}translators.set("builtin",async function(e){debug(`Translating BuiltinModule ${e}`);const r=StringPrototypeSlice(e,5),s=loadNativeModule(r,e);if(!StringPrototypeStartsWith(e,"node:")||!s)throw new ERR_UNKNOWN_BUILTIN_MODULE(e);return debug(`Loading BuiltinModule ${e}`),s.getESMFacade()}),translators.set("json",async function(e,r){emitExperimentalWarning("Importing JSON modules"),assertBufferSource(r,!0,"load"),debug(`Loading JSONModule ${e}`);const s=StringPrototypeStartsWith(e,"file:")?fileURLToPath(e):null;let o,n;if(s&&(o=isWindows?StringPrototypeReplace(s,winSepRegEx,"\\"):s,n=CJSModule._cache[o],n&&n.loaded)){const a=n.exports;return new ModuleWrap(e,void 0,["default"],function(){this.setExport("default",a)})}if(r=stringify(r),s&&(n=CJSModule._cache[o],n&&n.loaded)){const a=n.exports;return new ModuleWrap(e,void 0,["default"],function(){this.setExport("default",a)})}try{n={exports:JSONParse(stripBOM(r)),loaded:!0}}catch(a){throw a.message=errPath(e)+": "+a.message,a}return s&&(CJSModule._cache[o]=n),new ModuleWrap(e,void 0,["default"],function(){debug(`Parsing JSONModule ${e}`),this.setExport("default",n.exports)})}),translators.set("wasm",async function(t,e){emitExperimentalWarning("Importing Web Assembly modules"),assertBufferSource(e,!1,"load"),debug(`Translating WASMModule ${t}`);let r;try{r=await WebAssembly.compile(e)}catch(n){throw n.message=errPath(t)+": "+n.message,n}const s=ArrayPrototypeMap(WebAssembly.Module.imports(r),({module:n})=>n),o=ArrayPrototypeMap(WebAssembly.Module.exports(r),({name:n})=>n);return createDynamicModule(s,o,t,n=>{const{exports:a}=new WebAssembly.Instance(r,n.imports);for(const l of ObjectKeys(a))n.exports[l].set(a[l])}).module});
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeIncludes,ArrayPrototypeIndexOf,ArrayPrototypePop,ArrayPrototypePush,ArrayPrototypeShift,ArrayPrototypeSome,ArrayPrototypeSplice,FunctionPrototypeCall,NumberIsNaN,ObjectCreate,ObjectKeys,ObjectSetPrototypeOf,ObjectValues,StringPrototypeIndexOf,StringPrototypeSplit,StringPrototypeStartsWith,StringPrototypeSubstr,Symbol}=primordials,net=require("net"),EventEmitter=require("events");let debug=require("internal/util/debuglog").debuglog("http",i=>{debug=i});const{AsyncResource}=require("async_hooks"),{async_id_symbol}=require("internal/async_hooks").symbols,{codes:{ERR_OUT_OF_RANGE}}=require("internal/errors"),{once}=require("internal/util"),{validateNumber,validateOneOf,validateString}=require("internal/validators"),kOnKeylog=Symbol("onkeylog"),kRequestOptions=Symbol("requestOptions"),kRequestAsyncResource=Symbol("requestAsyncResource");class ReusedHandle{constructor(e,t){this.type=e,this.handle=t}}function freeSocketErrorListener(i){const e=this;debug("SOCKET ERROR on FREE socket:",i.message,i.stack),e.destroy(),e.emit("agentRemove")}function Agent(i){if(!(this instanceof Agent))return new Agent(i);if(FunctionPrototypeCall(EventEmitter,this),this.defaultPort=80,this.protocol="http:",this.options={__proto__:null,...i},this.options.path=null,this.requests=ObjectCreate(null),this.sockets=ObjectCreate(null),this.freeSockets=ObjectCreate(null),this.keepAliveMsecs=this.options.keepAliveMsecs||1e3,this.keepAlive=this.options.keepAlive||!1,this.maxSockets=this.options.maxSockets||Agent.defaultMaxSockets,this.maxFreeSockets=this.options.maxFreeSockets||256,this.scheduling=this.options.scheduling||"lifo",this.maxTotalSockets=this.options.maxTotalSockets,this.totalSocketCount=0,validateOneOf(this.scheduling,"scheduling",["fifo","lifo"]),this.maxTotalSockets!==void 0){if(validateNumber(this.maxTotalSockets,"maxTotalSockets"),this.maxTotalSockets<=0||NumberIsNaN(this.maxTotalSockets))throw new ERR_OUT_OF_RANGE("maxTotalSockets","> 0",this.maxTotalSockets)}else this.maxTotalSockets=1/0;this.on("free",(e,t)=>{const s=this.getName(t);if(debug("agent.on(free)",s),!e.writable){e.destroy();return}const c=this.requests[s];if(c&&c.length){const a=ArrayPrototypeShift(c),h=a[kRequestAsyncResource];h?(h.runInAsyncScope(()=>{asyncResetHandle(e),setRequestSocket(this,a,e)}),a[kRequestAsyncResource]=null):setRequestSocket(this,a,e),c.length===0&&delete this.requests[s];return}const r=e._httpMessage;if(!r||!r.shouldKeepAlive||!this.keepAlive){e.destroy();return}const n=this.freeSockets[s]||[],o=n.length;let l=o;if(this.sockets[s]&&(l+=this.sockets[s].length),this.totalSocketCount>this.maxTotalSockets||l>this.maxSockets||o>=this.maxFreeSockets||!this.keepSocketAlive(e)){e.destroy();return}this.freeSockets[s]=n,e[async_id_symbol]=-1,e._httpMessage=null,this.removeSocket(e,t),e.once("error",freeSocketErrorListener),ArrayPrototypePush(n,e)}),this.on("newListener",maybeEnableKeylog)}ObjectSetPrototypeOf(Agent.prototype,EventEmitter.prototype),ObjectSetPrototypeOf(Agent,EventEmitter);function maybeEnableKeylog(i){if(i==="keylog"){this.removeListener("newListener",maybeEnableKeylog);const e=this;this[kOnKeylog]=function(c){e.emit("keylog",c,this)};const t=ObjectValues(this.sockets);for(let s=0;s<t.length;s++)t[s].on("keylog",this[kOnKeylog])}}Agent.defaultMaxSockets=1/0,Agent.prototype.createConnection=net.createConnection,Agent.prototype.getName=function(e){let t=e.host||"localhost";return t+=":",e.port&&(t+=e.port),t+=":",e.localAddress&&(t+=e.localAddress),(e.family===4||e.family===6)&&(t+=`:${e.family}`),e.socketPath&&(t+=`:${e.socketPath}`),t},Agent.prototype.addRequest=function(e,t,s,c){typeof t=="string"&&(t={__proto__:null,host:t,port:s,localAddress:c}),t={__proto__:null,...t,...this.options},t.socketPath&&(t.path=t.socketPath),!t.servername&&t.servername!==""&&(t.servername=calculateServerName(t,e));const r=this.getName(t);this.sockets[r]||(this.sockets[r]=[]);const n=this.freeSockets[r];let o;if(n){for(;n.length&&n[0].destroyed;)ArrayPrototypeShift(n);o=this.scheduling==="fifo"?ArrayPrototypeShift(n):ArrayPrototypePop(n),n.length||delete this.freeSockets[r]}const l=n?n.length:0,a=l+this.sockets[r].length;o?(asyncResetHandle(o),this.reuseSocket(o,e),setRequestSocket(this,e,o),ArrayPrototypePush(this.sockets[r],o),this.totalSocketCount++):a<this.maxSockets&&this.totalSocketCount<this.maxTotalSockets?(debug("call onSocket",a,l),this.createSocket(e,t,(h,u)=>{h?e.onSocket(u,h):setRequestSocket(this,e,u)})):(debug("wait for socket"),this.requests[r]||(this.requests[r]=[]),e[kRequestOptions]=t,e[kRequestAsyncResource]=new AsyncResource("QueuedRequest"),ArrayPrototypePush(this.requests[r],e))},Agent.prototype.createSocket=function(e,t,s){t={__proto__:null,...t,...this.options},t.socketPath&&(t.path=t.socketPath),!t.servername&&t.servername!==""&&(t.servername=calculateServerName(t,e));const c=this.getName(t);t._agentKey=c,debug("createConnection",c,t),t.encoding=null;const r=once((o,l)=>{if(o)return s(o);this.sockets[c]||(this.sockets[c]=[]),ArrayPrototypePush(this.sockets[c],l),this.totalSocketCount++,debug("sockets",c,this.sockets[c].length,this.totalSocketCount),installListeners(this,l,t),s(null,l)}),n=this.createConnection(t,r);n&&r(null,n)};function calculateServerName(i,e){let t=i.host;const s=e.getHeader("host");if(s)if(validateString(s,"options.headers.host"),StringPrototypeStartsWith(s,"[")){const c=StringPrototypeIndexOf(s,"]");c===-1?t=s:t=StringPrototypeSubstr(s,1,c-1)}else t=StringPrototypeSplit(s,":",1)[0];return net.isIP(t)&&(t=""),t}function installListeners(i,e,t){function s(){debug("CLIENT socket onFree"),i.emit("free",e,t)}e.on("free",s);function c(o){debug("CLIENT socket onClose"),i.removeSocket(e,t)}e.on("close",c);function r(){debug("CLIENT socket onTimeout");const o=i.freeSockets;if(ArrayPrototypeSome(ObjectKeys(o),l=>ArrayPrototypeIncludes(o[l],e)))return e.destroy()}e.on("timeout",r);function n(){debug("CLIENT socket onRemove"),i.removeSocket(e,t),e.removeListener("close",c),e.removeListener("free",s),e.removeListener("timeout",r),e.removeListener("agentRemove",n)}e.on("agentRemove",n),i[kOnKeylog]&&e.on("keylog",i[kOnKeylog])}Agent.prototype.removeSocket=function(e,t){const s=this.getName(t);debug("removeSocket",s,"writable:",e.writable);const c=[this.sockets];e.writable||ArrayPrototypePush(c,this.freeSockets);for(let n=0;n<c.length;n++){const o=c[n];if(o[s]){const l=ArrayPrototypeIndexOf(o[s],e);l!==-1&&(ArrayPrototypeSplice(o[s],l,1),o[s].length===0&&delete o[s],this.totalSocketCount--)}}let r;if(this.requests[s]&&this.requests[s].length)debug("removeSocket, have a request, make a socket"),r=this.requests[s][0];else{const n=ObjectKeys(this.requests);for(let o=0;o<n.length;o++){const l=n[o];if(this.sockets[l]&&this.sockets[l].length)break;debug("removeSocket, have a request with different origin, make a socket"),r=this.requests[l][0],t=r[kRequestOptions];break}}r&&t&&(r[kRequestOptions]=void 0,this.createSocket(r,t,(n,o)=>{n?r.onSocket(o,n):o.emit("free")}))},Agent.prototype.keepSocketAlive=function(e){e.setKeepAlive(!0,this.keepAliveMsecs),e.unref();const t=this.options.timeout||0;return e.timeout!==t&&e.setTimeout(t),!0},Agent.prototype.reuseSocket=function(e,t){debug("have free socket"),e.removeListener("error",freeSocketErrorListener),t.reusedSocket=!0,e.ref()},Agent.prototype.destroy=function(){const e=[this.freeSockets,this.sockets];for(let t=0;t<e.length;t++){const s=e[t],c=ObjectKeys(s);for(let r=0;r<c.length;r++){const n=s[c[r]];for(let o=0;o<n.length;o++)n[o].destroy()}}};function setRequestSocket(i,e,t){e.onSocket(t);const s=i.options.timeout||0;e.timeout===void 0||e.timeout===s||t.setTimeout(e.timeout)}function asyncResetHandle(i){const e=i._handle;e&&typeof e.asyncReset=="function"&&(e.asyncReset(new ReusedHandle(e.getProviderType(),i)),i[async_id_symbol]=e.getAsyncId())}module.exports={Agent,globalAgent:new Agent};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,Boolean,Error,FunctionPrototypeCall,NumberIsFinite,ObjectAssign,ObjectKeys,ObjectSetPrototypeOf,ReflectApply,RegExpPrototypeTest,String,StringPrototypeCharCodeAt,StringPrototypeIncludes,StringPrototypeIndexOf,StringPrototypeToUpperCase,Symbol,TypedArrayPrototypeSlice}=primordials,net=require("net"),assert=require("internal/assert"),{once}=require("internal/util"),{_checkIsHttpToken:checkIsHttpToken,freeParser,parsers,HTTPParser,isLenient,prepareError}=require("_http_common"),{OutgoingMessage}=require("_http_outgoing"),Agent=require("_http_agent"),{Buffer}=require("buffer"),{defaultTriggerAsyncIdScope}=require("internal/async_hooks"),{URL,urlToHttpOptions,searchParamsSymbol}=require("internal/url"),{kOutHeaders,kNeedDrain}=require("internal/http"),{connResetException,codes}=require("internal/errors"),{ERR_HTTP_HEADERS_SENT,ERR_INVALID_ARG_TYPE,ERR_INVALID_HTTP_TOKEN,ERR_INVALID_PROTOCOL,ERR_UNESCAPED_CHARACTERS}=codes,{validateInteger}=require("internal/validators"),{getTimerDuration}=require("internal/timers"),{DTRACE_HTTP_CLIENT_REQUEST,DTRACE_HTTP_CLIENT_RESPONSE}=require("internal/dtrace"),{addAbortSignal,finished}=require("stream");let debug=require("internal/util/debuglog").debuglog("http",e=>{debug=e});const INVALID_PATH_REGEX=/[^\u0021-\u00ff]/,kError=Symbol("kError"),kLenientAll=HTTPParser.kLenientAll|0,kLenientNone=HTTPParser.kLenientNone|0;function validateHost(e,t){if(e!=null&&typeof e!="string")throw new ERR_INVALID_ARG_TYPE(`options.${t}`,["string","undefined","null"],e);return e}class HTTPClientAsyncResource{constructor(t,o){this.type=t,this.req=o}}function ClientRequest(e,t,o){if(FunctionPrototypeCall(OutgoingMessage,this),typeof e=="string"){const i=e;e=urlToHttpOptions(new URL(i))}else e&&e[searchParamsSymbol]&&e[searchParamsSymbol][searchParamsSymbol]?e=urlToHttpOptions(e):(o=t,t=e,e=null);typeof t=="function"?(o=t,t=e||{}):t=ObjectAssign(e||{},t);let s=t.agent;const n=t._defaultAgent||Agent.globalAgent;if(s===!1)s=new n.constructor;else if(s==null)typeof t.createConnection!="function"&&(s=n);else if(typeof s.addRequest!="function")throw new ERR_INVALID_ARG_TYPE("options.agent",["Agent-like Object","undefined","false"],s);this.agent=s;const c=t.protocol||n.protocol;let h=n.protocol;if(this.agent&&this.agent.protocol&&(h=this.agent.protocol),t.path){const i=String(t.path);if(RegExpPrototypeTest(INVALID_PATH_REGEX,i))throw new ERR_UNESCAPED_CHARACTERS("Request path")}if(c!==h)throw new ERR_INVALID_PROTOCOL(c,h);const l=t.defaultPort||this.agent&&this.agent.defaultPort,d=t.port=t.port||l||80,p=t.host=validateHost(t.hostname,"hostname")||validateHost(t.host,"host")||"localhost",y=t.setHost===void 0||Boolean(t.setHost);this.socketPath=t.socketPath,t.timeout!==void 0&&(this.timeout=getTimerDuration(t.timeout,"timeout"));const T=t.signal;T&&addAbortSignal(T,this);let r=t.method;const _=typeof r=="string";if(r!=null&&!_)throw new ERR_INVALID_ARG_TYPE("options.method","string",r);if(_&&r){if(!checkIsHttpToken(r))throw new ERR_INVALID_HTTP_TOKEN("Method",r);r=this.method=StringPrototypeToUpperCase(r)}else r=this.method="GET";const g=t.maxHeaderSize;g!==void 0&&validateInteger(g,"maxHeaderSize",0),this.maxHeaderSize=g;const f=t.insecureHTTPParser;if(f!==void 0&&typeof f!="boolean")throw new ERR_INVALID_ARG_TYPE("options.insecureHTTPParser","boolean",f);if(this.insecureHTTPParser=f,this.path=t.path||"/",o&&this.once("response",o),r==="GET"||r==="HEAD"||r==="DELETE"||r==="OPTIONS"||r==="TRACE"||r==="CONNECT"?this.useChunkedEncodingByDefault=!1:this.useChunkedEncodingByDefault=!0,this._ended=!1,this.res=null,this.aborted=!1,this.timeoutCb=null,this.upgradeOrConnect=!1,this.parser=null,this.maxHeadersCount=null,this.reusedSocket=!1,this.host=p,this.protocol=c,this.agent&&(!this.agent.keepAlive&&!NumberIsFinite(this.agent.maxSockets)?(this._last=!0,this.shouldKeepAlive=!1):(this._last=!1,this.shouldKeepAlive=!0)),ArrayIsArray(t.headers))this._storeHeader(this.method+" "+this.path+` HTTP/1.1\r
`,t.headers);else{if(t.headers){const i=ObjectKeys(t.headers);for(let a=0;a<i.length;a++){const m=i[a];this.setHeader(m,t.headers[m])}}if(p&&!this.getHeader("host")&&y){let i=p;const a=StringPrototypeIndexOf(i,":");a!==-1&&StringPrototypeIncludes(i,":",a+1)&&StringPrototypeCharCodeAt(i,0)!==91&&(i=`[${i}]`),d&&+d!==l&&(i+=":"+d),this.setHeader("Host",i)}if(t.auth&&!this.getHeader("Authorization")&&this.setHeader("Authorization","Basic "+Buffer.from(t.auth).toString("base64")),this.getHeader("expect")){if(this._header)throw new ERR_HTTP_HEADERS_SENT("render");this._storeHeader(this.method+" "+this.path+` HTTP/1.1\r
`,this[kOutHeaders])}}let u=t;if(u.signal&&(u=ObjectAssign({},t),delete u.signal),this.agent)this.agent.addRequest(this,u);else if(this._last=!0,this.shouldKeepAlive=!1,typeof u.createConnection=="function"){const i=once((a,m)=>{a?process.nextTick(()=>this.emit("error",a)):this.onSocket(m)});try{const a=u.createConnection(u,i);a&&i(null,a)}catch(a){i(a)}}else debug("CLIENT use net.createConnection",u),this.onSocket(net.createConnection(u))}ObjectSetPrototypeOf(ClientRequest.prototype,OutgoingMessage.prototype),ObjectSetPrototypeOf(ClientRequest,OutgoingMessage),ClientRequest.prototype._finish=function(){DTRACE_HTTP_CLIENT_REQUEST(this,this.socket),FunctionPrototypeCall(OutgoingMessage.prototype._finish,this)},ClientRequest.prototype._implicitHeader=function(){if(this._header)throw new ERR_HTTP_HEADERS_SENT("render");this._storeHeader(this.method+" "+this.path+` HTTP/1.1\r
`,this[kOutHeaders])},ClientRequest.prototype.abort=function(){this.aborted||(this.aborted=!0,process.nextTick(emitAbortNT,this),this.destroy())},ClientRequest.prototype.destroy=function(t){return this.destroyed?this:(this.destroyed=!0,this.res&&this.res._dump(),this[kError]=t,this.socket?.destroy(t),this)};function emitAbortNT(e){e.emit("abort")}function ondrain(){const e=this._httpMessage;e&&!e.finished&&e[kNeedDrain]&&(e[kNeedDrain]=!1,e.emit("drain"))}function socketCloseListener(){const e=this,t=e._httpMessage;debug("HTTP socket close"),e.read();const o=e.parser,s=t.res;t.destroyed=!0,s?(s.complete||s.destroy(connResetException("aborted")),t._closed=!0,t.emit("close"),!s.aborted&&s.readable&&s.push(null)):(t.socket._hadError||(t.socket._hadError=!0,t.emit("error",connResetException("socket hang up"))),t._closed=!0,t.emit("close")),t.outputData&&(t.outputData.length=0),o&&(o.finish(),freeParser(o,t,e))}function socketErrorListener(e){const t=this,o=t._httpMessage;debug("SOCKET ERROR:",e.message,e.stack),o&&(o.socket._hadError=!0,o.emit("error",e));const s=t.parser;s&&(s.finish(),freeParser(s,o,t)),t.removeListener("data",socketOnData),t.removeListener("end",socketOnEnd),t.destroy()}function socketOnEnd(){const e=this,t=this._httpMessage,o=this.parser;!t.res&&!t.socket._hadError&&(t.socket._hadError=!0,t.emit("error",connResetException("socket hang up"))),o&&(o.finish(),freeParser(o,t,e)),e.destroy()}function socketOnData(e){const t=this,o=this._httpMessage,s=this.parser;assert(s&&s.socket===t);const n=s.execute(e);if(n instanceof Error)prepareError(n,s,e),debug("parse error",n),freeParser(s,o,t),t.destroy(),o.socket._hadError=!0,o.emit("error",n);else if(s.incoming&&s.incoming.upgrade){const c=n,h=s.incoming;o.res=h,t.removeListener("data",socketOnData),t.removeListener("end",socketOnEnd),t.removeListener("drain",ondrain),o.timeoutCb&&t.removeListener("timeout",o.timeoutCb),t.removeListener("timeout",responseOnTimeout),s.finish(),freeParser(s,o,t);const l=TypedArrayPrototypeSlice(e,c,e.length),d=o.method==="CONNECT"?"connect":"upgrade";o.listenerCount(d)>0?(o.upgradeOrConnect=!0,t.emit("agentRemove"),t.removeListener("close",socketCloseListener),t.removeListener("error",socketErrorListener),t._httpMessage=null,t.readableFlowing=null,o.emit(d,h,t,l),o.destroyed=!0,o._closed=!0,o.emit("close")):t.destroy()}else s.incoming&&s.incoming.complete&&!statusIsInformational(s.incoming.statusCode)&&(t.removeListener("data",socketOnData),t.removeListener("end",socketOnEnd),t.removeListener("drain",ondrain),freeParser(s,o,t))}function statusIsInformational(e){return e<200&&e>=100&&e!==101}function parserOnIncomingClient(e,t){const o=this.socket,s=o._httpMessage;if(debug("AGENT incoming response!"),s.res)return o.destroy(),0;if(s.res=e,e.upgrade)return 2;const n=s.method;return n==="CONNECT"?(e.upgrade=!0,2):statusIsInformational(e.statusCode)?(s.res=null,e.statusCode===100&&s.emit("continue"),s.emit("information",{statusCode:e.statusCode,statusMessage:e.statusMessage,httpVersion:e.httpVersion,httpVersionMajor:e.httpVersionMajor,httpVersionMinor:e.httpVersionMinor,headers:e.headers,rawHeaders:e.rawHeaders}),1):(s.shouldKeepAlive&&!t&&!s.upgradeOrConnect&&(s.shouldKeepAlive=!1),DTRACE_HTTP_CLIENT_RESPONSE(o,s),s.res=e,e.req=s,e.on("end",responseOnEnd),s.on("prefinish",requestOnPrefinish),o.on("timeout",responseOnTimeout),(s.aborted||!s.emit("response",e))&&e._dump(),n==="HEAD"?1:e.statusCode===304?(e.complete=!0,1):0)}function responseKeepAlive(e){const t=e.socket;debug("AGENT socket keep-alive"),e.timeoutCb&&(t.setTimeout(0,e.timeoutCb),e.timeoutCb=null),t.removeListener("close",socketCloseListener),t.removeListener("error",socketErrorListener),t.removeListener("data",socketOnData),t.removeListener("end",socketOnEnd);const o=t._handle?t._handle.getAsyncId():void 0;defaultTriggerAsyncIdScope(o,process.nextTick,emitFreeNT,e),e.destroyed=!0,e.res&&(e.res.socket=null)}function responseOnEnd(){const e=this.req,t=e.socket;t&&(e.timeoutCb&&t.removeListener("timeout",emitRequestTimeout),t.removeListener("timeout",responseOnTimeout)),e._ended=!0,e.shouldKeepAlive?e.finished&&!this.aborted&&responseKeepAlive(e):(t.writable&&(debug("AGENT socket.destroySoon()"),typeof t.destroySoon=="function"?t.destroySoon():t.end()),assert(!t.writable))}function responseOnTimeout(){const e=this._httpMessage;if(!e)return;const t=e.res;!t||t.emit("timeout")}function requestOnPrefinish(){const e=this;e.shouldKeepAlive&&e._ended&&responseKeepAlive(e)}function emitFreeNT(e){e._closed=!0,e.emit("close"),e.socket&&e.socket.emit("free")}function tickOnSocket(e,t){const o=parsers.alloc();e.socket=t;const s=e.insecureHTTPParser===void 0?isLenient():e.insecureHTTPParser;o.initialize(HTTPParser.RESPONSE,new HTTPClientAsyncResource("HTTPINCOMINGMESSAGE",e),e.maxHeaderSize||0,s?kLenientAll:kLenientNone,0),o.socket=t,o.outgoing=e,e.parser=o,t.parser=o,t._httpMessage=e,typeof e.maxHeadersCount=="number"&&(o.maxHeaderPairs=e.maxHeadersCount<<1),o.onIncoming=parserOnIncomingClient,t.on("error",socketErrorListener),t.on("data",socketOnData),t.on("end",socketOnEnd),t.on("close",socketCloseListener),t.on("drain",ondrain),(e.timeout!==void 0||e.agent&&e.agent.options&&e.agent.options.timeout)&&listenSocketTimeout(e),e.emit("socket",t)}function emitRequestTimeout(){const e=this._httpMessage;e&&e.emit("timeout")}function listenSocketTimeout(e){e.timeoutCb||(e.timeoutCb=emitRequestTimeout,e.socket?e.socket.once("timeout",emitRequestTimeout):e.on("socket",t=>{t.once("timeout",emitRequestTimeout)}))}ClientRequest.prototype.onSocket=function(t,o){process.nextTick(onSocketNT,this,t,o)};function onSocketNT(e,t,o){if(e.destroyed||o){let s=function(n,c){!n.aborted&&!c&&(c=connResetException("socket hang up")),c&&n.emit("error",c),n._closed=!0,n.emit("close")};if(e.destroyed=!0,t)if(!o&&e.agent&&!t.destroyed)t.emit("free");else{finished(t.destroy(o||e[kError]),n=>{n?.code==="ERR_STREAM_PREMATURE_CLOSE"&&(n=null),s(e,n||o)});return}s(e,o||e[kError])}else tickOnSocket(e,t),e._flush()}ClientRequest.prototype._deferToConnect=_deferToConnect;function _deferToConnect(e,t){const o=()=>{e&&ReflectApply(this.socket[e],this.socket,t)},s=()=>{this.socket.writable?o():this.socket.once("connect",o)};this.socket?s():this.once("socket",s)}ClientRequest.prototype.setTimeout=function(t,o){return this._ended?this:(listenSocketTimeout(this),t=getTimerDuration(t,"msecs"),o&&this.once("timeout",o),this.socket?setSocketTimeout(this.socket,t):this.once("socket",s=>setSocketTimeout(s,t)),this)};function setSocketTimeout(e,t){e.connecting?e.once("connect",function(){e.setTimeout(t)}):e.setTimeout(t)}ClientRequest.prototype.setNoDelay=function(t){this._deferToConnect("setNoDelay",[t])},ClientRequest.prototype.setSocketKeepAlive=function(t,o){this._deferToConnect("setKeepAlive",[t,o])},ClientRequest.prototype.clearTimeout=function(t){this.setTimeout(0,t)},module.exports={ClientRequest};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{MathMin,Symbol,RegExpPrototypeTest}=primordials,{setImmediate}=require("timers"),{methods,HTTPParser}=internalBinding("http_parser"),{getOptionValue}=require("internal/options"),insecureHTTPParser=getOptionValue("--insecure-http-parser"),FreeList=require("internal/freelist"),incoming=require("_http_incoming"),{IncomingMessage,readStart,readStop}=incoming;let debug=require("internal/util/debuglog").debuglog("http",e=>{debug=e});const kIncomingMessage=Symbol("IncomingMessage"),kRequestTimeout=Symbol("RequestTimeout"),kOnMessageBegin=HTTPParser.kOnMessageBegin|0,kOnHeaders=HTTPParser.kOnHeaders|0,kOnHeadersComplete=HTTPParser.kOnHeadersComplete|0,kOnBody=HTTPParser.kOnBody|0,kOnMessageComplete=HTTPParser.kOnMessageComplete|0,kOnExecute=HTTPParser.kOnExecute|0,kOnTimeout=HTTPParser.kOnTimeout|0,MAX_HEADER_PAIRS=2e3;function parserOnHeaders(e,n){(this.maxHeaderPairs<=0||this._headers.length<this.maxHeaderPairs)&&this._headers.push(...e),this._url+=n}function parserOnHeadersComplete(e,n,t,o,r,u,l,d,g){const i=this,{socket:c}=i;t===void 0&&(t=i._headers,i._headers=[]),r===void 0&&(r=i._url,i._url="");const m=c&&c.server&&c.server[kIncomingMessage]||IncomingMessage,s=i.incoming=new m(c);s.httpVersionMajor=e,s.httpVersionMinor=n,s.httpVersion=`${e}.${n}`,s.url=r,s.upgrade=d,c&&(debug("requestTimeout timer moved to req"),s[kRequestTimeout]=s.socket[kRequestTimeout],s.socket[kRequestTimeout]=void 0);let a=t.length;return i.maxHeaderPairs>0&&(a=MathMin(a,i.maxHeaderPairs)),s._addHeaderLines(t,a),typeof o=="number"?s.method=methods[o]:(s.statusCode=u,s.statusMessage=l),i.onIncoming(s,g)}function parserOnBody(e,n,t){const o=this.incoming;if(o!==null&&t>0&&!o._dumped){const r=e.slice(n,n+t);o.push(r)||readStop(this.socket)}}function parserOnMessageComplete(){const e=this,n=e.incoming;if(n!==null){n.complete=!0;const t=e._headers;t.length&&(n._addHeaderLines(t,t.length),e._headers=[],e._url=""),n.push(null)}readStart(e.socket)}const parsers=new FreeList("parsers",1e3,function(){const n=new HTTPParser;return cleanParser(n),n[kOnHeaders]=parserOnHeaders,n[kOnHeadersComplete]=parserOnHeadersComplete,n[kOnBody]=parserOnBody,n[kOnMessageComplete]=parserOnMessageComplete,n});function closeParserInstance(e){e.close()}function freeParser(e,n,t){e&&(e._consumed&&e.unconsume(),cleanParser(e),parsers.free(e)===!1?setImmediate(closeParserInstance,e):e.free()),n&&(n.parser=null),t&&(t.parser=null)}const tokenRegExp=/^[\^_`a-zA-Z\-0-9!#$%&'*+.|~]+$/;function checkIsHttpToken(e){return RegExpPrototypeTest(tokenRegExp,e)}const headerCharRegex=/[^\t\x20-\x7e\x80-\xff]/;function checkInvalidHeaderChar(e){return RegExpPrototypeTest(headerCharRegex,e)}function cleanParser(e){e._headers=[],e._url="",e.socket=null,e.incoming=null,e.outgoing=null,e.maxHeaderPairs=MAX_HEADER_PAIRS,e[kOnMessageBegin]=null,e[kOnExecute]=null,e[kOnTimeout]=null,e._consumed=!1,e.onIncoming=null}function prepareError(e,n,t){e.rawPacket=t||n.getCurrentBuffer(),typeof e.reason=="string"&&(e.message=`Parse Error: ${e.reason}`)}let warnedLenient=!1;function isLenient(){return insecureHTTPParser&&!warnedLenient&&(warnedLenient=!0,process.emitWarning("Using insecure HTTP parsing")),insecureHTTPParser}module.exports={_checkInvalidHeaderChar:checkInvalidHeaderChar,_checkIsHttpToken:checkIsHttpToken,chunkExpression:/(?:^|\W)chunked(?:$|\W)/i,continueExpression:/(?:^|\W)100-continue(?:$|\W)/i,CRLF:`\r
`,freeParser,methods,parsers,kIncomingMessage,kRequestTimeout,HTTPParser,isLenient,prepareError};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectDefineProperty,ObjectSetPrototypeOf,StringPrototypeCharCodeAt,StringPrototypeSlice,StringPrototypeToLowerCase,Symbol}=primordials,{Readable,finished}=require("stream"),kHeaders=Symbol("kHeaders"),kHeadersCount=Symbol("kHeadersCount"),kTrailers=Symbol("kTrailers"),kTrailersCount=Symbol("kTrailersCount");function readStart(t){t&&!t._paused&&t.readable&&t.resume()}function readStop(t){t&&t.pause()}function IncomingMessage(t){let e;t&&(e={highWaterMark:t.readableHighWaterMark}),Readable.call(this,e),this._readableState.readingMore=!0,this.socket=t,this.httpVersionMajor=null,this.httpVersionMinor=null,this.httpVersion=null,this.complete=!1,this[kHeaders]=null,this[kHeadersCount]=0,this.rawHeaders=[],this[kTrailers]=null,this[kTrailersCount]=0,this.rawTrailers=[],this.aborted=!1,this.upgrade=null,this.url="",this.method=null,this.statusCode=null,this.statusMessage=null,this.client=t,this._consuming=!1,this._dumped=!1}ObjectSetPrototypeOf(IncomingMessage.prototype,Readable.prototype),ObjectSetPrototypeOf(IncomingMessage,Readable),ObjectDefineProperty(IncomingMessage.prototype,"connection",{get:function(){return this.socket},set:function(t){this.socket=t}}),ObjectDefineProperty(IncomingMessage.prototype,"headers",{get:function(){if(!this[kHeaders]){this[kHeaders]={};const t=this.rawHeaders,e=this[kHeaders];for(let r=0;r<this[kHeadersCount];r+=2)this._addHeaderLine(t[r+0],t[r+1],e)}return this[kHeaders]},set:function(t){this[kHeaders]=t}}),ObjectDefineProperty(IncomingMessage.prototype,"trailers",{get:function(){if(!this[kTrailers]){this[kTrailers]={};const t=this.rawTrailers,e=this[kTrailers];for(let r=0;r<this[kTrailersCount];r+=2)this._addHeaderLine(t[r+0],t[r+1],e)}return this[kTrailers]},set:function(t){this[kTrailers]=t}}),IncomingMessage.prototype.setTimeout=function(e,r){return r&&this.on("timeout",r),this.socket.setTimeout(e),this},IncomingMessage.prototype._read=function(e){this._consuming||(this._readableState.readingMore=!1,this._consuming=!0),this.socket.readable&&readStart(this.socket)},IncomingMessage.prototype._destroy=function(e,r){if((!this.readableEnded||!this.complete)&&(this.aborted=!0,this.emit("aborted")),this.socket&&!this.socket.destroyed&&this.aborted){this.socket.destroy(e);const n=finished(this.socket,o=>{o?.code==="ERR_STREAM_PREMATURE_CLOSE"&&(o=null),n(),process.nextTick(onError,this,o||e,r)})}else process.nextTick(onError,this,e,r)},IncomingMessage.prototype._addHeaderLines=_addHeaderLines;function _addHeaderLines(t,e){if(t&&t.length){let r;if(this.complete?(this.rawTrailers=t,this[kTrailersCount]=e,r=this[kTrailers]):(this.rawHeaders=t,this[kHeadersCount]=e,r=this[kHeaders]),r)for(let n=0;n<e;n+=2)this._addHeaderLine(t[n],t[n+1],r)}}function matchKnownFields(t,e){switch(t.length){case 3:if(t==="Age"||t==="age")return"age";break;case 4:if(t==="Host"||t==="host")return"host";if(t==="From"||t==="from")return"from";if(t==="ETag"||t==="etag")return"etag";if(t==="Date"||t==="date")return"\0date";if(t==="Vary"||t==="vary")return"\0vary";break;case 6:if(t==="Server"||t==="server")return"server";if(t==="Cookie"||t==="cookie")return"cookie";if(t==="Origin"||t==="origin")return"\0origin";if(t==="Expect"||t==="expect")return"\0expect";if(t==="Accept"||t==="accept")return"\0accept";break;case 7:if(t==="Referer"||t==="referer")return"referer";if(t==="Expires"||t==="expires")return"expires";if(t==="Upgrade"||t==="upgrade")return"\0upgrade";break;case 8:if(t==="Location"||t==="location")return"location";if(t==="If-Match"||t==="if-match")return"\0if-match";break;case 10:if(t==="User-Agent"||t==="user-agent")return"user-agent";if(t==="Set-Cookie"||t==="set-cookie")return"";if(t==="Connection"||t==="connection")return"\0connection";break;case 11:if(t==="Retry-After"||t==="retry-after")return"retry-after";break;case 12:if(t==="Content-Type"||t==="content-type")return"content-type";if(t==="Max-Forwards"||t==="max-forwards")return"max-forwards";break;case 13:if(t==="Authorization"||t==="authorization")return"authorization";if(t==="Last-Modified"||t==="last-modified")return"last-modified";if(t==="Cache-Control"||t==="cache-control")return"\0cache-control";if(t==="If-None-Match"||t==="if-none-match")return"\0if-none-match";break;case 14:if(t==="Content-Length"||t==="content-length")return"content-length";break;case 15:if(t==="Accept-Encoding"||t==="accept-encoding")return"\0accept-encoding";if(t==="Accept-Language"||t==="accept-language")return"\0accept-language";if(t==="X-Forwarded-For"||t==="x-forwarded-for")return"\0x-forwarded-for";break;case 16:if(t==="Content-Encoding"||t==="content-encoding")return"\0content-encoding";if(t==="X-Forwarded-Host"||t==="x-forwarded-host")return"\0x-forwarded-host";break;case 17:if(t==="If-Modified-Since"||t==="if-modified-since")return"if-modified-since";if(t==="Transfer-Encoding"||t==="transfer-encoding")return"\0transfer-encoding";if(t==="X-Forwarded-Proto"||t==="x-forwarded-proto")return"\0x-forwarded-proto";break;case 19:if(t==="Proxy-Authorization"||t==="proxy-authorization")return"proxy-authorization";if(t==="If-Unmodified-Since"||t==="if-unmodified-since")return"if-unmodified-since";break}return e?"\0"+t:matchKnownFields(StringPrototypeToLowerCase(t),!0)}IncomingMessage.prototype._addHeaderLine=_addHeaderLine;function _addHeaderLine(t,e,r){t=matchKnownFields(t);const n=StringPrototypeCharCodeAt(t,0);n===0||n===2?(t=StringPrototypeSlice(t,1),typeof r[t]=="string"?r[t]+=(n===0?", ":"; ")+e:r[t]=e):n===1?r["set-cookie"]!==void 0?r["set-cookie"].push(e):r["set-cookie"]=[e]:r[t]===void 0&&(r[t]=e)}IncomingMessage.prototype._dump=function(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())};function onError(t,e,r){t.listenerCount("error")===0?r():r(e)}module.exports={IncomingMessage,readStart,readStop};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Array,ArrayIsArray,ArrayPrototypeJoin,MathFloor,NumberPrototypeToString,ObjectCreate,ObjectDefineProperty,ObjectKeys,ObjectValues,ObjectPrototypeHasOwnProperty,ObjectSetPrototypeOf,RegExpPrototypeTest,StringPrototypeToLowerCase,Symbol}=primordials,{getDefaultHighWaterMark}=require("internal/streams/state"),assert=require("internal/assert"),EE=require("events"),Stream=require("stream"),internalUtil=require("internal/util"),{kOutHeaders,utcDate,kNeedDrain}=require("internal/http"),{Buffer}=require("buffer"),{_checkIsHttpToken:checkIsHttpToken,_checkInvalidHeaderChar:checkInvalidHeaderChar,chunkExpression:RE_TE_CHUNKED}=require("_http_common"),{defaultTriggerAsyncIdScope,symbols:{async_id_symbol}}=require("internal/async_hooks"),{codes:{ERR_HTTP_HEADERS_SENT,ERR_HTTP_INVALID_HEADER_VALUE,ERR_HTTP_TRAILER_INVALID,ERR_INVALID_HTTP_TOKEN,ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_INVALID_CHAR,ERR_METHOD_NOT_IMPLEMENTED,ERR_STREAM_CANNOT_PIPE,ERR_STREAM_ALREADY_FINISHED,ERR_STREAM_WRITE_AFTER_END,ERR_STREAM_NULL_VALUES,ERR_STREAM_DESTROYED},hideStackFrames}=require("internal/errors"),{validateString}=require("internal/validators"),{isUint8Array}=require("internal/util/types");let debug=require("internal/util/debuglog").debuglog("http",t=>{debug=t});const HIGH_WATER_MARK=getDefaultHighWaterMark(),kCorked=Symbol("corked"),nop=()=>{},RE_CONN_CLOSE=/(?:^|\W)close(?:$|\W)/i;function isCookieField(t){return t.length===6&&StringPrototypeToLowerCase(t)==="cookie"}function OutgoingMessage(){Stream.call(this),this.outputData=[],this.outputSize=0,this.writable=!0,this.destroyed=!1,this._last=!1,this.chunkedEncoding=!1,this.shouldKeepAlive=!0,this.maxRequestsOnConnectionReached=!1,this._defaultKeepAlive=!0,this.useChunkedEncodingByDefault=!0,this.sendDate=!1,this._removedConnection=!1,this._removedContLen=!1,this._removedTE=!1,this._contentLength=null,this._hasBody=!0,this._trailer="",this[kNeedDrain]=!1,this.finished=!1,this._headerSent=!1,this[kCorked]=0,this._closed=!1,this.socket=null,this._header=null,this[kOutHeaders]=null,this._keepAliveTimeout=0,this._onPendingData=nop}ObjectSetPrototypeOf(OutgoingMessage.prototype,Stream.prototype),ObjectSetPrototypeOf(OutgoingMessage,Stream),ObjectDefineProperty(OutgoingMessage.prototype,"writableFinished",{get(){return this.finished&&this.outputSize===0&&(!this.socket||this.socket.writableLength===0)}}),ObjectDefineProperty(OutgoingMessage.prototype,"writableObjectMode",{get(){return!1}}),ObjectDefineProperty(OutgoingMessage.prototype,"writableLength",{get(){return this.outputSize+(this.socket?this.socket.writableLength:0)}}),ObjectDefineProperty(OutgoingMessage.prototype,"writableHighWaterMark",{get(){return this.socket?this.socket.writableHighWaterMark:HIGH_WATER_MARK}}),ObjectDefineProperty(OutgoingMessage.prototype,"writableCorked",{get(){return(this.socket?this.socket.writableCorked:0)+this[kCorked]}}),ObjectDefineProperty(OutgoingMessage.prototype,"_headers",{get:internalUtil.deprecate(function(){return this.getHeaders()},"OutgoingMessage.prototype._headers is deprecated","DEP0066"),set:internalUtil.deprecate(function(t){if(t==null)this[kOutHeaders]=null;else if(typeof t=="object"){const e=this[kOutHeaders]=ObjectCreate(null),i=ObjectKeys(t);for(let n=0;n<i.length;++n){const s=i[n];e[StringPrototypeToLowerCase(s)]=[s,t[s]]}}},"OutgoingMessage.prototype._headers is deprecated","DEP0066")}),ObjectDefineProperty(OutgoingMessage.prototype,"connection",{get:function(){return this.socket},set:function(t){this.socket=t}}),ObjectDefineProperty(OutgoingMessage.prototype,"_headerNames",{get:internalUtil.deprecate(function(){const t=this[kOutHeaders];if(t!==null){const e=ObjectCreate(null),i=ObjectKeys(t);for(let n=0;n<i.length;++n){const s=i[n],o=t[s][0];e[s]=o}return e}return null},"OutgoingMessage.prototype._headerNames is deprecated","DEP0066"),set:internalUtil.deprecate(function(t){if(typeof t=="object"&&t!==null){const e=this[kOutHeaders];if(!e)return;const i=ObjectKeys(t);for(let n=0;n<i.length;++n){const s=e[i[n]];s&&(s[0]=t[i[n]])}}},"OutgoingMessage.prototype._headerNames is deprecated","DEP0066")}),OutgoingMessage.prototype._renderHeaders=function(){if(this._header)throw new ERR_HTTP_HEADERS_SENT("render");const e=this[kOutHeaders],i={};if(e!==null){const n=ObjectKeys(e);for(let s=0,o=n.length;s<o;s++){const r=n[s];i[e[r][0]]=e[r][1]}}return i},OutgoingMessage.prototype.cork=function(){this.socket?this.socket.cork():this[kCorked]++},OutgoingMessage.prototype.uncork=function(){this.socket?this.socket.uncork():this[kCorked]&&this[kCorked]--},OutgoingMessage.prototype.setTimeout=function(e,i){return i&&this.on("timeout",i),this.socket?this.socket.setTimeout(e):this.once("socket",function(s){s.setTimeout(e)}),this},OutgoingMessage.prototype.destroy=function(e){return this.destroyed?this:(this.destroyed=!0,this.socket?this.socket.destroy(e):this.once("socket",function(n){n.destroy(e)}),this)},OutgoingMessage.prototype._send=function(e,i,n){if(!this._headerSent){if(typeof e=="string"&&(i==="utf8"||i==="latin1"||!i))e=this._header+e;else{const s=this._header;this.outputData.unshift({data:s,encoding:"latin1",callback:null}),this.outputSize+=s.length,this._onPendingData(s.length)}this._headerSent=!0}return this._writeRaw(e,i,n)},OutgoingMessage.prototype._writeRaw=_writeRaw;function _writeRaw(t,e,i){const n=this.socket;return n&&n.destroyed?!1:(typeof e=="function"&&(i=e,e=null),n&&n._httpMessage===this&&n.writable?(this.outputData.length&&this._flushOutput(n),n.write(t,e,i)):(this.outputData.push({data:t,encoding:e,callback:i}),this.outputSize+=t.length,this._onPendingData(t.length),this.outputSize<HIGH_WATER_MARK))}OutgoingMessage.prototype._storeHeader=_storeHeader;function _storeHeader(t,e){const i={connection:!1,contLen:!1,te:!1,date:!1,expect:!1,trailer:!1,header:t};if(e)if(e===this[kOutHeaders])for(const s in e){const o=e[s];processHeader(this,i,o[0],o[1],!1)}else if(ArrayIsArray(e))if(e.length&&ArrayIsArray(e[0]))for(let s=0;s<e.length;s++){const o=e[s];processHeader(this,i,o[0],o[1],!0)}else{if(e.length%2!=0)throw new ERR_INVALID_ARG_VALUE("headers",e);for(let s=0;s<e.length;s+=2)processHeader(this,i,e[s+0],e[s+1],!0)}else for(const s in e)ObjectPrototypeHasOwnProperty(e,s)&&processHeader(this,i,s,e[s],!0);let{header:n}=i;if(this.sendDate&&!i.date&&(n+="Date: "+utcDate()+`\r
`),this.chunkedEncoding&&(this.statusCode===204||this.statusCode===304)&&(debug(this.statusCode+" response should not use chunked encoding, closing connection."),this.chunkedEncoding=!1,this.shouldKeepAlive=!1),this._removedConnection)this._last=!0,this.shouldKeepAlive=!1;else if(!i.connection){const s=this.shouldKeepAlive&&(i.contLen||this.useChunkedEncodingByDefault||this.agent);s&&this.maxRequestsOnConnectionReached?n+=`Connection: close\r
`:s?(n+=`Connection: keep-alive\r
`,this._keepAliveTimeout&&this._defaultKeepAlive&&(n+=`Keep-Alive: timeout=${MathFloor(this._keepAliveTimeout/1e3)}\r
`)):(this._last=!0,n+=`Connection: close\r
`)}if(!i.contLen&&!i.te&&(this._hasBody?this.useChunkedEncodingByDefault?!i.trailer&&!this._removedContLen&&typeof this._contentLength=="number"?n+="Content-Length: "+this._contentLength+`\r
`:this._removedTE?debug("Both Content-Length and Transfer-Encoding are removed"):(n+=`Transfer-Encoding: chunked\r
`,this.chunkedEncoding=!0):this._last=!0:this.chunkedEncoding=!1),this.chunkedEncoding!==!0&&i.trailer)throw new ERR_HTTP_TRAILER_INVALID;this._header=n+`\r
`,this._headerSent=!1,i.expect&&this._send("")}function processHeader(t,e,i,n,s){if(s&&validateHeaderName(i),ArrayIsArray(n)){if(n.length<2||!isCookieField(i)){for(let o=0;o<n.length;o++)storeHeader(t,e,i,n[o],s);return}n=ArrayPrototypeJoin(n,"; ")}storeHeader(t,e,i,n,s)}function storeHeader(t,e,i,n,s){s&&validateHeaderValue(i,n),e.header+=i+": "+n+`\r
`,matchHeader(t,e,i,n)}function matchHeader(t,e,i,n){if(!(i.length<4||i.length>17))switch(i=StringPrototypeToLowerCase(i),i){case"connection":e.connection=!0,t._removedConnection=!1,RegExpPrototypeTest(RE_CONN_CLOSE,n)?t._last=!0:t.shouldKeepAlive=!0;break;case"transfer-encoding":e.te=!0,t._removedTE=!1,RegExpPrototypeTest(RE_TE_CHUNKED,n)&&(t.chunkedEncoding=!0);break;case"content-length":e.contLen=!0,t._removedContLen=!1;break;case"date":case"expect":case"trailer":e[i]=!0;break;case"keep-alive":t._defaultKeepAlive=!1;break}}const validateHeaderName=hideStackFrames(t=>{if(typeof t!="string"||!t||!checkIsHttpToken(t))throw new ERR_INVALID_HTTP_TOKEN("Header name",t)}),validateHeaderValue=hideStackFrames((t,e)=>{if(e===void 0)throw new ERR_HTTP_INVALID_HEADER_VALUE(e,t);if(checkInvalidHeaderChar(e))throw debug('Header "%s" contains invalid characters',t),new ERR_INVALID_CHAR("header content",t)});OutgoingMessage.prototype.setHeader=function(e,i){if(this._header)throw new ERR_HTTP_HEADERS_SENT("set");validateHeaderName(e),validateHeaderValue(e,i);let n=this[kOutHeaders];return n===null&&(this[kOutHeaders]=n=ObjectCreate(null)),n[StringPrototypeToLowerCase(e)]=[e,i],this},OutgoingMessage.prototype.getHeader=function(e){validateString(e,"name");const i=this[kOutHeaders];if(i===null)return;const n=i[StringPrototypeToLowerCase(e)];return n&&n[1]},OutgoingMessage.prototype.getHeaderNames=function(){return this[kOutHeaders]!==null?ObjectKeys(this[kOutHeaders]):[]},OutgoingMessage.prototype.getRawHeaderNames=function(){const e=this[kOutHeaders];if(e===null)return[];const i=ObjectValues(e),n=Array(i.length);for(let s=0,o=i.length;s<o;s++)n[s]=i[s][0];return n},OutgoingMessage.prototype.getHeaders=function(){const e=this[kOutHeaders],i=ObjectCreate(null);if(e){const n=ObjectKeys(e);for(let s=0;s<n.length;++s){const o=n[s],r=e[o][1];i[o]=r}}return i},OutgoingMessage.prototype.hasHeader=function(e){return validateString(e,"name"),this[kOutHeaders]!==null&&!!this[kOutHeaders][StringPrototypeToLowerCase(e)]},OutgoingMessage.prototype.removeHeader=function(e){if(validateString(e,"name"),this._header)throw new ERR_HTTP_HEADERS_SENT("remove");const i=StringPrototypeToLowerCase(e);switch(i){case"connection":this._removedConnection=!0;break;case"content-length":this._removedContLen=!0;break;case"transfer-encoding":this._removedTE=!0;break;case"date":this.sendDate=!1;break}this[kOutHeaders]!==null&&delete this[kOutHeaders][i]},OutgoingMessage.prototype._implicitHeader=function(){throw new ERR_METHOD_NOT_IMPLEMENTED("_implicitHeader()")},ObjectDefineProperty(OutgoingMessage.prototype,"headersSent",{configurable:!0,enumerable:!0,get:function(){return!!this._header}}),ObjectDefineProperty(OutgoingMessage.prototype,"writableEnded",{get:function(){return this.finished}}),ObjectDefineProperty(OutgoingMessage.prototype,"writableNeedDrain",{get:function(){return!this.destroyed&&!this.finished&&this[kNeedDrain]}});const crlf_buf=Buffer.from(`\r
`);OutgoingMessage.prototype.write=function(e,i,n){typeof i=="function"&&(n=i,i=null);const s=write_(this,e,i,n,!1);return s||(this[kNeedDrain]=!0),s};function onError(t,e,i){const n=t.socket?t.socket[async_id_symbol]:void 0;defaultTriggerAsyncIdScope(n,process.nextTick,emitErrorNt,t,e,i)}function emitErrorNt(t,e,i){i(e),typeof t.emit=="function"&&!t._closed&&t.emit("error",e)}function write_(t,e,i,n,s){typeof n!="function"&&(n=nop);let o;if(e===null)throw new ERR_STREAM_NULL_VALUES;if(typeof e=="string")o=Buffer.byteLength(e,i);else if(isUint8Array(e))o=e.length;else throw new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],e);let r;if(t.finished?r=new ERR_STREAM_WRITE_AFTER_END:t.destroyed&&(r=new ERR_STREAM_DESTROYED("write")),r)return t.destroyed?process.nextTick(n,r):onError(t,r,n),!1;if(t._header||(s&&(t._contentLength=o),t._implicitHeader()),!t._hasBody)return debug("This type of response MUST NOT have a body. Ignoring write() calls."),process.nextTick(n),!0;!s&&t.socket&&!t.socket.writableCorked&&(t.socket.cork(),process.nextTick(connectionCorkNT,t.socket));let h;return t.chunkedEncoding&&e.length!==0?(t._send(NumberPrototypeToString(o,16),"latin1",null),t._send(crlf_buf,null,null),t._send(e,i,null),h=t._send(crlf_buf,null,n)):h=t._send(e,i,n),debug("write ret = "+h),h}function connectionCorkNT(t){t.uncork()}OutgoingMessage.prototype.addTrailers=function(e){this._trailer="";const i=ObjectKeys(e),n=ArrayIsArray(e);for(let s=0,o=i.length;s<o;s++){let r,h;const u=i[s];if(n?(r=e[u][0],h=e[u][1]):(r=u,h=e[u]),typeof r!="string"||!r||!checkIsHttpToken(r))throw new ERR_INVALID_HTTP_TOKEN("Trailer name",r);if(checkInvalidHeaderChar(h))throw debug('Trailer "%s" contains invalid characters',r),new ERR_INVALID_CHAR("trailer content",r);this._trailer+=r+": "+h+`\r
`}};function onFinish(t){t&&t.socket&&t.socket._hadError||t.emit("finish")}OutgoingMessage.prototype.end=function(e,i,n){if(typeof e=="function"?(n=e,e=null,i=null):typeof i=="function"&&(n=i,i=null),e){if(this.finished)return onError(this,new ERR_STREAM_WRITE_AFTER_END,typeof n!="function"?nop:n),this;this.socket&&this.socket.cork(),write_(this,e,i,null,!0)}else{if(this.finished)return typeof n=="function"&&(this.writableFinished?n(new ERR_STREAM_ALREADY_FINISHED("end")):this.on("finish",n)),this;this._header||(this.socket&&this.socket.cork(),this._contentLength=0,this._implicitHeader())}typeof n=="function"&&this.once("finish",n);const s=onFinish.bind(void 0,this);return this._hasBody&&this.chunkedEncoding?this._send(`0\r
`+this._trailer+`\r
`,"latin1",s):this._send("","latin1",s),this.socket&&(this.socket._writableState.corked=1,this.socket.uncork()),this[kCorked]=0,this.finished=!0,debug("outgoing message end."),this.outputData.length===0&&this.socket&&this.socket._httpMessage===this&&this._finish(),this},OutgoingMessage.prototype._finish=function(){assert(this.socket),this.emit("prefinish")},OutgoingMessage.prototype._flush=function(){const e=this.socket;if(e&&e.writable){const i=this._flushOutput(e);this.finished?this._finish():i&&this[kNeedDrain]&&(this[kNeedDrain]=!1,this.emit("drain"))}},OutgoingMessage.prototype._flushOutput=function(e){for(;this[kCorked];)this[kCorked]--,e.cork();const i=this.outputData.length;if(i<=0)return;const n=this.outputData;e.cork();let s;for(let o=0;o<i;o++){const{data:r,encoding:h,callback:u}=n[o];s=e.write(r,h,u)}return e.uncork(),this.outputData=[],this._onPendingData(-this.outputSize),this.outputSize=0,s},OutgoingMessage.prototype.flushHeaders=function(){this._header||this._implicitHeader(),this._send("")},OutgoingMessage.prototype.pipe=function(){this.emit("error",new ERR_STREAM_CANNOT_PIPE)},OutgoingMessage.prototype[EE.captureRejectionSymbol]=function(t,e){this.destroy(t)},module.exports={validateHeaderName,validateHeaderValue,OutgoingMessage};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,Error,ObjectKeys,ObjectSetPrototypeOf,RegExpPrototypeTest,Symbol,SymbolFor}=primordials,net=require("net"),EE=require("events"),assert=require("internal/assert"),{parsers,freeParser,continueExpression,chunkExpression,kIncomingMessage,kRequestTimeout,HTTPParser,isLenient,_checkInvalidHeaderChar:checkInvalidHeaderChar,prepareError}=require("_http_common"),{OutgoingMessage}=require("_http_outgoing"),{kOutHeaders,kNeedDrain,emitStatistics}=require("internal/http"),{defaultTriggerAsyncIdScope,getOrSetAsyncId}=require("internal/async_hooks"),{IncomingMessage}=require("_http_incoming"),{connResetException,codes}=require("internal/errors"),{ERR_HTTP_REQUEST_TIMEOUT,ERR_HTTP_HEADERS_SENT,ERR_HTTP_INVALID_STATUS_CODE,ERR_HTTP_SOCKET_ENCODING,ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_INVALID_CHAR}=codes,{validateInteger,validateBoolean}=require("internal/validators"),Buffer=require("buffer").Buffer,{DTRACE_HTTP_SERVER_REQUEST,DTRACE_HTTP_SERVER_RESPONSE}=require("internal/dtrace"),{setTimeout,clearTimeout}=require("timers");let debug=require("internal/util/debuglog").debuglog("http",e=>{debug=e});const dc=require("diagnostics_channel"),onRequestStartChannel=dc.channel("http.server.request.start"),onResponseFinishChannel=dc.channel("http.server.response.finish"),kServerResponse=Symbol("ServerResponse"),kServerResponseStatistics=Symbol("ServerResponseStatistics"),{hasObserver}=require("internal/perf/observe"),STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a Teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},kOnMessageBegin=HTTPParser.kOnMessageBegin|0,kOnExecute=HTTPParser.kOnExecute|0,kOnTimeout=HTTPParser.kOnTimeout|0,kLenientAll=HTTPParser.kLenientAll|0,kLenientNone=HTTPParser.kLenientNone|0;class HTTPServerAsyncResource{constructor(n,t){this.type=n,this.socket=t}}function ServerResponse(e){OutgoingMessage.call(this),e.method==="HEAD"&&(this._hasBody=!1),this.req=e,this.sendDate=!0,this._sent100=!1,this._expect_continue=!1,(e.httpVersionMajor<1||e.httpVersionMinor<1)&&(this.useChunkedEncodingByDefault=RegExpPrototypeTest(chunkExpression,e.headers.te),this.shouldKeepAlive=!1),hasObserver("http")&&(this[kServerResponseStatistics]={startTime:process.hrtime()})}ObjectSetPrototypeOf(ServerResponse.prototype,OutgoingMessage.prototype),ObjectSetPrototypeOf(ServerResponse,OutgoingMessage),ServerResponse.prototype._finish=function(){DTRACE_HTTP_SERVER_RESPONSE(this.socket),emitStatistics(this[kServerResponseStatistics]),OutgoingMessage.prototype._finish.call(this)},ServerResponse.prototype.statusCode=200,ServerResponse.prototype.statusMessage=void 0;function onServerResponseClose(){this._httpMessage&&emitCloseNT(this._httpMessage)}ServerResponse.prototype.assignSocket=function(n){assert(!n._httpMessage),n._httpMessage=this,n.on("close",onServerResponseClose),this.socket=n,this.emit("socket",n),this._flush()},ServerResponse.prototype.detachSocket=function(n){assert(n._httpMessage===this),n.removeListener("close",onServerResponseClose),n._httpMessage=null,this.socket=null},ServerResponse.prototype.writeContinue=function(n){this._writeRaw(`HTTP/1.1 100 Continue\r
\r
`,"ascii",n),this._sent100=!0},ServerResponse.prototype.writeProcessing=function(n){this._writeRaw(`HTTP/1.1 102 Processing\r
\r
`,"ascii",n)},ServerResponse.prototype._implicitHeader=function(){this.writeHead(this.statusCode)},ServerResponse.prototype.writeHead=writeHead;function writeHead(e,n,t){const i=e;if(e|=0,e<100||e>999)throw new ERR_HTTP_INVALID_STATUS_CODE(i);typeof n=="string"?this.statusMessage=n:(this.statusMessage||(this.statusMessage=STATUS_CODES[e]||"unknown"),t=n),this.statusCode=e;let o;if(this[kOutHeaders]){let r;if(ArrayIsArray(t)){if(t.length%2!=0)throw new ERR_INVALID_ARG_VALUE("headers",t);for(let a=0;a<t.length;a+=2)r=t[a+0],r&&this.setHeader(r,t[a+1])}else if(t){const a=ObjectKeys(t);for(let u=0;u<a.length;u++)r=a[u],r&&this.setHeader(r,t[r])}if(r===void 0&&this._header)throw new ERR_HTTP_HEADERS_SENT("render");o=this[kOutHeaders]}else o=t;if(checkInvalidHeaderChar(this.statusMessage))throw new ERR_INVALID_CHAR("statusMessage");const s=`HTTP/1.1 ${e} ${this.statusMessage}\r
`;return(e===204||e===304||e>=100&&e<=199)&&(this._hasBody=!1),this._expect_continue&&!this._sent100&&(this.shouldKeepAlive=!1),this._storeHeader(s,o),this}ServerResponse.prototype.writeHeader=ServerResponse.prototype.writeHead;function storeHTTPOptions(e){this[kIncomingMessage]=e.IncomingMessage||IncomingMessage,this[kServerResponse]=e.ServerResponse||ServerResponse;const n=e.maxHeaderSize;n!==void 0&&validateInteger(n,"maxHeaderSize",0),this.maxHeaderSize=n;const t=e.insecureHTTPParser;t!==void 0&&validateBoolean(t,"options.insecureHTTPParser"),this.insecureHTTPParser=t}function Server(e,n){if(!(this instanceof Server))return new Server(e,n);if(typeof e=="function")n=e,e={};else if(e==null||typeof e=="object")e={...e};else throw new ERR_INVALID_ARG_TYPE("options","object",e);storeHTTPOptions.call(this,e),net.Server.call(this,{allowHalfOpen:!0}),n&&this.on("request",n),this.httpAllowHalfOpen=!1,this.on("connection",connectionListener),this.timeout=0,this.keepAliveTimeout=5e3,this.maxHeadersCount=null,this.maxRequestsPerSocket=null,this.headersTimeout=60*1e3,this.requestTimeout=0}ObjectSetPrototypeOf(Server.prototype,net.Server.prototype),ObjectSetPrototypeOf(Server,net.Server),Server.prototype.setTimeout=function(n,t){return this.timeout=n,t&&this.on("timeout",t),this},Server.prototype[EE.captureRejectionSymbol]=function(e,n,...t){switch(n){case"request":const{1:i}=t;if(!i.headersSent&&!i.writableEnded){const o=i.getHeaderNames();for(let s=0;s<o.length;s++)i.removeHeader(o[s]);i.statusCode=500,i.end(STATUS_CODES[500])}else i.destroy();break;default:net.Server.prototype[SymbolFor("nodejs.rejection")].apply(this,arguments)}};function connectionListener(e){defaultTriggerAsyncIdScope(getOrSetAsyncId(e),connectionListenerInternal,this,e)}function connectionListenerInternal(e,n){debug("SERVER new http connection"),n.server=e,e.timeout&&typeof n.setTimeout=="function"&&n.setTimeout(e.timeout),n.on("timeout",socketOnTimeout);const t=parsers.alloc(),i=e.insecureHTTPParser===void 0?isLenient():e.insecureHTTPParser;t.initialize(HTTPParser.REQUEST,new HTTPServerAsyncResource("HTTPINCOMINGMESSAGE",n),e.maxHeaderSize||0,i?kLenientAll:kLenientNone,e.headersTimeout||0),t.socket=n,n.parser=t,typeof e.maxHeadersCount=="number"&&(t.maxHeaderPairs=e.maxHeadersCount<<1);const o={onData:null,onEnd:null,onClose:null,onDrain:null,outgoing:[],incoming:[],outgoingData:0,requestsCount:0,keepAliveTimeoutSet:!1};o.onData=socketOnData.bind(void 0,e,n,t,o),o.onEnd=socketOnEnd.bind(void 0,e,n,t,o),o.onClose=socketOnClose.bind(void 0,n,o),o.onDrain=socketOnDrain.bind(void 0,n,o),n.on("data",o.onData),n.on("error",socketOnError),n.on("end",o.onEnd),n.on("close",o.onClose),n.on("drain",o.onDrain),t.onIncoming=parserOnIncoming.bind(void 0,e,n,o),n.on("resume",onSocketResume),n.on("pause",onSocketPause),n.on=generateSocketListenerWrapper("on"),n.addListener=generateSocketListenerWrapper("addListener"),n.prependListener=generateSocketListenerWrapper("prependListener"),n.setEncoding=socketSetEncoding,n._handle&&n._handle.isStreamBase&&!n._handle._consumed&&(t._consumed=!0,n._handle._consumed=!0,t.consume(n._handle)),t[kOnExecute]=onParserExecute.bind(void 0,e,n,t,o),t[kOnTimeout]=onParserTimeout.bind(void 0,e,n),t[kOnMessageBegin]=setRequestTimeout.bind(void 0,e,n),setRequestTimeout(e,n),n._paused=!1}function socketSetEncoding(){throw new ERR_HTTP_SOCKET_ENCODING}function updateOutgoingData(e,n,t){n.outgoingData+=t,socketOnDrain(e,n)}function socketOnDrain(e,n){const t=n.outgoingData>e.writableHighWaterMark;e._paused&&!t&&(e._paused=!1,e.parser&&e.parser.resume(),e.resume());const i=e._httpMessage;i&&!i.finished&&i[kNeedDrain]&&(i[kNeedDrain]=!1,i.emit("drain"))}function socketOnTimeout(){const e=this.parser&&this.parser.incoming,n=e&&!e.complete&&e.emit("timeout",this),t=this._httpMessage,i=t&&t.emit("timeout",this),o=this.server.emit("timeout",this);!n&&!i&&!o&&this.destroy()}function socketOnClose(e,n){debug("server socket close"),freeParser(e.parser,null,e),abortIncoming(n.incoming)}function abortIncoming(e){for(;e.length;)e.shift().destroy(connResetException("aborted"))}function socketOnEnd(e,n,t,i){const o=t.finish();o instanceof Error?(debug("parse error"),socketOnError.call(n,o)):e.httpAllowHalfOpen?i.outgoing.length?i.outgoing[i.outgoing.length-1]._last=!0:n._httpMessage?n._httpMessage._last=!0:n.end():n.end()}function socketOnData(e,n,t,i,o){assert(!n._paused),debug("SERVER socketOnData %d",o.length);const s=t.execute(o);onParserExecuteCommon(e,n,t,i,s,o)}function onRequestTimeout(e){e[kRequestTimeout]=void 0,socketOnError.call(e,new ERR_HTTP_REQUEST_TIMEOUT)}function onParserExecute(e,n,t,i,o){n._unrefTimer(),debug("SERVER socketOnParserExecute %d",o),onParserExecuteCommon(e,n,t,i,o,void 0)}function onParserTimeout(e,n){e.emit("timeout",n)||n.destroy()}const noop=()=>{},badRequestResponse=Buffer.from(`HTTP/1.1 400 ${STATUS_CODES[400]}\r
Connection: close\r
\r
`,"ascii"),requestTimeoutResponse=Buffer.from(`HTTP/1.1 408 ${STATUS_CODES[408]}\r
Connection: close\r
\r
`,"ascii"),requestHeaderFieldsTooLargeResponse=Buffer.from(`HTTP/1.1 431 ${STATUS_CODES[431]}\r
Connection: close\r
\r
`,"ascii");function socketOnError(e){if(this.removeListener("error",socketOnError),this.on("error",noop),!this.server.emit("clientError",e,this)){if(this.writable&&this.bytesWritten===0){let n;switch(e.code){case"HPE_HEADER_OVERFLOW":n=requestHeaderFieldsTooLargeResponse;break;case"ERR_HTTP_REQUEST_TIMEOUT":n=requestTimeoutResponse;break;default:n=badRequestResponse;break}this.write(n)}this.destroy(e)}}function onParserExecuteCommon(e,n,t,i,o,s){if(resetSocketTimeout(e,n,i),o instanceof Error)prepareError(o,t,s),o.rawPacket=s||t.getCurrentBuffer(),debug("parse error",o),socketOnError.call(n,o);else if(t.incoming&&t.incoming.upgrade){const r=t.incoming;debug("SERVER upgrade or connect",r.method),s||(s=t.getCurrentBuffer()),n.removeListener("data",i.onData),n.removeListener("end",i.onEnd),n.removeListener("close",i.onClose),n.removeListener("drain",i.onDrain),n.removeListener("error",socketOnError),n.removeListener("timeout",socketOnTimeout),unconsume(t,n),t.finish(),freeParser(t,r,n),t=null;const a=r.method==="CONNECT"?"connect":"upgrade";if(a==="upgrade"||e.listenerCount(a)>0){debug("SERVER have listener for %s",a);const u=s.slice(o,s.length);n.readableFlowing=null,clearRequestTimeout(r),e.emit(a,r,n,u)}else n.destroy()}else t.incoming&&t.incoming.method==="PRI"?(debug("SERVER got PRI request"),n.destroy()):t[kOnMessageBegin]=setRequestTimeout.bind(void 0,e,n);n._paused&&n.parser&&(debug("pause parser"),n.parser.pause())}function clearIncoming(e){e=e||this;const n=e.socket&&e.socket.parser;n&&n.incoming===e&&(e.readableEnded?n.incoming=null:e.on("end",clearIncoming))}function setRequestTimeout(e,n){!n[kRequestTimeout]&&e.requestTimeout&&e.requestTimeout>0&&(debug("requestTimeout timer set"),n[kRequestTimeout]=setTimeout(onRequestTimeout,e.requestTimeout,n).unref())}function clearRequestTimeout(e){e||(e=this),!!e[kRequestTimeout]&&(debug("requestTimeout timer cleared"),clearTimeout(e[kRequestTimeout]),e[kRequestTimeout]=void 0)}function resOnFinish(e,n,t,i,o){if(onResponseFinishChannel.hasSubscribers&&onResponseFinishChannel.publish({request:e,response:n,socket:t,server:o}),assert(i.incoming.length===0||i.incoming[0]===e),i.incoming.shift(),!e._consuming&&!e._readableState.resumeScheduled&&e._dump(),clearRequestTimeout(e),n.detachSocket(t),clearIncoming(e),process.nextTick(emitCloseNT,n),n._last)typeof t.destroySoon=="function"?t.destroySoon():t.end();else if(i.outgoing.length===0)o.keepAliveTimeout&&typeof t.setTimeout=="function"&&(t.setTimeout(o.keepAliveTimeout),i.keepAliveTimeoutSet=!0);else{const s=i.outgoing.shift();s&&s.assignSocket(t)}}function emitCloseNT(e){e.destroyed||(e.destroyed=!0,e._closed=!0,e.emit("close"))}function parserOnIncoming(e,n,t,i,o){if(resetSocketTimeout(e,n,t),i.upgrade&&(i.upgrade=i.method==="CONNECT"||e.listenerCount("upgrade")>0,i.upgrade))return 2;t.incoming.push(i),n._paused||(n._writableState.needDrain||t.outgoingData>=n.writableHighWaterMark)&&(n._paused=!0,n.pause());const s=new e[kServerResponse](i);s._keepAliveTimeout=e.keepAliveTimeout,s._onPendingData=updateOutgoingData.bind(void 0,n,t),s.shouldKeepAlive=o,DTRACE_HTTP_SERVER_REQUEST(i,n),onRequestStartChannel.hasSubscribers&&onRequestStartChannel.publish({request:i,response:s,socket:n,server:e}),n._httpMessage?t.outgoing.push(s):s.assignSocket(n),s.on("finish",resOnFinish.bind(void 0,i,s,n,t,e));let r=!1;return i.httpVersionMajor===1&&i.httpVersionMinor===1&&(typeof e.maxRequestsPerSocket=="number"&&(t.requestsCount++,s.maxRequestsOnConnectionReached=e.maxRequestsPerSocket<=t.requestsCount),typeof e.maxRequestsPerSocket=="number"&&e.maxRequestsPerSocket<t.requestsCount?(r=!0,s.writeHead(503),s.end()):i.headers.expect!==void 0&&(r=!0,RegExpPrototypeTest(continueExpression,i.headers.expect)?(s._expect_continue=!0,e.listenerCount("checkContinue")>0?e.emit("checkContinue",i,s):(s.writeContinue(),e.emit("request",i,s))):e.listenerCount("checkExpectation")>0?e.emit("checkExpectation",i,s):(s.writeHead(417),s.end()))),r||(i.on("end",clearRequestTimeout),e.emit("request",i,s)),0}function resetSocketTimeout(e,n,t){!t.keepAliveTimeoutSet||(n.setTimeout(e.timeout||0),t.keepAliveTimeoutSet=!1)}function onSocketResume(){if(this._paused){this.pause();return}this._handle&&!this._handle.reading&&(this._handle.reading=!0,this._handle.readStart())}function onSocketPause(){this._handle&&this._handle.reading&&(this._handle.reading=!1,this._handle.readStop())}function unconsume(e,n){n._handle&&(e._consumed&&e.unconsume(),e._consumed=!1,n.removeListener("pause",onSocketPause),n.removeListener("resume",onSocketResume))}function generateSocketListenerWrapper(e){return function(t,i){const o=net.Socket.prototype[e].call(this,t,i);return this.parser?((t==="data"||t==="readable")&&unconsume(this.parser,this),o):(this.on=net.Socket.prototype.on,this.addListener=net.Socket.prototype.addListener,this.prependListener=net.Socket.prototype.prependListener,o)}}module.exports={STATUS_CODES,Server,ServerResponse,storeHTTPOptions,_connectionListener:connectionListener,kServerResponse};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";module.exports=require("stream").Duplex;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";module.exports=require("stream").PassThrough;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";module.exports=require("stream").Readable;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";module.exports=require("stream").Transform;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";module.exports=require("internal/js_stream_socket"),process.emitWarning("The _stream_wrap module is deprecated.","DeprecationWarning","DEP0125");
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";module.exports=require("stream").Writable;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const tls=require("tls"),{ArrayPrototypePush,ObjectCreate,StringPrototypeReplace}=primordials,{codes:{ERR_TLS_INVALID_PROTOCOL_VERSION,ERR_TLS_PROTOCOL_VERSION_CONFLICT}}=require("internal/errors"),{crypto:{SSL_OP_CIPHER_SERVER_PREFERENCE,TLS1_VERSION,TLS1_1_VERSION,TLS1_2_VERSION,TLS1_3_VERSION}}=internalBinding("constants"),{validateInteger}=require("internal/validators"),{configSecureContext}=require("internal/tls/secure-context"),{parseCertString}=require("internal/tls/parse-cert-string");function toV(e,t,i){if(t==null&&(t=i),t==="TLSv1")return TLS1_VERSION;if(t==="TLSv1.1")return TLS1_1_VERSION;if(t==="TLSv1.2")return TLS1_2_VERSION;if(t==="TLSv1.3")return TLS1_3_VERSION;throw new ERR_TLS_INVALID_PROTOCOL_VERSION(t,e)}const{SecureContext:NativeSecureContext}=internalBinding("crypto");function SecureContext(e,t,i,n){if(!(this instanceof SecureContext))return new SecureContext(e,t,i,n);if(e){if(i!=null)throw new ERR_TLS_PROTOCOL_VERSION_CONFLICT(i,e);if(n!=null)throw new ERR_TLS_PROTOCOL_VERSION_CONFLICT(n,e)}this.context=new NativeSecureContext,this.context.init(e,toV("minimum",i,tls.DEFAULT_MIN_VERSION),toV("maximum",n,tls.DEFAULT_MAX_VERSION)),t&&(validateInteger(t,"secureOptions"),this.context.setOptions(t))}function createSecureContext(e){e||(e={});const{honorCipherOrder:t,minVersion:i,maxVersion:n,secureProtocol:r}=e;let{secureOptions:s}=e;t&&(s|=SSL_OP_CIPHER_SERVER_PREFERENCE);const u=new SecureContext(r,s,i,n);return configSecureContext(u.context,e),u}function translatePeerCertificate(e){if(!e)return null;if(e.issuer!=null&&(e.issuer=parseCertString(e.issuer)),e.issuerCertificate!=null&&e.issuerCertificate!==e&&(e.issuerCertificate=translatePeerCertificate(e.issuerCertificate)),e.subject!=null&&(e.subject=parseCertString(e.subject)),e.infoAccess!=null){const t=e.infoAccess;e.infoAccess=ObjectCreate(null),StringPrototypeReplace(t,/([^\n:]*):([^\n]*)(?:\n|$)/g,(i,n,r)=>{n in e.infoAccess?ArrayPrototypePush(e.infoAccess[n],r):e.infoAccess[n]=[r]})}return e}module.exports={SecureContext,createSecureContext,translatePeerCertificate};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeForEach,ArrayPrototypeJoin,ArrayPrototypePush,FunctionPrototype,ObjectAssign,ObjectDefineProperty,ObjectSetPrototypeOf,ReflectApply,RegExp,RegExpPrototypeTest,StringPrototypeReplace,StringPrototypeSlice,Symbol,SymbolFor}=primordials,{assertCrypto,deprecate}=require("internal/util");assertCrypto();const{setImmediate}=require("timers"),assert=require("internal/assert"),crypto=require("crypto"),EE=require("events"),net=require("net"),tls=require("tls"),common=require("_tls_common"),JSStreamSocket=require("internal/js_stream_socket"),{Buffer}=require("buffer");let debug=require("internal/util/debuglog").debuglog("tls",e=>{debug=e});const{TCP,constants:TCPConstants}=internalBinding("tcp_wrap"),tls_wrap=internalBinding("tls_wrap"),{Pipe,constants:PipeConstants}=internalBinding("pipe_wrap"),{owner_symbol}=require("internal/async_hooks").symbols,{isArrayBufferView}=require("internal/util/types"),{SecureContext:NativeSecureContext}=internalBinding("crypto"),{connResetException,codes}=require("internal/errors"),{ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_MULTIPLE_CALLBACK,ERR_SOCKET_CLOSED,ERR_TLS_DH_PARAM_SIZE,ERR_TLS_HANDSHAKE_TIMEOUT,ERR_TLS_INVALID_CONTEXT,ERR_TLS_RENEGOTIATION_DISABLED,ERR_TLS_REQUIRED_SERVER_NAME,ERR_TLS_SESSION_ATTACK,ERR_TLS_SNI_FROM_SERVER,ERR_TLS_INVALID_STATE}=codes,{onpskexchange:kOnPskExchange}=internalBinding("symbols"),{getOptionValue,getAllowUnauthorized}=require("internal/options"),{validateBoolean,validateBuffer,validateCallback,validateFunction,validateInt32,validateNumber,validateObject,validateString,validateUint32}=require("internal/validators"),{InternalX509Certificate}=require("internal/crypto/x509"),traceTls=getOptionValue("--trace-tls"),tlsKeylog=getOptionValue("--tls-keylog"),{appendFile}=require("fs"),kConnectOptions=Symbol("connect-options"),kDisableRenegotiation=Symbol("disable-renegotiation"),kErrorEmitted=Symbol("error-emitted"),kHandshakeTimeout=Symbol("handshake-timeout"),kRes=Symbol("res"),kSNICallback=Symbol("snicallback"),kEnableTrace=Symbol("enableTrace"),kPskCallback=Symbol("pskcallback"),kPskIdentityHint=Symbol("pskidentityhint"),kPendingSession=Symbol("pendingSession"),kIsVerified=Symbol("verified"),noop=FunctionPrototype;let ipServernameWarned=!1,tlsTracingWarned=!1;function onhandshakestart(e){debug("server onhandshakestart");const{lastHandshakeTime:n}=this;if(assert(e>=n,`now (${e}) < lastHandshakeTime (${n})`),this.lastHandshakeTime=e,n===0)return;e-n>=tls.CLIENT_RENEG_WINDOW*1e3?this.handshakes=1:this.handshakes++;const t=this[owner_symbol];if(assert(t._tlsOptions.isServer),this.handshakes>tls.CLIENT_RENEG_LIMIT){t._emitTLSError(new ERR_TLS_SESSION_ATTACK);return}t[kDisableRenegotiation]&&t._emitTLSError(new ERR_TLS_RENEGOTIATION_DISABLED)}function onhandshakedone(){debug("server onhandshakedone");const e=this[owner_symbol];if(assert(e._tlsOptions.isServer),e._newSessionPending){e._securePending=!0;return}e._finishInit()}function loadSession(e){debug("server onclienthello","sessionid.len",e.sessionId.length,"ticket?",e.tlsTicket);const n=this[owner_symbol];let t=!1;function s(r,o){if(debug("server resumeSession callback(err %j, sess? %s)",r,!!o),t)return n.destroy(new ERR_MULTIPLE_CALLBACK);if(t=!0,r)return n.destroy(r);if(n._handle===null)return n.destroy(new ERR_SOCKET_CLOSED);n._handle.loadSession(o),n._handle.endParser()}(e.sessionId.length<=0||e.tlsTicket||n.server&&!n.server.emit("resumeSession",e.sessionId,s))&&n._handle.endParser()}function loadSNI(e){const n=this[owner_symbol],t=e.servername;if(!t||!n._SNICallback)return requestOCSP(n,e);let s=!1;n._SNICallback(t,(r,o)=>{if(s)return n.destroy(new ERR_MULTIPLE_CALLBACK);if(s=!0,r)return n.destroy(r);if(n._handle===null)return n.destroy(new ERR_SOCKET_CLOSED);o&&(n._handle.sni_context=o.context||o),requestOCSP(n,e)})}function requestOCSP(e,n){if(!n.OCSPRequest||!e.server)return requestOCSPDone(e);let t=e._handle.sni_context;if(!t&&(t=e.server._sharedCreds,!t)||(t.context&&(t=t.context),e.server.listenerCount("OCSPRequest")===0))return requestOCSPDone(e);let s=!1;const r=(o,i)=>{if(debug("server OCSPRequest done","handle?",!!e._handle,"once?",s,"response?",!!i,"err?",o),s)return e.destroy(new ERR_MULTIPLE_CALLBACK);if(s=!0,o)return e.destroy(o);if(e._handle===null)return e.destroy(new ERR_SOCKET_CLOSED);i&&e._handle.setOCSPResponse(i),requestOCSPDone(e)};debug("server oncertcb emit OCSPRequest"),e.server.emit("OCSPRequest",t.getCertificate(),t.getIssuer(),r)}function requestOCSPDone(e){debug("server certcb done");try{e._handle.certCbDone()}catch(n){debug("server certcb done errored",n),e.destroy(n)}}function onnewsessionclient(e,n){debug("client emit session");const t=this[owner_symbol];t[kIsVerified]?t.emit("session",n):t[kPendingSession]=n}function onnewsession(e,n){debug("onnewsession");const t=this[owner_symbol];if(!t.server)return;let s=!1;const r=()=>{if(debug("onnewsession done"),!s){if(s=!0,t._handle===null)return t.destroy(new ERR_SOCKET_CLOSED);this.newSessionDone(),t._newSessionPending=!1,t._securePending&&t._finishInit(),t._securePending=!1}};t._newSessionPending=!0,t.server.emit("newSession",e,n,r)||r()}function onPskServerCallback(e,n){const t=this[owner_symbol],s=t[kPskCallback](t,e);if(s==null)return;let r;if(isArrayBufferView(s))r=s;else{if(typeof s!="object")throw new ERR_INVALID_ARG_TYPE("ret",["Object","Buffer","TypedArray","DataView"],s);r=s.psk,validateBuffer(r,"psk")}if(r.length>n)throw new ERR_INVALID_ARG_VALUE("psk",r,`Pre-shared key exceeds ${n} bytes`);return r}function onPskClientCallback(e,n,t){const r=this[owner_symbol][kPskCallback](e);if(r!=null){if(validateObject(r,"ret"),validateBuffer(r.psk,"psk"),r.psk.length>n)throw new ERR_INVALID_ARG_VALUE("psk",r.psk,`Pre-shared key exceeds ${n} bytes`);if(validateString(r.identity,"identity"),Buffer.byteLength(r.identity)>t)throw new ERR_INVALID_ARG_VALUE("identity",r.identity,`PSK identity exceeds ${t} bytes`);return{psk:r.psk,identity:r.identity}}}function onkeylog(e){debug("onkeylog"),this[owner_symbol].emit("keylog",e)}function onocspresponse(e){debug("client onocspresponse"),this[owner_symbol].emit("OCSPResponse",e)}function onerror(e){const n=this[owner_symbol];debug("%s onerror %s had? %j",n._tlsOptions.isServer?"server":"client",e,n._hadError),!n._hadError&&(n._hadError=!0,n._secureEstablished?n._tlsOptions.isServer&&n._rejectUnauthorized&&RegExpPrototypeTest(/peer did not return a certificate/,e.message)?n.destroy():n._emitTLSError(e):n.destroy(e))}function initRead(e,n){if(debug("%s initRead",e._tlsOptions.isServer?"server":"client","handle?",!!e._handle,"buffered?",!!n&&n.readableLength),!!e._handle){if(n&&n.readableLength){let t;for(;(t=n.read())!==null;)e._handle.receive(t)}e.read(0)}}function TLSSocket(e,n){const t={...n};let s=t.enableTrace;s==null?(s=traceTls,s&&!tlsTracingWarned&&(tlsTracingWarned=!0,process.emitWarning("Enabling --trace-tls can expose sensitive data in the resulting log."))):validateBoolean(s,"options.enableTrace"),t.ALPNProtocols&&tls.convertALPNProtocols(t.ALPNProtocols,t),this._tlsOptions=t,this._secureEstablished=!1,this._securePending=!1,this._newSessionPending=!1,this._controlReleased=!1,this.secureConnecting=!0,this._SNICallback=null,this.servername=null,this.alpnProtocol=null,this.authorized=!1,this.authorizationError=null,this[kRes]=null,this[kIsVerified]=!1,this[kPendingSession]=null;let r;e instanceof net.Socket&&e._handle||!e?r=e:r=new JSStreamSocket(e),this.encrypted=!0,ReflectApply(net.Socket,this,[{handle:this._wrapHandle(r),allowHalfOpen:e?e.allowHalfOpen:t.allowHalfOpen,pauseOnCreate:t.pauseOnConnect,manualStart:!0,highWaterMark:t.highWaterMark,onread:e?null:t.onread,signal:t.signal}]),this.ssl=this._handle,this.on("error",this._tlsError),this._init(e,r),s&&this._handle&&this._handle.enableTrace(),process.nextTick(initRead,this,e)}ObjectSetPrototypeOf(TLSSocket.prototype,net.Socket.prototype),ObjectSetPrototypeOf(TLSSocket,net.Socket),exports.TLSSocket=TLSSocket;const proxiedMethods=["ref","unref","open","bind","listen","connect","bind6","connect6","getsockname","getpeername","setNoDelay","setKeepAlive","setSimultaneousAccepts","setBlocking","setPendingInstances"];function makeMethodProxy(e){return function(...t){if(this._parent[e])return ReflectApply(this._parent[e],this._parent,t)}}for(const e of proxiedMethods)tls_wrap.TLSWrap.prototype[e]=makeMethodProxy(e);tls_wrap.TLSWrap.prototype.close=function(n){let t;this[owner_symbol]&&(t=this[owner_symbol].ssl,this[owner_symbol].ssl=null);const s=()=>{t&&(t.destroySSL(),t._secureContext.singleUse&&(t._secureContext.context.close(),t._secureContext.context=null)),n&&n()};return this._parentWrap&&this._parentWrap._handle===this._parent?(this._parentWrap.once("close",s),this._parentWrap.destroy()):this._parent.close(s)},TLSSocket.prototype.disableRenegotiation=function(){this[kDisableRenegotiation]=!0},TLSSocket.prototype._wrapHandle=function(e){let n;e&&(n=e._handle);const t=this._tlsOptions;n||(n=t.pipe?new Pipe(PipeConstants.SOCKET):new TCP(TCPConstants.SOCKET),n[owner_symbol]=this);const s=t.secureContext||t.credentials||tls.createSecureContext(t);if(assert(n.isStreamBase,"handle must be a StreamBase"),!(s.context instanceof NativeSecureContext))throw new ERR_TLS_INVALID_CONTEXT("context");const r=tls_wrap.wrap(n,s.context,!!t.isServer);return r._parent=n,r._parentWrap=e,r._secureContext=s,r.reading=n.reading,this[kRes]=r,defineHandleReading(this,n),this.on("close",onSocketCloseDestroySSL),r};function defineHandleReading(e,n){ObjectDefineProperty(n,"reading",{get:()=>e[kRes].reading,set:t=>{e[kRes].reading=t}})}function onSocketCloseDestroySSL(){setImmediate(destroySSL,this),this[kRes]=null}function destroySSL(e){e._destroySSL()}TLSSocket.prototype._destroySSL=function(){!this.ssl||(this.ssl.destroySSL(),this.ssl._secureContext.singleUse&&(this.ssl._secureContext.context.close(),this.ssl._secureContext.context=null),this.ssl=null,this[kPendingSession]=null,this[kIsVerified]=!1)};let warnOnTlsKeylog=!0,warnOnTlsKeylogError=!0;TLSSocket.prototype._init=function(e,n){const t=this._tlsOptions,s=this._handle;this.server=t.server,debug("%s _init",t.isServer?"server":"client","handle?",!!s);const r=!!t.requestCert||!t.isServer,o=!!t.rejectUnauthorized;this._requestCert=r,this._rejectUnauthorized=o,(r||o)&&s.setVerifyMode(r,o),s.onkeylog=onkeylog,this.on("newListener",i);function i(a){a==="keylog"&&(!this._handle||(this._handle.enableKeylogCallback(),this.removeListener("newListener",i)))}if(t.isServer)s.onhandshakestart=onhandshakestart,s.onhandshakedone=onhandshakedone,s.onclienthello=loadSession,s.oncertcb=loadSNI,s.onnewsession=onnewsession,s.lastHandshakeTime=0,s.handshakes=0,this.server&&((this.server.listenerCount("resumeSession")>0||this.server.listenerCount("newSession")>0)&&s.enableSessionCallbacks(),this.server.listenerCount("OCSPRequest")>0&&s.enableCertCb());else{let a=function(c){c==="session"&&(!this._handle||(this._handle.enableSessionCallbacks(),this.removeListener("newListener",a)))};s.onhandshakestart=noop,s.onhandshakedone=()=>{debug("client onhandshakedone"),this._finishInit()},s.onocspresponse=onocspresponse,t.session&&s.setSession(t.session),s.onnewsession=onnewsessionclient,this.on("newListener",a)}tlsKeylog&&(warnOnTlsKeylog&&(warnOnTlsKeylog=!1,process.emitWarning("Using --tls-keylog makes TLS connections insecure by writing secret key material to file "+tlsKeylog)),this.on("keylog",a=>{appendFile(tlsKeylog,a,{mode:384},c=>{c&&warnOnTlsKeylogError&&(warnOnTlsKeylogError=!1,process.emitWarning("Failed to write TLS keylog (this warning will not be repeated): "+c))})})),s.onerror=onerror,t.isServer&&t.SNICallback&&(t.SNICallback!==SNICallback||t.server&&t.server._contexts.length)&&(assert(typeof t.SNICallback=="function"),this._SNICallback=t.SNICallback,s.enableCertCb()),t.ALPNProtocols&&(s._secureContext.alpnBuffer=t.ALPNProtocols,s.setALPNProtocols(s._secureContext.alpnBuffer)),t.pskCallback&&s.enablePskCallback&&(validateFunction(t.pskCallback,"pskCallback"),s[kOnPskExchange]=t.isServer?onPskServerCallback:onPskClientCallback,this[kPskCallback]=t.pskCallback,s.enablePskCallback(),t.pskIdentityHint&&(validateString(t.pskIdentityHint,"options.pskIdentityHint"),s.setPskIdentityHint(t.pskIdentityHint))),t.handshakeTimeout>0&&this.setTimeout(t.handshakeTimeout,this._handleTimeout),e instanceof net.Socket&&(this._parent=e,this.connecting=e.connecting||!e._handle,e.once("connect",()=>{this.connecting=!1,this.emit("connect")})),n?n.on("error",a=>this._emitTLSError(a)):(assert(!e),this.connecting=!0)},TLSSocket.prototype.renegotiate=function(e,n){if(validateObject(e,"options"),n!==void 0&&validateCallback(n),debug("%s renegotiate()",this._tlsOptions.isServer?"server":"client","destroyed?",this.destroyed),this.destroyed)return;let t=!!this._requestCert,s=!!this._rejectUnauthorized;e.requestCert!==void 0&&(t=!!e.requestCert),e.rejectUnauthorized!==void 0&&(s=!!e.rejectUnauthorized),(t!==this._requestCert||s!==this._rejectUnauthorized)&&(this._handle.setVerifyMode(t,s),this._requestCert=t,this._rejectUnauthorized=s),this.write("");try{this._handle.renegotiate()}catch(r){return n&&process.nextTick(n,r),!1}return this.write(""),n&&this.once("secure",()=>n(null)),!0},TLSSocket.prototype.exportKeyingMaterial=function(e,n,t){if(validateUint32(e,"length",!0),validateString(n,"label"),t!==void 0&&validateBuffer(t,"context"),!this._secureEstablished)throw new ERR_TLS_INVALID_STATE;return this._handle.exportKeyingMaterial(e,n,t)},TLSSocket.prototype.setMaxSendFragment=function(n){return validateInt32(n,"size"),this._handle.setMaxSendFragment(n)===1},TLSSocket.prototype._handleTimeout=function(){this._emitTLSError(new ERR_TLS_HANDSHAKE_TIMEOUT)},TLSSocket.prototype._emitTLSError=function(e){const n=this._tlsError(e);n&&this.emit("error",n)},TLSSocket.prototype._tlsError=function(e){return this.emit("_tlsError",e),this._controlReleased?e:null},TLSSocket.prototype._releaseControl=function(){return this._controlReleased?!1:(this._controlReleased=!0,this.removeListener("error",this._tlsError),!0)},TLSSocket.prototype._finishInit=function(){!this._handle||(this.alpnProtocol=this._handle.getALPNNegotiatedProtocol(),this.servername===null&&(this.servername=this._handle.getServername()),debug("%s _finishInit",this._tlsOptions.isServer?"server":"client","handle?",!!this._handle,"alpn",this.alpnProtocol,"servername",this.servername),this._secureEstablished=!0,this._tlsOptions.handshakeTimeout>0&&this.setTimeout(0,this._handleTimeout),this.emit("secure"))},TLSSocket.prototype._start=function(){if(debug("%s _start",this._tlsOptions.isServer?"server":"client","handle?",!!this._handle,"connecting?",this.connecting,"requestOCSP?",!!this._tlsOptions.requestOCSP),this.connecting){this.once("connect",this._start);return}!this._handle||(this._tlsOptions.requestOCSP&&this._handle.requestOCSP(),this._handle.start())},TLSSocket.prototype.setServername=function(e){if(validateString(e,"name"),this._tlsOptions.isServer)throw new ERR_TLS_SNI_FROM_SERVER;this._handle.setServername(e)},TLSSocket.prototype.setSession=function(e){typeof e=="string"&&(e=Buffer.from(e,"latin1")),this._handle.setSession(e)},TLSSocket.prototype.getPeerCertificate=function(e){return this._handle?common.translatePeerCertificate(this._handle.getPeerCertificate(e))||{}:null},TLSSocket.prototype.getCertificate=function(){return this._handle?common.translatePeerCertificate(this._handle.getCertificate())||{}:null},TLSSocket.prototype.getPeerX509Certificate=function(e){const n=this._handle?.getPeerX509Certificate();return n?new InternalX509Certificate(n):void 0},TLSSocket.prototype.getX509Certificate=function(){const e=this._handle?.getX509Certificate();return e?new InternalX509Certificate(e):void 0};function makeSocketMethodProxy(e){return function(...t){return this._handle?ReflectApply(this._handle[e],this._handle,t):null}}ArrayPrototypeForEach(["getCipher","getSharedSigalgs","getEphemeralKeyInfo","getFinished","getPeerFinished","getProtocol","getSession","getTLSTicket","isSessionReused","enableTrace"],e=>{TLSSocket.prototype[e]=makeSocketMethodProxy(e)});function onServerSocketSecure(){if(this._requestCert){const e=this._handle.verifyError();e?(this.authorizationError=e.code,this._rejectUnauthorized&&this.destroy()):this.authorized=!0}!this.destroyed&&this._releaseControl()&&(debug("server emit secureConnection"),this.secureConnecting=!1,this._tlsOptions.server.emit("secureConnection",this))}function onSocketTLSError(e){!this._controlReleased&&!this[kErrorEmitted]&&(this[kErrorEmitted]=!0,debug("server emit tlsClientError:",e),this._tlsOptions.server.emit("tlsClientError",e,this))}function onSocketKeylog(e){this._tlsOptions.server.emit("keylog",e,this)}function onSocketClose(e){if(!e&&!this._controlReleased&&!this[kErrorEmitted]){this[kErrorEmitted]=!0;const n=connResetException("socket hang up");this._tlsOptions.server.emit("tlsClientError",n,this)}}function tlsConnectionListener(e){debug("net.Server.on(connection): new TLSSocket");const n=new TLSSocket(e,{secureContext:this._sharedCreds,isServer:!0,server:this,requestCert:this.requestCert,rejectUnauthorized:this.rejectUnauthorized,handshakeTimeout:this[kHandshakeTimeout],ALPNProtocols:this.ALPNProtocols,SNICallback:this[kSNICallback]||SNICallback,enableTrace:this[kEnableTrace],pauseOnConnect:this.pauseOnConnect,pskCallback:this[kPskCallback],pskIdentityHint:this[kPskIdentityHint]});n.on("secure",onServerSocketSecure),this.listenerCount("keylog")>0&&n.on("keylog",onSocketKeylog),n[kErrorEmitted]=!1,n.on("close",onSocketClose),n.on("_tlsError",onSocketTLSError)}function Server(e,n){if(!(this instanceof Server))return new Server(e,n);if(typeof e=="function")n=e,e={};else if(e==null||typeof e=="object")e=e||{};else throw new ERR_INVALID_ARG_TYPE("options","Object",e);if(this._contexts=[],this.requestCert=e.requestCert===!0,this.rejectUnauthorized=e.rejectUnauthorized!==!1,e.sessionTimeout&&(this.sessionTimeout=e.sessionTimeout),e.ticketKeys&&(this.ticketKeys=e.ticketKeys),e.ALPNProtocols&&tls.convertALPNProtocols(e.ALPNProtocols,this),this.setSecureContext(e),this[kHandshakeTimeout]=e.handshakeTimeout||120*1e3,this[kSNICallback]=e.SNICallback,this[kPskCallback]=e.pskCallback,this[kPskIdentityHint]=e.pskIdentityHint,validateNumber(this[kHandshakeTimeout],"options.handshakeTimeout"),this[kSNICallback]&&typeof this[kSNICallback]!="function")throw new ERR_INVALID_ARG_TYPE("options.SNICallback","function",e.SNICallback);if(this[kPskCallback]&&typeof this[kPskCallback]!="function")throw new ERR_INVALID_ARG_TYPE("options.pskCallback","function",e.pskCallback);if(this[kPskIdentityHint]&&typeof this[kPskIdentityHint]!="string")throw new ERR_INVALID_ARG_TYPE("options.pskIdentityHint","string",e.pskIdentityHint);ReflectApply(net.Server,this,[e,tlsConnectionListener]),n&&this.on("secureConnection",n),this[kEnableTrace]=e.enableTrace}ObjectSetPrototypeOf(Server.prototype,net.Server.prototype),ObjectSetPrototypeOf(Server,net.Server),exports.Server=Server,exports.createServer=function(n,t){return new Server(n,t)},Server.prototype.setSecureContext=function(e){validateObject(e,"options"),e.pfx?this.pfx=e.pfx:this.pfx=void 0,e.key?this.key=e.key:this.key=void 0,e.passphrase?this.passphrase=e.passphrase:this.passphrase=void 0,e.cert?this.cert=e.cert:this.cert=void 0,e.clientCertEngine?this.clientCertEngine=e.clientCertEngine:this.clientCertEngine=void 0,e.ca?this.ca=e.ca:this.ca=void 0,e.minVersion?this.minVersion=e.minVersion:this.minVersion=void 0,e.maxVersion?this.maxVersion=e.maxVersion:this.maxVersion=void 0,e.secureProtocol?this.secureProtocol=e.secureProtocol:this.secureProtocol=void 0,e.crl?this.crl=e.crl:this.crl=void 0,this.sigalgs=e.sigalgs,e.ciphers?this.ciphers=e.ciphers:this.ciphers=void 0,this.ecdhCurve=e.ecdhCurve,e.dhparam?this.dhparam=e.dhparam:this.dhparam=void 0,e.honorCipherOrder!==void 0?this.honorCipherOrder=!!e.honorCipherOrder:this.honorCipherOrder=!0;const n=e.secureOptions||0;n?this.secureOptions=n:this.secureOptions=void 0,e.sessionIdContext?this.sessionIdContext=e.sessionIdContext:this.sessionIdContext=StringPrototypeSlice(crypto.createHash("sha1").update(ArrayPrototypeJoin(process.argv," ")).digest("hex"),0,32),e.sessionTimeout&&(this.sessionTimeout=e.sessionTimeout),e.ticketKeys&&(this.ticketKeys=e.ticketKeys),this.privateKeyIdentifier=e.privateKeyIdentifier,this.privateKeyEngine=e.privateKeyEngine,this._sharedCreds=tls.createSecureContext({pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,clientCertEngine:this.clientCertEngine,ca:this.ca,ciphers:this.ciphers,sigalgs:this.sigalgs,ecdhCurve:this.ecdhCurve,dhparam:this.dhparam,minVersion:this.minVersion,maxVersion:this.maxVersion,secureProtocol:this.secureProtocol,secureOptions:this.secureOptions,honorCipherOrder:this.honorCipherOrder,crl:this.crl,sessionIdContext:this.sessionIdContext,ticketKeys:this.ticketKeys,sessionTimeout:this.sessionTimeout,privateKeyIdentifier:this.privateKeyIdentifier,privateKeyEngine:this.privateKeyEngine})},Server.prototype._getServerData=function(){return{ticketKeys:this.getTicketKeys().toString("hex")}},Server.prototype._setServerData=function(e){this.setTicketKeys(Buffer.from(e.ticketKeys,"hex"))},Server.prototype.getTicketKeys=function(){return this._sharedCreds.context.getTicketKeys()},Server.prototype.setTicketKeys=function(n){validateBuffer(n),assert(n.byteLength===48,"Session ticket keys must be a 48-byte buffer"),this._sharedCreds.context.setTicketKeys(n)},Server.prototype.setOptions=deprecate(function(e){this.requestCert=e.requestCert===!0,this.rejectUnauthorized=e.rejectUnauthorized!==!1,e.pfx&&(this.pfx=e.pfx),e.key&&(this.key=e.key),e.passphrase&&(this.passphrase=e.passphrase),e.cert&&(this.cert=e.cert),e.clientCertEngine&&(this.clientCertEngine=e.clientCertEngine),e.ca&&(this.ca=e.ca),e.minVersion&&(this.minVersion=e.minVersion),e.maxVersion&&(this.maxVersion=e.maxVersion),e.secureProtocol&&(this.secureProtocol=e.secureProtocol),e.crl&&(this.crl=e.crl),e.ciphers&&(this.ciphers=e.ciphers),e.ecdhCurve!==void 0&&(this.ecdhCurve=e.ecdhCurve),e.dhparam&&(this.dhparam=e.dhparam),e.sessionTimeout&&(this.sessionTimeout=e.sessionTimeout),e.ticketKeys&&(this.ticketKeys=e.ticketKeys);const n=e.secureOptions||0;e.honorCipherOrder!==void 0?this.honorCipherOrder=!!e.honorCipherOrder:this.honorCipherOrder=!0,n&&(this.secureOptions=n),e.ALPNProtocols&&tls.convertALPNProtocols(e.ALPNProtocols,this),e.sessionIdContext?this.sessionIdContext=e.sessionIdContext:this.sessionIdContext=StringPrototypeSlice(crypto.createHash("sha1").update(ArrayPrototypeJoin(process.argv," ")).digest("hex"),0,32),e.pskCallback&&(this[kPskCallback]=e.pskCallback),e.pskIdentityHint&&(this[kPskIdentityHint]=e.pskIdentityHint),e.sigalgs&&(this.sigalgs=e.sigalgs),e.privateKeyIdentifier!==void 0&&(this.privateKeyIdentifier=e.privateKeyIdentifier),e.privateKeyEngine!==void 0&&(this.privateKeyEngine=e.privateKeyEngine)},"Server.prototype.setOptions() is deprecated","DEP0122"),Server.prototype.addContext=function(e,n){if(!e)throw new ERR_TLS_REQUIRED_SERVER_NAME;const t=new RegExp("^"+StringPrototypeReplace(StringPrototypeReplace(e,/([.^$+?\-\\[\]{}])/g,"\\$1"),/\*/g,"[^.]*")+"$");ArrayPrototypePush(this._contexts,[t,tls.createSecureContext(n).context])},Server.prototype[EE.captureRejectionSymbol]=function(e,n,t){switch(n){case"secureConnection":t.destroy(e);break;default:ReflectApply(net.Server.prototype[SymbolFor("nodejs.rejection")],this,[e,n,t])}};function SNICallback(e,n){const t=this.server._contexts;for(let s=t.length-1;s>=0;--s){const r=t[s];if(RegExpPrototypeTest(r[0],e)){n(null,r[1]);return}}n(null,void 0)}function normalizeConnectArgs(e){const n=net._normalizeArgs(e),t=n[0],s=n[1];return e[1]!==null&&typeof e[1]=="object"?ObjectAssign(t,e[1]):e[2]!==null&&typeof e[2]=="object"&&ObjectAssign(t,e[2]),s?[t,s]:[t]}function onConnectSecure(){const e=this[kConnectOptions],n=this.getEphemeralKeyInfo();if(n.type==="DH"&&n.size<e.minDHSize){const r=new ERR_TLS_DH_PARAM_SIZE(n.size);debug("client emit:",r),this.emit("error",r),this.destroy();return}let t=this._handle.verifyError();if(!t&&!this.isSessionReused()){const r=e.servername||e.host||e.socket&&e.socket._host||"localhost",o=this.getPeerCertificate(!0);t=e.checkServerIdentity(r,o)}if(t){if(this.authorized=!1,this.authorizationError=t.code||t.message,e.rejectUnauthorized!==!1){this.destroy(t);return}debug("client emit secureConnect. rejectUnauthorized: %s, authorizationError: %s",e.rejectUnauthorized,this.authorizationError),this.secureConnecting=!1,this.emit("secureConnect")}else this.authorized=!0,debug("client emit secureConnect. authorized:",this.authorized),this.secureConnecting=!1,this.emit("secureConnect");this[kIsVerified]=!0;const s=this[kPendingSession];this[kPendingSession]=null,s&&this.emit("session",s),this.removeListener("end",onConnectEnd)}function onConnectEnd(){if(!this._hadError){const e=this[kConnectOptions];this._hadError=!0;const n=connResetException("Client network socket disconnected before secure TLS connection was established");n.path=e.path,n.host=e.host,n.port=e.port,n.localAddress=e.localAddress,this.destroy(n)}}exports.connect=function(...n){n=normalizeConnectArgs(n);let t=n[0];const s=n[1];t={rejectUnauthorized:!getAllowUnauthorized(),ciphers:tls.DEFAULT_CIPHERS,checkServerIdentity:tls.checkServerIdentity,minDHSize:1024,...t},t.keepAlive||(t.singleUse=!0),assert(typeof t.checkServerIdentity=="function"),assert(typeof t.minDHSize=="number","options.minDHSize is not a number: "+t.minDHSize),assert(t.minDHSize>0,"options.minDHSize is not a positive number: "+t.minDHSize);const o=t.secureContext||tls.createSecureContext(t),i=new TLSSocket(t.socket,{allowHalfOpen:t.allowHalfOpen,pipe:!!t.path,secureContext:o,isServer:!1,requestCert:!0,rejectUnauthorized:t.rejectUnauthorized!==!1,session:t.session,ALPNProtocols:t.ALPNProtocols,requestOCSP:t.requestOCSP,enableTrace:t.enableTrace,pskCallback:t.pskCallback,highWaterMark:t.highWaterMark,onread:t.onread,signal:t.signal});return t.rejectUnauthorized=t.rejectUnauthorized!==!1,i[kConnectOptions]=t,s&&i.once("secureConnect",s),t.socket||(t.timeout&&i.setTimeout(t.timeout),i.connect(t,i._start)),i._releaseControl(),t.session&&i.setSession(t.session),t.servername&&(!ipServernameWarned&&net.isIP(t.servername)&&(process.emitWarning("Setting the TLS ServerName to an IP address is not permitted by RFC 6066. This will be ignored in a future version.","DeprecationWarning","DEP0123"),ipServernameWarned=!0),i.setServername(t.servername)),t.socket&&i._start(),i.on("secure",onConnectSecure),i.prependListener("end",onConnectEnd),i};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeIndexOf,ArrayPrototypeJoin,ArrayPrototypePush,ArrayPrototypeShift,ArrayPrototypeSlice,Error,ErrorCaptureStackTrace,FunctionPrototypeBind,NumberIsNaN,ObjectAssign,ObjectIs,ObjectKeys,ObjectPrototypeIsPrototypeOf,ReflectApply,RegExpPrototypeTest,SafeMap,String,StringPrototypeCharCodeAt,StringPrototypeIncludes,StringPrototypeIndexOf,StringPrototypeReplace,StringPrototypeSlice,StringPrototypeSplit,StringPrototypeStartsWith}=primordials,{Buffer}=require("buffer"),{codes:{ERR_AMBIGUOUS_ARGUMENT,ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_INVALID_RETURN_VALUE,ERR_MISSING_ARGS},isErrorStackTraceLimitWritable,overrideStackTrace}=require("internal/errors"),AssertionError=require("internal/assert/assertion_error"),{openSync,closeSync,readSync}=require("fs"),{inspect}=require("internal/util/inspect"),{isPromise,isRegExp}=require("internal/util/types"),{EOL}=require("internal/constants"),{NativeModule}=require("internal/bootstrap/loaders"),{isError}=require("internal/util"),errorCache=new SafeMap,CallTracker=require("internal/assert/calltracker"),{validateFunction}=require("internal/validators");let isDeepEqual,isDeepStrictEqual,parseExpressionAt,findNodeAround,decoder;function lazyLoadComparison(){const t=require("internal/util/comparisons");isDeepEqual=t.isDeepEqual,isDeepStrictEqual=t.isDeepStrictEqual}const escapeSequencesRegExp=/[\x00-\x08\x0b\x0c\x0e-\x1f]/g,meta=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","","","\\u000b","\\f","","\\u000e","\\u000f","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001a","\\u001b","\\u001c","\\u001d","\\u001e","\\u001f"],escapeFn=t=>meta[StringPrototypeCharCodeAt(t,0)];let warned=!1;const assert=module.exports=ok,NO_EXCEPTION_SENTINEL={};function innerFail(t){throw t.message instanceof Error?t.message:new AssertionError(t)}function fail(t,e,n,r,i){const s=arguments.length;let o=!1;if(t==null&&s<=1?(o=!0,n="Failed"):s===1?(n=t,t=void 0):(warned===!1&&(warned=!0,process.emitWarning("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),s===2&&(r="!=")),n instanceof Error)throw n;const a={actual:t,expected:e,operator:r===void 0?"fail":r,stackStartFn:i||fail,message:n},f=new AssertionError(a);throw o&&(f.generatedMessage=!0),f}assert.fail=fail,assert.AssertionError=AssertionError;function findColumn(t,e,n){if(n.length>e+100)try{return parseCode(n,e)}catch{if(n.length-e>2500)throw null}const r=e-n.length+2500,i=Buffer.allocUnsafe(r),s=readSync(t,i,0,r);return n+=decoder.write(i.slice(0,s)),s<r?parseCode(n,e):findColumn(t,e,n)}function getCode(t,e,n){let r=0;if(e===0)return findColumn(t,n,"");let i=0,s=32;const o=16384;let a=Buffer.allocUnsafe(o);for(;s--!=0;){a=i<e?a:Buffer.allocUnsafe(o),r=readSync(t,a,0,o);for(let f=0;f<r;f++)if(a[f]===10&&++i===e){if(r<o)return parseCode(a.toString("utf8",f+1,r),n);const u=decoder.write(a.slice(f+1,r));return findColumn(t,n,u)}}}function parseCode(t,e){if(parseExpressionAt===void 0){const i=require("internal/deps/acorn/acorn/dist/acorn").Parser;({findNodeAround}=require("internal/deps/acorn/acorn-walk/dist/walk")),parseExpressionAt=FunctionPrototypeBind(i.parseExpressionAt,i)}let n,r=0;do try{n=parseExpressionAt(t,r,{ecmaVersion:"latest"}),r=n.end+1||r,n=findNodeAround(n,e,"CallExpression")}catch(i){if(r+=i.raisedAt||1,r>e)throw null}while(n===void 0||n.node.end<e);return[n.node.start,StringPrototypeReplace(StringPrototypeSlice(t,n.node.start,n.node.end),escapeSequencesRegExp,escapeFn)]}function getErrMessage(t,e){const n=Error.stackTraceLimit,r=isErrorStackTraceLimitWritable();r&&(Error.stackTraceLimit=1);const i={};ErrorCaptureStackTrace(i,e),r&&(Error.stackTraceLimit=n),overrideStackTrace.set(i,(c,p)=>p);const s=i.stack[0],o=s.getFileName(),a=s.getLineNumber()-1;let f=s.getColumnNumber()-1,u,l;if(o){if(u=`${o}${a}${f}`,StringPrototypeStartsWith(o,"node:")&&NativeModule.exists(StringPrototypeSlice(o,5))){errorCache.set(u,void 0);return}}else{const c=s.getFunction();if(!c)return t;l=String(c),u=`${l}${a}${f}`}if(errorCache.has(u))return errorCache.get(u);let h;try{if(r&&(Error.stackTraceLimit=0),o){if(decoder===void 0){const{StringDecoder:c}=require("string_decoder");decoder=new c("utf8")}h=openSync(o,"r",438),{0:f,1:t}=getCode(h,a,f),decoder.end()}else{for(let c=0;c<a;c++)l=StringPrototypeSlice(l,StringPrototypeIndexOf(l,`
`)+1);({0:f,1:t}=parseCode(l,f))}if(StringPrototypeIncludes(t,`
`)){EOL===`\r
`&&(t=StringPrototypeReplace(t,/\r\n/g,`
`));const c=StringPrototypeSplit(t,`
`);t=ArrayPrototypeShift(c);for(const p of c){let d=0;for(;d<f&&(p[d]===" "||p[d]==="	");)d++;t+=`
  ${StringPrototypeSlice(p,d)}`}}return t=`The expression evaluated to a falsy value:

  ${t}
`,errorCache.set(u,t),t}catch{errorCache.set(u,void 0)}finally{r&&(Error.stackTraceLimit=n),h!==void 0&&closeSync(h)}}function innerOk(t,e,n,r){if(!n){let i=!1;if(e===0)i=!0,r="No value argument passed to `assert.ok()`";else if(r==null)i=!0,r=getErrMessage(r,t);else if(r instanceof Error)throw r;const s=new AssertionError({actual:n,expected:!0,message:r,operator:"==",stackStartFn:t});throw s.generatedMessage=i,s}}function ok(...t){innerOk(ok,t.length,...t)}assert.ok=ok,assert.equal=function t(e,n,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");e!=n&&(!NumberIsNaN(e)||!NumberIsNaN(n))&&innerFail({actual:e,expected:n,message:r,operator:"==",stackStartFn:t})},assert.notEqual=function t(e,n,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");(e==n||NumberIsNaN(e)&&NumberIsNaN(n))&&innerFail({actual:e,expected:n,message:r,operator:"!=",stackStartFn:t})},assert.deepEqual=function t(e,n,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepEqual(e,n)||innerFail({actual:e,expected:n,message:r,operator:"deepEqual",stackStartFn:t})},assert.notDeepEqual=function t(e,n,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepEqual(e,n)&&innerFail({actual:e,expected:n,message:r,operator:"notDeepEqual",stackStartFn:t})},assert.deepStrictEqual=function t(e,n,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepStrictEqual(e,n)||innerFail({actual:e,expected:n,message:r,operator:"deepStrictEqual",stackStartFn:t})},assert.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(t,e,n){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepStrictEqual(t,e)&&innerFail({actual:t,expected:e,message:n,operator:"notDeepStrictEqual",stackStartFn:notDeepStrictEqual})}assert.strictEqual=function t(e,n,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");ObjectIs(e,n)||innerFail({actual:e,expected:n,message:r,operator:"strictEqual",stackStartFn:t})},assert.notStrictEqual=function t(e,n,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");ObjectIs(e,n)&&innerFail({actual:e,expected:n,message:r,operator:"notStrictEqual",stackStartFn:t})};class Comparison{constructor(e,n,r){for(const i of n)i in e&&(r!==void 0&&typeof r[i]=="string"&&isRegExp(e[i])&&RegExpPrototypeTest(e[i],r[i])?this[i]=r[i]:this[i]=e[i])}}function compareExceptionKey(t,e,n,r,i,s){if(!(n in t)||!isDeepStrictEqual(t[n],e[n])){if(!r){const o=new Comparison(t,i),a=new Comparison(e,i,t),f=new AssertionError({actual:o,expected:a,operator:"deepStrictEqual",stackStartFn:s});throw f.actual=t,f.expected=e,f.operator=s.name,f}innerFail({actual:t,expected:e,message:r,operator:s.name,stackStartFn:s})}}function expectedException(t,e,n,r){let i=!1,s=!1;if(typeof e!="function")if(isRegExp(e)){const o=String(t);if(RegExpPrototypeTest(e,o))return;n||(i=!0,n=`The input did not match the regular expression ${inspect(e)}. Input:

${inspect(o)}
`),s=!0}else if(typeof t!="object"||t===null){const o=new AssertionError({actual:t,expected:e,message:n,operator:"deepStrictEqual",stackStartFn:r});throw o.operator=r.name,o}else{const o=ObjectKeys(e);if(e instanceof Error)ArrayPrototypePush(o,"name","message");else if(o.length===0)throw new ERR_INVALID_ARG_VALUE("error",e,"may not be an empty object");isDeepEqual===void 0&&lazyLoadComparison();for(const a of o)typeof t[a]=="string"&&isRegExp(e[a])&&RegExpPrototypeTest(e[a],t[a])||compareExceptionKey(t,e,a,n,o,r);return}else{if(e.prototype!==void 0&&t instanceof e)return;if(ObjectPrototypeIsPrototypeOf(Error,e)){if(!n)if(i=!0,n=`The error is expected to be an instance of "${e.name}". Received `,isError(t)){const o=t.constructor&&t.constructor.name||t.name;e.name===o?n+="an error with identical name but a different prototype.":n+=`"${o}"`,t.message&&(n+=`

Error message:

${t.message}`)}else n+=`"${inspect(t,{depth:-1})}"`;s=!0}else{const o=ReflectApply(e,{},[t]);o!==!0&&(n||(i=!0,n=`The ${e.name?`"${e.name}" `:""}validation function is expected to return "true". Received ${inspect(o)}`,isError(t)&&(n+=`

Caught error:

${t}`)),s=!0)}}if(s){const o=new AssertionError({actual:t,expected:e,message:n,operator:r.name,stackStartFn:r});throw o.generatedMessage=i,o}}function getActual(t){validateFunction(t,"fn");try{t()}catch(e){return e}return NO_EXCEPTION_SENTINEL}function checkIsPromise(t){return isPromise(t)||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}async function waitForActual(t){let e;if(typeof t=="function"){if(e=t(),!checkIsPromise(e))throw new ERR_INVALID_RETURN_VALUE("instance of Promise","promiseFn",e)}else if(checkIsPromise(t))e=t;else throw new ERR_INVALID_ARG_TYPE("promiseFn",["Function","Promise"],t);try{await e}catch(n){return n}return NO_EXCEPTION_SENTINEL}function expectsError(t,e,n,r){if(typeof n=="string"){if(arguments.length===4)throw new ERR_INVALID_ARG_TYPE("error",["Object","Error","Function","RegExp"],n);if(typeof e=="object"&&e!==null){if(e.message===n)throw new ERR_AMBIGUOUS_ARGUMENT("error/message",`The error message "${e.message}" is identical to the message.`)}else if(e===n)throw new ERR_AMBIGUOUS_ARGUMENT("error/message",`The error "${e}" is identical to the message.`);r=n,n=void 0}else if(n!=null&&typeof n!="object"&&typeof n!="function")throw new ERR_INVALID_ARG_TYPE("error",["Object","Error","Function","RegExp"],n);if(e===NO_EXCEPTION_SENTINEL){let i="";n&&n.name&&(i+=` (${n.name})`),i+=r?`: ${r}`:".";const s=t.name==="rejects"?"rejection":"exception";innerFail({actual:void 0,expected:n,operator:t.name,message:`Missing expected ${s}${i}`,stackStartFn:t})}!n||expectedException(e,n,r,t)}function hasMatchingError(t,e){if(typeof e!="function"){if(isRegExp(e)){const n=String(t);return RegExpPrototypeTest(e,n)}throw new ERR_INVALID_ARG_TYPE("expected",["Function","RegExp"],e)}return e.prototype!==void 0&&t instanceof e?!0:ObjectPrototypeIsPrototypeOf(Error,e)?!1:ReflectApply(e,{},[t])===!0}function expectsNoError(t,e,n,r){if(e!==NO_EXCEPTION_SENTINEL){if(typeof n=="string"&&(r=n,n=void 0),!n||hasMatchingError(e,n)){const i=r?`: ${r}`:".",s=t.name==="doesNotReject"?"rejection":"exception";innerFail({actual:e,expected:n,operator:t.name,message:`Got unwanted ${s}${i}
Actual message: "${e&&e.message}"`,stackStartFn:t})}throw e}}assert.throws=function t(e,...n){expectsError(t,getActual(e),...n)},assert.rejects=async function t(e,...n){expectsError(t,await waitForActual(e),...n)},assert.doesNotThrow=function t(e,...n){expectsNoError(t,getActual(e),...n)},assert.doesNotReject=async function t(e,...n){expectsNoError(t,await waitForActual(e),...n)},assert.ifError=function t(e){if(e!=null){let n="ifError got unwanted exception: ";typeof e=="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?n+=e.constructor.name:n+=e.message:n+=inspect(e);const r=new AssertionError({actual:e,expected:null,operator:"ifError",message:n,stackStartFn:t}),i=e.stack;if(typeof i=="string"){const s=StringPrototypeSplit(i,`
`);ArrayPrototypeShift(s);let o=StringPrototypeSplit(r.stack,`
`);for(const a of s){const f=ArrayPrototypeIndexOf(o,a);if(f!==-1){o=ArrayPrototypeSlice(o,0,f);break}}r.stack=`${ArrayPrototypeJoin(o,`
`)}
${ArrayPrototypeJoin(s,`
`)}`}throw r}};function internalMatch(t,e,n,r){if(!isRegExp(e))throw new ERR_INVALID_ARG_TYPE("regexp","RegExp",e);const i=r.name==="match";if(typeof t!="string"||RegExpPrototypeTest(e,t)!==i){if(n instanceof Error)throw n;const s=!n;n=n||(typeof t!="string"?`The "string" argument must be of type string. Received type ${typeof t} (${inspect(t)})`:(i?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+`${inspect(e)}. Input:

${inspect(t)}
`);const o=new AssertionError({actual:t,expected:e,message:n,operator:r.name,stackStartFn:r});throw o.generatedMessage=s,o}}assert.match=function t(e,n,r){internalMatch(e,n,r,t)},assert.doesNotMatch=function t(e,n,r){internalMatch(e,n,r,t)},assert.CallTracker=CallTracker;function strict(...t){innerOk(strict,t.length,...t)}assert.strict=ObjectAssign(strict,assert,{equal:assert.strictEqual,deepEqual:assert.deepStrictEqual,notEqual:assert.notStrictEqual,notDeepEqual:assert.notDeepStrictEqual}),assert.strict.strict=assert.strict;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeIncludes,ArrayPrototypeIndexOf,ArrayPrototypePush,ArrayPrototypeSplice,FunctionPrototypeBind,NumberIsSafeInteger,ObjectDefineProperties,ObjectIs,ReflectApply,Symbol}=primordials,{ERR_ASYNC_CALLBACK,ERR_ASYNC_TYPE,ERR_INVALID_ASYNC_ID}=require("internal/errors").codes,{validateFunction,validateString}=require("internal/validators"),internal_async_hooks=require("internal/async_hooks"),{registerDestroyHook}=internal_async_hooks,{executionAsyncId,triggerAsyncId,hasAsyncIdStack,getHookArrays,enableHooks,disableHooks,updatePromiseHookMode,executionAsyncResource,newAsyncId,getDefaultTriggerAsyncId,emitInit,emitBefore,emitAfter,emitDestroy,enabledHooksExist,initHooksExist,destroyHooksExist}=internal_async_hooks,{async_id_symbol,trigger_async_id_symbol,init_symbol,before_symbol,after_symbol,destroy_symbol,promise_resolve_symbol}=internal_async_hooks.symbols,{kInit,kBefore,kAfter,kDestroy,kTotals,kPromiseResolve}=internal_async_hooks.constants;class AsyncHook{constructor({init:t,before:e,after:s,destroy:r,promiseResolve:o}){if(t!==void 0&&typeof t!="function")throw new ERR_ASYNC_CALLBACK("hook.init");if(e!==void 0&&typeof e!="function")throw new ERR_ASYNC_CALLBACK("hook.before");if(s!==void 0&&typeof s!="function")throw new ERR_ASYNC_CALLBACK("hook.after");if(r!==void 0&&typeof r!="function")throw new ERR_ASYNC_CALLBACK("hook.destroy");if(o!==void 0&&typeof o!="function")throw new ERR_ASYNC_CALLBACK("hook.promiseResolve");this[init_symbol]=t,this[before_symbol]=e,this[after_symbol]=s,this[destroy_symbol]=r,this[promise_resolve_symbol]=o}enable(){const{0:t,1:e}=getHookArrays();if(ArrayPrototypeIncludes(t,this))return this;const s=e[kTotals];return e[kTotals]=e[kInit]+=+!!this[init_symbol],e[kTotals]+=e[kBefore]+=+!!this[before_symbol],e[kTotals]+=e[kAfter]+=+!!this[after_symbol],e[kTotals]+=e[kDestroy]+=+!!this[destroy_symbol],e[kTotals]+=e[kPromiseResolve]+=+!!this[promise_resolve_symbol],ArrayPrototypePush(t,this),s===0&&e[kTotals]>0&&enableHooks(),updatePromiseHookMode(),this}disable(){const{0:t,1:e}=getHookArrays(),s=ArrayPrototypeIndexOf(t,this);if(s===-1)return this;const r=e[kTotals];return e[kTotals]=e[kInit]-=+!!this[init_symbol],e[kTotals]+=e[kBefore]-=+!!this[before_symbol],e[kTotals]+=e[kAfter]-=+!!this[after_symbol],e[kTotals]+=e[kDestroy]-=+!!this[destroy_symbol],e[kTotals]+=e[kPromiseResolve]-=+!!this[promise_resolve_symbol],ArrayPrototypeSplice(t,s,1),r>0&&e[kTotals]===0&&disableHooks(),this}}function createHook(n){return new AsyncHook(n)}const destroyedSymbol=Symbol("destroyed");class AsyncResource{constructor(t,e={}){validateString(t,"type");let s=e,r=!1;if(typeof e!="number"&&(s=e.triggerAsyncId===void 0?getDefaultTriggerAsyncId():e.triggerAsyncId,r=!!e.requireManualDestroy),!NumberIsSafeInteger(s)||s<-1)throw new ERR_INVALID_ASYNC_ID("triggerAsyncId",s);const o=newAsyncId();if(this[async_id_symbol]=o,this[trigger_async_id_symbol]=s,initHooksExist()){if(enabledHooksExist()&&t.length===0)throw new ERR_ASYNC_TYPE(t);emitInit(o,t,s,this)}if(!r&&destroyHooksExist()){const i={destroyed:!1};this[destroyedSymbol]=i,registerDestroyHook(this,o,i)}}runInAsyncScope(t,e,...s){const r=this[async_id_symbol];emitBefore(r,this[trigger_async_id_symbol],this);try{return ReflectApply(t,e,s)}finally{hasAsyncIdStack()&&emitAfter(r)}}emitDestroy(){return this[destroyedSymbol]!==void 0&&(this[destroyedSymbol].destroyed=!0),emitDestroy(this[async_id_symbol]),this}asyncId(){return this[async_id_symbol]}triggerAsyncId(){return this[trigger_async_id_symbol]}bind(t,e=this){validateFunction(t,"fn");const s=FunctionPrototypeBind(this.runInAsyncScope,this,t,e);return ObjectDefineProperties(s,{length:{configurable:!0,enumerable:!1,value:t.length,writable:!1},asyncResource:{configurable:!0,enumerable:!0,value:this,writable:!0}}),s}static bind(t,e,s){return e=e||t.name,new AsyncResource(e||"bound-anonymous-fn").bind(t,s)}}const storageList=[],storageHook=createHook({init(n,t,e,s){const r=executionAsyncResource();for(let o=0;o<storageList.length;++o)storageList[o]._propagate(s,r)}});class AsyncLocalStorage{constructor(){this.kResourceStore=Symbol("kResourceStore"),this.enabled=!1}disable(){this.enabled&&(this.enabled=!1,ArrayPrototypeSplice(storageList,ArrayPrototypeIndexOf(storageList,this),1),storageList.length===0&&storageHook.disable())}_enable(){this.enabled||(this.enabled=!0,ArrayPrototypePush(storageList,this),storageHook.enable())}_propagate(t,e){const s=e[this.kResourceStore];this.enabled&&(t[this.kResourceStore]=s)}enterWith(t){this._enable();const e=executionAsyncResource();e[this.kResourceStore]=t}run(t,e,...s){if(ObjectIs(t,this.getStore()))return ReflectApply(e,null,s);this._enable();const r=executionAsyncResource(),o=r[this.kResourceStore];r[this.kResourceStore]=t;try{return ReflectApply(e,null,s)}finally{r[this.kResourceStore]=o}}exit(t,...e){if(!this.enabled)return ReflectApply(t,null,e);this.disable();try{return ReflectApply(t,null,e)}finally{this._enable()}}getStore(){if(this.enabled)return executionAsyncResource()[this.kResourceStore]}}module.exports={AsyncLocalStorage,createHook,executionAsyncId,triggerAsyncId,executionAsyncResource,AsyncResource};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Array,ArrayIsArray,ArrayPrototypeForEach,Error,MathFloor,MathMin,MathTrunc,NumberIsNaN,NumberMAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER,ObjectCreate,ObjectDefineProperties,ObjectDefineProperty,ObjectSetPrototypeOf,StringPrototypeCharCodeAt,StringPrototypeReplace,StringPrototypeSlice,StringPrototypeToLowerCase,StringPrototypeTrim,SymbolSpecies,SymbolToPrimitive,TypedArrayPrototypeGetByteLength,TypedArrayPrototypeFill,TypedArrayPrototypeSet,Uint8Array,Uint8ArrayPrototype}=primordials,{byteLengthUtf8,compare:_compare,compareOffset,createFromString,fill:bindingFill,indexOfBuffer,indexOfNumber,indexOfString,swap16:_swap16,swap32:_swap32,swap64:_swap64,kMaxLength,kStringMaxLength}=internalBinding("buffer"),{getOwnNonIndexProperties,propertyFilter:{ALL_PROPERTIES,ONLY_ENUMERABLE}}=internalBinding("util"),{customInspectSymbol,isInsideNodeModules,lazyDOMException,normalizeEncoding,kIsEncodingSymbol}=require("internal/util"),{isAnyArrayBuffer,isArrayBufferView,isUint8Array}=require("internal/util/types"),{inspect:utilInspect}=require("internal/util/inspect"),{encodings}=internalBinding("string_decoder"),{codes:{ERR_BUFFER_OUT_OF_BOUNDS,ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_INVALID_BUFFER_SIZE,ERR_OUT_OF_RANGE,ERR_UNKNOWN_ENCODING},hideStackFrames}=require("internal/errors"),{validateArray,validateBuffer,validateNumber,validateInteger,validateString}=require("internal/validators"),validateOffset=(e,t,n=0,r=kMaxLength)=>validateInteger(e,t,n,r),{FastBuffer,markAsUntransferable,addBufferPrototypeMethods,createUnsafeBuffer}=require("internal/buffer"),{Blob,resolveObjectURL}=require("internal/blob");FastBuffer.prototype.constructor=Buffer,Buffer.prototype=FastBuffer.prototype,addBufferPrototypeMethods(Buffer.prototype);const constants=ObjectDefineProperties({},{MAX_LENGTH:{value:kMaxLength,writable:!1,enumerable:!0},MAX_STRING_LENGTH:{value:kStringMaxLength,writable:!1,enumerable:!0}});Buffer.poolSize=8*1024;let poolSize,poolOffset,allocPool;const encodingsMap=ObjectCreate(null);for(let e=0;e<encodings.length;++e)encodingsMap[encodings[e]]=e;function createPool(){poolSize=Buffer.poolSize,allocPool=createUnsafeBuffer(poolSize).buffer,markAsUntransferable(allocPool),poolOffset=0}createPool();function alignPool(){poolOffset&7&&(poolOffset|=7,poolOffset++)}let bufferWarningAlreadyEmitted=!1,nodeModulesCheckCounter=0;const bufferWarning="Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.";function showFlaggedDeprecation(){bufferWarningAlreadyEmitted||++nodeModulesCheckCounter>1e4||!require("internal/options").getOptionValue("--pending-deprecation")&&isInsideNodeModules()||(process.emitWarning(bufferWarning,"DeprecationWarning","DEP0005"),bufferWarningAlreadyEmitted=!0)}function toInteger(e,t){return e=+e,!NumberIsNaN(e)&&e>=NumberMIN_SAFE_INTEGER&&e<=NumberMAX_SAFE_INTEGER?e%1==0?e:MathFloor(e):t}function _copy(e,t,n,r,i){if(!isUint8Array(e))throw new ERR_INVALID_ARG_TYPE("source",["Buffer","Uint8Array"],e);if(!isUint8Array(t))throw new ERR_INVALID_ARG_TYPE("target",["Buffer","Uint8Array"],t);if(n===void 0)n=0;else if(n=toInteger(n,0),n<0)throw new ERR_OUT_OF_RANGE("targetStart",">= 0",n);if(r===void 0)r=0;else if(r=toInteger(r,0),r<0)throw new ERR_OUT_OF_RANGE("sourceStart",">= 0",r);if(i===void 0)i=e.length;else if(i=toInteger(i,0),i<0)throw new ERR_OUT_OF_RANGE("sourceEnd",">= 0",i);if(n>=t.length||r>=i)return 0;if(r>e.length)throw new ERR_OUT_OF_RANGE("sourceStart",`<= ${e.length}`,r);return _copyActual(e,t,n,r,i)}function _copyActual(e,t,n,r,i){i-r>t.length-n&&(i=r+t.length-n);let f=i-r;const u=e.length-r;return f>u&&(f=u),(r!==0||i<e.length)&&(e=new Uint8Array(e.buffer,e.byteOffset+r,f)),TypedArrayPrototypeSet(t,e,n),f}function Buffer(e,t,n){if(showFlaggedDeprecation(),typeof e=="number"){if(typeof t=="string")throw new ERR_INVALID_ARG_TYPE("string","string",e);return Buffer.alloc(e)}return Buffer.from(e,t,n)}ObjectDefineProperty(Buffer,SymbolSpecies,{enumerable:!1,configurable:!0,get(){return FastBuffer}}),Buffer.from=function e(t,n,r){if(typeof t=="string")return fromString(t,n);if(typeof t=="object"&&t!==null){if(isAnyArrayBuffer(t))return fromArrayBuffer(t,n,r);const i=t.valueOf&&t.valueOf();if(i!=null&&i!==t&&(typeof i=="string"||typeof i=="object"))return e(i,n,r);const f=fromObject(t);if(f)return f;if(typeof t[SymbolToPrimitive]=="function"){const u=t[SymbolToPrimitive]("string");if(typeof u=="string")return fromString(u,n)}}throw new ERR_INVALID_ARG_TYPE("first argument",["string","Buffer","ArrayBuffer","Array","Array-like Object"],t)};const of=(...e)=>{const t=createUnsafeBuffer(e.length);for(let n=0;n<e.length;n++)t[n]=e[n];return t};Buffer.of=of,ObjectSetPrototypeOf(Buffer,Uint8Array);const assertSize=hideStackFrames(e=>{if(validateNumber(e,"size"),!(e>=0&&e<=kMaxLength))throw new ERR_INVALID_ARG_VALUE.RangeError("size",e)});Buffer.alloc=function(t,n,r){if(assertSize(t),n!==void 0&&n!==0&&t>0){const i=createUnsafeBuffer(t);return _fill(i,n,0,i.length,r)}return new FastBuffer(t)},Buffer.allocUnsafe=function(t){return assertSize(t),allocate(t)},Buffer.allocUnsafeSlow=function(t){return assertSize(t),createUnsafeBuffer(t)};function SlowBuffer(e){return assertSize(e),createUnsafeBuffer(e)}ObjectSetPrototypeOf(SlowBuffer.prototype,Uint8ArrayPrototype),ObjectSetPrototypeOf(SlowBuffer,Uint8Array);function allocate(e){if(e<=0)return new FastBuffer;if(e<Buffer.poolSize>>>1){e>poolSize-poolOffset&&createPool();const t=new FastBuffer(allocPool,poolOffset,e);return poolOffset+=e,alignPool(),t}return createUnsafeBuffer(e)}function fromStringFast(e,t){const n=t.byteLength(e);if(n>=Buffer.poolSize>>>1)return createFromString(e,t.encodingVal);n>poolSize-poolOffset&&createPool();let r=new FastBuffer(allocPool,poolOffset,n);const i=t.write(r,e,0,n);return i!==n&&(r=new FastBuffer(allocPool,poolOffset,i)),poolOffset+=i,alignPool(),r}function fromString(e,t){let n;if(typeof t!="string"||t.length===0){if(e.length===0)return new FastBuffer;n=encodingOps.utf8,t=void 0}else{if(n=getEncodingOps(t),n===void 0)throw new ERR_UNKNOWN_ENCODING(t);if(e.length===0)return new FastBuffer}return fromStringFast(e,n)}function fromArrayBuffer(e,t,n){t===void 0?t=0:(t=+t,NumberIsNaN(t)&&(t=0));const r=e.byteLength-t;if(r<0)throw new ERR_BUFFER_OUT_OF_BOUNDS("offset");if(n===void 0)n=r;else if(n=+n,n>0){if(n>r)throw new ERR_BUFFER_OUT_OF_BOUNDS("length")}else n=0;return new FastBuffer(e,t,n)}function fromArrayLike(e){if(e.length<=0)return new FastBuffer;if(e.length<Buffer.poolSize>>>1){e.length>poolSize-poolOffset&&createPool();const t=new FastBuffer(allocPool,poolOffset,e.length);return TypedArrayPrototypeSet(t,e,0),poolOffset+=e.length,alignPool(),t}return new FastBuffer(e)}function fromObject(e){if(e.length!==void 0||isAnyArrayBuffer(e.buffer))return typeof e.length!="number"?new FastBuffer:fromArrayLike(e);if(e.type==="Buffer"&&ArrayIsArray(e.data))return fromArrayLike(e.data)}Buffer.isBuffer=function(t){return t instanceof Buffer},Buffer.compare=function(t,n){if(!isUint8Array(t))throw new ERR_INVALID_ARG_TYPE("buf1",["Buffer","Uint8Array"],t);if(!isUint8Array(n))throw new ERR_INVALID_ARG_TYPE("buf2",["Buffer","Uint8Array"],n);return t===n?0:_compare(t,n)},Buffer.isEncoding=function(t){return typeof t=="string"&&t.length!==0&&normalizeEncoding(t)!==void 0},Buffer[kIsEncodingSymbol]=Buffer.isEncoding,Buffer.concat=function(t,n){if(validateArray(t,"list"),t.length===0)return new FastBuffer;if(n===void 0){n=0;for(let f=0;f<t.length;f++)t[f].length&&(n+=t[f].length)}else validateOffset(n,"length");const r=Buffer.allocUnsafe(n);let i=0;for(let f=0;f<t.length;f++){const u=t[f];if(!isUint8Array(u))throw new ERR_INVALID_ARG_TYPE(`list[${f}]`,["Buffer","Uint8Array"],t[f]);i+=_copyActual(u,r,i,0,u.length)}return i<n&&TypedArrayPrototypeFill(r,0,i,n),r};function base64ByteLength(e,t){return StringPrototypeCharCodeAt(e,t-1)===61&&t--,t>1&&StringPrototypeCharCodeAt(e,t-1)===61&&t--,t*3>>>2}const encodingOps={utf8:{encoding:"utf8",encodingVal:encodingsMap.utf8,byteLength:byteLengthUtf8,write:(e,t,n,r)=>e.utf8Write(t,n,r),slice:(e,t,n)=>e.utf8Slice(t,n),indexOf:(e,t,n,r)=>indexOfString(e,t,n,encodingsMap.utf8,r)},ucs2:{encoding:"ucs2",encodingVal:encodingsMap.utf16le,byteLength:e=>e.length*2,write:(e,t,n,r)=>e.ucs2Write(t,n,r),slice:(e,t,n)=>e.ucs2Slice(t,n),indexOf:(e,t,n,r)=>indexOfString(e,t,n,encodingsMap.utf16le,r)},utf16le:{encoding:"utf16le",encodingVal:encodingsMap.utf16le,byteLength:e=>e.length*2,write:(e,t,n,r)=>e.ucs2Write(t,n,r),slice:(e,t,n)=>e.ucs2Slice(t,n),indexOf:(e,t,n,r)=>indexOfString(e,t,n,encodingsMap.utf16le,r)},latin1:{encoding:"latin1",encodingVal:encodingsMap.latin1,byteLength:e=>e.length,write:(e,t,n,r)=>e.latin1Write(t,n,r),slice:(e,t,n)=>e.latin1Slice(t,n),indexOf:(e,t,n,r)=>indexOfString(e,t,n,encodingsMap.latin1,r)},ascii:{encoding:"ascii",encodingVal:encodingsMap.ascii,byteLength:e=>e.length,write:(e,t,n,r)=>e.asciiWrite(t,n,r),slice:(e,t,n)=>e.asciiSlice(t,n),indexOf:(e,t,n,r)=>indexOfBuffer(e,fromStringFast(t,encodingOps.ascii),n,encodingsMap.ascii,r)},base64:{encoding:"base64",encodingVal:encodingsMap.base64,byteLength:e=>base64ByteLength(e,e.length),write:(e,t,n,r)=>e.base64Write(t,n,r),slice:(e,t,n)=>e.base64Slice(t,n),indexOf:(e,t,n,r)=>indexOfBuffer(e,fromStringFast(t,encodingOps.base64),n,encodingsMap.base64,r)},base64url:{encoding:"base64url",encodingVal:encodingsMap.base64url,byteLength:e=>base64ByteLength(e,e.length),write:(e,t,n,r)=>e.base64urlWrite(t,n,r),slice:(e,t,n)=>e.base64urlSlice(t,n),indexOf:(e,t,n,r)=>indexOfBuffer(e,fromStringFast(t,encodingOps.base64url),n,encodingsMap.base64url,r)},hex:{encoding:"hex",encodingVal:encodingsMap.hex,byteLength:e=>e.length>>>1,write:(e,t,n,r)=>e.hexWrite(t,n,r),slice:(e,t,n)=>e.hexSlice(t,n),indexOf:(e,t,n,r)=>indexOfBuffer(e,fromStringFast(t,encodingOps.hex),n,encodingsMap.hex,r)}};function getEncodingOps(e){switch(e+="",e.length){case 4:if(e==="utf8")return encodingOps.utf8;if(e==="ucs2")return encodingOps.ucs2;if(e=StringPrototypeToLowerCase(e),e==="utf8")return encodingOps.utf8;if(e==="ucs2")return encodingOps.ucs2;break;case 5:if(e==="utf-8")return encodingOps.utf8;if(e==="ascii")return encodingOps.ascii;if(e==="ucs-2")return encodingOps.ucs2;if(e=StringPrototypeToLowerCase(e),e==="utf-8")return encodingOps.utf8;if(e==="ascii")return encodingOps.ascii;if(e==="ucs-2")return encodingOps.ucs2;break;case 7:if(e==="utf16le"||StringPrototypeToLowerCase(e)==="utf16le")return encodingOps.utf16le;break;case 8:if(e==="utf-16le"||StringPrototypeToLowerCase(e)==="utf-16le")return encodingOps.utf16le;break;case 6:if(e==="latin1"||e==="binary")return encodingOps.latin1;if(e==="base64")return encodingOps.base64;if(e=StringPrototypeToLowerCase(e),e==="latin1"||e==="binary")return encodingOps.latin1;if(e==="base64")return encodingOps.base64;break;case 3:if(e==="hex"||StringPrototypeToLowerCase(e)==="hex")return encodingOps.hex;break;case 9:if(e==="base64url"||StringPrototypeToLowerCase(e)==="base64url")return encodingOps.base64url;break}}function byteLength(e,t){if(typeof e!="string"){if(isArrayBufferView(e)||isAnyArrayBuffer(e))return e.byteLength;throw new ERR_INVALID_ARG_TYPE("string",["string","Buffer","ArrayBuffer"],e)}const n=e.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&n===0)return 0;if(!t)return r?-1:byteLengthUtf8(e);const i=getEncodingOps(t);return i===void 0?r?-1:byteLengthUtf8(e):i.byteLength(e)}Buffer.byteLength=byteLength,ObjectDefineProperty(Buffer.prototype,"parent",{enumerable:!0,get(){if(this instanceof Buffer)return this.buffer}}),ObjectDefineProperty(Buffer.prototype,"offset",{enumerable:!0,get(){if(this instanceof Buffer)return this.byteOffset}}),Buffer.prototype.copy=function(t,n,r,i){return _copy(this,t,n,r,i)},Buffer.prototype.toString=function(t,n,r){if(arguments.length===0)return this.utf8Slice(0,this.length);const i=this.length;if(n<=0)n=0;else{if(n>=i)return"";n|=0}if(r===void 0||r>i?r=i:r|=0,r<=n)return"";if(t===void 0)return this.utf8Slice(n,r);const f=getEncodingOps(t);if(f===void 0)throw new ERR_UNKNOWN_ENCODING(t);return f.slice(this,n,r)},Buffer.prototype.equals=function(t){if(!isUint8Array(t))throw new ERR_INVALID_ARG_TYPE("otherBuffer",["Buffer","Uint8Array"],t);return this===t?!0:this.byteLength!==t.byteLength?!1:this.byteLength===0||_compare(this,t)===0};let INSPECT_MAX_BYTES=50;Buffer.prototype[customInspectSymbol]=function(t,n){const r=INSPECT_MAX_BYTES,i=MathMin(r,this.length),f=this.length-r;let u=StringPrototypeTrim(StringPrototypeReplace(this.hexSlice(0,i),/(.{2})/g,"$1 "));if(f>0&&(u+=` ... ${f} more byte${f>1?"s":""}`),n){let o=!1;const l=n.showHidden?ALL_PROPERTIES:ONLY_ENUMERABLE,s=ObjectCreate(null);ArrayPrototypeForEach(getOwnNonIndexProperties(this,l),a=>{o=!0,s[a]=this[a]}),o&&(this.length!==0&&(u+=", "),u+=StringPrototypeSlice(utilInspect(s,{...n,breakLength:1/0,compact:!0}),27,-2))}return`<${this.constructor.name} ${u}>`},Buffer.prototype.inspect=Buffer.prototype[customInspectSymbol],Buffer.prototype.compare=function(t,n,r,i,f){if(!isUint8Array(t))throw new ERR_INVALID_ARG_TYPE("target",["Buffer","Uint8Array"],t);return arguments.length===1?_compare(this,t):(n===void 0?n=0:validateOffset(n,"targetStart"),r===void 0?r=t.length:validateOffset(r,"targetEnd",0,t.length),i===void 0?i=0:validateOffset(i,"sourceStart"),f===void 0?f=this.length:validateOffset(f,"sourceEnd",0,this.length),i>=f?n>=r?0:-1:n>=r?1:compareOffset(this,t,n,i,r,f))};function bidirectionalIndexOf(e,t,n,r,i){if(validateBuffer(e),typeof n=="string"?(r=n,n=void 0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,NumberIsNaN(n)&&(n=i?0:e.length||e.byteLength),i=!!i,typeof t=="number")return indexOfNumber(e,t>>>0,n,i);let f;if(r===void 0?f=encodingOps.utf8:f=getEncodingOps(r),typeof t=="string"){if(f===void 0)throw new ERR_UNKNOWN_ENCODING(r);return f.indexOf(e,t,n,i)}if(isUint8Array(t)){const u=f===void 0?encodingsMap.utf8:f.encodingVal;return indexOfBuffer(e,t,n,u,i)}throw new ERR_INVALID_ARG_TYPE("value",["number","string","Buffer","Uint8Array"],t)}Buffer.prototype.indexOf=function(t,n,r){return bidirectionalIndexOf(this,t,n,r,!0)},Buffer.prototype.lastIndexOf=function(t,n,r){return bidirectionalIndexOf(this,t,n,r,!1)},Buffer.prototype.includes=function(t,n,r){return this.indexOf(t,n,r)!==-1},Buffer.prototype.fill=function(t,n,r,i){return _fill(this,t,n,r,i)};function _fill(e,t,n,r,i){if(typeof t=="string"){n===void 0||typeof n=="string"?(i=n,n=0,r=e.length):typeof r=="string"&&(i=r,r=e.length);const f=normalizeEncoding(i);if(f===void 0)throw validateString(i,"encoding"),new ERR_UNKNOWN_ENCODING(i);if(t.length===0)t=0;else if(t.length===1)if(f==="utf8"){const u=StringPrototypeCharCodeAt(t,0);u<128&&(t=u)}else f==="latin1"&&(t=StringPrototypeCharCodeAt(t,0))}else i=void 0;if(n===void 0)n=0,r=e.length;else if(validateOffset(n,"offset"),r===void 0?r=e.length:validateOffset(r,"end",0,e.length),n>=r)return e;if(typeof t=="number"){const f=TypedArrayPrototypeGetByteLength(e),u=r-n;if(n>r||u+n>f)throw new ERR_BUFFER_OUT_OF_BOUNDS;TypedArrayPrototypeFill(e,t,n,r)}else{const f=bindingFill(e,t,n,r,i);if(f<0)throw f===-1?new ERR_INVALID_ARG_VALUE("value",t):new ERR_BUFFER_OUT_OF_BOUNDS}return e}Buffer.prototype.write=function(t,n,r,i){if(n===void 0)return this.utf8Write(t,0,this.length);if(r===void 0&&typeof n=="string")i=n,r=this.length,n=0;else{validateOffset(n,"offset",0,this.length);const u=this.length-n;r===void 0?r=u:typeof r=="string"?(i=r,r=u):(validateOffset(r,"length",0,this.length),r>u&&(r=u))}if(!i)return this.utf8Write(t,n,r);const f=getEncodingOps(i);if(f===void 0)throw new ERR_UNKNOWN_ENCODING(i);return f.write(this,t,n,r)},Buffer.prototype.toJSON=function(){if(this.length>0){const t=new Array(this.length);for(let n=0;n<this.length;++n)t[n]=this[n];return{type:"Buffer",data:t}}return{type:"Buffer",data:[]}};function adjustOffset(e,t){return e=MathTrunc(e),e===0?0:e<0?(e+=t,e>0?e:0):e<t?e:NumberIsNaN(e)?0:t}Buffer.prototype.slice=function(t,n){const r=this.length;t=adjustOffset(t,r),n=n!==void 0?adjustOffset(n,r):r;const i=n>t?n-t:0;return new FastBuffer(this.buffer,this.byteOffset+t,i)};function swap(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}Buffer.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new ERR_INVALID_BUFFER_SIZE("16-bits");if(t<128){for(let n=0;n<t;n+=2)swap(this,n,n+1);return this}return _swap16(this)},Buffer.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new ERR_INVALID_BUFFER_SIZE("32-bits");if(t<192){for(let n=0;n<t;n+=4)swap(this,n,n+3),swap(this,n+1,n+2);return this}return _swap32(this)},Buffer.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new ERR_INVALID_BUFFER_SIZE("64-bits");if(t<192){for(let n=0;n<t;n+=8)swap(this,n,n+7),swap(this,n+1,n+6),swap(this,n+2,n+5),swap(this,n+3,n+4);return this}return _swap64(this)},Buffer.prototype.toLocaleString=Buffer.prototype.toString;let transcode;if(internalBinding("config").hasIntl){const{icuErrName:e,transcode:t}=internalBinding("icu");transcode=function(r,i,f){if(!isUint8Array(r))throw new ERR_INVALID_ARG_TYPE("source",["Buffer","Uint8Array"],r);if(r.length===0)return Buffer.alloc(0);i=normalizeEncoding(i)||i,f=normalizeEncoding(f)||f;const u=t(r,i,f);if(typeof u!="number")return u;const o=e(u),l=new Error(`Unable to transcode Buffer [${o}]`);throw l.code=o,l.errno=u,l}}function btoa(e){e=`${e}`;for(let n=0;n<e.length;n++)if(e[n].charCodeAt(0)>255)throw lazyDOMException("Invalid character","InvalidCharacterError");return Buffer.from(e,"latin1").toString("base64")}const kBase64Digits="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function atob(e){e=`${e}`;for(let t=0;t<e.length;t++)if(!kBase64Digits.includes(e[t]))throw lazyDOMException("Invalid character","InvalidCharacterError");return Buffer.from(e,"base64").toString("latin1")}module.exports={Blob,resolveObjectURL,Buffer,SlowBuffer,transcode,kMaxLength,kStringMaxLength,btoa,atob},ObjectDefineProperties(module.exports,{constants:{configurable:!1,enumerable:!0,value:constants},INSPECT_MAX_BYTES:{configurable:!0,enumerable:!0,get(){return INSPECT_MAX_BYTES},set(e){INSPECT_MAX_BYTES=e}}});
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,ArrayPrototypeFilter,ArrayPrototypeIncludes,ArrayPrototypeJoin,ArrayPrototypeLastIndexOf,ArrayPrototypePush,ArrayPrototypeSlice,ArrayPrototypeSort,ArrayPrototypeSplice,ArrayPrototypeUnshift,Error,NumberIsInteger,ObjectAssign,ObjectDefineProperty,ObjectPrototypeHasOwnProperty,RegExpPrototypeTest,SafeSet,StringPrototypeSlice,StringPrototypeToUpperCase}=primordials,{promisify,convertToValidSignal,createDeferredPromise,getSystemErrorName}=require("internal/util"),{isArrayBufferView}=require("internal/util/types");let debug=require("internal/util/debuglog").debuglog("child_process",n=>{debug=n});const{Buffer}=require("buffer"),{Pipe,constants:PipeConstants}=internalBinding("pipe_wrap"),{AbortError,codes:errorCodes}=require("internal/errors"),{ERR_INVALID_ARG_VALUE,ERR_CHILD_PROCESS_IPC_REQUIRED,ERR_CHILD_PROCESS_STDIO_MAXBUFFER,ERR_INVALID_ARG_TYPE,ERR_OUT_OF_RANGE}=errorCodes,{clearTimeout,setTimeout}=require("timers"),{getValidatedPath}=require("internal/fs/utils"),{isInt32,validateAbortSignal,validateBoolean,validateObject,validateString}=require("internal/validators"),child_process=require("internal/child_process"),{getValidStdio,setupChannel,ChildProcess,stdioStringToArray}=child_process,MAX_BUFFER=1024*1024;function fork(n){validateString(n,"modulePath");let s,e={},r=[],t=1;if(t<arguments.length&&ArrayIsArray(arguments[t])&&(r=arguments[t++]),t<arguments.length&&arguments[t]==null&&t++,t<arguments.length&&arguments[t]!=null){if(typeof arguments[t]!="object")throw new ERR_INVALID_ARG_VALUE(`arguments[${t}]`,arguments[t]);e={...arguments[t++]}}if(s=e.execArgv||process.execArgv,s===process.execArgv&&process._eval!=null){const i=ArrayPrototypeLastIndexOf(s,process._eval);i>0&&(s=ArrayPrototypeSlice(s),ArrayPrototypeSplice(s,i-1,2))}if(r=[...s,n,...r],typeof e.stdio=="string")e.stdio=stdioStringToArray(e.stdio,"ipc");else if(!ArrayIsArray(e.stdio))e.stdio=stdioStringToArray(e.silent?"pipe":"inherit","ipc");else if(!ArrayPrototypeIncludes(e.stdio,"ipc"))throw new ERR_CHILD_PROCESS_IPC_REQUIRED("options.stdio");return e.execPath=e.execPath||process.execPath,e.shell=!1,spawn(e.execPath,r,e)}function _forkChild(n,s){const e=new Pipe(PipeConstants.IPC);e.open(n),e.unref();const r=setupChannel(process,e,s);process.on("newListener",function(i){(i==="message"||i==="disconnect")&&r.refCounted()}),process.on("removeListener",function(i){(i==="message"||i==="disconnect")&&r.unrefCounted()})}function normalizeExecArgs(n,s,e){return typeof s=="function"&&(e=s,s=void 0),s={...s},s.shell=typeof s.shell=="string"?s.shell:!0,{file:n,options:s,callback:e}}function exec(n,s,e){const r=normalizeExecArgs(n,s,e);return module.exports.execFile(r.file,r.options,r.callback)}const customPromiseExecFunction=n=>(...s)=>{const{promise:e,resolve:r,reject:t}=createDeferredPromise();return e.child=n(...s,(i,l,d)=>{i!==null?(i.stdout=l,i.stderr=d,t(i)):r({stdout:l,stderr:d})}),e};ObjectDefineProperty(exec,promisify.custom,{enumerable:!1,value:customPromiseExecFunction(exec)});function execFile(n){let s=[],e,r,t=1;if(t<arguments.length&&ArrayIsArray(arguments[t])?s=arguments[t++]:t<arguments.length&&arguments[t]==null&&t++,t<arguments.length&&typeof arguments[t]=="object"?r=arguments[t++]:t<arguments.length&&arguments[t]==null&&t++,t<arguments.length&&typeof arguments[t]=="function"&&(e=arguments[t++]),!e&&t<arguments.length&&arguments[t]!=null)throw new ERR_INVALID_ARG_VALUE("args",arguments[t]);r={encoding:"utf8",timeout:0,maxBuffer:MAX_BUFFER,killSignal:"SIGTERM",cwd:null,env:null,shell:!1,...r},validateTimeout(r.timeout),validateMaxBuffer(r.maxBuffer),r.killSignal=sanitizeKillSignal(r.killSignal);const i=spawn(n,s,{cwd:r.cwd,env:r.env,gid:r.gid,shell:r.shell,signal:r.signal,uid:r.uid,windowsHide:!!r.windowsHide,windowsVerbatimArguments:!!r.windowsVerbatimArguments});let l;const d=[],o=[];r.encoding!=="buffer"&&Buffer.isEncoding(r.encoding)?l=r.encoding:l=null;let m=0,w=0,A=!1,S=!1,h,u=null,y=n;function p(a,c){if(S||(S=!0,h&&(clearTimeout(h),h=null),!e))return;let f,g;if(l||i.stdout&&i.stdout.readableEncoding?f=ArrayPrototypeJoin(d,""):f=Buffer.concat(d),l||i.stderr&&i.stderr.readableEncoding?g=ArrayPrototypeJoin(o,""):g=Buffer.concat(o),!u&&a===0&&c===null){e(null,f,g);return}s.length!==0&&(y+=` ${ArrayPrototypeJoin(s," ")}`),u||(u=new Error("Command failed: "+y+`
`+g),u.killed=i.killed||A,u.code=a<0?getSystemErrorName(a):a,u.signal=c),u.cmd=y,e(u,f,g)}function x(a){u=a,i.stdout&&i.stdout.destroy(),i.stderr&&i.stderr.destroy(),p()}function b(){i.stdout&&i.stdout.destroy(),i.stderr&&i.stderr.destroy(),A=!0;try{i.kill(r.killSignal)}catch(a){u=a,p()}}return r.timeout>0&&(h=setTimeout(function(){b(),h=null},r.timeout)),i.stdout&&(l&&i.stdout.setEncoding(l),i.stdout.on("data",function(c){const f=i.stdout.readableEncoding,g=f?Buffer.byteLength(c,f):c.length,E=f?StringPrototypeSlice:(v,..._)=>v.slice(..._);if(m+=g,m>r.maxBuffer){const v=r.maxBuffer-(m-g);ArrayPrototypePush(d,E(c,0,v)),u=new ERR_CHILD_PROCESS_STDIO_MAXBUFFER("stdout"),b()}else ArrayPrototypePush(d,c)})),i.stderr&&(l&&i.stderr.setEncoding(l),i.stderr.on("data",function(c){const f=i.stderr.readableEncoding,g=f?Buffer.byteLength(c,f):c.length;if(w+=g,w>r.maxBuffer){const E=r.maxBuffer-(w-g);ArrayPrototypePush(o,c.slice(0,E)),u=new ERR_CHILD_PROCESS_STDIO_MAXBUFFER("stderr"),b()}else o.push(c)})),i.addListener("close",p),i.addListener("error",x),i}ObjectDefineProperty(execFile,promisify.custom,{enumerable:!1,value:customPromiseExecFunction(execFile)});function normalizeSpawnArguments(n,s,e){if(validateString(n,"file"),n.length===0)throw new ERR_INVALID_ARG_VALUE("file",n,"cannot be empty");if(ArrayIsArray(s))s=ArrayPrototypeSlice(s);else if(s==null)s=[];else{if(typeof s!="object")throw new ERR_INVALID_ARG_TYPE("args","object",s);e=s,s=[]}e===void 0?e={}:validateObject(e,"options");let r=e.cwd;if(r!=null&&(r=getValidatedPath(r,"options.cwd")),e.detached!=null&&validateBoolean(e.detached,"options.detached"),e.uid!=null&&!isInt32(e.uid))throw new ERR_INVALID_ARG_TYPE("options.uid","int32",e.uid);if(e.gid!=null&&!isInt32(e.gid))throw new ERR_INVALID_ARG_TYPE("options.gid","int32",e.gid);if(e.shell!=null&&typeof e.shell!="boolean"&&typeof e.shell!="string")throw new ERR_INVALID_ARG_TYPE("options.shell",["boolean","string"],e.shell);e.argv0!=null&&validateString(e.argv0,"options.argv0"),e.windowsHide!=null&&validateBoolean(e.windowsHide,"options.windowsHide");let{windowsVerbatimArguments:t}=e;if(t!=null&&validateBoolean(t,"options.windowsVerbatimArguments"),e.shell){const o=ArrayPrototypeJoin([n,...s]," ");process.platform==="win32"?(typeof e.shell=="string"?n=e.shell:n=process.env.comspec||"cmd.exe",RegExpPrototypeTest(/^(?:.*\\)?cmd(?:\.exe)?$/i,n)?(s=["/d","/s","/c",`"${o}"`],t=!0):s=["-c",o]):(typeof e.shell=="string"?n=e.shell:process.platform==="android"?n="/system/bin/sh":n="/bin/sh",s=["-c",o])}typeof e.argv0=="string"?ArrayPrototypeUnshift(s,e.argv0):ArrayPrototypeUnshift(s,n);const i=e.env||process.env,l=[];process.env.NODE_V8_COVERAGE&&!ObjectPrototypeHasOwnProperty(e.env||{},"NODE_V8_COVERAGE")&&(i.NODE_V8_COVERAGE=process.env.NODE_V8_COVERAGE);let d=[];for(const o in i)ArrayPrototypePush(d,o);if(process.platform==="win32"){const o=new SafeSet;d=ArrayPrototypeFilter(ArrayPrototypeSort(d),m=>{const w=StringPrototypeToUpperCase(m);return o.has(w)?!1:(o.add(w),!0)})}for(const o of d){const m=i[o];m!==void 0&&ArrayPrototypePush(l,`${o}=${m}`)}return{...e,args:s,cwd:r,detached:!!e.detached,envPairs:l,file:n,windowsHide:!!e.windowsHide,windowsVerbatimArguments:!!t}}function abortChildProcess(n,s){if(!!n)try{n.kill(s)&&n.emit("error",new AbortError)}catch(e){n.emit("error",e)}}function spawn(n,s,e){e=normalizeSpawnArguments(n,s,e),validateTimeout(e.timeout),validateAbortSignal(e.signal,"options.signal");const r=sanitizeKillSignal(e.killSignal),t=new ChildProcess;if(debug("spawn",e),t.spawn(e),e.timeout>0){let i=setTimeout(()=>{if(i){try{t.kill(r)}catch(l){t.emit("error",l)}i=null}},e.timeout);t.once("exit",()=>{i&&(clearTimeout(i),i=null)})}if(e.signal){let l=function(){abortChildProcess(t,r)};const i=e.signal;i.aborted?process.nextTick(l):(i.addEventListener("abort",l,{once:!0}),t.once("exit",()=>i.removeEventListener("abort",l)))}return t}function spawnSync(n,s,e){if(e={maxBuffer:MAX_BUFFER,...normalizeSpawnArguments(n,s,e)},debug("spawnSync",e),validateTimeout(e.timeout),validateMaxBuffer(e.maxBuffer),e.killSignal=sanitizeKillSignal(e.killSignal),e.stdio=getValidStdio(e.stdio||"pipe",!0).stdio,e.input){const r=e.stdio[0]={...e.stdio[0]};r.input=e.input}for(let r=0;r<e.stdio.length;r++){const t=e.stdio[r]&&e.stdio[r].input;if(t!=null){const i=e.stdio[r]={...e.stdio[r]};if(isArrayBufferView(t))i.input=t;else if(typeof t=="string")i.input=Buffer.from(t,e.encoding);else throw new ERR_INVALID_ARG_TYPE(`options.stdio[${r}]`,["Buffer","TypedArray","DataView","string"],t)}}return child_process.spawnSync(e)}function checkExecSyncError(n,s,e){let r;if(n.error)r=n.error;else if(n.status!==0){let t="Command failed: ";t+=e||ArrayPrototypeJoin(s," "),n.stderr&&n.stderr.length>0&&(t+=`
${n.stderr.toString()}`),r=new Error(t)}return r&&ObjectAssign(r,n),r}function execFileSync(n,s,e){e=normalizeSpawnArguments(n,s,e);const r=!e.stdio,t=spawnSync(e.file,ArrayPrototypeSlice(e.args,1),e);r&&t.stderr&&process.stderr.write(t.stderr);const i=checkExecSyncError(t,e.args,void 0);if(i)throw i;return t.stdout}function execSync(n,s){const e=normalizeExecArgs(n,s,null),r=!e.options.stdio,t=spawnSync(e.file,e.options);r&&t.stderr&&process.stderr.write(t.stderr);const i=checkExecSyncError(t,e.args,n);if(i)throw i;return t.stdout}function validateTimeout(n){if(n!=null&&!(NumberIsInteger(n)&&n>=0))throw new ERR_OUT_OF_RANGE("timeout","an unsigned integer",n)}function validateMaxBuffer(n){if(n!=null&&!(typeof n=="number"&&n>=0))throw new ERR_OUT_OF_RANGE("options.maxBuffer","a positive number",n)}function sanitizeKillSignal(n){if(typeof n=="string"||typeof n=="number")return convertToValidSignal(n);if(n!=null)throw new ERR_INVALID_ARG_TYPE("options.killSignal",["string","number"],n)}module.exports={_forkChild,ChildProcess,exec,execFile,execFileSync,execSync,fork,spawn,spawnSync};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const childOrPrimary="NODE_UNIQUE_ID"in process.env?"child":"primary";module.exports=require(`internal/cluster/${childOrPrimary}`);
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";module.exports=require("internal/console/global");
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectAssign,ObjectFreeze}=primordials,constants=internalBinding("constants");ObjectAssign(exports,constants.os.dlopen,constants.os.errno,constants.os.priority,constants.os.signals,constants.fs,constants.crypto),ObjectFreeze(exports);
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectDefineProperty,ObjectDefineProperties}=primordials,{assertCrypto,deprecate}=require("internal/util");assertCrypto();const{ERR_CRYPTO_FIPS_FORCED}=require("internal/errors").codes,constants=internalBinding("constants").crypto,{getOptionValue}=require("internal/options"),pendingDeprecation=getOptionValue("--pending-deprecation"),fipsForced=getOptionValue("--force-fips"),{getFipsCrypto,setFipsCrypto,timingSafeEqual}=internalBinding("crypto"),{checkPrime,checkPrimeSync,generatePrime,generatePrimeSync,randomBytes,randomFill,randomFillSync,randomInt,randomUUID}=require("internal/crypto/random"),{pbkdf2,pbkdf2Sync}=require("internal/crypto/pbkdf2"),{scrypt,scryptSync}=require("internal/crypto/scrypt"),{hkdf,hkdfSync}=require("internal/crypto/hkdf"),{generateKeyPair,generateKeyPairSync,generateKey,generateKeySync}=require("internal/crypto/keygen"),{createSecretKey,createPublicKey,createPrivateKey,KeyObject}=require("internal/crypto/keys"),{DiffieHellman,DiffieHellmanGroup,ECDH,diffieHellman}=require("internal/crypto/diffiehellman"),{Cipher,Cipheriv,Decipher,Decipheriv,privateDecrypt,privateEncrypt,publicDecrypt,publicEncrypt,getCipherInfo}=require("internal/crypto/cipher"),{Sign,signOneShot,Verify,verifyOneShot}=require("internal/crypto/sig"),{Hash,Hmac}=require("internal/crypto/hash"),{X509Certificate}=require("internal/crypto/x509"),{getCiphers,getCurves,getDefaultEncoding,getHashes,setDefaultEncoding,setEngine,lazyRequire,secureHeapUsed}=require("internal/crypto/util"),Certificate=require("internal/crypto/certificate");function createHash(e,r){return new Hash(e,r)}function createCipher(e,r,t){return new Cipher(e,r,t)}function createCipheriv(e,r,t,n){return new Cipheriv(e,r,t,n)}function createDecipher(e,r,t){return new Decipher(e,r,t)}function createDecipheriv(e,r,t,n){return new Decipheriv(e,r,t,n)}function createDiffieHellman(e,r,t,n){return new DiffieHellman(e,r,t,n)}function createDiffieHellmanGroup(e){return new DiffieHellmanGroup(e)}function createECDH(e){return new ECDH(e)}function createHmac(e,r,t){return new Hmac(e,r,t)}function createSign(e,r){return new Sign(e,r)}function createVerify(e,r){return new Verify(e,r)}module.exports={checkPrime,checkPrimeSync,createCipheriv,createDecipheriv,createDiffieHellman,createDiffieHellmanGroup,createECDH,createHash,createHmac,createPrivateKey,createPublicKey,createSecretKey,createSign,createVerify,diffieHellman,generatePrime,generatePrimeSync,getCiphers,getCipherInfo,getCurves,getDiffieHellman:createDiffieHellmanGroup,getHashes,hkdf,hkdfSync,pbkdf2,pbkdf2Sync,generateKeyPair,generateKeyPairSync,generateKey,generateKeySync,privateDecrypt,privateEncrypt,publicDecrypt,publicEncrypt,randomBytes,randomFill,randomFillSync,randomInt,randomUUID,scrypt,scryptSync,sign:signOneShot,setEngine,timingSafeEqual,getFips:fipsForced?getFipsForced:getFipsCrypto,setFips:fipsForced?setFipsForced:setFipsCrypto,verify:verifyOneShot,Certificate,Cipher,Cipheriv,Decipher,Decipheriv,DiffieHellman,DiffieHellmanGroup,ECDH,Hash,Hmac,KeyObject,Sign,Verify,X509Certificate,secureHeapUsed};function setFipsForced(e){if(!e)throw new ERR_CRYPTO_FIPS_FORCED}function getFipsForced(){return 1}ObjectDefineProperty(constants,"defaultCipherList",{value:getOptionValue("--tls-cipher-list")}),ObjectDefineProperties(module.exports,{createCipher:{enumerable:!1,value:deprecate(createCipher,"crypto.createCipher is deprecated.","DEP0106")},createDecipher:{enumerable:!1,value:deprecate(createDecipher,"crypto.createDecipher is deprecated.","DEP0106")},fips:{get:fipsForced?getFipsForced:getFipsCrypto,set:fipsForced?setFipsForced:setFipsCrypto},DEFAULT_ENCODING:{enumerable:!1,configurable:!0,get:deprecate(getDefaultEncoding,"crypto.DEFAULT_ENCODING is deprecated.","DEP0091"),set:deprecate(setDefaultEncoding,"crypto.DEFAULT_ENCODING is deprecated.","DEP0091")},constants:{configurable:!1,enumerable:!0,value:constants},webcrypto:{configurable:!1,enumerable:!0,get(){return lazyRequire("internal/crypto/webcrypto").crypto}},prng:{enumerable:!1,configurable:!0,writable:!0,value:pendingDeprecation?deprecate(randomBytes,"crypto.prng is deprecated.","DEP0115"):randomBytes},pseudoRandomBytes:{enumerable:!1,configurable:!0,writable:!0,value:pendingDeprecation?deprecate(randomBytes,"crypto.pseudoRandomBytes is deprecated.","DEP0115"):randomBytes},rng:{enumerable:!1,configurable:!0,writable:!0,value:pendingDeprecation?deprecate(randomBytes,"crypto.rng is deprecated.","DEP0115"):randomBytes}});
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Array,ArrayIsArray,ArrayPrototypePush,FunctionPrototypeBind,FunctionPrototypeCall,ObjectDefineProperty,ObjectSetPrototypeOf,ReflectApply}=primordials,errors=require("internal/errors"),{kStateSymbol,_createSocketHandle,newHandle}=require("internal/dgram"),{guessHandleType}=internalBinding("util"),{ERR_INVALID_ARG_TYPE,ERR_MISSING_ARGS,ERR_SOCKET_ALREADY_BOUND,ERR_SOCKET_BAD_BUFFER_SIZE,ERR_SOCKET_BUFFER_SIZE,ERR_SOCKET_DGRAM_IS_CONNECTED,ERR_SOCKET_DGRAM_NOT_CONNECTED,ERR_SOCKET_DGRAM_NOT_RUNNING,ERR_INVALID_FD_TYPE}=errors.codes,{isInt32,validateAbortSignal,validateString,validateNumber,validatePort}=require("internal/validators"),{Buffer}=require("buffer"),{deprecate}=require("internal/util"),{isArrayBufferView}=require("internal/util/types"),EventEmitter=require("events"),{defaultTriggerAsyncIdScope,symbols:{async_id_symbol,owner_symbol}}=require("internal/async_hooks"),{UV_UDP_REUSEADDR}=internalBinding("constants").os,{constants:{UV_UDP_IPV6ONLY},UDP,SendWrap}=internalBinding("udp_wrap"),BIND_STATE_UNBOUND=0,BIND_STATE_BINDING=1,BIND_STATE_BOUND=2,CONNECT_STATE_DISCONNECTED=0,CONNECT_STATE_CONNECTING=1,CONNECT_STATE_CONNECTED=2,RECV_BUFFER=!0,SEND_BUFFER=!1;let _cluster=null;function lazyLoadCluster(){return _cluster||(_cluster=require("cluster")),_cluster}const errnoException=errors.errnoException,exceptionWithHostPort=errors.exceptionWithHostPort;function Socket(e,t){FunctionPrototypeCall(EventEmitter,this);let n,i,o,r;e!==null&&typeof e=="object"&&(r=e,e=r.type,n=r.lookup,i=r.recvBufferSize,o=r.sendBufferSize);const s=newHandle(e,n);if(s[owner_symbol]=this,this[async_id_symbol]=s.getAsyncId(),this.type=e,typeof t=="function"&&this.on("message",t),this[kStateSymbol]={handle:s,receiving:!1,bindState:BIND_STATE_UNBOUND,connectState:CONNECT_STATE_DISCONNECTED,queue:void 0,reuseAddr:r&&r.reuseAddr,ipv6Only:r&&r.ipv6Only,recvBufferSize:i,sendBufferSize:o},r?.signal!==void 0){const{signal:c}=r;validateAbortSignal(c,"options.signal");const u=()=>{this.close()};c.aborted?u():(c.addEventListener("abort",u),this.once("close",()=>c.removeEventListener("abort",u)))}}ObjectSetPrototypeOf(Socket.prototype,EventEmitter.prototype),ObjectSetPrototypeOf(Socket,EventEmitter);function createSocket(e,t){return new Socket(e,t)}function startListening(e){const t=e[kStateSymbol];t.handle.onmessage=onMessage,t.handle.recvStart(),t.receiving=!0,t.bindState=BIND_STATE_BOUND,t.recvBufferSize&&bufferSize(e,t.recvBufferSize,RECV_BUFFER),t.sendBufferSize&&bufferSize(e,t.sendBufferSize,SEND_BUFFER),e.emit("listening")}function replaceHandle(e,t){const n=e[kStateSymbol],i=n.handle;t.lookup=i.lookup,t.bind=i.bind,t.send=i.send,t[owner_symbol]=e,i.close(),n.handle=t,isConnected(e)&&(n.connectState=CONNECT_STATE_CONNECTED)}function bufferSize(e,t,n){if(t>>>0!==t)throw new ERR_SOCKET_BAD_BUFFER_SIZE;const i={},o=e[kStateSymbol].handle.bufferSize(t,n,i);if(o===void 0)throw new ERR_SOCKET_BUFFER_SIZE(i);return o}function bindServerHandle(e,t,n){const i=lazyLoadCluster(),o=e[kStateSymbol];i._getServer(e,t,(r,s)=>{if(r){n(r);return}if(!o.handle)return s.close();replaceHandle(e,s),startListening(e)})}Socket.prototype.bind=function(e,t){let n=e;healthCheck(this);const i=this[kStateSymbol];if(i.bindState!==BIND_STATE_UNBOUND)throw new ERR_SOCKET_ALREADY_BOUND;i.bindState=BIND_STATE_BINDING;const o=arguments.length&&arguments[arguments.length-1];if(typeof o=="function"){let c=function(){this.removeListener("error",c),this.removeListener("listening",u)},u=function(){FunctionPrototypeCall(c,this),FunctionPrototypeCall(o,this)};this.on("error",c),this.on("listening",u)}if(n!==null&&typeof n=="object"&&typeof n.recvStart=="function")return replaceHandle(this,n),startListening(this),this;if(n!==null&&typeof n=="object"&&isInt32(n.fd)&&n.fd>0){const c=n.fd,u=!!n.exclusive,f=this[kStateSymbol];if(lazyLoadCluster().isWorker&&!u)return bindServerHandle(this,{address:null,port:null,addressType:this.type,fd:c,flags:null},a=>{const l=errnoException(a,"open");f.bindState=BIND_STATE_UNBOUND,this.emit("error",l)}),this;const d=guessHandleType(c);if(d!=="UDP")throw new ERR_INVALID_FD_TYPE(d);const p=f.handle.open(c);if(p)throw errnoException(p,"open");return isConnected(this)&&(f.connectState=CONNECT_STATE_CONNECTED),startListening(this),this}let r,s;return n!==null&&typeof n=="object"?(r=n.address||"",s=!!n.exclusive,n=n.port):(r=typeof t=="function"?"":t,s=!1),r||(this.type==="udp4"?r="0.0.0.0":r="::"),i.handle.lookup(r,(c,u)=>{if(c){i.bindState=BIND_STATE_UNBOUND,this.emit("error",c);return}const f=lazyLoadCluster();let h=0;if(i.reuseAddr&&(h|=UV_UDP_REUSEADDR),i.ipv6Only&&(h|=UV_UDP_IPV6ONLY),f.isWorker&&!s)bindServerHandle(this,{address:u,port:n,addressType:this.type,fd:-1,flags:h},d=>{const p=exceptionWithHostPort(d,"bind",u,n);i.bindState=BIND_STATE_UNBOUND,this.emit("error",p)});else{if(!i.handle)return;const d=i.handle.bind(u,n||0,h);if(d){const p=exceptionWithHostPort(d,"bind",u,n);i.bindState=BIND_STATE_UNBOUND,this.emit("error",p);return}startListening(this)}}),this},Socket.prototype.connect=function(e,t,n){e=validatePort(e,"Port",!1),typeof t=="function"?(n=t,t=""):t===void 0&&(t=""),validateString(t,"address");const i=this[kStateSymbol];if(i.connectState!==CONNECT_STATE_DISCONNECTED)throw new ERR_SOCKET_DGRAM_IS_CONNECTED;if(i.connectState=CONNECT_STATE_CONNECTING,i.bindState===BIND_STATE_UNBOUND&&this.bind({port:0,exclusive:!0},null),i.bindState!==BIND_STATE_BOUND){enqueue(this,FunctionPrototypeBind(_connect,this,e,t,n));return}ReflectApply(_connect,this,[e,t,n])};function _connect(e,t,n){const i=this[kStateSymbol];n&&this.once("connect",n);const o=(r,s)=>{defaultTriggerAsyncIdScope(this[async_id_symbol],doConnect,r,this,s,t,e,n)};i.handle.lookup(t,o)}function doConnect(e,t,n,i,o,r){const s=t[kStateSymbol];if(!!s.handle){if(!e){const c=s.handle.connect(n,o);c&&(e=exceptionWithHostPort(c,"connect",i,o))}if(e)return s.connectState=CONNECT_STATE_DISCONNECTED,process.nextTick(()=>{r?(t.removeListener("connect",r),r(e)):t.emit("error",e)});s.connectState=CONNECT_STATE_CONNECTED,process.nextTick(()=>t.emit("connect"))}}Socket.prototype.disconnect=function(){const e=this[kStateSymbol];if(e.connectState!==CONNECT_STATE_CONNECTED)throw new ERR_SOCKET_DGRAM_NOT_CONNECTED;const t=e.handle.disconnect();if(t)throw errnoException(t,"connect");e.connectState=CONNECT_STATE_DISCONNECTED},Socket.prototype.sendto=function(e,t,n,i,o,r){validateNumber(t,"offset"),validateNumber(n,"length"),validateNumber(i,"port"),validateString(o,"address"),this.send(e,t,n,i,o,r)};function sliceBuffer(e,t,n){if(typeof e=="string")e=Buffer.from(e);else if(!isArrayBufferView(e))throw new ERR_INVALID_ARG_TYPE("buffer",["Buffer","TypedArray","DataView","string"],e);return t=t>>>0,n=n>>>0,Buffer.from(e.buffer,e.byteOffset+t,n)}function fixBufferList(e){const t=new Array(e.length);for(let n=0,i=e.length;n<i;n++){const o=e[n];if(typeof o=="string")t[n]=Buffer.from(o);else if(isArrayBufferView(o))t[n]=Buffer.from(o.buffer,o.byteOffset,o.byteLength);else return null}return t}function enqueue(e,t){const n=e[kStateSymbol];n.queue===void 0&&(n.queue=[],e.once(EventEmitter.errorMonitor,onListenError),e.once("listening",onListenSuccess)),ArrayPrototypePush(n.queue,t)}function onListenSuccess(){this.removeListener(EventEmitter.errorMonitor,onListenError),FunctionPrototypeCall(clearQueue,this)}function onListenError(e){this.removeListener("listening",onListenSuccess),this[kStateSymbol].queue=void 0}function clearQueue(){const e=this[kStateSymbol],t=e.queue;e.queue=void 0;for(const n of t)n()}function isConnected(e){try{return e.remoteAddress(),!0}catch{return!1}}Socket.prototype.send=function(e,t,n,i,o,r){let s;const c=this[kStateSymbol],u=c.connectState===CONNECT_STATE_CONNECTED;if(!u)o||i&&typeof i!="function"?e=sliceBuffer(e,t,n):(r=i,i=t,o=n);else if(typeof n=="number"?(e=sliceBuffer(e,t,n),typeof i=="function"&&(r=i,i=null)):r=t,i||o)throw new ERR_SOCKET_DGRAM_IS_CONNECTED;if(ArrayIsArray(e)){if(!(s=fixBufferList(e)))throw new ERR_INVALID_ARG_TYPE("buffer list arguments",["Buffer","TypedArray","DataView","string"],e)}else if(typeof e=="string")s=[Buffer.from(e)];else if(isArrayBufferView(e))s=[e];else throw new ERR_INVALID_ARG_TYPE("buffer",["Buffer","TypedArray","DataView","string"],e);if(u||(i=validatePort(i,"Port",!1)),typeof r!="function"&&(r=void 0),typeof o=="function"?(r=o,o=void 0):o!=null&&validateString(o,"address"),healthCheck(this),c.bindState===BIND_STATE_UNBOUND&&this.bind({port:0,exclusive:!0},null),s.length===0&&ArrayPrototypePush(s,Buffer.alloc(0)),c.bindState!==BIND_STATE_BOUND){enqueue(this,FunctionPrototypeBind(this.send,this,s,i,o,r));return}const f=(h,d)=>{defaultTriggerAsyncIdScope(this[async_id_symbol],doSend,h,this,d,s,o,i,r)};u?f(null,null):c.handle.lookup(o,f)};function doSend(e,t,n,i,o,r,s){const c=t[kStateSymbol];if(e){if(typeof s=="function"){process.nextTick(s,e);return}process.nextTick(()=>t.emit("error",e));return}else if(!c.handle)return;const u=new SendWrap;u.list=i,u.address=o,u.port=r,s&&(u.callback=s,u.oncomplete=afterSend);let f;if(r?f=c.handle.send(u,i,i.length,r,n,!!s):f=c.handle.send(u,i,i.length,!!s),f>=1){s&&process.nextTick(s,null,f-1);return}if(f&&s){const h=exceptionWithHostPort(f,"send",o,r);process.nextTick(s,h)}}function afterSend(e,t){e?e=exceptionWithHostPort(e,"send",this.address,this.port):e=null,this.callback(e,t)}Socket.prototype.close=function(e){const t=this[kStateSymbol],n=t.queue;return typeof e=="function"&&this.on("close",e),n!==void 0?(ArrayPrototypePush(n,FunctionPrototypeBind(this.close,this)),this):(healthCheck(this),stopReceiving(this),t.handle.close(),t.handle=null,defaultTriggerAsyncIdScope(this[async_id_symbol],process.nextTick,socketCloseNT,this),this)};function socketCloseNT(e){e.emit("close")}Socket.prototype.address=function(){healthCheck(this);const e={},t=this[kStateSymbol].handle.getsockname(e);if(t)throw errnoException(t,"getsockname");return e},Socket.prototype.remoteAddress=function(){healthCheck(this);const e=this[kStateSymbol];if(e.connectState!==CONNECT_STATE_CONNECTED)throw new ERR_SOCKET_DGRAM_NOT_CONNECTED;const t={},n=e.handle.getpeername(t);if(n)throw errnoException(n,"getpeername");return t},Socket.prototype.setBroadcast=function(e){const t=this[kStateSymbol].handle.setBroadcast(e?1:0);if(t)throw errnoException(t,"setBroadcast")},Socket.prototype.setTTL=function(e){validateNumber(e,"ttl");const t=this[kStateSymbol].handle.setTTL(e);if(t)throw errnoException(t,"setTTL");return e},Socket.prototype.setMulticastTTL=function(e){validateNumber(e,"ttl");const t=this[kStateSymbol].handle.setMulticastTTL(e);if(t)throw errnoException(t,"setMulticastTTL");return e},Socket.prototype.setMulticastLoopback=function(e){const t=this[kStateSymbol].handle.setMulticastLoopback(e?1:0);if(t)throw errnoException(t,"setMulticastLoopback");return e},Socket.prototype.setMulticastInterface=function(e){healthCheck(this),validateString(e,"interfaceAddress");const t=this[kStateSymbol].handle.setMulticastInterface(e);if(t)throw errnoException(t,"setMulticastInterface")},Socket.prototype.addMembership=function(e,t){if(healthCheck(this),!e)throw new ERR_MISSING_ARGS("multicastAddress");const{handle:n}=this[kStateSymbol],i=n.addMembership(e,t);if(i)throw errnoException(i,"addMembership")},Socket.prototype.dropMembership=function(e,t){if(healthCheck(this),!e)throw new ERR_MISSING_ARGS("multicastAddress");const{handle:n}=this[kStateSymbol],i=n.dropMembership(e,t);if(i)throw errnoException(i,"dropMembership")},Socket.prototype.addSourceSpecificMembership=function(e,t,n){healthCheck(this),validateString(e,"sourceAddress"),validateString(t,"groupAddress");const i=this[kStateSymbol].handle.addSourceSpecificMembership(e,t,n);if(i)throw errnoException(i,"addSourceSpecificMembership")},Socket.prototype.dropSourceSpecificMembership=function(e,t,n){healthCheck(this),validateString(e,"sourceAddress"),validateString(t,"groupAddress");const i=this[kStateSymbol].handle.dropSourceSpecificMembership(e,t,n);if(i)throw errnoException(i,"dropSourceSpecificMembership")};function healthCheck(e){if(!e[kStateSymbol].handle)throw new ERR_SOCKET_DGRAM_NOT_RUNNING}function stopReceiving(e){const t=e[kStateSymbol];!t.receiving||(t.handle.recvStop(),t.receiving=!1)}function onMessage(e,t,n,i){const o=t[owner_symbol];if(e<0)return o.emit("error",errnoException(e,"recvmsg"));i.size=n.length,o.emit("message",n,i)}Socket.prototype.ref=function(){const e=this[kStateSymbol].handle;return e&&e.ref(),this},Socket.prototype.unref=function(){const e=this[kStateSymbol].handle;return e&&e.unref(),this},Socket.prototype.setRecvBufferSize=function(e){bufferSize(this,e,RECV_BUFFER)},Socket.prototype.setSendBufferSize=function(e){bufferSize(this,e,SEND_BUFFER)},Socket.prototype.getRecvBufferSize=function(){return bufferSize(this,0,RECV_BUFFER)},Socket.prototype.getSendBufferSize=function(){return bufferSize(this,0,SEND_BUFFER)},ObjectDefineProperty(Socket.prototype,"_handle",{get:deprecate(function(){return this[kStateSymbol].handle},"Socket.prototype._handle is deprecated","DEP0112"),set:deprecate(function(e){this[kStateSymbol].handle=e},"Socket.prototype._handle is deprecated","DEP0112")}),ObjectDefineProperty(Socket.prototype,"_receiving",{get:deprecate(function(){return this[kStateSymbol].receiving},"Socket.prototype._receiving is deprecated","DEP0112"),set:deprecate(function(e){this[kStateSymbol].receiving=e},"Socket.prototype._receiving is deprecated","DEP0112")}),ObjectDefineProperty(Socket.prototype,"_bindState",{get:deprecate(function(){return this[kStateSymbol].bindState},"Socket.prototype._bindState is deprecated","DEP0112"),set:deprecate(function(e){this[kStateSymbol].bindState=e},"Socket.prototype._bindState is deprecated","DEP0112")}),ObjectDefineProperty(Socket.prototype,"_queue",{get:deprecate(function(){return this[kStateSymbol].queue},"Socket.prototype._queue is deprecated","DEP0112"),set:deprecate(function(e){this[kStateSymbol].queue=e},"Socket.prototype._queue is deprecated","DEP0112")}),ObjectDefineProperty(Socket.prototype,"_reuseAddr",{get:deprecate(function(){return this[kStateSymbol].reuseAddr},"Socket.prototype._reuseAddr is deprecated","DEP0112"),set:deprecate(function(e){this[kStateSymbol].reuseAddr=e},"Socket.prototype._reuseAddr is deprecated","DEP0112")}),Socket.prototype._healthCheck=deprecate(function(){healthCheck(this)},"Socket.prototype._healthCheck() is deprecated","DEP0112"),Socket.prototype._stopReceiving=deprecate(function(){stopReceiving(this)},"Socket.prototype._stopReceiving() is deprecated","DEP0112"),ObjectDefineProperty(UDP.prototype,"owner",{get(){return this[owner_symbol]},set(e){return this[owner_symbol]=e}}),module.exports={_createSocketHandle:deprecate(_createSocketHandle,"dgram._createSocketHandle() is deprecated","DEP0112"),createSocket,Socket};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeIndexOf,ArrayPrototypePush,ArrayPrototypeSplice,ObjectCreate,ObjectGetPrototypeOf,ObjectSetPrototypeOf,SymbolHasInstance}=primordials,{codes:{ERR_INVALID_ARG_TYPE}}=require("internal/errors"),{validateFunction}=require("internal/validators"),{triggerUncaughtException}=internalBinding("errors"),{WeakReference}=internalBinding("util");class ActiveChannel{subscribe(s){validateFunction(s,"subscription"),ArrayPrototypePush(this._subscribers,s)}unsubscribe(s){const e=ArrayPrototypeIndexOf(this._subscribers,s);e>=0&&(ArrayPrototypeSplice(this._subscribers,e,1),this._subscribers.length||ObjectSetPrototypeOf(this,Channel.prototype))}get hasSubscribers(){return!0}publish(s){for(let e=0;e<this._subscribers.length;e++)try{this._subscribers[e](s,this.name)}catch(r){process.nextTick(()=>{triggerUncaughtException(r,!1)})}}}class Channel{constructor(s){this._subscribers=void 0,this.name=s}static[SymbolHasInstance](s){const e=ObjectGetPrototypeOf(s);return e===Channel.prototype||e===ActiveChannel.prototype}subscribe(s){ObjectSetPrototypeOf(this,ActiveChannel.prototype),this._subscribers=[],this.subscribe(s)}get hasSubscribers(){return!1}publish(){}}const channels=ObjectCreate(null);function channel(t){let s;const e=channels[t];if(e&&(s=e.get()),s)return s;if(typeof t!="string"&&typeof t!="symbol")throw new ERR_INVALID_ARG_TYPE("channel",["string","symbol"],t);return s=new Channel(t),channels[t]=new WeakReference(s),s}function hasSubscribers(t){let s;const e=channels[t];return e&&(s=e.get()),s?s.hasSubscribers:!1}module.exports={channel,hasSubscribers,Channel};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeMap,ObjectCreate,ObjectDefineProperties,ObjectDefineProperty,ReflectApply}=primordials,cares=internalBinding("cares_wrap"),{toASCII}=require("internal/idna"),{isIP}=require("internal/net"),{customPromisifyArgs}=require("internal/util"),errors=require("internal/errors"),{bindDefaultResolver,getDefaultResolver,setDefaultResolver,Resolver,validateHints,emitInvalidHostnameWarning,emitTypeCoercionDeprecationWarning,getDefaultVerbatim,setDefaultResultOrder}=require("internal/dns/utils"),{ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_MISSING_ARGS}=errors.codes,{validateCallback,validatePort,validateString,validateOneOf}=require("internal/validators"),{GetAddrInfoReqWrap,GetNameInfoReqWrap,QueryReqWrap}=cares,dnsException=errors.dnsException;let promises=null;function onlookup(t,e){if(t)return this.callback(dnsException(t,"getaddrinfo",this.hostname));this.callback(null,e[0],this.family||isIP(e[0]))}function onlookupall(t,e){if(t)return this.callback(dnsException(t,"getaddrinfo",this.hostname));const l=this.family;for(let r=0;r<e.length;r++){const n=e[r];e[r]={address:n,family:l||isIP(n)}}this.callback(null,e)}function lookup(t,e,l){let r=0,n=-1,o=!1,s=getDefaultVerbatim();if(t&&validateString(t,"hostname"),typeof e=="function"?(l=e,n=0):(validateCallback(l),e!==null&&typeof e=="object"?(e.hints!=null&&typeof e.hints!="number"&&emitTypeCoercionDeprecationWarning(),r=e.hints>>>0,e.family!=null&&typeof e.family!="number"&&emitTypeCoercionDeprecationWarning(),n=e.family>>>0,e.all!=null&&typeof e.all!="boolean"&&emitTypeCoercionDeprecationWarning(),o=e.all===!0,typeof e.verbatim=="boolean"?s=e.verbatim===!0:e.verbatim!=null&&emitTypeCoercionDeprecationWarning(),validateHints(r)):(e!=null&&typeof e!="number"&&emitTypeCoercionDeprecationWarning(),n=e>>>0)),validateOneOf(n,"family",[0,4,6]),!t)return emitInvalidHostnameWarning(t),o?process.nextTick(l,null,[]):process.nextTick(l,null,null,n===6?6:4),{};const a=isIP(t);if(a)return o?process.nextTick(l,null,[{address:t,family:a}]):process.nextTick(l,null,t,a),{};const i=new GetAddrInfoReqWrap;i.callback=l,i.family=n,i.hostname=t,i.oncomplete=o?onlookupall:onlookup;const u=cares.getaddrinfo(i,toASCII(t),n,r,s);return u?(process.nextTick(l,dnsException(u,"getaddrinfo",t)),{}):i}ObjectDefineProperty(lookup,customPromisifyArgs,{value:["address","family"],enumerable:!1});function onlookupservice(t,e,l){if(t)return this.callback(dnsException(t,"getnameinfo",this.hostname));this.callback(null,e,l)}function lookupService(t,e,l){if(arguments.length!==3)throw new ERR_MISSING_ARGS("address","port","callback");if(isIP(t)===0)throw new ERR_INVALID_ARG_VALUE("address",t);validatePort(e),validateCallback(l),e=+e;const r=new GetNameInfoReqWrap;r.callback=l,r.hostname=t,r.port=e,r.oncomplete=onlookupservice;const n=cares.getnameinfo(r,t,e);if(n)throw dnsException(n,"getnameinfo",t);return r}ObjectDefineProperty(lookupService,customPromisifyArgs,{value:["hostname","service"],enumerable:!1});function onresolve(t,e,l){l&&this.ttl&&(e=ArrayPrototypeMap(e,(r,n)=>({address:r,ttl:l[n]}))),t?this.callback(dnsException(t,this.bindingName,this.hostname)):this.callback(null,e)}function resolver(t){function e(l,r){let n;arguments.length>2&&(n=r,r=arguments[2]),validateString(l,"name"),validateCallback(r);const o=new QueryReqWrap;o.bindingName=t,o.callback=r,o.hostname=l,o.oncomplete=onresolve,o.ttl=!!(n&&n.ttl);const s=this._handle[t](o,toASCII(l));if(s)throw dnsException(s,t,l);return o}return ObjectDefineProperty(e,"name",{value:t}),e}const resolveMap=ObjectCreate(null);Resolver.prototype.resolveAny=resolveMap.ANY=resolver("queryAny"),Resolver.prototype.resolve4=resolveMap.A=resolver("queryA"),Resolver.prototype.resolve6=resolveMap.AAAA=resolver("queryAaaa"),Resolver.prototype.resolveCaa=resolveMap.CAA=resolver("queryCaa"),Resolver.prototype.resolveCname=resolveMap.CNAME=resolver("queryCname"),Resolver.prototype.resolveMx=resolveMap.MX=resolver("queryMx"),Resolver.prototype.resolveNs=resolveMap.NS=resolver("queryNs"),Resolver.prototype.resolveTxt=resolveMap.TXT=resolver("queryTxt"),Resolver.prototype.resolveSrv=resolveMap.SRV=resolver("querySrv"),Resolver.prototype.resolvePtr=resolveMap.PTR=resolver("queryPtr"),Resolver.prototype.resolveNaptr=resolveMap.NAPTR=resolver("queryNaptr"),Resolver.prototype.resolveSoa=resolveMap.SOA=resolver("querySoa"),Resolver.prototype.reverse=resolver("getHostByAddr"),Resolver.prototype.resolve=resolve;function resolve(t,e,l){let r;if(typeof e=="string")r=resolveMap[e];else if(typeof e=="function")r=resolveMap.A,l=e;else throw new ERR_INVALID_ARG_TYPE("rrtype","string",e);if(typeof r=="function")return ReflectApply(r,this,[t,l]);throw new ERR_INVALID_ARG_VALUE("rrtype",e)}function defaultResolverSetServers(t){const e=new Resolver;e.setServers(t),setDefaultResolver(e),bindDefaultResolver(module.exports,Resolver.prototype),promises!==null&&bindDefaultResolver(promises,promises.Resolver.prototype)}module.exports={lookup,lookupService,Resolver,setDefaultResultOrder,setServers:defaultResolverSetServers,ADDRCONFIG:cares.AI_ADDRCONFIG,ALL:cares.AI_ALL,V4MAPPED:cares.AI_V4MAPPED,NODATA:"ENODATA",FORMERR:"EFORMERR",SERVFAIL:"ESERVFAIL",NOTFOUND:"ENOTFOUND",NOTIMP:"ENOTIMP",REFUSED:"EREFUSED",BADQUERY:"EBADQUERY",BADNAME:"EBADNAME",BADFAMILY:"EBADFAMILY",BADRESP:"EBADRESP",CONNREFUSED:"ECONNREFUSED",TIMEOUT:"ETIMEOUT",EOF:"EOF",FILE:"EFILE",NOMEM:"ENOMEM",DESTRUCTION:"EDESTRUCTION",BADSTR:"EBADSTR",BADFLAGS:"EBADFLAGS",NONAME:"ENONAME",BADHINTS:"EBADHINTS",NOTINITIALIZED:"ENOTINITIALIZED",LOADIPHLPAPI:"ELOADIPHLPAPI",ADDRGETNETWORKPARAMS:"EADDRGETNETWORKPARAMS",CANCELLED:"ECANCELLED"},bindDefaultResolver(module.exports,getDefaultResolver()),ObjectDefineProperties(module.exports,{promises:{configurable:!0,enumerable:!0,get(){return promises===null&&(promises=require("internal/dns/promises"),promises.setServers=defaultResolverSetServers,promises.setDefaultResultOrder=setDefaultResultOrder),promises}}});
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeEvery,ArrayPrototypeIndexOf,ArrayPrototypeLastIndexOf,ArrayPrototypePush,ArrayPrototypeSlice,ArrayPrototypeSplice,Error,FunctionPrototypeCall,ObjectDefineProperty,Promise,ReflectApply,SafeMap,Symbol}=primordials,EventEmitter=require("events"),{ERR_DOMAIN_CALLBACK_NOT_AVAILABLE,ERR_DOMAIN_CANNOT_SET_UNCAUGHT_EXCEPTION_CAPTURE,ERR_UNHANDLED_ERROR}=require("internal/errors").codes,{createHook}=require("async_hooks"),{useDomainTrampoline}=require("internal/async_hooks"),kWeak=Symbol("kWeak"),{WeakReference}=internalBinding("util"),_domain=[null];ObjectDefineProperty(process,"domain",{enumerable:!0,get:function(){return _domain[0]},set:function(e){return _domain[0]=e}});const pairing=new SafeMap,asyncHook=createHook({init(e,t,n,r){process.domain!==null&&process.domain!==void 0&&(pairing.set(e,process.domain[kWeak]),(t!=="PROMISE"||r instanceof Promise)&&ObjectDefineProperty(r,"domain",{configurable:!0,enumerable:!1,value:process.domain,writable:!0}))},before(e){const t=pairing.get(e);t!==void 0&&(t.incRef(),t.get().enter())},after(e){const t=pairing.get(e);if(t!==void 0){const n=t.get();t.decRef(),n.exit()}},destroy(e){pairing.delete(e)}});if(process.hasUncaughtExceptionCaptureCallback())throw new ERR_DOMAIN_CALLBACK_NOT_AVAILABLE;const domainRequireStack=new Error("require(`domain`) at this point").stack,{setUncaughtExceptionCaptureCallback}=process;process.setUncaughtExceptionCaptureCallback=function(e){const t=new ERR_DOMAIN_CANNOT_SET_UNCAUGHT_EXCEPTION_CAPTURE;throw t.stack=t.stack+`
`+"-".repeat(40)+`
`+domainRequireStack,t};let sendMakeCallbackDeprecation=!1;function emitMakeCallbackDeprecation({target:e,method:t}){sendMakeCallbackDeprecation||(process.emitWarning(`Using a domain property in MakeCallback is deprecated. Use the async_context variant of MakeCallback or the AsyncResource class instead. (Triggered by calling ${t?.name||"<anonymous>"} on ${e?.constructor?.name}.)`,"DeprecationWarning","DEP0097"),sendMakeCallbackDeprecation=!0)}function topLevelDomainCallback(e,...t){const n=this.domain;exports.active&&n&&emitMakeCallbackDeprecation({target:this,method:e}),n&&n.enter();const r=ReflectApply(e,this,t);return n&&n.exit(),r}let stack=[];exports._stack=stack,useDomainTrampoline(topLevelDomainCallback);function updateExceptionCapture(){ArrayPrototypeEvery(stack,e=>e.listenerCount("error")===0)?setUncaughtExceptionCaptureCallback(null):(setUncaughtExceptionCaptureCallback(null),setUncaughtExceptionCaptureCallback(e=>process.domain._errorHandler(e)))}process.on("newListener",(e,t)=>{e==="uncaughtException"&&t!==domainUncaughtExceptionClear&&(process.removeListener(e,domainUncaughtExceptionClear),process.prependListener(e,domainUncaughtExceptionClear))}),process.on("removeListener",(e,t)=>{if(e==="uncaughtException"&&t!==domainUncaughtExceptionClear){const n=process.listeners("uncaughtException");n.length===1&&n[0]===domainUncaughtExceptionClear&&process.removeListener(e,domainUncaughtExceptionClear)}});function domainUncaughtExceptionClear(){stack.length=0,exports.active=process.domain=null,updateExceptionCapture()}class Domain extends EventEmitter{constructor(){super();this.members=[],this[kWeak]=new WeakReference(this),asyncHook.enable(),this.on("removeListener",updateExceptionCapture),this.on("newListener",updateExceptionCapture)}}exports.Domain=Domain,exports.create=exports.createDomain=function(){return new Domain},exports.active=null,Domain.prototype.members=void 0,Domain.prototype._errorHandler=function(e){let t=!1;for((typeof e=="object"&&e!==null||typeof e=="function")&&(ObjectDefineProperty(e,"domain",{configurable:!0,enumerable:!1,value:this,writable:!0}),e.domainThrown=!0);exports.active===this;)this.exit();if(stack.length===0){if(EventEmitter.listenerCount(this,"error")>0){setUncaughtExceptionCaptureCallback(null);try{t=this.emit("error",e)}finally{updateExceptionCapture()}}}else try{t=this.emit("error",e)}catch(n){if(updateExceptionCapture(),stack.length)exports.active=process.domain=stack[stack.length-1],t=process.domain._errorHandler(n);else throw n}return domainUncaughtExceptionClear(),t},Domain.prototype.enter=function(){exports.active=process.domain=this,ArrayPrototypePush(stack,this),updateExceptionCapture()},Domain.prototype.exit=function(){const e=ArrayPrototypeLastIndexOf(stack,this);e!==-1&&(ArrayPrototypeSplice(stack,e),exports.active=stack.length===0?void 0:stack[stack.length-1],process.domain=exports.active,updateExceptionCapture())},Domain.prototype.add=function(e){if(e.domain!==this){if(e.domain&&e.domain.remove(e),this.domain&&e instanceof Domain){for(let t=this.domain;t;t=t.domain)if(e===t)return}ObjectDefineProperty(e,"domain",{configurable:!0,enumerable:!1,value:this,writable:!0}),ArrayPrototypePush(this.members,e)}},Domain.prototype.remove=function(e){e.domain=null;const t=ArrayPrototypeIndexOf(this.members,e);t!==-1&&ArrayPrototypeSplice(this.members,t,1)},Domain.prototype.run=function(e){this.enter();const t=ReflectApply(e,this,ArrayPrototypeSlice(arguments,1));return this.exit(),t};function intercepted(e,t,n,r){if(r[0]&&r[0]instanceof Error){const o=r[0];o.domainBound=n,o.domainThrown=!1,ObjectDefineProperty(o,"domain",{configurable:!0,enumerable:!1,value:t,writable:!0}),t.emit("error",o);return}t.enter();const a=ReflectApply(n,e,ArrayPrototypeSlice(r,1));return t.exit(),a}Domain.prototype.intercept=function(e){const t=this;function n(){return intercepted(this,t,e,arguments)}return n};function bound(e,t,n,r){t.enter();const a=ReflectApply(n,e,r);return t.exit(),a}Domain.prototype.bind=function(e){const t=this;function n(){return bound(this,t,e,arguments)}return ObjectDefineProperty(n,"domain",{configurable:!0,enumerable:!1,value:this,writable:!0}),n},EventEmitter.usingDomains=!0;const eventInit=EventEmitter.init;EventEmitter.init=function(){return ObjectDefineProperty(this,"domain",{configurable:!0,enumerable:!1,value:null,writable:!0}),exports.active&&!(this instanceof exports.Domain)&&(this.domain=exports.active),FunctionPrototypeCall(eventInit,this)};const eventEmit=EventEmitter.prototype.emit;EventEmitter.prototype.emit=function(...t){const n=this.domain,r=t[0];if(r==="error"&&this.listenerCount(r)>0||n===null||n===void 0||this===process)return ReflectApply(eventEmit,this,t);if(r==="error"){const i=t.length>1&&t[1]?t[1]:new ERR_UNHANDLED_ERROR;typeof i=="object"&&(i.domainEmitter=this,ObjectDefineProperty(i,"domain",{configurable:!0,enumerable:!1,value:n,writable:!0}),i.domainThrown=!1);const c=ArrayPrototypeSlice(stack),u=process.domain;let s=stack.length-1;for(;s>-1&&process.domain===stack[s];)--s;return s<0?stack.length=0:ArrayPrototypeSplice(stack,s+1),stack.length>0?exports.active=process.domain=stack[stack.length-1]:exports.active=process.domain=null,updateExceptionCapture(),n.emit("error",i),exports._stack=stack=c,exports.active=process.domain=u,updateExceptionCapture(),!1}n.enter();const o=ReflectApply(eventEmit,this,t);return n.exit(),o};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeIndexOf,ArrayPrototypeJoin,ArrayPrototypeShift,ArrayPrototypeSlice,ArrayPrototypeSplice,Boolean,Error,ErrorCaptureStackTrace,FunctionPrototypeBind,FunctionPrototypeCall,MathMin,NumberIsNaN,ObjectCreate,ObjectDefineProperty,ObjectDefineProperties,ObjectGetPrototypeOf,ObjectSetPrototypeOf,Promise,PromiseReject,PromiseResolve,ReflectOwnKeys,String,StringPrototypeSplit,Symbol,SymbolFor,SymbolAsyncIterator}=primordials,kRejection=SymbolFor("nodejs.rejection"),{inspect}=require("internal/util/inspect");let spliceOne;const{AbortError,kEnhanceStackBeforeInspector,codes:{ERR_INVALID_ARG_TYPE,ERR_OUT_OF_RANGE,ERR_UNHANDLED_ERROR}}=require("internal/errors"),{validateAbortSignal,validateBoolean,validateFunction}=require("internal/validators"),kCapture=Symbol("kCapture"),kErrorMonitor=Symbol("events.errorMonitor"),kMaxEventTargetListeners=Symbol("events.maxEventTargetListeners"),kMaxEventTargetListenersWarned=Symbol("events.maxEventTargetListenersWarned");function EventEmitter(e){EventEmitter.init.call(this,e)}module.exports=EventEmitter,module.exports.once=once,module.exports.on=on,module.exports.getEventListeners=getEventListeners,EventEmitter.EventEmitter=EventEmitter,EventEmitter.usingDomains=!1,EventEmitter.captureRejectionSymbol=kRejection,ObjectDefineProperty(EventEmitter,"captureRejections",{get(){return EventEmitter.prototype[kCapture]},set(e){validateBoolean(e,"EventEmitter.captureRejections"),EventEmitter.prototype[kCapture]=e},enumerable:!0}),EventEmitter.errorMonitor=kErrorMonitor,ObjectDefineProperty(EventEmitter.prototype,kCapture,{value:!1,writable:!0,enumerable:!1}),EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;let defaultMaxListeners=10,isEventTarget;function checkListener(e){validateFunction(e,"listener")}ObjectDefineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if(typeof e!="number"||e<0||NumberIsNaN(e))throw new ERR_OUT_OF_RANGE("defaultMaxListeners","a non-negative number",e);defaultMaxListeners=e}}),ObjectDefineProperties(EventEmitter,{kMaxEventTargetListeners:{value:kMaxEventTargetListeners,enumerable:!1,configurable:!1,writable:!1},kMaxEventTargetListenersWarned:{value:kMaxEventTargetListenersWarned,enumerable:!1,configurable:!1,writable:!1}}),EventEmitter.setMaxListeners=function(e=defaultMaxListeners,...t){if(typeof e!="number"||e<0||NumberIsNaN(e))throw new ERR_OUT_OF_RANGE("n","a non-negative number",e);if(t.length===0)defaultMaxListeners=e;else{isEventTarget===void 0&&(isEventTarget=require("internal/event_target").isEventTarget);for(let n=0;n<t.length;n++){const r=t[n];if(isEventTarget(r))r[kMaxEventTargetListeners]=e,r[kMaxEventTargetListenersWarned]=!1;else if(typeof r.setMaxListeners=="function")r.setMaxListeners(e);else throw new ERR_INVALID_ARG_TYPE("eventTargets",["EventEmitter","EventTarget"],r)}}},EventEmitter.init=function(e){(this._events===void 0||this._events===ObjectGetPrototypeOf(this)._events)&&(this._events=ObjectCreate(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0,e?.captureRejections?(validateBoolean(e.captureRejections,"options.captureRejections"),this[kCapture]=Boolean(e.captureRejections)):this[kCapture]=EventEmitter.prototype[kCapture]};function addCatch(e,t,n,r){if(!!e[kCapture])try{const i=t.then;typeof i=="function"&&i.call(t,void 0,function(o){process.nextTick(emitUnhandledRejectionOrErr,e,o,n,r)})}catch(i){e.emit("error",i)}}function emitUnhandledRejectionOrErr(e,t,n,r){if(typeof e[kRejection]=="function")e[kRejection](t,n,...r);else{const i=e[kCapture];try{e[kCapture]=!1,e.emit("error",t)}finally{e[kCapture]=i}}}EventEmitter.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||NumberIsNaN(t))throw new ERR_OUT_OF_RANGE("n","a non-negative number",t);return this._maxListeners=t,this};function _getMaxListeners(e){return e._maxListeners===void 0?EventEmitter.defaultMaxListeners:e._maxListeners}EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)};function identicalSequenceRange(e,t){for(let n=0;n<e.length-3;n++){const r=ArrayPrototypeIndexOf(t,e[n]);if(r!==-1){const i=t.length-r;if(i>3){let o=1;const s=MathMin(e.length-n,i);for(;s>o&&e[n+o]===t[r+o];)o++;if(o>3)return[o,n]}}}return[0,0]}function enhanceStackTrace(e,t){let n="";try{const{name:f}=this.constructor;f!=="EventEmitter"&&(n=` on ${f} instance`)}catch{}const r=`
Emitted 'error' event${n} at:
`,i=ArrayPrototypeSlice(StringPrototypeSplit(e.stack,`
`),1),o=ArrayPrototypeSlice(StringPrototypeSplit(t.stack,`
`),1),{0:s,1:u}=identicalSequenceRange(o,i);return s>0&&ArrayPrototypeSplice(o,u+1,s-2,"    [... lines matching original stack trace ...]"),e.stack+r+ArrayPrototypeJoin(o,`
`)}EventEmitter.prototype.emit=function(t,...n){let r=t==="error";const i=this._events;if(i!==void 0)r&&i[kErrorMonitor]!==void 0&&this.emit(kErrorMonitor,...n),r=r&&i.error===void 0;else if(!r)return!1;if(r){let s;if(n.length>0&&(s=n[0]),s instanceof Error){try{const l={};ErrorCaptureStackTrace(l,EventEmitter.prototype.emit),ObjectDefineProperty(s,kEnhanceStackBeforeInspector,{value:FunctionPrototypeBind(enhanceStackTrace,this,s,l),configurable:!0})}catch{}throw s}let u;try{u=inspect(s)}catch{u=s}const f=new ERR_UNHANDLED_ERROR(u);throw f.context=s,f}const o=i[t];if(o===void 0)return!1;if(typeof o=="function"){const s=o.apply(this,n);s!=null&&addCatch(this,s,t,n)}else{const s=o.length,u=arrayClone(o);for(let f=0;f<s;++f){const l=u[f].apply(this,n);l!=null&&addCatch(this,l,t,n)}}return!0};function _addListener(e,t,n,r){let i,o,s;if(checkListener(n),o=e._events,o===void 0?(o=e._events=ObjectCreate(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener??n),o=e._events),s=o[t]),s===void 0)o[t]=n,++e._eventsCount;else if(typeof s=="function"?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=_getMaxListeners(e),i>0&&s.length>i&&!s.warned){s.warned=!0;const u=new Error(`Possible EventEmitter memory leak detected. ${s.length} ${String(t)} listeners added to ${inspect(e,{depth:-1})}. Use emitter.setMaxListeners() to increase limit`);u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,process.emitWarning(u)}return e}EventEmitter.prototype.addListener=function(t,n){return _addListener(this,t,n,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(t,n){return _addListener(this,t,n,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,n){const r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=onceWrapper.bind(r);return i.listener=n,r.wrapFn=i,i}EventEmitter.prototype.once=function(t,n){return checkListener(n),this.on(t,_onceWrap(this,t,n)),this},EventEmitter.prototype.prependOnceListener=function(t,n){return checkListener(n),this.prependListener(t,_onceWrap(this,t,n)),this},EventEmitter.prototype.removeListener=function(t,n){checkListener(n);const r=this._events;if(r===void 0)return this;const i=r[t];if(i===void 0)return this;if(i===n||i.listener===n)--this._eventsCount==0?this._events=ObjectCreate(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,i.listener||n));else if(typeof i!="function"){let o=-1;for(let s=i.length-1;s>=0;s--)if(i[s]===n||i[s].listener===n){o=s;break}if(o<0)return this;o===0?i.shift():(spliceOne===void 0&&(spliceOne=require("internal/util").spliceOne),spliceOne(i,o)),i.length===1&&(r[t]=i[0]),r.removeListener!==void 0&&this.emit("removeListener",t,n)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(t){const n=this._events;if(n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=ObjectCreate(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount==0?this._events=ObjectCreate(null):delete n[t]),this;if(arguments.length===0){for(const i of ReflectOwnKeys(n))i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=ObjectCreate(null),this._eventsCount=0,this}const r=n[t];if(typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(let i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function _listeners(e,t,n){const r=e._events;if(r===void 0)return[];const i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?unwrapListeners(i):arrayClone(i)}EventEmitter.prototype.listeners=function(t){return _listeners(this,t,!0)},EventEmitter.prototype.rawListeners=function(t){return _listeners(this,t,!1)},EventEmitter.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):FunctionPrototypeCall(listenerCount,e,t)},EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(e){const t=this._events;if(t!==void 0){const n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(e){switch(e.length){case 2:return[e[0],e[1]];case 3:return[e[0],e[1],e[2]];case 4:return[e[0],e[1],e[2],e[3]];case 5:return[e[0],e[1],e[2],e[3],e[4]];case 6:return[e[0],e[1],e[2],e[3],e[4],e[5]]}return ArrayPrototypeSlice(e)}function unwrapListeners(e){const t=arrayClone(e);for(let n=0;n<t.length;++n){const r=t[n].listener;typeof r=="function"&&(t[n]=r)}return t}function getEventListeners(e,t){if(typeof e.listeners=="function")return e.listeners(t);const{isEventTarget:n,kEvents:r}=require("internal/event_target");if(n(e)){const i=e[r].get(t),o=[];let s=i?.next;for(;s?.listener!==void 0;){const u=s.listener?.deref?s.listener.deref():s.listener;o.push(u),s=s.next}return o}throw new ERR_INVALID_ARG_TYPE("emitter",["EventEmitter","EventTarget"],e)}async function once(e,t,n={}){const r=n?.signal;if(validateAbortSignal(r,"options.signal"),r?.aborted)throw new AbortError;return new Promise((i,o)=>{const s=l=>{e.removeListener(t,u),r!=null&&eventTargetAgnosticRemoveListener(r,"abort",f),o(l)},u=(...l)=>{typeof e.removeListener=="function"&&e.removeListener("error",s),r!=null&&eventTargetAgnosticRemoveListener(r,"abort",f),i(l)};eventTargetAgnosticAddListener(e,t,u,{once:!0}),t!=="error"&&typeof e.once=="function"&&e.once("error",s);function f(){eventTargetAgnosticRemoveListener(e,t,u),eventTargetAgnosticRemoveListener(e,"error",s),o(new AbortError)}r!=null&&eventTargetAgnosticAddListener(r,"abort",f,{once:!0})})}const AsyncIteratorPrototype=ObjectGetPrototypeOf(ObjectGetPrototypeOf(async function*(){}).prototype);function createIterResult(e,t){return{value:e,done:t}}function eventTargetAgnosticRemoveListener(e,t,n,r){if(typeof e.removeListener=="function")e.removeListener(t,n);else if(typeof e.removeEventListener=="function")e.removeEventListener(t,n,r);else throw new ERR_INVALID_ARG_TYPE("emitter","EventEmitter",e)}function eventTargetAgnosticAddListener(e,t,n,r){if(typeof e.on=="function")r?.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,i=>{n(i)},r);else throw new ERR_INVALID_ARG_TYPE("emitter","EventEmitter",e)}function on(e,t,n){const r=n?.signal;if(validateAbortSignal(r,"options.signal"),r?.aborted)throw new AbortError;const i=[],o=[];let s=null,u=!1;const f=ObjectSetPrototypeOf({next(){const c=i.shift();if(c)return PromiseResolve(createIterResult(c,!1));if(s){const a=PromiseReject(s);return s=null,a}return u?PromiseResolve(createIterResult(void 0,!0)):new Promise(function(a,h){o.push({resolve:a,reject:h})})},return(){eventTargetAgnosticRemoveListener(e,t,p),eventTargetAgnosticRemoveListener(e,"error",d),r&&eventTargetAgnosticRemoveListener(r,"abort",l,{once:!0}),u=!0;for(const c of o)c.resolve(createIterResult(void 0,!0));return PromiseResolve(createIterResult(void 0,!0))},throw(c){if(!c||!(c instanceof Error))throw new ERR_INVALID_ARG_TYPE("EventEmitter.AsyncIterator","Error",c);s=c,eventTargetAgnosticRemoveListener(e,t,p),eventTargetAgnosticRemoveListener(e,"error",d)},[SymbolAsyncIterator](){return this}},AsyncIteratorPrototype);return eventTargetAgnosticAddListener(e,t,p),t!=="error"&&typeof e.on=="function"&&e.on("error",d),r&&eventTargetAgnosticAddListener(r,"abort",l,{once:!0}),f;function l(){d(new AbortError)}function p(...c){const a=ArrayPrototypeShift(o);a?a.resolve(createIterResult(c,!1)):i.push(c)}function d(c){u=!0;const a=ArrayPrototypeShift(o);a?a.reject(c):s=c,f.return()}}
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypePush,BigIntPrototypeToString,MathMax,Number,ObjectCreate,ObjectDefineProperties,ObjectDefineProperty,Promise,ReflectApply,RegExpPrototypeExec,SafeMap,String,StringPrototypeCharCodeAt,StringPrototypeIndexOf,StringPrototypeSlice}=primordials,{fs:constants}=internalBinding("constants"),{S_IFIFO,S_IFLNK,S_IFMT,S_IFREG,S_IFSOCK,F_OK,R_OK,W_OK,X_OK,O_WRONLY,O_SYMLINK}=constants,pathModule=require("path"),{isArrayBufferView}=require("internal/util/types"),binding=internalBinding("fs"),{Buffer}=require("buffer"),{aggregateTwoErrors,codes:{ERR_FS_FILE_TOO_LARGE,ERR_INVALID_ARG_VALUE,ERR_FEATURE_UNAVAILABLE_ON_PLATFORM},AbortError,uvErrmapGet,uvException}=require("internal/errors"),{FSReqCallback}=binding,{toPathIfFileURL}=require("internal/url"),internalUtil=require("internal/util"),{constants:{kIoMaxLength,kMaxUserId},copyObject,Dirent,emitRecursiveRmdirWarning,getDirents,getOptions,getValidatedFd,getValidatedPath,getValidMode,handleErrorFromBinding,nullCheck,preprocessSymlinkDestination,Stats,getStatsFromBinding,realpathCacheKey,stringToFlags,stringToSymlinkType,toUnixTimestamp,validateBufferArray,validateCpOptions,validateOffsetLengthRead,validateOffsetLengthWrite,validatePath,validatePosition,validateRmOptions,validateRmOptionsSync,validateRmdirOptions,validateStringAfterArrayBufferView,warnOnNonPortableTemplate}=require("internal/fs/utils"),{Dir,opendir,opendirSync}=require("internal/fs/dir"),{CHAR_FORWARD_SLASH,CHAR_BACKWARD_SLASH}=require("internal/constants"),{isUint32,parseFileMode,validateBoolean,validateBuffer,validateCallback,validateEncoding,validateFunction,validateInteger,validateString}=require("internal/validators"),watchers=require("internal/fs/watchers"),ReadFileContext=require("internal/fs/read_file_context");let truncateWarn=!0,fs,cpFn,cpSyncFn,promises=null,ReadStream,WriteStream,rimraf,rimrafSync,FileReadStream,FileWriteStream;const isWindows=process.platform==="win32",isOSX=process.platform==="darwin";function showTruncateDeprecation(){truncateWarn&&(process.emitWarning("Using fs.truncate with a file descriptor is deprecated. Please use fs.ftruncate with a file descriptor instead.","DeprecationWarning","DEP0081"),truncateWarn=!1)}function maybeCallback(n){return validateCallback(n),n}function makeCallback(n){return validateCallback(n),(...e)=>ReflectApply(n,this,e)}function makeStatsCallback(n){return validateCallback(n),(e,t)=>{if(e)return n(e);n(e,getStatsFromBinding(t))}}const isFd=isUint32;function isFileType(n,e){let t=n[1];return typeof t=="bigint"&&(t=Number(t)),(t&S_IFMT)===e}function access(n,e,t){typeof e=="function"&&(t=e,e=F_OK),n=getValidatedPath(n),e=getValidMode(e,"access"),t=makeCallback(t);const r=new FSReqCallback;r.oncomplete=t,binding.access(pathModule.toNamespacedPath(n),e,r)}function accessSync(n,e){n=getValidatedPath(n),e=getValidMode(e,"access");const t={path:n};binding.access(pathModule.toNamespacedPath(n),e,void 0,t),handleErrorFromBinding(t)}function exists(n,e){maybeCallback(e);function t(r){e(!r)}try{fs.access(n,F_OK,t)}catch{return e(!1)}}ObjectDefineProperty(exists,internalUtil.promisify.custom,{value:n=>new Promise(e=>fs.exists(n,e))});function existsSync(n){try{n=getValidatedPath(n)}catch{return!1}const e={path:n},t=pathModule.toNamespacedPath(n);return binding.access(t,F_OK,void 0,e),isWindows&&e.errno===void 0&&binding.stat(t,!1,void 0,e),e.errno===void 0}function readFileAfterOpen(n,e){const t=this.context;if(n){t.callback(n);return}t.fd=e;const r=new FSReqCallback;r.oncomplete=readFileAfterStat,r.context=t,binding.fstat(e,!1,r)}function readFileAfterStat(n,e){const t=this.context;if(n)return t.close(n);const r=t.size=isFileType(e,S_IFREG)?e[8]:0;if(r>kIoMaxLength)return n=new ERR_FS_FILE_TOO_LARGE(r),t.close(n);try{r===0?t.buffers=[]:t.buffer=Buffer.allocUnsafeSlow(r)}catch(i){return t.close(i)}t.read()}function checkAborted(n,e){return n?.aborted?(e(new AbortError),!0):!1}function readFile(n,e,t){t=maybeCallback(t||e),e=getOptions(e,{flag:"r"});const r=new ReadFileContext(t,e.encoding);if(r.isUserFd=isFd(n),e.signal&&(r.signal=e.signal),r.isUserFd){process.nextTick(function(u){ReflectApply(readFileAfterOpen,{context:u},[null,n])},r);return}if(checkAborted(e.signal,t))return;const i=stringToFlags(e.flag,"options.flag");n=getValidatedPath(n);const c=new FSReqCallback;c.context=r,c.oncomplete=readFileAfterOpen,binding.open(pathModule.toNamespacedPath(n),i,438,c)}function tryStatSync(n,e){const t={},r=binding.fstat(n,!1,void 0,t);if(t.errno!==void 0&&!e)throw fs.closeSync(n),uvException(t);return r}function tryCreateBuffer(n,e,t){let r=!0,i;try{if(n>kIoMaxLength)throw new ERR_FS_FILE_TOO_LARGE(n);i=Buffer.allocUnsafe(n),r=!1}finally{r&&!t&&fs.closeSync(e)}return i}function tryReadSync(n,e,t,r,i){let c=!0,s;try{s=fs.readSync(n,t,r,i),c=!1}finally{c&&!e&&fs.closeSync(n)}return s}function readFileSync(n,e){e=getOptions(e,{flag:"r"});const t=isFd(n),r=t?n:fs.openSync(n,e.flag,438),i=tryStatSync(r,t),c=isFileType(i,S_IFREG)?i[8]:0;let s=0,u,o;c===0?o=[]:u=tryCreateBuffer(c,r,t);let f;if(c!==0)do f=tryReadSync(r,t,u,s,c-s),s+=f;while(f!==0&&s<c);else do u=Buffer.allocUnsafe(8192),f=tryReadSync(r,t,u,0,8192),f!==0&&ArrayPrototypePush(o,u.slice(0,f)),s+=f;while(f!==0);return t||fs.closeSync(r),c===0?u=Buffer.concat(o,s):s<c&&(u=u.slice(0,s)),e.encoding&&(u=u.toString(e.encoding)),u}function defaultCloseCallback(n){if(n!=null)throw n}function close(n,e=defaultCloseCallback){n=getValidatedFd(n),e!==defaultCloseCallback&&(e=makeCallback(e));const t=new FSReqCallback;t.oncomplete=e,binding.close(n,t)}function closeSync(n){n=getValidatedFd(n);const e={};binding.close(n,void 0,e),handleErrorFromBinding(e)}function open(n,e,t,r){n=getValidatedPath(n),arguments.length<3?(r=e,e="r",t=438):typeof t=="function"?(r=t,t=438):t=parseFileMode(t,"mode",438);const i=stringToFlags(e);r=makeCallback(r);const c=new FSReqCallback;c.oncomplete=r,binding.open(pathModule.toNamespacedPath(n),i,t,c)}function openSync(n,e,t){n=getValidatedPath(n);const r=stringToFlags(e);t=parseFileMode(t,"mode",438);const i={path:n},c=binding.open(pathModule.toNamespacedPath(n),r,t,void 0,i);return handleErrorFromBinding(i),c}function read(n,e,t,r,i,c){if(n=getValidatedFd(n),arguments.length<=3){let o={};arguments.length<3?c=e:(o=e,c=t),{buffer:e=Buffer.alloc(16384),offset:t=0,length:r=e.byteLength,position:i}=o}if(validateBuffer(e),c=maybeCallback(c),t==null?t=0:validateInteger(t,"offset",0),r|=0,r===0)return process.nextTick(function(){c(null,0,e)});if(e.byteLength===0)throw new ERR_INVALID_ARG_VALUE("buffer",e,"is empty and cannot be written");validateOffsetLengthRead(t,r,e.byteLength),i==null&&(i=-1),validatePosition(i,"position");function s(o,f){c(o,f||0,e)}const u=new FSReqCallback;u.oncomplete=s,binding.read(n,e,t,r,i,u)}ObjectDefineProperty(read,internalUtil.customPromisifyArgs,{value:["bytesRead","buffer"],enumerable:!1});function readSync(n,e,t,r,i){if(n=getValidatedFd(n),validateBuffer(e),arguments.length<=3&&({offset:t=0,length:r=e.byteLength,position:i}=t||{}),t==null?t=0:validateInteger(t,"offset",0),r|=0,r===0)return 0;if(e.byteLength===0)throw new ERR_INVALID_ARG_VALUE("buffer",e,"is empty and cannot be written");validateOffsetLengthRead(t,r,e.byteLength),i==null&&(i=-1),validatePosition(i,"position");const c={},s=binding.read(n,e,t,r,i,void 0,c);return handleErrorFromBinding(c),s}function readv(n,e,t,r){function i(s,u){r(s,u||0,e)}n=getValidatedFd(n),validateBufferArray(e),r=maybeCallback(r||t);const c=new FSReqCallback;return c.oncomplete=i,typeof t!="number"&&(t=null),binding.readBuffers(n,e,t,c)}ObjectDefineProperty(readv,internalUtil.customPromisifyArgs,{value:["bytesRead","buffers"],enumerable:!1});function readvSync(n,e,t){n=getValidatedFd(n),validateBufferArray(e);const r={};typeof t!="number"&&(t=null);const i=binding.readBuffers(n,e,t,void 0,r);return handleErrorFromBinding(r),i}function write(n,e,t,r,i,c){function s(f,m){c(f,m||0,e)}if(n=getValidatedFd(n),isArrayBufferView(e)){c=maybeCallback(c||i||r||t),t==null||typeof t=="function"?t=0:validateInteger(t,"offset",0),typeof r!="number"&&(r=e.byteLength-t),typeof i!="number"&&(i=null),validateOffsetLengthWrite(t,r,e.byteLength);const f=new FSReqCallback;return f.oncomplete=s,binding.writeBuffer(n,e,t,r,i,f)}validateStringAfterArrayBufferView(e,"buffer"),typeof i!="function"&&(typeof t=="function"?(i=t,t=null):i=r,r="utf8");const u=String(e);validateEncoding(u,r),c=maybeCallback(i);const o=new FSReqCallback;return o.oncomplete=s,binding.writeString(n,u,t,r,o)}ObjectDefineProperty(write,internalUtil.customPromisifyArgs,{value:["bytesWritten","buffer"],enumerable:!1});function writeSync(n,e,t,r,i){n=getValidatedFd(n);const c={};let s;return isArrayBufferView(e)?(i===void 0&&(i=null),t==null?t=0:validateInteger(t,"offset",0),typeof r!="number"&&(r=e.byteLength-t),validateOffsetLengthWrite(t,r,e.byteLength),s=binding.writeBuffer(n,e,t,r,i,void 0,c)):(validateStringAfterArrayBufferView(e,"buffer"),validateEncoding(e,r),t===void 0&&(t=null),s=binding.writeString(n,e,t,r,void 0,c)),handleErrorFromBinding(c),s}function writev(n,e,t,r){function i(s,u){r(s,u||0,e)}n=getValidatedFd(n),validateBufferArray(e),r=maybeCallback(r||t);const c=new FSReqCallback;return c.oncomplete=i,typeof t!="number"&&(t=null),binding.writeBuffers(n,e,t,c)}ObjectDefineProperty(writev,internalUtil.customPromisifyArgs,{value:["bytesWritten","buffer"],enumerable:!1});function writevSync(n,e,t){n=getValidatedFd(n),validateBufferArray(e);const r={};typeof t!="number"&&(t=null);const i=binding.writeBuffers(n,e,t,void 0,r);return handleErrorFromBinding(r),i}function rename(n,e,t){t=makeCallback(t),n=getValidatedPath(n,"oldPath"),e=getValidatedPath(e,"newPath");const r=new FSReqCallback;r.oncomplete=t,binding.rename(pathModule.toNamespacedPath(n),pathModule.toNamespacedPath(e),r)}function renameSync(n,e){n=getValidatedPath(n,"oldPath"),e=getValidatedPath(e,"newPath");const t={path:n,dest:e};binding.rename(pathModule.toNamespacedPath(n),pathModule.toNamespacedPath(e),void 0,t),handleErrorFromBinding(t)}function truncate(n,e,t){if(typeof n=="number")return showTruncateDeprecation(),fs.ftruncate(n,e,t);typeof e=="function"?(t=e,e=0):e===void 0&&(e=0),validateInteger(e,"len"),e=MathMax(0,e),t=maybeCallback(t),fs.open(n,"r+",(r,i)=>{if(r)return t(r);const c=new FSReqCallback;c.oncomplete=function(u){fs.close(i,o=>{t(aggregateTwoErrors(o,u))})},binding.ftruncate(i,e,c)})}function truncateSync(n,e){if(typeof n=="number")return showTruncateDeprecation(),fs.ftruncateSync(n,e);e===void 0&&(e=0);const t=fs.openSync(n,"r+");let r;try{r=fs.ftruncateSync(t,e)}finally{fs.closeSync(t)}return r}function ftruncate(n,e=0,t){typeof e=="function"&&(t=e,e=0),n=getValidatedFd(n),validateInteger(e,"len"),e=MathMax(0,e),t=makeCallback(t);const r=new FSReqCallback;r.oncomplete=t,binding.ftruncate(n,e,r)}function ftruncateSync(n,e=0){n=getValidatedFd(n),validateInteger(e,"len"),e=MathMax(0,e);const t={};binding.ftruncate(n,e,void 0,t),handleErrorFromBinding(t)}function lazyLoadCp(){cpFn===void 0&&({cpFn}=require("internal/fs/cp/cp"),cpFn=require("util").callbackify(cpFn),{cpSyncFn}=require("internal/fs/cp/cp-sync"))}function lazyLoadRimraf(){rimraf===void 0&&({rimraf,rimrafSync}=require("internal/fs/rimraf"))}function rmdir(n,e,t){if(typeof e=="function"&&(t=e,e=void 0),t=makeCallback(t),n=pathModule.toNamespacedPath(getValidatedPath(n)),e?.recursive)emitRecursiveRmdirWarning(),validateRmOptions(n,{...e,force:!1},!0,(r,i)=>{if(r===!1){const c=new FSReqCallback;return c.oncomplete=t,binding.rmdir(n,c)}if(r)return t(r);lazyLoadRimraf(),rimraf(n,i,t)});else{validateRmdirOptions(e);const r=new FSReqCallback;return r.oncomplete=t,binding.rmdir(n,r)}}function rmdirSync(n,e){if(n=getValidatedPath(n),e?.recursive){if(emitRecursiveRmdirWarning(),e=validateRmOptionsSync(n,{...e,force:!1},!0),e!==!1)return lazyLoadRimraf(),rimrafSync(pathModule.toNamespacedPath(n),e)}else validateRmdirOptions(e);const t={path:n};return binding.rmdir(pathModule.toNamespacedPath(n),void 0,t),handleErrorFromBinding(t)}function rm(n,e,t){typeof e=="function"&&(t=e,e=void 0),validateRmOptions(n,e,!1,(r,i)=>r?t(r):(lazyLoadRimraf(),rimraf(pathModule.toNamespacedPath(n),i,t)))}function rmSync(n,e){return e=validateRmOptionsSync(n,e,!1),lazyLoadRimraf(),rimrafSync(pathModule.toNamespacedPath(n),e)}function fdatasync(n,e){n=getValidatedFd(n);const t=new FSReqCallback;t.oncomplete=makeCallback(e),binding.fdatasync(n,t)}function fdatasyncSync(n){n=getValidatedFd(n);const e={};binding.fdatasync(n,void 0,e),handleErrorFromBinding(e)}function fsync(n,e){n=getValidatedFd(n);const t=new FSReqCallback;t.oncomplete=makeCallback(e),binding.fsync(n,t)}function fsyncSync(n){n=getValidatedFd(n);const e={};binding.fsync(n,void 0,e),handleErrorFromBinding(e)}function mkdir(n,e,t){let r=511,i=!1;typeof e=="function"?t=e:typeof e=="number"||typeof e=="string"?r=e:e&&(e.recursive!==void 0&&(i=e.recursive),e.mode!==void 0&&(r=e.mode)),t=makeCallback(t),n=getValidatedPath(n),validateBoolean(i,"options.recursive");const c=new FSReqCallback;c.oncomplete=t,binding.mkdir(pathModule.toNamespacedPath(n),parseFileMode(r,"mode"),i,c)}function mkdirSync(n,e){let t=511,r=!1;typeof e=="number"||typeof e=="string"?t=e:e&&(e.recursive!==void 0&&(r=e.recursive),e.mode!==void 0&&(t=e.mode)),n=getValidatedPath(n),validateBoolean(r,"options.recursive");const i={path:n},c=binding.mkdir(pathModule.toNamespacedPath(n),parseFileMode(t,"mode"),r,void 0,i);if(handleErrorFromBinding(i),r)return c}function readdir(n,e,t){t=makeCallback(typeof e=="function"?e:t),e=getOptions(e,{}),n=getValidatedPath(n);const r=new FSReqCallback;e.withFileTypes?r.oncomplete=(i,c)=>{if(i){t(i);return}getDirents(n,c,t)}:r.oncomplete=t,binding.readdir(pathModule.toNamespacedPath(n),e.encoding,!!e.withFileTypes,r)}function readdirSync(n,e){e=getOptions(e,{}),n=getValidatedPath(n);const t={path:n},r=binding.readdir(pathModule.toNamespacedPath(n),e.encoding,!!e.withFileTypes,void 0,t);return handleErrorFromBinding(t),e.withFileTypes?getDirents(n,r):r}function fstat(n,e={bigint:!1},t){typeof e=="function"&&(t=e,e={}),n=getValidatedFd(n),t=makeStatsCallback(t);const r=new FSReqCallback(e.bigint);r.oncomplete=t,binding.fstat(n,e.bigint,r)}function lstat(n,e={bigint:!1},t){typeof e=="function"&&(t=e,e={}),t=makeStatsCallback(t),n=getValidatedPath(n);const r=new FSReqCallback(e.bigint);r.oncomplete=t,binding.lstat(pathModule.toNamespacedPath(n),e.bigint,r)}function stat(n,e={bigint:!1},t){typeof e=="function"&&(t=e,e={}),t=makeStatsCallback(t),n=getValidatedPath(n);const r=new FSReqCallback(e.bigint);r.oncomplete=t,binding.stat(pathModule.toNamespacedPath(n),e.bigint,r)}function hasNoEntryError(n){return n.errno?uvErrmapGet(n.errno)?.[0]==="ENOENT":n.error?n.error.code==="ENOENT":!1}function fstatSync(n,e={bigint:!1,throwIfNoEntry:!0}){n=getValidatedFd(n);const t={fd:n},r=binding.fstat(n,e.bigint,void 0,t);return handleErrorFromBinding(t),getStatsFromBinding(r)}function lstatSync(n,e={bigint:!1,throwIfNoEntry:!0}){n=getValidatedPath(n);const t={path:n},r=binding.lstat(pathModule.toNamespacedPath(n),e.bigint,void 0,t);if(!(e.throwIfNoEntry===!1&&hasNoEntryError(t)))return handleErrorFromBinding(t),getStatsFromBinding(r)}function statSync(n,e={bigint:!1,throwIfNoEntry:!0}){n=getValidatedPath(n);const t={path:n},r=binding.stat(pathModule.toNamespacedPath(n),e.bigint,void 0,t);if(!(e.throwIfNoEntry===!1&&hasNoEntryError(t)))return handleErrorFromBinding(t),getStatsFromBinding(r)}function readlink(n,e,t){t=makeCallback(typeof e=="function"?e:t),e=getOptions(e,{}),n=getValidatedPath(n,"oldPath");const r=new FSReqCallback;r.oncomplete=t,binding.readlink(pathModule.toNamespacedPath(n),e.encoding,r)}function readlinkSync(n,e){e=getOptions(e,{}),n=getValidatedPath(n,"oldPath");const t={path:n},r=binding.readlink(pathModule.toNamespacedPath(n),e.encoding,void 0,t);return handleErrorFromBinding(t),r}function symlink(n,e,t,r){const i=typeof t=="string"?t:null,c=makeCallback(arguments[arguments.length-1]);if(n=getValidatedPath(n,"target"),e=getValidatedPath(e),isWindows&&i===null){let f;try{f=pathModule.resolve(e,"..",n)}catch{}if(f!==void 0){stat(f,(m,a)=>{const g=!m&&a.isDirectory()?"dir":"file",l=stringToSymlinkType(g),d=preprocessSymlinkDestination(n,g,e),y=new FSReqCallback;y.oncomplete=c,binding.symlink(d,pathModule.toNamespacedPath(e),l,y)});return}}const s=preprocessSymlinkDestination(n,i,e),u=stringToSymlinkType(i),o=new FSReqCallback;o.oncomplete=c,binding.symlink(s,pathModule.toNamespacedPath(e),u,o)}function symlinkSync(n,e,t){if(t=typeof t=="string"?t:null,isWindows&&t===null){const c=pathModule.resolve(`${e}`,"..",`${n}`);statSync(c,{throwIfNoEntry:!1})?.isDirectory()&&(t="dir")}n=getValidatedPath(n,"target"),e=getValidatedPath(e);const r=stringToSymlinkType(t),i={path:n,dest:e};binding.symlink(preprocessSymlinkDestination(n,t,e),pathModule.toNamespacedPath(e),r,void 0,i),handleErrorFromBinding(i)}function link(n,e,t){t=makeCallback(t),n=getValidatedPath(n,"existingPath"),e=getValidatedPath(e,"newPath");const r=new FSReqCallback;r.oncomplete=t,binding.link(pathModule.toNamespacedPath(n),pathModule.toNamespacedPath(e),r)}function linkSync(n,e){n=getValidatedPath(n,"existingPath"),e=getValidatedPath(e,"newPath");const t={path:n,dest:e},r=binding.link(pathModule.toNamespacedPath(n),pathModule.toNamespacedPath(e),void 0,t);return handleErrorFromBinding(t),r}function unlink(n,e){e=makeCallback(e),n=getValidatedPath(n);const t=new FSReqCallback;t.oncomplete=e,binding.unlink(pathModule.toNamespacedPath(n),t)}function unlinkSync(n){n=getValidatedPath(n);const e={path:n};binding.unlink(pathModule.toNamespacedPath(n),void 0,e),handleErrorFromBinding(e)}function fchmod(n,e,t){n=getValidatedFd(n),e=parseFileMode(e,"mode"),t=makeCallback(t);const r=new FSReqCallback;r.oncomplete=t,binding.fchmod(n,e,r)}function fchmodSync(n,e){n=getValidatedFd(n),e=parseFileMode(e,"mode");const t={};binding.fchmod(n,e,void 0,t),handleErrorFromBinding(t)}function lchmod(n,e,t){t=maybeCallback(t),e=parseFileMode(e,"mode"),fs.open(n,O_WRONLY|O_SYMLINK,(r,i)=>{if(r){t(r);return}fs.fchmod(i,e,c=>{fs.close(i,s=>{t(aggregateTwoErrors(s,c))})})})}function lchmodSync(n,e){const t=fs.openSync(n,O_WRONLY|O_SYMLINK);let r;try{r=fs.fchmodSync(t,e)}finally{fs.closeSync(t)}return r}function chmod(n,e,t){n=getValidatedPath(n),e=parseFileMode(e,"mode"),t=makeCallback(t);const r=new FSReqCallback;r.oncomplete=t,binding.chmod(pathModule.toNamespacedPath(n),e,r)}function chmodSync(n,e){n=getValidatedPath(n),e=parseFileMode(e,"mode");const t={path:n};binding.chmod(pathModule.toNamespacedPath(n),e,void 0,t),handleErrorFromBinding(t)}function lchown(n,e,t,r){r=makeCallback(r),n=getValidatedPath(n),validateInteger(e,"uid",-1,kMaxUserId),validateInteger(t,"gid",-1,kMaxUserId);const i=new FSReqCallback;i.oncomplete=r,binding.lchown(pathModule.toNamespacedPath(n),e,t,i)}function lchownSync(n,e,t){n=getValidatedPath(n),validateInteger(e,"uid",-1,kMaxUserId),validateInteger(t,"gid",-1,kMaxUserId);const r={path:n};binding.lchown(pathModule.toNamespacedPath(n),e,t,void 0,r),handleErrorFromBinding(r)}function fchown(n,e,t,r){n=getValidatedFd(n),validateInteger(e,"uid",-1,kMaxUserId),validateInteger(t,"gid",-1,kMaxUserId),r=makeCallback(r);const i=new FSReqCallback;i.oncomplete=r,binding.fchown(n,e,t,i)}function fchownSync(n,e,t){n=getValidatedFd(n),validateInteger(e,"uid",-1,kMaxUserId),validateInteger(t,"gid",-1,kMaxUserId);const r={};binding.fchown(n,e,t,void 0,r),handleErrorFromBinding(r)}function chown(n,e,t,r){r=makeCallback(r),n=getValidatedPath(n),validateInteger(e,"uid",-1,kMaxUserId),validateInteger(t,"gid",-1,kMaxUserId);const i=new FSReqCallback;i.oncomplete=r,binding.chown(pathModule.toNamespacedPath(n),e,t,i)}function chownSync(n,e,t){n=getValidatedPath(n),validateInteger(e,"uid",-1,kMaxUserId),validateInteger(t,"gid",-1,kMaxUserId);const r={path:n};binding.chown(pathModule.toNamespacedPath(n),e,t,void 0,r),handleErrorFromBinding(r)}function utimes(n,e,t,r){r=makeCallback(r),n=getValidatedPath(n);const i=new FSReqCallback;i.oncomplete=r,binding.utimes(pathModule.toNamespacedPath(n),toUnixTimestamp(e),toUnixTimestamp(t),i)}function utimesSync(n,e,t){n=getValidatedPath(n);const r={path:n};binding.utimes(pathModule.toNamespacedPath(n),toUnixTimestamp(e),toUnixTimestamp(t),void 0,r),handleErrorFromBinding(r)}function futimes(n,e,t,r){n=getValidatedFd(n),e=toUnixTimestamp(e,"atime"),t=toUnixTimestamp(t,"mtime"),r=makeCallback(r);const i=new FSReqCallback;i.oncomplete=r,binding.futimes(n,e,t,i)}function futimesSync(n,e,t){n=getValidatedFd(n),e=toUnixTimestamp(e,"atime"),t=toUnixTimestamp(t,"mtime");const r={};binding.futimes(n,e,t,void 0,r),handleErrorFromBinding(r)}function lutimes(n,e,t,r){r=makeCallback(r),n=getValidatedPath(n);const i=new FSReqCallback;i.oncomplete=r,binding.lutimes(pathModule.toNamespacedPath(n),toUnixTimestamp(e),toUnixTimestamp(t),i)}function lutimesSync(n,e,t){n=getValidatedPath(n);const r={path:n};binding.lutimes(pathModule.toNamespacedPath(n),toUnixTimestamp(e),toUnixTimestamp(t),void 0,r),handleErrorFromBinding(r)}function writeAll(n,e,t,r,i,c,s){if(c?.aborted){const u=new AbortError;e?s(u):fs.close(n,o=>{s(aggregateTwoErrors(o,u))});return}fs.write(n,t,r,i,null,(u,o)=>{u?e?s(u):fs.close(n,f=>{s(aggregateTwoErrors(f,u))}):o===i?e?s(null):fs.close(n,s):(r+=o,i-=o,writeAll(n,e,t,r,i,c,s))})}function writeFile(n,e,t,r){r=maybeCallback(r||t),t=getOptions(t,{encoding:"utf8",mode:438,flag:"w"});const i=t.flag||"w";if(isArrayBufferView(e)||(validateStringAfterArrayBufferView(e,"data"),e=Buffer.from(String(e),t.encoding||"utf8")),isFd(n)){const c=!0,s=t.signal;writeAll(n,c,e,0,e.byteLength,s,r);return}checkAborted(t.signal,r)||fs.open(n,i,t.mode,(c,s)=>{if(c)r(c);else{const u=!1,o=t.signal;writeAll(s,u,e,0,e.byteLength,o,r)}})}function writeFileSync(n,e,t){t=getOptions(t,{encoding:"utf8",mode:438,flag:"w"}),isArrayBufferView(e)||(validateStringAfterArrayBufferView(e,"data"),e=Buffer.from(String(e),t.encoding||"utf8"));const r=t.flag||"w",i=isFd(n),c=i?n:fs.openSync(n,r,t.mode);let s=0,u=e.byteLength;try{for(;u>0;){const o=fs.writeSync(c,e,s,u);s+=o,u-=o}}finally{i||fs.closeSync(c)}}function appendFile(n,e,t,r){r=maybeCallback(r||t),t=getOptions(t,{encoding:"utf8",mode:438,flag:"a"}),t=copyObject(t),(!t.flag||isFd(n))&&(t.flag="a"),fs.writeFile(n,e,t,r)}function appendFileSync(n,e,t){t=getOptions(t,{encoding:"utf8",mode:438,flag:"a"}),t=copyObject(t),(!t.flag||isFd(n))&&(t.flag="a"),fs.writeFileSync(n,e,t)}function watch(n,e,t){if(typeof e=="function"&&(t=e),e=getOptions(e,{}),e=copyObject(e),e.persistent===void 0&&(e.persistent=!0),e.recursive===void 0&&(e.recursive=!1),e.recursive&&!(isOSX||isWindows))throw new ERR_FEATURE_UNAVAILABLE_ON_PLATFORM("watch recursively");const r=new watchers.FSWatcher;if(r[watchers.kFSWatchStart](n,e.persistent,e.recursive,e.encoding),t&&r.addListener("change",t),e.signal)if(e.signal.aborted)process.nextTick(()=>r.close());else{const i=()=>r.close();e.signal.addEventListener("abort",i),r.once("close",()=>{e.signal.removeEventListener("abort",i)})}return r}const statWatchers=new SafeMap;function watchFile(n,e,t){n=getValidatedPath(n),n=pathModule.resolve(n);let r;return(e===null||typeof e!="object")&&(t=e,e=null),e={interval:5007,persistent:!0,...e},validateFunction(t,"listener"),r=statWatchers.get(n),r===void 0?(r=new watchers.StatWatcher(e.bigint),r[watchers.kFSStatWatcherStart](n,e.persistent,e.interval),statWatchers.set(n,r)):r[watchers.kFSStatWatcherAddOrCleanRef]("add"),r.addListener("change",t),r}function unwatchFile(n,e){n=getValidatedPath(n),n=pathModule.resolve(n);const t=statWatchers.get(n);if(t!==void 0){if(typeof e=="function"){const r=t.listenerCount("change");t.removeListener("change",e),t.listenerCount("change")<r&&t[watchers.kFSStatWatcherAddOrCleanRef]("clean")}else t.removeAllListeners("change"),t[watchers.kFSStatWatcherAddOrCleanRef]("cleanAll");t.listenerCount("change")===0&&(t.stop(),statWatchers.delete(n))}}let splitRoot;if(isWindows){const n=/^(?:[a-zA-Z]:|[\\/]{2}[^\\/]+[\\/][^\\/]+)?[\\/]*/;splitRoot=function(t){return RegExpPrototypeExec(n,t)[0]}}else splitRoot=function(e){for(let t=0;t<e.length;++t)if(StringPrototypeCharCodeAt(e,t)!==CHAR_FORWARD_SLASH)return StringPrototypeSlice(e,0,t);return e};function encodeRealpathResult(n,e){if(!e||!e.encoding||e.encoding==="utf8")return n;const t=Buffer.from(n);return e.encoding==="buffer"?t:t.toString(e.encoding)}let nextPart;isWindows?nextPart=function(e,t){for(;t<e.length;++t){const r=StringPrototypeCharCodeAt(e,t);if(r===CHAR_BACKWARD_SLASH||r===CHAR_FORWARD_SLASH)return t}return-1}:nextPart=function(e,t){return StringPrototypeIndexOf(e,"/",t)};const emptyObj=ObjectCreate(null);function realpathSync(n,e){e=getOptions(e,emptyObj),n=toPathIfFileURL(n),typeof n!="string"&&(n+=""),validatePath(n),n=pathModule.resolve(n);const t=e[realpathCacheKey],r=t?.get(n);if(r)return r;const i=ObjectCreate(null),c=ObjectCreate(null),s=n;let u,o,f,m;if(o=f=splitRoot(n),u=o.length,isWindows){const a={path:f};binding.lstat(pathModule.toNamespacedPath(f),!1,void 0,a),handleErrorFromBinding(a),c[f]=!0}for(;u<n.length;){const a=nextPart(n,u);if(m=o,a===-1){const d=StringPrototypeSlice(n,u);o+=d,f=m+d,u=n.length}else o+=StringPrototypeSlice(n,u,a+1),f=m+StringPrototypeSlice(n,u,a),u=a+1;if(c[f]||t?.get(f)===f){if(isFileType(binding.statValues,S_IFIFO)||isFileType(binding.statValues,S_IFSOCK))break;continue}let g;const l=t?.get(f);if(l)g=l;else{const d=pathModule.toNamespacedPath(f),y={path:f},w=binding.lstat(d,!0,void 0,y);if(handleErrorFromBinding(y),!isFileType(w,S_IFLNK)){c[f]=!0,t?.set(f,f);continue}let S=null,v;if(!isWindows){const N=BigIntPrototypeToString(w[0],32),P=BigIntPrototypeToString(w[7],32);v=`${N}:${P}`,i[v]&&(S=i[v])}if(S===null){const N={path:f};binding.stat(d,!1,void 0,N),handleErrorFromBinding(N),S=binding.readlink(d,void 0,void 0,N),handleErrorFromBinding(N)}g=pathModule.resolve(m,S),t&&t.set(f,g),isWindows||(i[v]=S)}if(n=pathModule.resolve(g,StringPrototypeSlice(n,u)),o=f=splitRoot(n),u=o.length,isWindows&&!c[f]){const d={path:f};binding.lstat(pathModule.toNamespacedPath(f),!1,void 0,d),handleErrorFromBinding(d),c[f]=!0}}return t?.set(s,n),encodeRealpathResult(n,e)}realpathSync.native=(n,e)=>{e=getOptions(e,{}),n=getValidatedPath(n);const t={path:n},r=binding.realpath(n,e.encoding,void 0,t);return handleErrorFromBinding(t),r};function realpath(n,e,t){t=typeof e=="function"?e:maybeCallback(t),e=getOptions(e,{}),n=toPathIfFileURL(n),typeof n!="string"&&(n+=""),validatePath(n),n=pathModule.resolve(n);const r=ObjectCreate(null),i=ObjectCreate(null);let c,s,u,o;s=u=splitRoot(n),c=s.length,isWindows&&!i[u]?fs.lstat(u,(l,d)=>{if(l)return t(l);i[u]=!0,f()}):process.nextTick(f);function f(){if(c>=n.length)return t(null,encodeRealpathResult(n,e));const l=nextPart(n,c);if(o=s,l===-1){const d=StringPrototypeSlice(n,c);s+=d,u=o+d,c=n.length}else s+=StringPrototypeSlice(n,c,l+1),u=o+StringPrototypeSlice(n,c,l),c=l+1;return i[u]?isFileType(binding.statValues,S_IFIFO)||isFileType(binding.statValues,S_IFSOCK)?t(null,encodeRealpathResult(n,e)):process.nextTick(f):fs.lstat(u,{bigint:!0},m)}function m(l,d){if(l)return t(l);if(!d.isSymbolicLink())return i[u]=!0,process.nextTick(f);let y;if(!isWindows){const w=BigIntPrototypeToString(d.dev,32),S=BigIntPrototypeToString(d.ino,32);if(y=`${w}:${S}`,r[y])return a(null,r[y])}fs.stat(u,w=>{if(w)return t(w);fs.readlink(u,(S,v)=>{isWindows||(r[y]=v),a(S,v)})})}function a(l,d){if(l)return t(l);g(pathModule.resolve(o,d))}function g(l){n=pathModule.resolve(l,StringPrototypeSlice(n,c)),s=u=splitRoot(n),c=s.length,isWindows&&!i[u]?fs.lstat(u,d=>{if(d)return t(d);i[u]=!0,f()}):process.nextTick(f)}}realpath.native=(n,e,t)=>{t=makeCallback(t||e),e=getOptions(e,{}),n=getValidatedPath(n);const r=new FSReqCallback;return r.oncomplete=t,binding.realpath(n,e.encoding,r)};function mkdtemp(n,e,t){t=makeCallback(typeof e=="function"?e:t),e=getOptions(e,{}),validateString(n,"prefix"),nullCheck(n,"prefix"),warnOnNonPortableTemplate(n);const r=new FSReqCallback;r.oncomplete=t,binding.mkdtemp(`${n}XXXXXX`,e.encoding,r)}function mkdtempSync(n,e){e=getOptions(e,{}),validateString(n,"prefix"),nullCheck(n,"prefix"),warnOnNonPortableTemplate(n);const t=`${n}XXXXXX`,r={path:t},i=binding.mkdtemp(t,e.encoding,void 0,r);return handleErrorFromBinding(r),i}function copyFile(n,e,t,r){typeof t=="function"&&(r=t,t=0),n=getValidatedPath(n,"src"),e=getValidatedPath(e,"dest"),n=pathModule._makeLong(n),e=pathModule._makeLong(e),t=getValidMode(t,"copyFile"),r=makeCallback(r);const i=new FSReqCallback;i.oncomplete=r,binding.copyFile(n,e,t,i)}function copyFileSync(n,e,t){n=getValidatedPath(n,"src"),e=getValidatedPath(e,"dest");const r={path:n,dest:e};n=pathModule._makeLong(n),e=pathModule._makeLong(e),t=getValidMode(t,"copyFile"),binding.copyFile(n,e,t,void 0,r),handleErrorFromBinding(r)}function cp(n,e,t,r){typeof t=="function"&&(r=t,t=void 0),r=makeCallback(r),t=validateCpOptions(t),n=pathModule.toNamespacedPath(getValidatedPath(n,"src")),e=pathModule.toNamespacedPath(getValidatedPath(e,"dest")),lazyLoadCp(),cpFn(n,e,t,r)}function cpSync(n,e,t){t=validateCpOptions(t),n=pathModule.toNamespacedPath(getValidatedPath(n,"src")),e=pathModule.toNamespacedPath(getValidatedPath(e,"dest")),lazyLoadCp(),cpSyncFn(n,e,t)}function lazyLoadStreams(){ReadStream||({ReadStream,WriteStream}=require("internal/fs/streams"),FileReadStream=ReadStream,FileWriteStream=WriteStream)}function createReadStream(n,e){return lazyLoadStreams(),new ReadStream(n,e)}function createWriteStream(n,e){return lazyLoadStreams(),new WriteStream(n,e)}module.exports=fs={appendFile,appendFileSync,access,accessSync,chown,chownSync,chmod,chmodSync,close,closeSync,copyFile,copyFileSync,cp,cpSync,createReadStream,createWriteStream,exists,existsSync,fchown,fchownSync,fchmod,fchmodSync,fdatasync,fdatasyncSync,fstat,fstatSync,fsync,fsyncSync,ftruncate,ftruncateSync,futimes,futimesSync,lchown,lchownSync,lchmod:constants.O_SYMLINK!==void 0?lchmod:void 0,lchmodSync:constants.O_SYMLINK!==void 0?lchmodSync:void 0,link,linkSync,lstat,lstatSync,lutimes,lutimesSync,mkdir,mkdirSync,mkdtemp,mkdtempSync,open,openSync,opendir,opendirSync,readdir,readdirSync,read,readSync,readv,readvSync,readFile,readFileSync,readlink,readlinkSync,realpath,realpathSync,rename,renameSync,rm,rmSync,rmdir,rmdirSync,stat,statSync,symlink,symlinkSync,truncate,truncateSync,unwatchFile,unlink,unlinkSync,utimes,utimesSync,watch,watchFile,writeFile,writeFileSync,write,writeSync,writev,writevSync,Dir,Dirent,Stats,get ReadStream(){return lazyLoadStreams(),ReadStream},set ReadStream(n){ReadStream=n},get WriteStream(){return lazyLoadStreams(),WriteStream},set WriteStream(n){WriteStream=n},get FileReadStream(){return lazyLoadStreams(),FileReadStream},set FileReadStream(n){FileReadStream=n},get FileWriteStream(){return lazyLoadStreams(),FileWriteStream},set FileWriteStream(n){FileWriteStream=n},_toUnixTimestamp:toUnixTimestamp},ObjectDefineProperties(fs,{F_OK:{enumerable:!0,value:F_OK||0},R_OK:{enumerable:!0,value:R_OK||0},W_OK:{enumerable:!0,value:W_OK||0},X_OK:{enumerable:!0,value:X_OK||0},constants:{configurable:!1,enumerable:!0,value:constants},promises:{configurable:!0,enumerable:!0,get(){return promises===null&&(promises=require("internal/fs/promises").exports),promises}}});
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeSlice,ArrayPrototypeSort,ObjectDefineProperty}=primordials,httpAgent=require("_http_agent"),{ClientRequest}=require("_http_client"),{methods}=require("_http_common"),{IncomingMessage}=require("_http_incoming"),{validateHeaderName,validateHeaderValue,OutgoingMessage}=require("_http_outgoing"),{_connectionListener,STATUS_CODES,Server,ServerResponse}=require("_http_server");let maxHeaderSize;function createServer(e,t){return new Server(e,t)}function request(e,t,r){return new ClientRequest(e,t,r)}function get(e,t,r){const n=request(e,t,r);return n.end(),n}module.exports={_connectionListener,METHODS:ArrayPrototypeSort(ArrayPrototypeSlice(methods)),STATUS_CODES,Agent:httpAgent.Agent,ClientRequest,IncomingMessage,OutgoingMessage,Server,ServerResponse,createServer,validateHeaderName,validateHeaderValue,get,request},ObjectDefineProperty(module.exports,"maxHeaderSize",{configurable:!0,enumerable:!0,get(){if(maxHeaderSize===void 0){const{getOptionValue:e}=require("internal/options");maxHeaderSize=e("--max-http-header-size")}return maxHeaderSize}}),ObjectDefineProperty(module.exports,"globalAgent",{configurable:!0,enumerable:!0,get(){return httpAgent.globalAgent},set(e){httpAgent.globalAgent=e}});
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{connect,constants,createServer,createSecureServer,getDefaultSettings,getPackedSettings,getUnpackedSettings,sensitiveHeaders,Http2ServerRequest,Http2ServerResponse}=require("internal/http2/core");module.exports={connect,constants,createServer,createSecureServer,getDefaultSettings,getPackedSettings,getUnpackedSettings,sensitiveHeaders,Http2ServerRequest,Http2ServerResponse};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeIndexOf,ArrayPrototypePush,ArrayPrototypeShift,ArrayPrototypeSplice,ArrayPrototypeUnshift,FunctionPrototypeCall,JSONStringify,ObjectAssign,ObjectSetPrototypeOf,ReflectConstruct}=primordials;require("internal/util").assertCrypto();const tls=require("tls"),{Agent:HttpAgent}=require("_http_agent"),{Server:HttpServer,storeHTTPOptions,_connectionListener}=require("_http_server"),{ClientRequest}=require("_http_client");let debug=require("internal/util/debuglog").debuglog("https",i=>{debug=i});const{URL,urlToHttpOptions,searchParamsSymbol}=require("internal/url");function Server(i,e){if(!(this instanceof Server))return new Server(i,e);typeof i=="function"&&(e=i,i=void 0),i={...i},i.ALPNProtocols||(i.ALPNProtocols=["http/1.1"]),FunctionPrototypeCall(storeHTTPOptions,this,i),FunctionPrototypeCall(tls.Server,this,i,_connectionListener),this.httpAllowHalfOpen=!1,e&&this.addListener("request",e),this.addListener("tlsClientError",function(r,n){this.emit("clientError",r,n)||n.destroy(r)}),this.timeout=0,this.keepAliveTimeout=5e3,this.maxHeadersCount=null,this.headersTimeout=60*1e3,this.requestTimeout=0}ObjectSetPrototypeOf(Server.prototype,tls.Server.prototype),ObjectSetPrototypeOf(Server,tls.Server),Server.prototype.setTimeout=HttpServer.prototype.setTimeout;function createServer(i,e){return new Server(i,e)}function createConnection(i,e,t){if(i!==null&&typeof i=="object"?t=i:e!==null&&typeof e=="object"?t={...e}:t===null||typeof t!="object"?t={}:t={...t},typeof i=="number"&&(t.port=i),typeof e=="string"&&(t.host=e),debug("createConnection",t),t._agentKey){const n=this._getSession(t._agentKey);n&&(debug("reuse session for %j",t._agentKey),t={session:n,...t})}const r=tls.connect(t);return t._agentKey&&(r.on("session",n=>{this._cacheSession(t._agentKey,n)}),r.once("close",n=>{n&&this._evictSession(t._agentKey)})),r}function Agent(i){if(!(this instanceof Agent))return new Agent(i);FunctionPrototypeCall(HttpAgent,this,i),this.defaultPort=443,this.protocol="https:",this.maxCachedSessions=this.options.maxCachedSessions,this.maxCachedSessions===void 0&&(this.maxCachedSessions=100),this._sessionCache={map:{},list:[]}}ObjectSetPrototypeOf(Agent.prototype,HttpAgent.prototype),ObjectSetPrototypeOf(Agent,HttpAgent),Agent.prototype.createConnection=createConnection,Agent.prototype.getName=function(e){let t=FunctionPrototypeCall(HttpAgent.prototype.getName,this,e);return t+=":",e.ca&&(t+=e.ca),t+=":",e.cert&&(t+=e.cert),t+=":",e.clientCertEngine&&(t+=e.clientCertEngine),t+=":",e.ciphers&&(t+=e.ciphers),t+=":",e.key&&(t+=e.key),t+=":",e.pfx&&(t+=e.pfx),t+=":",e.rejectUnauthorized!==void 0&&(t+=e.rejectUnauthorized),t+=":",e.servername&&e.servername!==e.host&&(t+=e.servername),t+=":",e.minVersion&&(t+=e.minVersion),t+=":",e.maxVersion&&(t+=e.maxVersion),t+=":",e.secureProtocol&&(t+=e.secureProtocol),t+=":",e.crl&&(t+=e.crl),t+=":",e.honorCipherOrder!==void 0&&(t+=e.honorCipherOrder),t+=":",e.ecdhCurve&&(t+=e.ecdhCurve),t+=":",e.dhparam&&(t+=e.dhparam),t+=":",e.secureOptions!==void 0&&(t+=e.secureOptions),t+=":",e.sessionIdContext&&(t+=e.sessionIdContext),t+=":",e.sigalgs&&(t+=JSONStringify(e.sigalgs)),t+=":",e.privateKeyIdentifier&&(t+=e.privateKeyIdentifier),t+=":",e.privateKeyEngine&&(t+=e.privateKeyEngine),t},Agent.prototype._getSession=function(e){return this._sessionCache.map[e]},Agent.prototype._cacheSession=function(e,t){if(this.maxCachedSessions!==0){if(this._sessionCache.map[e]){this._sessionCache.map[e]=t;return}if(this._sessionCache.list.length>=this.maxCachedSessions){const r=ArrayPrototypeShift(this._sessionCache.list);debug("evicting %j",r),delete this._sessionCache.map[r]}ArrayPrototypePush(this._sessionCache.list,e),this._sessionCache.map[e]=t}},Agent.prototype._evictSession=function(e){const t=ArrayPrototypeIndexOf(this._sessionCache.list,e);t!==-1&&(ArrayPrototypeSplice(this._sessionCache.list,t,1),delete this._sessionCache.map[e])};const globalAgent=new Agent;function request(...i){let e={};if(typeof i[0]=="string"){const t=ArrayPrototypeShift(i);e=urlToHttpOptions(new URL(t))}else i[0]&&i[0][searchParamsSymbol]&&i[0][searchParamsSymbol][searchParamsSymbol]&&(e=urlToHttpOptions(ArrayPrototypeShift(i)));return i[0]&&typeof i[0]!="function"&&ObjectAssign(e,ArrayPrototypeShift(i)),e._defaultAgent=module.exports.globalAgent,ArrayPrototypeUnshift(i,e),ReflectConstruct(ClientRequest,i)}function get(i,e,t){const r=request(i,e,t);return r.end(),r}module.exports={Agent,globalAgent,Server,createServer,get,request};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{JSONParse,JSONStringify,SafeMap,Symbol}=primordials,{ERR_INSPECTOR_ALREADY_ACTIVATED,ERR_INSPECTOR_ALREADY_CONNECTED,ERR_INSPECTOR_CLOSED,ERR_INSPECTOR_COMMAND,ERR_INSPECTOR_NOT_AVAILABLE,ERR_INSPECTOR_NOT_CONNECTED,ERR_INSPECTOR_NOT_ACTIVE,ERR_INSPECTOR_NOT_WORKER}=require("internal/errors").codes,{hasInspector}=internalBinding("config");if(!hasInspector)throw new ERR_INSPECTOR_NOT_AVAILABLE;const EventEmitter=require("events"),{queueMicrotask}=require("internal/process/task_queues"),{validateCallback,validateObject,validateString}=require("internal/validators"),{isMainThread}=require("worker_threads"),{Connection,MainThreadConnection,open,url,isEnabled,waitForDebugger}=internalBinding("inspector"),connectionSymbol=Symbol("connectionProperty"),messageCallbacksSymbol=Symbol("messageCallbacks"),nextIdSymbol=Symbol("nextId"),onMessageSymbol=Symbol("onMessage");class Session extends EventEmitter{constructor(){super();this[connectionSymbol]=null,this[nextIdSymbol]=1,this[messageCallbacksSymbol]=new SafeMap}connect(){if(this[connectionSymbol])throw new ERR_INSPECTOR_ALREADY_CONNECTED("The inspector session");this[connectionSymbol]=new Connection(t=>this[onMessageSymbol](t))}connectToMainThread(){if(isMainThread)throw new ERR_INSPECTOR_NOT_WORKER;if(this[connectionSymbol])throw new ERR_INSPECTOR_ALREADY_CONNECTED("The inspector session");this[connectionSymbol]=new MainThreadConnection(t=>queueMicrotask(()=>this[onMessageSymbol](t)))}[onMessageSymbol](t){const e=JSONParse(t);try{if(e.id){const n=this[messageCallbacksSymbol].get(e.id);if(this[messageCallbacksSymbol].delete(e.id),n){if(e.error)return n(new ERR_INSPECTOR_COMMAND(e.error.code,e.error.message));n(null,e.result)}}else this.emit(e.method,e),this.emit("inspectorNotification",e)}catch(n){process.emitWarning(n)}}post(t,e,n){if(validateString(t,"method"),!n&&typeof e=="function"&&(n=e,e=null),e&&validateObject(e,"params"),n&&validateCallback(n),!this[connectionSymbol])throw new ERR_INSPECTOR_NOT_CONNECTED;const s=this[nextIdSymbol]++,o={id:s,method:t};e&&(o.params=e),n&&this[messageCallbacksSymbol].set(s,n),this[connectionSymbol].dispatch(JSONStringify(o))}disconnect(){if(!this[connectionSymbol])return;this[connectionSymbol].disconnect(),this[connectionSymbol]=null;const t=this[messageCallbacksSymbol].values();for(const e of t)process.nextTick(e,new ERR_INSPECTOR_CLOSED);this[messageCallbacksSymbol].clear(),this[nextIdSymbol]=1}}function inspectorOpen(i,t,e){if(isEnabled())throw new ERR_INSPECTOR_ALREADY_ACTIVATED;open(i,t),e&&waitForDebugger()}function inspectorWaitForDebugger(){if(!waitForDebugger())throw new ERR_INSPECTOR_NOT_ACTIVE}module.exports={open:inspectorOpen,close:process._debugEnd,url,waitForDebugger:inspectorWaitForDebugger,console:require("internal/util/inspector").consoleFromVM,Session};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{findSourceMap}=require("internal/source_map/source_map_cache"),{Module}=require("internal/modules/cjs/loader"),{SourceMap}=require("internal/source_map/source_map");Module.findSourceMap=findSourceMap,Module.SourceMap=SourceMap,module.exports=Module;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,ArrayPrototypeIndexOf,Boolean,Error,Number,NumberIsNaN,NumberParseInt,ObjectDefineProperty,ObjectSetPrototypeOf,Symbol}=primordials,EventEmitter=require("events"),stream=require("stream");let debug=require("internal/util/debuglog").debuglog("net",e=>{debug=e});const{isIP,isIPv4,isIPv6,normalizedArgsSymbol,makeSyncWrite}=require("internal/net"),assert=require("internal/assert"),{UV_EADDRINUSE,UV_EINVAL,UV_ENOTCONN}=internalBinding("uv"),{Buffer}=require("buffer"),{guessHandleType}=internalBinding("util"),{ShutdownWrap}=internalBinding("stream_wrap"),{TCP,TCPConnectWrap,constants:TCPConstants}=internalBinding("tcp_wrap"),{Pipe,PipeConnectWrap,constants:PipeConstants}=internalBinding("pipe_wrap"),{newAsyncId,defaultTriggerAsyncIdScope,symbols:{async_id_symbol,owner_symbol}}=require("internal/async_hooks"),{writevGeneric,writeGeneric,onStreamRead,kAfterAsyncWrite,kHandle,kUpdateTimer,setStreamTimeout,kBuffer,kBufferCb,kBufferGen}=require("internal/stream_base_commons"),{codes:{ERR_INVALID_ADDRESS_FAMILY,ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_INVALID_FD_TYPE,ERR_INVALID_IP_ADDRESS,ERR_SERVER_ALREADY_LISTEN,ERR_SERVER_NOT_RUNNING,ERR_SOCKET_CLOSED,ERR_MISSING_ARGS},errnoException,exceptionWithHostPort,uvExceptionWithHostPort}=require("internal/errors"),{isUint8Array}=require("internal/util/types"),{validateAbortSignal,validateFunction,validateInt32,validateNumber,validatePort,validateString}=require("internal/validators"),kLastWriteQueueSize=Symbol("lastWriteQueueSize"),{DTRACE_NET_SERVER_CONNECTION,DTRACE_NET_STREAM_END}=require("internal/dtrace");let cluster,dns,BlockList,SocketAddress;const{clearTimeout}=require("timers"),{kTimeout}=require("internal/timers"),DEFAULT_IPV4_ADDR="0.0.0.0",DEFAULT_IPV6_ADDR="::",isWindows=process.platform==="win32",noop=()=>{};function getFlags(e){return e===!0?TCPConstants.UV_TCP_IPV6ONLY:0}function createHandle(e,t){validateInt32(e,"fd",0);const n=guessHandleType(e);if(n==="PIPE")return new Pipe(t?PipeConstants.SERVER:PipeConstants.SOCKET);if(n==="TCP")return new TCP(t?TCPConstants.SERVER:TCPConstants.SOCKET);throw new ERR_INVALID_FD_TYPE(n)}function getNewAsyncId(e){return!e||typeof e.getAsyncId!="function"?newAsyncId():e.getAsyncId()}function isPipeName(e){return typeof e=="string"&&toNumber(e)===!1}function createServer(e,t){return new Server(e,t)}function connect(...e){const t=normalizeArgs(e),n=t[0];debug("createConnection",t);const i=new Socket(n);return n.timeout&&i.setTimeout(n.timeout),i.connect(t)}function normalizeArgs(e){let t;if(e.length===0)return t=[{},null],t[normalizedArgsSymbol]=!0,t;const n=e[0];let i={};typeof n=="object"&&n!==null?i=n:isPipeName(n)?i.path=n:(i.port=n,e.length>1&&typeof e[1]=="string"&&(i.host=e[1]));const o=e[e.length-1];return typeof o!="function"?t=[i,null]:t=[i,o],t[normalizedArgsSymbol]=!0,t}function initSocketHandle(e){if(e._undestroy(),e._sockname=null,e._handle){e._handle[owner_symbol]=e,e._handle.onread=onStreamRead,e[async_id_symbol]=getNewAsyncId(e._handle);let t=e[kBuffer];if(t){const n=e[kBufferGen];if(n!==null){if(t=n(),!isUint8Array(t))return;e[kBuffer]=t}e._handle.useUserBuffer(t)}}}const kBytesRead=Symbol("kBytesRead"),kBytesWritten=Symbol("kBytesWritten"),kSetNoDelay=Symbol("kSetNoDelay");function Socket(e){if(!(this instanceof Socket))return new Socket(e);if(this.connecting=!1,this[async_id_symbol]=-1,this._hadError=!1,this[kHandle]=null,this._parent=null,this._host=null,this[kSetNoDelay]=!1,this[kLastWriteQueueSize]=0,this[kTimeout]=null,this[kBuffer]=null,this[kBufferCb]=null,this[kBufferGen]=null,typeof e=="number"?e={fd:e}:e={...e},e.allowHalfOpen=Boolean(e.allowHalfOpen),e.emitClose=!1,e.autoDestroy=!0,e.decodeStrings=!1,stream.Duplex.call(this,e),e.handle)this._handle=e.handle,this[async_id_symbol]=getNewAsyncId(this._handle);else if(e.fd!==void 0){const{fd:n}=e;let i;if(this._handle=createHandle(n,!1),i=this._handle.open(n),i)throw errnoException(i,"open");if(this[async_id_symbol]=this._handle.getAsyncId(),(n===1||n===2)&&this._handle instanceof Pipe&&isWindows){if(i=this._handle.setBlocking(!0),i)throw errnoException(i,"setBlocking");this._writev=null,this._write=makeSyncWrite(n),ObjectDefineProperty(this._handle,"bytesWritten",{value:0,writable:!0})}}const t=e.onread;t!==null&&typeof t=="object"&&(isUint8Array(t.buffer)||typeof t.buffer=="function")&&typeof t.callback=="function"&&(typeof t.buffer=="function"?(this[kBuffer]=!0,this[kBufferGen]=t.buffer):this[kBuffer]=t.buffer,this[kBufferCb]=t.callback),this.on("end",onReadableStreamEnd),initSocketHandle(this),this._pendingData=null,this._pendingEncoding="",this._handle&&e.readable!==!1&&(e.pauseOnCreate?(this._handle.reading=!1,this._handle.readStop(),this.readableFlowing=!1):e.manualStart||this.read(0)),this.server=null,this._server=null,this[kBytesRead]=0,this[kBytesWritten]=0}ObjectSetPrototypeOf(Socket.prototype,stream.Duplex.prototype),ObjectSetPrototypeOf(Socket,stream.Duplex),Socket.prototype._unrefTimer=function(){for(let t=this;t!==null;t=t._parent)t[kTimeout]&&t[kTimeout].refresh()},Socket.prototype._final=function(e){if(this.pending)return debug("_final: not yet connected"),this.once("connect",()=>this._final(e));if(!this._handle)return e();debug("_final: not ended, call shutdown()");const t=new ShutdownWrap;t.oncomplete=afterShutdown,t.handle=this._handle,t.callback=e;const n=this._handle.shutdown(t);if(n===1||n===UV_ENOTCONN)return e();if(n!==0)return e(errnoException(n,"shutdown"))};function afterShutdown(){const e=this.handle[owner_symbol];debug("afterShutdown destroyed=%j",e.destroyed,e._readableState),this.callback()}function writeAfterFIN(e,t,n){if(!this.writableEnded)return stream.Duplex.prototype.write.call(this,e,t,n);typeof t=="function"&&(n=t,t=null);const i=new Error("This socket has been ended by the other party");return i.code="EPIPE",typeof n=="function"&&defaultTriggerAsyncIdScope(this[async_id_symbol],process.nextTick,n,i),this.destroy(i),!1}Socket.prototype.setTimeout=setStreamTimeout,Socket.prototype._onTimeout=function(){const e=this._handle,t=this[kLastWriteQueueSize];if(t>0&&e){const{writeQueueSize:n}=e;if(t!==n){this[kLastWriteQueueSize]=n,this._unrefTimer();return}}debug("_onTimeout"),this.emit("timeout")},Socket.prototype.setNoDelay=function(e){if(!this._handle)return this.once("connect",e?this.setNoDelay:()=>this.setNoDelay(e)),this;const t=e===void 0?!0:!!e;return this._handle.setNoDelay&&t!==this[kSetNoDelay]&&(this[kSetNoDelay]=t,this._handle.setNoDelay(t)),this},Socket.prototype.setKeepAlive=function(e,t){return this._handle?(this._handle.setKeepAlive&&this._handle.setKeepAlive(e,~~(t/1e3)),this):(this.once("connect",()=>this.setKeepAlive(e,t)),this)},Socket.prototype.address=function(){return this._getsockname()},ObjectDefineProperty(Socket.prototype,"_connecting",{get:function(){return this.connecting}}),ObjectDefineProperty(Socket.prototype,"pending",{get(){return!this._handle||this.connecting},configurable:!0}),ObjectDefineProperty(Socket.prototype,"readyState",{get:function(){return this.connecting?"opening":this.readable&&this.writable?"open":this.readable&&!this.writable?"readOnly":!this.readable&&this.writable?"writeOnly":"closed"}}),ObjectDefineProperty(Socket.prototype,"bufferSize",{get:function(){if(this._handle)return this.writableLength}}),ObjectDefineProperty(Socket.prototype,kUpdateTimer,{get:function(){return this._unrefTimer}});function tryReadStart(e){debug("Socket._handle.readStart"),e._handle.reading=!0;const t=e._handle.readStart();t&&e.destroy(errnoException(t,"read"))}Socket.prototype._read=function(e){debug("_read"),this.connecting||!this._handle?(debug("_read wait for connection"),this.once("connect",()=>this._read(e))):this._handle.reading||tryReadStart(this)},Socket.prototype.end=function(e,t,n){return stream.Duplex.prototype.end.call(this,e,t,n),DTRACE_NET_STREAM_END(this),this},Socket.prototype.pause=function(){if(this[kBuffer]&&!this.connecting&&this._handle&&this._handle.reading&&(this._handle.reading=!1,!this.destroyed)){const e=this._handle.readStop();e&&this.destroy(errnoException(e,"read"))}return stream.Duplex.prototype.pause.call(this)},Socket.prototype.resume=function(){return this[kBuffer]&&!this.connecting&&this._handle&&!this._handle.reading&&tryReadStart(this),stream.Duplex.prototype.resume.call(this)},Socket.prototype.read=function(e){return this[kBuffer]&&!this.connecting&&this._handle&&!this._handle.reading&&tryReadStart(this),stream.Duplex.prototype.read.call(this,e)};function onReadableStreamEnd(){this.allowHalfOpen||(this.write=writeAfterFIN)}Socket.prototype.destroySoon=function(){this.writable&&this.end(),this.writableFinished?this.destroy():this.once("finish",this.destroy)},Socket.prototype._destroy=function(e,t){debug("destroy"),this.connecting=!1;for(let n=this;n!==null;n=n._parent)clearTimeout(n[kTimeout]);if(debug("close"),this._handle){this!==process.stderr&&debug("close handle");const n=!!e;this[kBytesRead]=this._handle.bytesRead,this[kBytesWritten]=this._handle.bytesWritten,this._handle.close(()=>{debug("emit close"),this.emit("close",n)}),this._handle.onread=noop,this._handle=null,this._sockname=null,t(e)}else t(e),process.nextTick(emitCloseNT,this);this._server&&(debug("has server"),this._server._connections--,this._server._emitCloseIfDrained&&this._server._emitCloseIfDrained())},Socket.prototype._getpeername=function(){return!this._handle||!this._handle.getpeername?this._peername||{}:(this._peername||(this._peername={},this._handle.getpeername(this._peername)),this._peername)};function protoGetter(e,t){ObjectDefineProperty(Socket.prototype,e,{configurable:!1,enumerable:!0,get:t})}protoGetter("bytesRead",function(){return this._handle?this._handle.bytesRead:this[kBytesRead]}),protoGetter("remoteAddress",function(){return this._getpeername().address}),protoGetter("remoteFamily",function(){return this._getpeername().family}),protoGetter("remotePort",function(){return this._getpeername().port}),Socket.prototype._getsockname=function(){return!this._handle||!this._handle.getsockname?{}:(this._sockname||(this._sockname={},this._handle.getsockname(this._sockname)),this._sockname)},protoGetter("localAddress",function(){return this._getsockname().address}),protoGetter("localPort",function(){return this._getsockname().port}),Socket.prototype[kAfterAsyncWrite]=function(){this[kLastWriteQueueSize]=0},Socket.prototype._writeGeneric=function(e,t,n,i){if(this.connecting){this._pendingData=t,this._pendingEncoding=n,this.once("connect",function(){this._writeGeneric(e,t,n,i)});return}if(this._pendingData=null,this._pendingEncoding="",!this._handle)return i(new ERR_SOCKET_CLOSED),!1;this._unrefTimer();let o;e?o=writevGeneric(this,t,i):o=writeGeneric(this,t,n,i),o.async&&(this[kLastWriteQueueSize]=o.bytes)},Socket.prototype._writev=function(e,t){this._writeGeneric(!0,e,"",t)},Socket.prototype._write=function(e,t,n){this._writeGeneric(!1,e,t,n)},protoGetter("_bytesDispatched",function(){return this._handle?this._handle.bytesWritten:this[kBytesWritten]}),protoGetter("bytesWritten",function(){let t=this._bytesDispatched;const n=this._pendingData,i=this._pendingEncoding,o=this.writableBuffer;if(!!o){for(const s of o)t+=s.chunk instanceof Buffer?s.chunk.length:Buffer.byteLength(s.chunk,s.encoding);if(ArrayIsArray(n))for(let s=0;s<n.length;s++){const l=n[s];n.allBuffers||l instanceof Buffer?t+=l.length:t+=Buffer.byteLength(l.chunk,l.encoding)}else n&&(typeof n!="string"?t+=n.length:t+=Buffer.byteLength(n,i));return t}});function checkBindError(e,t,n){if(e===0&&t>0&&n.getsockname){const i={};e=n.getsockname(i),e===0&&t!==i.port&&(debug(`checkBindError, bound to ${i.port} instead of ${t}`),e=UV_EADDRINUSE)}return e}function internalConnect(e,t,n,i,o,s,l){assert(e.connecting);let r;if((o||s)&&(i===4?(o=o||DEFAULT_IPV4_ADDR,r=e._handle.bind(o,s)):(o=o||DEFAULT_IPV6_ADDR,r=e._handle.bind6(o,s,l)),debug("binding to localAddress: %s and localPort: %d (addressType: %d)",o,s,i),r=checkBindError(r,s,e._handle),r)){const c=exceptionWithHostPort(r,"bind",o,s);e.destroy(c);return}if(i===6||i===4){const c=new TCPConnectWrap;c.oncomplete=afterConnect,c.address=t,c.port=n,c.localAddress=o,c.localPort=s,i===4?r=e._handle.connect(c,t,n):r=e._handle.connect6(c,t,n)}else{const c=new PipeConnectWrap;c.address=t,c.oncomplete=afterConnect,r=e._handle.connect(c,t,afterConnect)}if(r){const c=e._getsockname();let a;c&&(a=c.address+":"+c.port);const h=exceptionWithHostPort(r,"connect",t,n,a);e.destroy(h)}}Socket.prototype.connect=function(...e){let t;ArrayIsArray(e[0])&&e[0][normalizedArgsSymbol]?t=e[0]:t=normalizeArgs(e);const n=t[0],i=t[1];if(n.port===void 0&&n.path==null)throw new ERR_MISSING_ARGS(["options","port","path"]);this.write!==Socket.prototype.write&&(this.write=Socket.prototype.write),this.destroyed&&(this._handle=null,this._peername=null,this._sockname=null);const{path:o}=n,s=!!o;return debug("pipe",s,o),this._handle||(this._handle=s?new Pipe(PipeConstants.SOCKET):new TCP(TCPConstants.SOCKET),initSocketHandle(this)),i!==null&&this.once("connect",i),this._unrefTimer(),this.connecting=!0,s?(validateString(o,"options.path"),defaultTriggerAsyncIdScope(this[async_id_symbol],internalConnect,this,o)):lookupAndConnect(this,n),this};function lookupAndConnect(e,t){const{localAddress:n,localPort:i}=t,o=t.host||"localhost";let{port:s}=t;if(n&&!isIP(n))throw new ERR_INVALID_IP_ADDRESS(n);if(i&&validateNumber(i,"options.localPort"),typeof s!="undefined"){if(typeof s!="number"&&typeof s!="string")throw new ERR_INVALID_ARG_TYPE("options.port",["number","string"],s);validatePort(s)}s|=0;const l=isIP(o);if(l){defaultTriggerAsyncIdScope(e[async_id_symbol],process.nextTick,()=>{e.connecting&&defaultTriggerAsyncIdScope(e[async_id_symbol],internalConnect,e,o,s,l,n,i)});return}t.lookup!==void 0&&validateFunction(t.lookup,"options.lookup"),dns===void 0&&(dns=require("dns"));const r={family:t.family,hints:t.hints||0};!isWindows&&r.family!==4&&r.family!==6&&r.hints===0&&(r.hints=dns.ADDRCONFIG),debug("connect: find host",o),debug("connect: dns options",r),e._host=o;const c=t.lookup||dns.lookup;defaultTriggerAsyncIdScope(e[async_id_symbol],function(){c(o,r,function(h,u,f){e.emit("lookup",h,u,f,o),!!e.connecting&&(h?process.nextTick(connectErrorNT,e,h):isIP(u)?f!==4&&f!==6?(h=new ERR_INVALID_ADDRESS_FAMILY(f,t.host,t.port),process.nextTick(connectErrorNT,e,h)):(e._unrefTimer(),defaultTriggerAsyncIdScope(e[async_id_symbol],internalConnect,e,u,s,f,n,i)):(h=new ERR_INVALID_IP_ADDRESS(u),process.nextTick(connectErrorNT,e,h)))})})}function connectErrorNT(e,t){e.destroy(t)}Socket.prototype.ref=function(){return this._handle?(typeof this._handle.ref=="function"&&this._handle.ref(),this):(this.once("connect",this.ref),this)},Socket.prototype.unref=function(){return this._handle?(typeof this._handle.unref=="function"&&this._handle.unref(),this):(this.once("connect",this.unref),this)};function afterConnect(e,t,n,i,o){let s=t[owner_symbol];if(s.constructor.name==="ReusedHandle"&&(s=s.handle),!s.destroyed)if(debug("afterConnect"),assert(s.connecting),s.connecting=!1,s._sockname=null,e===0)s.readable&&!i&&(s.push(null),s.read()),s.writable&&!o&&s.end(),s._unrefTimer(),s.emit("connect"),s.emit("ready"),i&&!s.isPaused()&&s.read(0);else{s.connecting=!1;let l;n.localAddress&&n.localPort&&(l=n.localAddress+":"+n.localPort);const r=exceptionWithHostPort(e,"connect",n.address,n.port,l);l&&(r.localAddress=n.localAddress,r.localPort=n.localPort),s.destroy(r)}}function addAbortSignalOption(e,t){if(t?.signal===void 0)return;validateAbortSignal(t.signal,"options.signal");const{signal:n}=t,i=()=>{e.close()};n.aborted?process.nextTick(i):(n.addEventListener("abort",i),e.once("close",()=>n.removeEventListener("abort",i)))}function Server(e,t){if(!(this instanceof Server))return new Server(e,t);if(EventEmitter.call(this),typeof e=="function")t=e,e={},this.on("connection",t);else if(e==null||typeof e=="object")e={...e},typeof t=="function"&&this.on("connection",t);else throw new ERR_INVALID_ARG_TYPE("options","Object",e);this._connections=0,this[async_id_symbol]=-1,this._handle=null,this._usingWorkers=!1,this._workers=[],this._unref=!1,this.allowHalfOpen=e.allowHalfOpen||!1,this.pauseOnConnect=!!e.pauseOnConnect}ObjectSetPrototypeOf(Server.prototype,EventEmitter.prototype),ObjectSetPrototypeOf(Server,EventEmitter);function toNumber(e){return(e=Number(e))>=0?e:!1}function createServerHandle(e,t,n,i,o){let s=0,l,r=!1;if(typeof i=="number"&&i>=0){try{l=createHandle(i,!0)}catch(c){return debug("listen invalid fd=%d:",i,c.message),UV_EINVAL}if(s=l.open(i),s)return s;assert(!e&&!t)}else if(t===-1&&n===-1){if(l=new Pipe(PipeConstants.SERVER),isWindows){const c=NumberParseInt(process.env.NODE_PENDING_PIPE_INSTANCES);NumberIsNaN(c)||l.setPendingInstances(c)}}else l=new TCP(TCPConstants.SERVER),r=!0;if(e||t||r){if(debug("bind to",e||"any"),e)n===6?s=l.bind6(e,t,o):s=l.bind(e,t);else if(s=l.bind6(DEFAULT_IPV6_ADDR,t,o),s)return l.close(),createServerHandle(DEFAULT_IPV4_ADDR,t)}return s?(l.close(),s):l}function setupListenHandle(e,t,n,i,o,s){if(debug("setupListenHandle",e,t,n,i,o),this._handle)debug("setupListenHandle: have a handle already");else{debug("setupListenHandle: create a handle");let r=null;if(!e&&typeof o!="number"&&(r=createServerHandle(DEFAULT_IPV6_ADDR,t,6,o,s),typeof r=="number"?(r=null,e=DEFAULT_IPV4_ADDR,n=4):(e=DEFAULT_IPV6_ADDR,n=6)),r===null&&(r=createServerHandle(e,t,n,o,s)),typeof r=="number"){const c=uvExceptionWithHostPort(r,"listen",e,t);process.nextTick(emitErrorNT,this,c);return}this._handle=r}this[async_id_symbol]=getNewAsyncId(this._handle),this._handle.onconnection=onconnection,this._handle[owner_symbol]=this;const l=this._handle.listen(i||511);if(l){const r=uvExceptionWithHostPort(l,"listen",e,t);this._handle.close(),this._handle=null,defaultTriggerAsyncIdScope(this[async_id_symbol],process.nextTick,emitErrorNT,this,r);return}this._connectionKey=n+":"+e+":"+t,this._unref&&this.unref(),defaultTriggerAsyncIdScope(this[async_id_symbol],process.nextTick,emitListeningNT,this)}Server.prototype._listen2=setupListenHandle;function emitErrorNT(e,t){e.emit("error",t)}function emitListeningNT(e){e._handle&&e.emit("listening")}function listenInCluster(e,t,n,i,o,s,l,r){if(l=!!l,cluster===void 0&&(cluster=require("cluster")),cluster.isPrimary||l){e._listen2(t,n,i,o,s,r);return}const c={address:t,port:n,addressType:i,fd:s,flags:r};cluster._getServer(e,c,a);function a(h,u){if(h=checkBindError(h,n,u),h){const f=exceptionWithHostPort(h,"bind",t,n);return e.emit("error",f)}e._handle=u,e._listen2(t,n,i,o,s,r)}}Server.prototype.listen=function(...e){const t=normalizeArgs(e);let n=t[0];const i=t[1];if(this._handle)throw new ERR_SERVER_ALREADY_LISTEN;i!==null&&this.once("listening",i);const o=toNumber(e.length>1&&e[1])||toNumber(e.length>2&&e[2]);n=n._handle||n.handle||n;const s=getFlags(n.ipv6Only);if(n instanceof TCP)return this._handle=n,this[async_id_symbol]=this._handle.getAsyncId(),listenInCluster(this,null,-1,-1,o),this;if(addAbortSignalOption(this,n),typeof n.fd=="number"&&n.fd>=0)return listenInCluster(this,null,null,null,o,n.fd),this;(e.length===0||typeof e[0]=="function"||typeof n.port=="undefined"&&"port"in n||n.port===null)&&(n.port=0);let l;if(typeof n.port=="number"||typeof n.port=="string")return validatePort(n.port,"options.port"),l=n.backlog||o,n.host?lookupAndListen(this,n.port|0,n.host,l,n.exclusive,s):listenInCluster(this,null,n.port|0,4,l,void 0,n.exclusive),this;if(n.path&&isPipeName(n.path)){const r=this._pipeName=n.path;if(l=n.backlog||o,listenInCluster(this,r,-1,-1,l,void 0,n.exclusive),!this._handle)return this;let c=0;if(n.readableAll===!0&&(c|=PipeConstants.UV_READABLE),n.writableAll===!0&&(c|=PipeConstants.UV_WRITABLE),c!==0){const a=this._handle.fchmod(c);if(a)throw this._handle.close(),this._handle=null,errnoException(a,"uv_pipe_chmod")}return this}throw"port"in n||"path"in n?new ERR_INVALID_ARG_VALUE("options",n):new ERR_INVALID_ARG_VALUE("options",n,'must have the property "port" or "path"')};function lookupAndListen(e,t,n,i,o,s){dns===void 0&&(dns=require("dns")),dns.lookup(n,function(r,c,a){r?e.emit("error",r):(a=c?a:4,listenInCluster(e,c,t,a,i,void 0,o,s))})}ObjectDefineProperty(Server.prototype,"listening",{get:function(){return!!this._handle},configurable:!0,enumerable:!0}),Server.prototype.address=function(){if(this._handle&&this._handle.getsockname){const e={},t=this._handle.getsockname(e);if(t)throw errnoException(t,"address");return e}else if(this._pipeName)return this._pipeName;return null};function onconnection(e,t){const i=this[owner_symbol];if(debug("onconnection"),e){i.emit("error",errnoException(e,"accept"));return}if(i.maxConnections&&i._connections>=i.maxConnections){t.close();return}const o=new Socket({handle:t,allowHalfOpen:i.allowHalfOpen,pauseOnCreate:i.pauseOnConnect,readable:!0,writable:!0});i._connections++,o.server=i,o._server=i,DTRACE_NET_SERVER_CONNECTION(o),i.emit("connection",o)}Server.prototype.getConnections=function(e){const t=this;function n(l,r){defaultTriggerAsyncIdScope(t[async_id_symbol],process.nextTick,e,l,r)}if(!this._usingWorkers)return n(null,this._connections),this;let i=this._workers.length,o=this._connections;function s(l,r){if(l)return i=-1,n(l);if(o+=r,--i==0)return n(null,o)}for(let l=0;l<this._workers.length;l++)this._workers[l].getConnections(s);return this},Server.prototype.close=function(e){if(typeof e=="function"&&(this._handle?this.once("close",e):this.once("close",function(){e(new ERR_SERVER_NOT_RUNNING)})),this._handle&&(this._handle.close(),this._handle=null),this._usingWorkers){let t=this._workers.length;const n=()=>{--t==0&&(this._connections=0,this._emitCloseIfDrained())};this._connections++;for(let i=0;i<this._workers.length;i++)this._workers[i].close(n)}else this._emitCloseIfDrained();return this},Server.prototype._emitCloseIfDrained=function(){if(debug("SERVER _emitCloseIfDrained"),this._handle||this._connections){debug("SERVER handle? %j   connections? %d",!!this._handle,this._connections);return}defaultTriggerAsyncIdScope(this[async_id_symbol],process.nextTick,emitCloseNT,this)};function emitCloseNT(e){debug("SERVER: emit close"),e.emit("close")}Server.prototype[EventEmitter.captureRejectionSymbol]=function(e,t,n){switch(t){case"connection":n.destroy(e);break;default:this.emit("error",e)}},ObjectDefineProperty(TCP.prototype,"owner",{get(){return this[owner_symbol]},set(e){return this[owner_symbol]=e}}),ObjectDefineProperty(Socket.prototype,"_handle",{get(){return this[kHandle]},set(e){return this[kHandle]=e}}),Server.prototype._setupWorker=function(e){this._usingWorkers=!0,this._workers.push(e),e.once("exit",t=>{const n=ArrayPrototypeIndexOf(this._workers,t);this._workers.splice(n,1)})},Server.prototype.ref=function(){return this._unref=!1,this._handle&&this._handle.ref(),this},Server.prototype.unref=function(){return this._unref=!0,this._handle&&this._handle.unref(),this};let _setSimultaneousAccepts,warnSimultaneousAccepts=!0;if(isWindows){let e;_setSimultaneousAccepts=function(t){warnSimultaneousAccepts&&(process.emitWarning("net._setSimultaneousAccepts() is deprecated and will be removed.","DeprecationWarning","DEP0121"),warnSimultaneousAccepts=!1),t!==void 0&&(e===void 0&&(e=process.env.NODE_MANY_ACCEPTS&&process.env.NODE_MANY_ACCEPTS!=="0"),t._simultaneousAccepts!==e&&(t.setSimultaneousAccepts(!!e),t._simultaneousAccepts=e))}}else _setSimultaneousAccepts=function(){warnSimultaneousAccepts&&(process.emitWarning("net._setSimultaneousAccepts() is deprecated and will be removed.","DeprecationWarning","DEP0121"),warnSimultaneousAccepts=!1)};module.exports={_createServerHandle:createServerHandle,_normalizeArgs:normalizeArgs,_setSimultaneousAccepts,get BlockList(){return BlockList??=require("internal/blocklist").BlockList,BlockList},get SocketAddress(){return SocketAddress??=require("internal/socketaddress").SocketAddress,SocketAddress},connect,createConnection:connect,createServer,isIP,isIPv4,isIPv6,Server,Socket,Stream:Socket};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypePush,Float64Array,NumberParseInt,ObjectDefineProperties,StringPrototypeEndsWith,StringPrototypeSlice,StringPrototypeSplit,SymbolToPrimitive}=primordials,{safeGetenv}=internalBinding("credentials"),constants=internalBinding("constants").os,isWindows=process.platform==="win32",{codes:{ERR_SYSTEM_ERROR},hideStackFrames}=require("internal/errors"),{validateInt32}=require("internal/validators"),{getCPUs,getFreeMem,getHomeDirectory:_getHomeDirectory,getHostname:_getHostname,getInterfaceAddresses:_getInterfaceAddresses,getLoadAvg,getPriority:_getPriority,getOSInformation:_getOSInformation,getTotalMem,getUserInfo,getUptime,isBigEndian,setPriority:_setPriority}=internalBinding("os");function getCheckedFunction(e){return hideStackFrames(function(...t){const s={},r=e(...t,s);if(r===void 0)throw new ERR_SYSTEM_ERROR(s);return r})}const{0:type,1:version,2:release}=_getOSInformation(),getHomeDirectory=getCheckedFunction(_getHomeDirectory),getHostname=getCheckedFunction(_getHostname),getInterfaceAddresses=getCheckedFunction(_getInterfaceAddresses),getOSRelease=()=>release,getOSType=()=>type,getOSVersion=()=>version;getFreeMem[SymbolToPrimitive]=()=>getFreeMem(),getHostname[SymbolToPrimitive]=()=>getHostname(),getOSVersion[SymbolToPrimitive]=()=>getOSVersion(),getOSType[SymbolToPrimitive]=()=>getOSType(),getOSRelease[SymbolToPrimitive]=()=>getOSRelease(),getHomeDirectory[SymbolToPrimitive]=()=>getHomeDirectory(),getTotalMem[SymbolToPrimitive]=()=>getTotalMem(),getUptime[SymbolToPrimitive]=()=>getUptime();const kEndianness=isBigEndian?"BE":"LE",avgValues=new Float64Array(3);function loadavg(){return getLoadAvg(avgValues),[avgValues[0],avgValues[1],avgValues[2]]}function cpus(){const e=getCPUs()||[],n=[];let t=0;for(;t<e.length;)ArrayPrototypePush(n,{model:e[t++],speed:e[t++],times:{user:e[t++],nice:e[t++],sys:e[t++],idle:e[t++],irq:e[t++]}});return n}function arch(){return process.arch}arch[SymbolToPrimitive]=()=>process.arch;function platform(){return process.platform}platform[SymbolToPrimitive]=()=>process.platform;function tmpdir(){var e;return isWindows?(e=process.env.TEMP||process.env.TMP||(process.env.SystemRoot||process.env.windir)+"\\temp",e.length>1&&StringPrototypeEndsWith(e,"\\")&&!StringPrototypeEndsWith(e,":\\")&&(e=StringPrototypeSlice(e,0,-1))):(e=safeGetenv("TMPDIR")||safeGetenv("TMP")||safeGetenv("TEMP")||"/tmp",e.length>1&&StringPrototypeEndsWith(e,"/")&&(e=StringPrototypeSlice(e,0,-1))),e}tmpdir[SymbolToPrimitive]=()=>tmpdir();function endianness(){return kEndianness}endianness[SymbolToPrimitive]=()=>kEndianness;function countBinaryOnes(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}function getCIDR(e,n,t){let s=0,r=".",o=10,i=8,l=!1;t==="IPv6"&&(r=":",o=16,i=16);const a=StringPrototypeSplit(n,r);for(var c=0;c<a.length;c++)if(a[c]!==""){const f=NumberParseInt(a[c],o),u=countBinaryOnes(f);if(s+=u,l){if(u!==0)return null}else if(u!==i){if((f&1)!=0)return null;l=!0}}return`${e}/${s}`}function networkInterfaces(){const e=getInterfaceAddresses(),n={};if(e===void 0)return n;for(var t=0;t<e.length;t+=7){const s=e[t],r={address:e[t+1],netmask:e[t+2],family:e[t+3],mac:e[t+4],internal:e[t+5],cidr:getCIDR(e[t+1],e[t+2],e[t+3])},o=e[t+6];o!==-1&&(r.scopeid=o);const i=n[s];i!==void 0?ArrayPrototypePush(i,r):n[s]=[r]}return n}function setPriority(e,n){n===void 0&&(n=e,e=0),validateInt32(e,"pid"),validateInt32(n,"priority",-20,19);const t={};if(_setPriority(e,n,t)!==0)throw new ERR_SYSTEM_ERROR(t)}function getPriority(e){e===void 0?e=0:validateInt32(e,"pid");const n={},t=_getPriority(e,n);if(t===void 0)throw new ERR_SYSTEM_ERROR(n);return t}function userInfo(e){typeof e!="object"&&(e=null);const n={},t=getUserInfo(e,n);if(t===void 0)throw new ERR_SYSTEM_ERROR(n);return t}module.exports={arch,cpus,endianness,freemem:getFreeMem,getPriority,homedir:getHomeDirectory,hostname:getHostname,loadavg,networkInterfaces,platform,release:getOSRelease,setPriority,tmpdir,totalmem:getTotalMem,type:getOSType,userInfo,uptime:getUptime,version:getOSVersion},ObjectDefineProperties(module.exports,{constants:{configurable:!1,enumerable:!0,value:constants},EOL:{configurable:!0,enumerable:!0,writable:!1,value:isWindows?`\r
`:`
`},devNull:{configurable:!0,enumerable:!0,writable:!1,value:isWindows?"\\\\.\\nul":"/dev/null"}});
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{FunctionPrototypeBind,StringPrototypeCharCodeAt,StringPrototypeIndexOf,StringPrototypeLastIndexOf,StringPrototypeReplace,StringPrototypeSlice,StringPrototypeToLowerCase}=primordials,{CHAR_UPPERCASE_A,CHAR_LOWERCASE_A,CHAR_UPPERCASE_Z,CHAR_LOWERCASE_Z,CHAR_DOT,CHAR_FORWARD_SLASH,CHAR_BACKWARD_SLASH,CHAR_COLON,CHAR_QUESTION_MARK}=require("internal/constants"),{validateObject,validateString}=require("internal/validators"),platformIsWin32=process.platform==="win32";function isPathSeparator(e){return e===CHAR_FORWARD_SLASH||e===CHAR_BACKWARD_SLASH}function isPosixPathSeparator(e){return e===CHAR_FORWARD_SLASH}function isWindowsDeviceRoot(e){return e>=CHAR_UPPERCASE_A&&e<=CHAR_UPPERCASE_Z||e>=CHAR_LOWERCASE_A&&e<=CHAR_LOWERCASE_Z}function normalizeString(e,t,i,f){let r="",l=0,s=-1,n=0,o=0;for(let u=0;u<=e.length;++u){if(u<e.length)o=StringPrototypeCharCodeAt(e,u);else{if(f(o))break;o=CHAR_FORWARD_SLASH}if(f(o)){if(!(s===u-1||n===1))if(n===2){if(r.length<2||l!==2||StringPrototypeCharCodeAt(r,r.length-1)!==CHAR_DOT||StringPrototypeCharCodeAt(r,r.length-2)!==CHAR_DOT){if(r.length>2){const g=StringPrototypeLastIndexOf(r,i);g===-1?(r="",l=0):(r=StringPrototypeSlice(r,0,g),l=r.length-1-StringPrototypeLastIndexOf(r,i)),s=u,n=0;continue}else if(r.length!==0){r="",l=0,s=u,n=0;continue}}t&&(r+=r.length>0?`${i}..`:"..",l=2)}else r.length>0?r+=`${i}${StringPrototypeSlice(e,s+1,u)}`:r=StringPrototypeSlice(e,s+1,u),l=u-s-1;s=u,n=0}else o===CHAR_DOT&&n!==-1?++n:n=-1}return r}function _format(e,t){validateObject(t,"pathObject");const i=t.dir||t.root,f=t.base||`${t.name||""}${t.ext||""}`;return i?i===t.root?`${i}${f}`:`${i}${e}${f}`:f}const win32={resolve(...e){let t="",i="",f=!1;for(let r=e.length-1;r>=-1;r--){let l;if(r>=0){if(l=e[r],validateString(l,"path"),l.length===0)continue}else t.length===0?l=process.cwd():(l=process.env[`=${t}`]||process.cwd(),(l===void 0||StringPrototypeToLowerCase(StringPrototypeSlice(l,0,2))!==StringPrototypeToLowerCase(t)&&StringPrototypeCharCodeAt(l,2)===CHAR_BACKWARD_SLASH)&&(l=`${t}\\`));const s=l.length;let n=0,o="",u=!1;const g=StringPrototypeCharCodeAt(l,0);if(s===1)isPathSeparator(g)&&(n=1,u=!0);else if(isPathSeparator(g))if(u=!0,isPathSeparator(StringPrototypeCharCodeAt(l,1))){let c=2,d=c;for(;c<s&&!isPathSeparator(StringPrototypeCharCodeAt(l,c));)c++;if(c<s&&c!==d){const a=StringPrototypeSlice(l,d,c);for(d=c;c<s&&isPathSeparator(StringPrototypeCharCodeAt(l,c));)c++;if(c<s&&c!==d){for(d=c;c<s&&!isPathSeparator(StringPrototypeCharCodeAt(l,c));)c++;(c===s||c!==d)&&(o=`\\\\${a}\\${StringPrototypeSlice(l,d,c)}`,n=c)}}}else n=1;else isWindowsDeviceRoot(g)&&StringPrototypeCharCodeAt(l,1)===CHAR_COLON&&(o=StringPrototypeSlice(l,0,2),n=2,s>2&&isPathSeparator(StringPrototypeCharCodeAt(l,2))&&(u=!0,n=3));if(o.length>0)if(t.length>0){if(StringPrototypeToLowerCase(o)!==StringPrototypeToLowerCase(t))continue}else t=o;if(f){if(t.length>0)break}else if(i=`${StringPrototypeSlice(l,n)}\\${i}`,f=u,u&&t.length>0)break}return i=normalizeString(i,!f,"\\",isPathSeparator),f?`${t}\\${i}`:`${t}${i}`||"."},normalize(e){validateString(e,"path");const t=e.length;if(t===0)return".";let i=0,f,r=!1;const l=StringPrototypeCharCodeAt(e,0);if(t===1)return isPosixPathSeparator(l)?"\\":e;if(isPathSeparator(l))if(r=!0,isPathSeparator(StringPrototypeCharCodeAt(e,1))){let n=2,o=n;for(;n<t&&!isPathSeparator(StringPrototypeCharCodeAt(e,n));)n++;if(n<t&&n!==o){const u=StringPrototypeSlice(e,o,n);for(o=n;n<t&&isPathSeparator(StringPrototypeCharCodeAt(e,n));)n++;if(n<t&&n!==o){for(o=n;n<t&&!isPathSeparator(StringPrototypeCharCodeAt(e,n));)n++;if(n===t)return`\\\\${u}\\${StringPrototypeSlice(e,o)}\\`;n!==o&&(f=`\\\\${u}\\${StringPrototypeSlice(e,o,n)}`,i=n)}}}else i=1;else isWindowsDeviceRoot(l)&&StringPrototypeCharCodeAt(e,1)===CHAR_COLON&&(f=StringPrototypeSlice(e,0,2),i=2,t>2&&isPathSeparator(StringPrototypeCharCodeAt(e,2))&&(r=!0,i=3));let s=i<t?normalizeString(StringPrototypeSlice(e,i),!r,"\\",isPathSeparator):"";return s.length===0&&!r&&(s="."),s.length>0&&isPathSeparator(StringPrototypeCharCodeAt(e,t-1))&&(s+="\\"),f===void 0?r?`\\${s}`:s:r?`${f}\\${s}`:`${f}${s}`},isAbsolute(e){validateString(e,"path");const t=e.length;if(t===0)return!1;const i=StringPrototypeCharCodeAt(e,0);return isPathSeparator(i)||t>2&&isWindowsDeviceRoot(i)&&StringPrototypeCharCodeAt(e,1)===CHAR_COLON&&isPathSeparator(StringPrototypeCharCodeAt(e,2))},join(...e){if(e.length===0)return".";let t,i;for(let l=0;l<e.length;++l){const s=e[l];validateString(s,"path"),s.length>0&&(t===void 0?t=i=s:t+=`\\${s}`)}if(t===void 0)return".";let f=!0,r=0;if(isPathSeparator(StringPrototypeCharCodeAt(i,0))){++r;const l=i.length;l>1&&isPathSeparator(StringPrototypeCharCodeAt(i,1))&&(++r,l>2&&(isPathSeparator(StringPrototypeCharCodeAt(i,2))?++r:f=!1))}if(f){for(;r<t.length&&isPathSeparator(StringPrototypeCharCodeAt(t,r));)r++;r>=2&&(t=`\\${StringPrototypeSlice(t,r)}`)}return win32.normalize(t)},relative(e,t){if(validateString(e,"from"),validateString(t,"to"),e===t)return"";const i=win32.resolve(e),f=win32.resolve(t);if(i===f||(e=StringPrototypeToLowerCase(i),t=StringPrototypeToLowerCase(f),e===t))return"";let r=0;for(;r<e.length&&StringPrototypeCharCodeAt(e,r)===CHAR_BACKWARD_SLASH;)r++;let l=e.length;for(;l-1>r&&StringPrototypeCharCodeAt(e,l-1)===CHAR_BACKWARD_SLASH;)l--;const s=l-r;let n=0;for(;n<t.length&&StringPrototypeCharCodeAt(t,n)===CHAR_BACKWARD_SLASH;)n++;let o=t.length;for(;o-1>n&&StringPrototypeCharCodeAt(t,o-1)===CHAR_BACKWARD_SLASH;)o--;const u=o-n,g=s<u?s:u;let c=-1,d=0;for(;d<g;d++){const S=StringPrototypeCharCodeAt(e,r+d);if(S!==StringPrototypeCharCodeAt(t,n+d))break;S===CHAR_BACKWARD_SLASH&&(c=d)}if(d!==g){if(c===-1)return f}else{if(u>g){if(StringPrototypeCharCodeAt(t,n+d)===CHAR_BACKWARD_SLASH)return StringPrototypeSlice(f,n+d+1);if(d===2)return StringPrototypeSlice(f,n+d)}s>g&&(StringPrototypeCharCodeAt(e,r+d)===CHAR_BACKWARD_SLASH?c=d:d===2&&(c=3)),c===-1&&(c=0)}let a="";for(d=r+c+1;d<=l;++d)(d===l||StringPrototypeCharCodeAt(e,d)===CHAR_BACKWARD_SLASH)&&(a+=a.length===0?"..":"\\..");return n+=c,a.length>0?`${a}${StringPrototypeSlice(f,n,o)}`:(StringPrototypeCharCodeAt(f,n)===CHAR_BACKWARD_SLASH&&++n,StringPrototypeSlice(f,n,o))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;const t=win32.resolve(e);if(t.length<=2)return e;if(StringPrototypeCharCodeAt(t,0)===CHAR_BACKWARD_SLASH){if(StringPrototypeCharCodeAt(t,1)===CHAR_BACKWARD_SLASH){const i=StringPrototypeCharCodeAt(t,2);if(i!==CHAR_QUESTION_MARK&&i!==CHAR_DOT)return`\\\\?\\UNC\\${StringPrototypeSlice(t,2)}`}}else if(isWindowsDeviceRoot(StringPrototypeCharCodeAt(t,0))&&StringPrototypeCharCodeAt(t,1)===CHAR_COLON&&StringPrototypeCharCodeAt(t,2)===CHAR_BACKWARD_SLASH)return`\\\\?\\${t}`;return e},dirname(e){validateString(e,"path");const t=e.length;if(t===0)return".";let i=-1,f=0;const r=StringPrototypeCharCodeAt(e,0);if(t===1)return isPathSeparator(r)?e:".";if(isPathSeparator(r)){if(i=f=1,isPathSeparator(StringPrototypeCharCodeAt(e,1))){let n=2,o=n;for(;n<t&&!isPathSeparator(StringPrototypeCharCodeAt(e,n));)n++;if(n<t&&n!==o){for(o=n;n<t&&isPathSeparator(StringPrototypeCharCodeAt(e,n));)n++;if(n<t&&n!==o){for(o=n;n<t&&!isPathSeparator(StringPrototypeCharCodeAt(e,n));)n++;if(n===t)return e;n!==o&&(i=f=n+1)}}}}else isWindowsDeviceRoot(r)&&StringPrototypeCharCodeAt(e,1)===CHAR_COLON&&(i=t>2&&isPathSeparator(StringPrototypeCharCodeAt(e,2))?3:2,f=i);let l=-1,s=!0;for(let n=t-1;n>=f;--n)if(isPathSeparator(StringPrototypeCharCodeAt(e,n))){if(!s){l=n;break}}else s=!1;if(l===-1){if(i===-1)return".";l=i}return StringPrototypeSlice(e,0,l)},basename(e,t){t!==void 0&&validateString(t,"ext"),validateString(e,"path");let i=0,f=-1,r=!0;if(e.length>=2&&isWindowsDeviceRoot(StringPrototypeCharCodeAt(e,0))&&StringPrototypeCharCodeAt(e,1)===CHAR_COLON&&(i=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let l=t.length-1,s=-1;for(let n=e.length-1;n>=i;--n){const o=StringPrototypeCharCodeAt(e,n);if(isPathSeparator(o)){if(!r){i=n+1;break}}else s===-1&&(r=!1,s=n+1),l>=0&&(o===StringPrototypeCharCodeAt(t,l)?--l==-1&&(f=n):(l=-1,f=s))}return i===f?f=s:f===-1&&(f=e.length),StringPrototypeSlice(e,i,f)}for(let l=e.length-1;l>=i;--l)if(isPathSeparator(StringPrototypeCharCodeAt(e,l))){if(!r){i=l+1;break}}else f===-1&&(r=!1,f=l+1);return f===-1?"":StringPrototypeSlice(e,i,f)},extname(e){validateString(e,"path");let t=0,i=-1,f=0,r=-1,l=!0,s=0;e.length>=2&&StringPrototypeCharCodeAt(e,1)===CHAR_COLON&&isWindowsDeviceRoot(StringPrototypeCharCodeAt(e,0))&&(t=f=2);for(let n=e.length-1;n>=t;--n){const o=StringPrototypeCharCodeAt(e,n);if(isPathSeparator(o)){if(!l){f=n+1;break}continue}r===-1&&(l=!1,r=n+1),o===CHAR_DOT?i===-1?i=n:s!==1&&(s=1):i!==-1&&(s=-1)}return i===-1||r===-1||s===0||s===1&&i===r-1&&i===f+1?"":StringPrototypeSlice(e,i,r)},format:FunctionPrototypeBind(_format,null,"\\"),parse(e){validateString(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;const i=e.length;let f=0,r=StringPrototypeCharCodeAt(e,0);if(i===1)return isPathSeparator(r)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(isPathSeparator(r)){if(f=1,isPathSeparator(StringPrototypeCharCodeAt(e,1))){let c=2,d=c;for(;c<i&&!isPathSeparator(StringPrototypeCharCodeAt(e,c));)c++;if(c<i&&c!==d){for(d=c;c<i&&isPathSeparator(StringPrototypeCharCodeAt(e,c));)c++;if(c<i&&c!==d){for(d=c;c<i&&!isPathSeparator(StringPrototypeCharCodeAt(e,c));)c++;c===i?f=c:c!==d&&(f=c+1)}}}}else if(isWindowsDeviceRoot(r)&&StringPrototypeCharCodeAt(e,1)===CHAR_COLON){if(i<=2)return t.root=t.dir=e,t;if(f=2,isPathSeparator(StringPrototypeCharCodeAt(e,2))){if(i===3)return t.root=t.dir=e,t;f=3}}f>0&&(t.root=StringPrototypeSlice(e,0,f));let l=-1,s=f,n=-1,o=!0,u=e.length-1,g=0;for(;u>=f;--u){if(r=StringPrototypeCharCodeAt(e,u),isPathSeparator(r)){if(!o){s=u+1;break}continue}n===-1&&(o=!1,n=u+1),r===CHAR_DOT?l===-1?l=u:g!==1&&(g=1):l!==-1&&(g=-1)}return n!==-1&&(l===-1||g===0||g===1&&l===n-1&&l===s+1?t.base=t.name=StringPrototypeSlice(e,s,n):(t.name=StringPrototypeSlice(e,s,l),t.base=StringPrototypeSlice(e,s,n),t.ext=StringPrototypeSlice(e,l,n))),s>0&&s!==f?t.dir=StringPrototypeSlice(e,0,s-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},posixCwd=(()=>{if(platformIsWin32){const e=/\\/g;return()=>{const t=StringPrototypeReplace(process.cwd(),e,"/");return StringPrototypeSlice(t,StringPrototypeIndexOf(t,"/"))}}return()=>process.cwd()})(),posix={resolve(...e){let t="",i=!1;for(let f=e.length-1;f>=-1&&!i;f--){const r=f>=0?e[f]:posixCwd();validateString(r,"path"),r.length!==0&&(t=`${r}/${t}`,i=StringPrototypeCharCodeAt(r,0)===CHAR_FORWARD_SLASH)}return t=normalizeString(t,!i,"/",isPosixPathSeparator),i?`/${t}`:t.length>0?t:"."},normalize(e){if(validateString(e,"path"),e.length===0)return".";const t=StringPrototypeCharCodeAt(e,0)===CHAR_FORWARD_SLASH,i=StringPrototypeCharCodeAt(e,e.length-1)===CHAR_FORWARD_SLASH;return e=normalizeString(e,!t,"/",isPosixPathSeparator),e.length===0?t?"/":i?"./":".":(i&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return validateString(e,"path"),e.length>0&&StringPrototypeCharCodeAt(e,0)===CHAR_FORWARD_SLASH},join(...e){if(e.length===0)return".";let t;for(let i=0;i<e.length;++i){const f=e[i];validateString(f,"path"),f.length>0&&(t===void 0?t=f:t+=`/${f}`)}return t===void 0?".":posix.normalize(t)},relative(e,t){if(validateString(e,"from"),validateString(t,"to"),e===t||(e=posix.resolve(e),t=posix.resolve(t),e===t))return"";const i=1,f=e.length,r=f-i,l=1,s=t.length-l,n=r<s?r:s;let o=-1,u=0;for(;u<n;u++){const c=StringPrototypeCharCodeAt(e,i+u);if(c!==StringPrototypeCharCodeAt(t,l+u))break;c===CHAR_FORWARD_SLASH&&(o=u)}if(u===n)if(s>n){if(StringPrototypeCharCodeAt(t,l+u)===CHAR_FORWARD_SLASH)return StringPrototypeSlice(t,l+u+1);if(u===0)return StringPrototypeSlice(t,l+u)}else r>n&&(StringPrototypeCharCodeAt(e,i+u)===CHAR_FORWARD_SLASH?o=u:u===0&&(o=0));let g="";for(u=i+o+1;u<=f;++u)(u===f||StringPrototypeCharCodeAt(e,u)===CHAR_FORWARD_SLASH)&&(g+=g.length===0?"..":"/..");return`${g}${StringPrototypeSlice(t,l+o)}`},toNamespacedPath(e){return e},dirname(e){if(validateString(e,"path"),e.length===0)return".";const t=StringPrototypeCharCodeAt(e,0)===CHAR_FORWARD_SLASH;let i=-1,f=!0;for(let r=e.length-1;r>=1;--r)if(StringPrototypeCharCodeAt(e,r)===CHAR_FORWARD_SLASH){if(!f){i=r;break}}else f=!1;return i===-1?t?"/":".":t&&i===1?"//":StringPrototypeSlice(e,0,i)},basename(e,t){t!==void 0&&validateString(t,"ext"),validateString(e,"path");let i=0,f=-1,r=!0;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let l=t.length-1,s=-1;for(let n=e.length-1;n>=0;--n){const o=StringPrototypeCharCodeAt(e,n);if(o===CHAR_FORWARD_SLASH){if(!r){i=n+1;break}}else s===-1&&(r=!1,s=n+1),l>=0&&(o===StringPrototypeCharCodeAt(t,l)?--l==-1&&(f=n):(l=-1,f=s))}return i===f?f=s:f===-1&&(f=e.length),StringPrototypeSlice(e,i,f)}for(let l=e.length-1;l>=0;--l)if(StringPrototypeCharCodeAt(e,l)===CHAR_FORWARD_SLASH){if(!r){i=l+1;break}}else f===-1&&(r=!1,f=l+1);return f===-1?"":StringPrototypeSlice(e,i,f)},extname(e){validateString(e,"path");let t=-1,i=0,f=-1,r=!0,l=0;for(let s=e.length-1;s>=0;--s){const n=StringPrototypeCharCodeAt(e,s);if(n===CHAR_FORWARD_SLASH){if(!r){i=s+1;break}continue}f===-1&&(r=!1,f=s+1),n===CHAR_DOT?t===-1?t=s:l!==1&&(l=1):t!==-1&&(l=-1)}return t===-1||f===-1||l===0||l===1&&t===f-1&&t===i+1?"":StringPrototypeSlice(e,t,f)},format:FunctionPrototypeBind(_format,null,"/"),parse(e){validateString(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;const i=StringPrototypeCharCodeAt(e,0)===CHAR_FORWARD_SLASH;let f;i?(t.root="/",f=1):f=0;let r=-1,l=0,s=-1,n=!0,o=e.length-1,u=0;for(;o>=f;--o){const g=StringPrototypeCharCodeAt(e,o);if(g===CHAR_FORWARD_SLASH){if(!n){l=o+1;break}continue}s===-1&&(n=!1,s=o+1),g===CHAR_DOT?r===-1?r=o:u!==1&&(u=1):r!==-1&&(u=-1)}if(s!==-1){const g=l===0&&i?1:l;r===-1||u===0||u===1&&r===s-1&&r===l+1?t.base=t.name=StringPrototypeSlice(e,g,s):(t.name=StringPrototypeSlice(e,g,r),t.base=StringPrototypeSlice(e,g,s),t.ext=StringPrototypeSlice(e,r,s))}return l>0?t.dir=StringPrototypeSlice(e,0,l-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};posix.win32=win32.win32=win32,posix.posix=win32.posix=posix,win32._makeLong=win32.toNamespacedPath,posix._makeLong=posix.toNamespacedPath,module.exports=platformIsWin32?win32:posix;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectDefineProperty}=primordials,{constants}=internalBinding("performance"),{PerformanceEntry}=require("internal/perf/performance_entry"),{PerformanceObserver,PerformanceObserverEntryList}=require("internal/perf/observe"),{PerformanceMark,PerformanceMeasure}=require("internal/perf/usertiming"),{InternalPerformance}=require("internal/perf/performance"),{createHistogram}=require("internal/histogram"),monitorEventLoopDelay=require("internal/perf/event_loop_delay");module.exports={PerformanceEntry,PerformanceMark,PerformanceMeasure,PerformanceObserver,PerformanceObserverEntryList,monitorEventLoopDelay,createHistogram,performance:new InternalPerformance},ObjectDefineProperty(module.exports,"constants",{configurable:!1,enumerable:!0,value:constants});
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";module.exports=process;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{getOptionValue}=require("internal/options");getOptionValue("--pending-deprecation")&&process.emitWarning("The `punycode` module is deprecated. Please use a userland alternative instead.","DeprecationWarning","DEP0040");const maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\0-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(e){throw new RangeError(errors[e])}function map(e,t){const o=[];let n=e.length;for(;n--;)o[n]=t(e[n]);return o}function mapDomain(e,t){const o=e.split("@");let n="";o.length>1&&(n=o[0]+"@",e=o[1]),e=e.replace(regexSeparators,".");const s=e.split("."),c=map(s,t).join(".");return n+c}function ucs2decode(e){const t=[];let o=0;const n=e.length;for(;o<n;){const s=e.charCodeAt(o++);if(s>=55296&&s<=56319&&o<n){const c=e.charCodeAt(o++);(c&64512)==56320?t.push(((s&1023)<<10)+(c&1023)+65536):(t.push(s),o--)}else t.push(s)}return t}const ucs2encode=e=>String.fromCodePoint(...e),basicToDigit=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:base},digitToBasic=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},adapt=function(e,t,o){let n=0;for(e=o?floor(e/damp):e>>1,e+=floor(e/t);e>baseMinusTMin*tMax>>1;n+=base)e=floor(e/baseMinusTMin);return floor(n+(baseMinusTMin+1)*e/(e+skew))},decode=function(e){const t=[],o=e.length;let n=0,s=initialN,c=initialBias,l=e.lastIndexOf(delimiter);l<0&&(l=0);for(let r=0;r<l;++r)e.charCodeAt(r)>=128&&error("not-basic"),t.push(e.charCodeAt(r));for(let r=l>0?l+1:0;r<o;){let i=n;for(let u=1,f=base;;f+=base){r>=o&&error("invalid-input");const a=basicToDigit(e.charCodeAt(r++));(a>=base||a>floor((maxInt-n)/u))&&error("overflow"),n+=a*u;const h=f<=c?tMin:f>=c+tMax?tMax:f-c;if(a<h)break;const x=base-h;u>floor(maxInt/x)&&error("overflow"),u*=x}const d=t.length+1;c=adapt(n-i,d,i==0),floor(n/d)>maxInt-s&&error("overflow"),s+=floor(n/d),n%=d,t.splice(n++,0,s)}return String.fromCodePoint(...t)},encode=function(e){const t=[];e=ucs2decode(e);let o=e.length,n=initialN,s=0,c=initialBias;for(const i of e)i<128&&t.push(stringFromCharCode(i));let l=t.length,r=l;for(l&&t.push(delimiter);r<o;){let i=maxInt;for(const u of e)u>=n&&u<i&&(i=u);const d=r+1;i-n>floor((maxInt-s)/d)&&error("overflow"),s+=(i-n)*d,n=i;for(const u of e)if(u<n&&++s>maxInt&&error("overflow"),u===n){let f=s;for(let a=base;;a+=base){const h=a<=c?tMin:a>=c+tMax?tMax:a-c;if(f<h)break;const x=f-h,p=base-h;t.push(stringFromCharCode(digitToBasic(h+x%p,0))),f=floor(x/p)}t.push(stringFromCharCode(digitToBasic(f,0))),c=adapt(s,d,r===l),s=0,++r}++s,++n}return t.join("")},toUnicode=function(e){return mapDomain(e,function(t){return regexPunycode.test(t)?decode(t.slice(4).toLowerCase()):t})},toASCII=function(e){return mapDomain(e,function(t){return regexNonASCII.test(t)?"xn--"+encode(t):t})},punycode={version:"2.1.0",ucs2:{decode:ucs2decode,encode:ucs2encode},decode,encode,toASCII,toUnicode};module.exports=punycode;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Array,ArrayIsArray,Int8Array,MathAbs,NumberIsFinite,ObjectCreate,ObjectKeys,String,StringPrototypeCharCodeAt,StringPrototypeSlice,decodeURIComponent}=primordials,{Buffer}=require("buffer"),{encodeStr,hexTable,isHexTable}=require("internal/querystring"),QueryString=module.exports={unescapeBuffer,unescape:qsUnescape,escape:qsEscape,stringify,encode:stringify,parse,decode:parse},unhexTable=new Int8Array([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]);function unescapeBuffer(e,n){const t=Buffer.allocUnsafe(e.length);let i=0,f=0,c,s,m,o;const p=e.length-2;let d=!1;for(;i<e.length;){if(c=StringPrototypeCharCodeAt(e,i),c===43&&n){t[f++]=32,i++;continue}if(c===37&&i<p)if(c=StringPrototypeCharCodeAt(e,++i),m=unhexTable[c],m>=0)s=StringPrototypeCharCodeAt(e,++i),o=unhexTable[s],o>=0?(d=!0,c=m*16+o):(t[f++]=37,i--);else{t[f++]=37;continue}t[f++]=c,i++}return d?t.slice(0,f):t}function qsUnescape(e,n){try{return decodeURIComponent(e)}catch{return QueryString.unescapeBuffer(e,n).toString()}}const noEscape=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0]);function qsEscape(e){return typeof e!="string"&&(typeof e=="object"?e=String(e):e+=""),encodeStr(e,noEscape,hexTable)}function stringifyPrimitive(e){return typeof e=="string"?e:typeof e=="number"&&NumberIsFinite(e)||typeof e=="bigint"?""+e:typeof e=="boolean"?e?"true":"false":""}function encodeStringified(e,n){return typeof e=="string"?e.length?n(e):"":typeof e=="number"&&NumberIsFinite(e)?MathAbs(e)<1e21?""+e:n(""+e):typeof e=="bigint"?""+e:typeof e=="boolean"?e?"true":"false":""}function encodeStringifiedCustom(e,n){return n(stringifyPrimitive(e))}function stringify(e,n,t,i){n=n||"&",t=t||"=";let f=QueryString.escape;i&&typeof i.encodeURIComponent=="function"&&(f=i.encodeURIComponent);const c=f===qsEscape?encodeStringified:encodeStringifiedCustom;if(e!==null&&typeof e=="object"){const s=ObjectKeys(e),m=s.length;let o="";for(let p=0;p<m;++p){const d=s[p],y=e[d];let r=c(d,f);if(r+=t,ArrayIsArray(y)){const a=y.length;if(a===0)continue;o&&(o+=n);for(let l=0;l<a;++l)l&&(o+=n),o+=r,o+=c(y[l],f)}else o&&(o+=n),o+=r,o+=c(y,f)}return o}return""}function charCodes(e){if(e.length===0)return[];if(e.length===1)return[StringPrototypeCharCodeAt(e,0)];const n=new Array(e.length);for(let t=0;t<e.length;++t)n[t]=StringPrototypeCharCodeAt(e,t);return n}const defSepCodes=[38],defEqCodes=[61];function addKeyVal(e,n,t,i,f,c){if(n.length>0&&i&&(n=decodeStr(n,c)),t.length>0&&f&&(t=decodeStr(t,c)),e[n]===void 0)e[n]=t;else{const s=e[n];s.pop?s[s.length]=t:e[n]=[s,t]}}function parse(e,n,t,i){const f=ObjectCreate(null);if(typeof e!="string"||e.length===0)return f;const c=n?charCodes(String(n)):defSepCodes,s=t?charCodes(String(t)):defEqCodes,m=c.length,o=s.length;let p=1e3;i&&typeof i.maxKeys=="number"&&(p=i.maxKeys>0?i.maxKeys:-1);let d=QueryString.unescape;i&&typeof i.decodeURIComponent=="function"&&(d=i.decodeURIComponent);const y=d!==qsUnescape;let r=0,a=0,l=0,g="",x="",I=y,S=y;const U=y?"%20":" ";let h=0;for(let u=0;u<e.length;++u){const C=StringPrototypeCharCodeAt(e,u);if(C===c[a]){if(++a===m){const b=u-a+1;if(l<o){if(r<b)g+=StringPrototypeSlice(e,r,b);else if(g.length===0){if(--p==0)return f;r=u+1,a=l=0;continue}}else r<b&&(x+=StringPrototypeSlice(e,r,b));if(addKeyVal(f,g,x,I,S,d),--p==0)return f;I=S=y,g=x="",h=0,r=u+1,a=l=0}}else{if(a=0,l<o){if(C===s[l]){if(++l===o){const b=u-l+1;r<b&&(g+=StringPrototypeSlice(e,r,b)),h=0,r=u+1}continue}else if(l=0,!I){if(C===37){h=1;continue}else if(h>0)if(isHexTable[C]===1){++h==3&&(I=!0);continue}else h=0}if(C===43){r<u&&(g+=StringPrototypeSlice(e,r,u)),g+=U,r=u+1;continue}}C===43?(r<u&&(x+=StringPrototypeSlice(e,r,u)),x+=U,r=u+1):S||(C===37?h=1:h>0&&(isHexTable[C]===1?++h==3&&(S=!0):h=0))}}if(r<e.length)l<o?g+=StringPrototypeSlice(e,r):a<m&&(x+=StringPrototypeSlice(e,r));else if(l===0&&g.length===0)return f;return addKeyVal(f,g,x,I,S,d),f}function decodeStr(e,n){try{return n(e)}catch{return QueryString.unescape(e,!0)}}
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{DateNow,FunctionPrototypeBind,FunctionPrototypeCall,ObjectDefineProperties,ObjectSetPrototypeOf,Promise,PromiseReject,StringPrototypeSlice}=primordials,{clearLine,clearScreenDown,cursorTo,moveCursor}=require("internal/readline/callbacks"),emitKeypressEvents=require("internal/readline/emitKeypressEvents"),promises=require("readline/promises"),{AbortError}=require("internal/errors"),{inspect}=require("internal/util/inspect"),{promisify}=require("internal/util"),{validateAbortSignal}=require("internal/validators"),{Interface:_Interface,InterfaceConstructor,kAddHistory,kDecoder,kDeleteLeft,kDeleteLineLeft,kDeleteLineRight,kDeleteRight,kDeleteWordLeft,kDeleteWordRight,kGetDisplayPos,kHistoryNext,kHistoryPrev,kInsertString,kLine,kLine_buffer,kMoveCursor,kNormalWrite,kOldPrompt,kOnLine,kPreviousKey,kPrompt,kQuestionCallback,kQuestionCancel,kRefreshLine,kSawKeyPress,kSawReturnAt,kSetRawMode,kTabComplete,kTabCompleter,kTtyWrite,kWordLeft,kWordRight,kWriteToOutput}=require("internal/readline/interface");function Interface(e,t,r,o){if(!(this instanceof Interface))return new Interface(e,t,r,o);if(e?.input&&typeof e.completer=="function"&&e.completer.length!==2){const{completer:i}=e;e.completer=(n,s)=>s(null,i(n))}else if(typeof r=="function"&&r.length!==2){const i=r;r=(n,s)=>s(null,i(n))}FunctionPrototypeCall(InterfaceConstructor,this,e,t,r,o),process.env.TERM==="dumb"&&(this._ttyWrite=FunctionPrototypeBind(_ttyWriteDumb,this))}ObjectSetPrototypeOf(Interface.prototype,_Interface.prototype),ObjectSetPrototypeOf(Interface,_Interface);const superQuestion=_Interface.prototype.question;Interface.prototype.question=function(e,t,r){if(r=typeof t=="function"?t:r,t=typeof t=="object"&&t!==null?t:{},t.signal){if(validateAbortSignal(t.signal,"options.signal"),t.signal.aborted)return;const o=()=>{this[kQuestionCancel]()};t.signal.addEventListener("abort",o,{once:!0});const i=()=>{t.signal.removeEventListener(o)};r=typeof r=="function"?n=>(i(),r(n)):i}typeof r=="function"&&FunctionPrototypeCall(superQuestion,this,e,r)},Interface.prototype.question[promisify.custom]=function(e,t){return t=typeof t=="object"&&t!==null?t:{},t.signal&&t.signal.aborted?PromiseReject(new AbortError):new Promise((r,o)=>{let i=r;if(t.signal){const n=()=>{o(new AbortError)};t.signal.addEventListener("abort",n,{once:!0}),i=s=>{t.signal.removeEventListener("abort",n),r(s)}}this.question(e,t,i)})};function createInterface(e,t,r,o){return new Interface(e,t,r,o)}ObjectDefineProperties(Interface.prototype,{[kSetRawMode]:{get(){return this._setRawMode}},[kOnLine]:{get(){return this._onLine}},[kWriteToOutput]:{get(){return this._writeToOutput}},[kAddHistory]:{get(){return this._addHistory}},[kRefreshLine]:{get(){return this._refreshLine}},[kNormalWrite]:{get(){return this._normalWrite}},[kInsertString]:{get(){return this._insertString}},[kTabComplete]:{get(){return this._tabComplete}},[kWordLeft]:{get(){return this._wordLeft}},[kWordRight]:{get(){return this._wordRight}},[kDeleteLeft]:{get(){return this._deleteLeft}},[kDeleteRight]:{get(){return this._deleteRight}},[kDeleteWordLeft]:{get(){return this._deleteWordLeft}},[kDeleteWordRight]:{get(){return this._deleteWordRight}},[kDeleteLineLeft]:{get(){return this._deleteLineLeft}},[kDeleteLineRight]:{get(){return this._deleteLineRight}},[kLine]:{get(){return this._line}},[kHistoryNext]:{get(){return this._historyNext}},[kHistoryPrev]:{get(){return this._historyPrev}},[kGetDisplayPos]:{get(){return this._getDisplayPos}},[kMoveCursor]:{get(){return this._moveCursor}},[kTtyWrite]:{get(){return this._ttyWrite}},_decoder:{get(){return this[kDecoder]},set(e){this[kDecoder]=e}},_line_buffer:{get(){return this[kLine_buffer]},set(e){this[kLine_buffer]=e}},_oldPrompt:{get(){return this[kOldPrompt]},set(e){this[kOldPrompt]=e}},_previousKey:{get(){return this[kPreviousKey]},set(e){this[kPreviousKey]=e}},_prompt:{get(){return this[kPrompt]},set(e){this[kPrompt]=e}},_questionCallback:{get(){return this[kQuestionCallback]},set(e){this[kQuestionCallback]=e}},_sawKeyPress:{get(){return this[kSawKeyPress]},set(e){this[kSawKeyPress]=e}},_sawReturnAt:{get(){return this[kSawReturnAt]},set(e){this[kSawReturnAt]=e}}}),Interface.prototype._setRawMode=_Interface.prototype[kSetRawMode],Interface.prototype._onLine=_Interface.prototype[kOnLine],Interface.prototype._writeToOutput=_Interface.prototype[kWriteToOutput],Interface.prototype._addHistory=_Interface.prototype[kAddHistory],Interface.prototype._refreshLine=_Interface.prototype[kRefreshLine],Interface.prototype._normalWrite=_Interface.prototype[kNormalWrite],Interface.prototype._insertString=_Interface.prototype[kInsertString],Interface.prototype._tabComplete=function(e){this.pause();const t=StringPrototypeSlice(this.line,0,this.cursor);this.completer(t,(r,o)=>{if(this.resume(),r){this._writeToOutput(`Tab completion error: ${inspect(r)}`);return}this[kTabCompleter](e,o)})},Interface.prototype._wordLeft=_Interface.prototype[kWordLeft],Interface.prototype._wordRight=_Interface.prototype[kWordRight],Interface.prototype._deleteLeft=_Interface.prototype[kDeleteLeft],Interface.prototype._deleteRight=_Interface.prototype[kDeleteRight],Interface.prototype._deleteWordLeft=_Interface.prototype[kDeleteWordLeft],Interface.prototype._deleteWordRight=_Interface.prototype[kDeleteWordRight],Interface.prototype._deleteLineLeft=_Interface.prototype[kDeleteLineLeft],Interface.prototype._deleteLineRight=_Interface.prototype[kDeleteLineRight],Interface.prototype._line=_Interface.prototype[kLine],Interface.prototype._historyNext=_Interface.prototype[kHistoryNext],Interface.prototype._historyPrev=_Interface.prototype[kHistoryPrev],Interface.prototype._getDisplayPos=_Interface.prototype[kGetDisplayPos],Interface.prototype._getCursorPos=_Interface.prototype.getCursorPos,Interface.prototype._moveCursor=_Interface.prototype[kMoveCursor],Interface.prototype._ttyWrite=_Interface.prototype[kTtyWrite];function _ttyWriteDumb(e,t){if(t=t||{},t.name!=="escape"){if(this[kSawReturnAt]&&t.name!=="enter"&&(this[kSawReturnAt]=0),t.ctrl){if(t.name==="c"){this.listenerCount("SIGINT")>0?this.emit("SIGINT"):this.close();return}else if(t.name==="d"){this.close();return}}switch(t.name){case"return":this[kSawReturnAt]=DateNow(),this._line();break;case"enter":(this[kSawReturnAt]===0||DateNow()-this[kSawReturnAt]>this.crlfDelay)&&this._line(),this[kSawReturnAt]=0;break;default:typeof e=="string"&&e&&(this.line+=e,this.cursor+=e.length,this._writeToOutput(e))}}}module.exports={Interface,clearLine,clearScreenDown,createInterface,cursorTo,emitKeypressEvents,moveCursor,promises};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeConcat,ArrayPrototypeFilter,ArrayPrototypeFindIndex,ArrayPrototypeForEach,ArrayPrototypeIncludes,ArrayPrototypeJoin,ArrayPrototypeMap,ArrayPrototypePop,ArrayPrototypePush,ArrayPrototypeReverse,ArrayPrototypeShift,ArrayPrototypeSlice,ArrayPrototypeSome,ArrayPrototypeSort,ArrayPrototypeSplice,ArrayPrototypeUnshift,Boolean,Error,FunctionPrototypeBind,MathMaxApply,NumberIsNaN,NumberParseFloat,ObjectAssign,ObjectCreate,ObjectDefineProperty,ObjectGetOwnPropertyDescriptor,ObjectGetOwnPropertyNames,ObjectGetPrototypeOf,ObjectKeys,ObjectSetPrototypeOf,Promise,PromiseRace,ReflectApply,RegExp,RegExpPrototypeExec,RegExpPrototypeSymbolReplace,RegExpPrototypeTest,SafeSet,SafeWeakSet,StringPrototypeCharAt,StringPrototypeCodePointAt,StringPrototypeEndsWith,StringPrototypeIncludes,StringPrototypeMatch,StringPrototypeRepeat,StringPrototypeReplace,StringPrototypeSlice,StringPrototypeSplit,StringPrototypeStartsWith,StringPrototypeTrim,StringPrototypeTrimLeft,Symbol,SyntaxError,SyntaxErrorPrototype,globalThis}=primordials,{makeRequireFunction,addBuiltinLibsToObject}=require("internal/modules/cjs/helpers"),{isIdentifierStart,isIdentifierChar}=require("internal/deps/acorn/acorn/dist/acorn"),{decorateErrorStack,isError,deprecate}=require("internal/util"),{inspect}=require("internal/util/inspect"),vm=require("vm"),path=require("path"),fs=require("fs"),{Interface}=require("readline"),{commonPrefix}=require("internal/readline/utils"),{Console}=require("console"),CJSModule=require("internal/modules/cjs/loader").Module;let _builtinLibs=ArrayPrototypeFilter(CJSModule.builtinModules,e=>!StringPrototypeStartsWith(e,"_")&&!StringPrototypeIncludes(e,"/"));const nodeSchemeBuiltinLibs=ArrayPrototypeMap(_builtinLibs,e=>`node:${e}`),domain=require("domain");let debug=require("internal/util/debuglog").debuglog("repl",e=>{debug=e});const{codes:{ERR_CANNOT_WATCH_SIGINT,ERR_INVALID_REPL_EVAL_CONFIG,ERR_INVALID_REPL_INPUT,ERR_SCRIPT_EXECUTION_INTERRUPTED},isErrorStackTraceLimitWritable,overrideStackTrace}=require("internal/errors"),{sendInspectorCommand}=require("internal/util/inspector"),{getOptionValue}=require("internal/options"),{validateFunction,validateObject}=require("internal/validators"),experimentalREPLAwait=getOptionValue("--experimental-repl-await"),pendingDeprecation=getOptionValue("--pending-deprecation"),{REPL_MODE_SLOPPY,REPL_MODE_STRICT,isRecoverableError,kStandaloneREPL,setupPreview,setupReverseSearch}=require("internal/repl/utils"),{getOwnNonIndexProperties,propertyFilter:{ALL_PROPERTIES,SKIP_SYMBOLS}}=internalBinding("util"),{startSigintWatchdog,stopSigintWatchdog}=internalBinding("contextify"),history=require("internal/repl/history"),{extensionFormatMap,legacyExtensionFormatMap}=require("internal/modules/esm/get_format");let nextREPLResourceNumber=1;function getREPLResourceName(){return`REPL${nextREPLResourceNumber++}`}let processTopLevelAwait;const globalBuiltins=new SafeSet(vm.runInNewContext("Object.getOwnPropertyNames(globalThis)")),parentModule=module,domainSet=new SafeWeakSet,kBufferedCommandSymbol=Symbol("bufferedCommand"),kContextId=Symbol("contextId");let addedNewListener=!1;try{module.filename=path.resolve("repl")}catch{const e=path.dirname(process.execPath);module.filename=path.resolve(e,"repl")}module.paths=CJSModule._nodeModulePaths(module.filename);const writer=e=>inspect(e,writer.options);writer.options={...inspect.defaultOptions,showProxy:!0};function REPLServer(e,i,r,o,l,p){if(!(this instanceof REPLServer))return new REPLServer(e,i,r,o,l,p);let s;e!==null&&typeof e=="object"?(s={...e},i=s.stream||s.socket,r=s.eval,o=s.useGlobal,l=s.ignoreUndefined,e=s.prompt,p=s.replMode):s={},!s.input&&!s.output&&(i||(i=process),s.input=i.stdin||i,s.output=i.stdout||i),s.terminal===void 0&&(s.terminal=s.output.isTTY),s.terminal=!!s.terminal,s.terminal&&s.useColors===void 0&&(s.output.hasColors?s.useColors=s.output.hasColors():process.env.NODE_DISABLE_COLORS===void 0&&(s.useColors=!0));const y=s.terminal&&(s.preview!==void 0?!!s.preview:!r);if(ObjectDefineProperty(this,"inputStream",{get:pendingDeprecation?deprecate(()=>this.input,"repl.inputStream and repl.outputStream are deprecated. Use repl.input and repl.output instead","DEP0141"):()=>this.input,set:pendingDeprecation?deprecate(a=>this.input=a,"repl.inputStream and repl.outputStream are deprecated. Use repl.input and repl.output instead","DEP0141"):a=>this.input=a,enumerable:!1,configurable:!0}),ObjectDefineProperty(this,"outputStream",{get:pendingDeprecation?deprecate(()=>this.output,"repl.inputStream and repl.outputStream are deprecated. Use repl.input and repl.output instead","DEP0141"):()=>this.output,set:pendingDeprecation?deprecate(a=>this.output=a,"repl.inputStream and repl.outputStream are deprecated. Use repl.input and repl.output instead","DEP0141"):a=>this.output=a,enumerable:!1,configurable:!0}),this.allowBlockingCompletions=!!s.allowBlockingCompletions,this.useColors=!!s.useColors,this._domain=s.domain||domain.create(),this.useGlobal=!!o,this.ignoreUndefined=!!l,this.replMode=p||module.exports.REPL_MODE_SLOPPY,this.underscoreAssigned=!1,this.last=void 0,this.underscoreErrAssigned=!1,this.lastError=void 0,this.breakEvalOnSigint=!!s.breakEvalOnSigint,this.editorMode=!1,this[kContextId]=void 0,this.breakEvalOnSigint&&r)throw new ERR_INVALID_REPL_EVAL_CONFIG;s[kStandaloneREPL]?module.exports.repl=this:addedNewListener||(process.prependListener("newListener",(a,n)=>{if(a==="uncaughtException"&&process.domain&&n.name!=="domainUncaughtExceptionClear"&&domainSet.has(process.domain))throw new ERR_INVALID_REPL_INPUT("Listeners for `uncaughtException` cannot be used in the REPL")}),addedNewListener=!0),domainSet.add(this._domain);const d=["","","","","","","","","",""],m="\0\0\0",h=new RegExp(`^${m}(.*)${m}(.*)${m}(.*)${m}(.*)${m}(.*)${m}(.*)${m}(.*)${m}(.*)${m}(.*)$`);r=r||_;const t=this,f=[];let g=!1;function w(){g=!0}function v(){if(!g)return;g=!1;let a;const n=t.isCompletionEnabled;for(;a=ArrayPrototypeShift(f);){const{0:c,1:E,2:b}=a;switch(c){case"key":{const{0:u,1:x}=E;t.isCompletionEnabled=b,t._ttyWrite(u,x);break}case"close":t.emit("exit");break}if(g)break}t.isCompletionEnabled=n}function _(a,n,c,E){const b=require("internal/process/esm_loader");let u,x,k,R=null,N=!1,D=!1;const W=a;if(RegExpPrototypeTest(/^\s*{/,a)&&!RegExpPrototypeTest(/;\s*$/,a)&&(a=`(${StringPrototypeTrim(a)})
`,N=!0),experimentalREPLAwait&&StringPrototypeIncludes(a,"await")){processTopLevelAwait===void 0&&({processTopLevelAwait}=require("internal/repl/await"));try{const S=processTopLevelAwait(a);S!==null&&(a=S,N=!0,D=!0)}catch(S){let P=!1;if(S.name==="SyntaxError"){let C;try{const{pathToFileURL:I}=require("url");C=I(path.join(process.cwd(),"repl")).href}catch{}const L=RegExpPrototypeSymbolReplace(/\bawait\b/g,a,"");try{vm.createScript(L,{filename:c,displayErrors:!0,importModuleDynamically:async I=>b.esmLoader.import(I,C)})}catch(I){isRecoverableError(I,L)&&(P=!0,R=new Recoverable(S))}}P||(decorateErrorStack(S),R=S)}}if(a===`
`)return E(null);if(R===null){let S;try{const{pathToFileURL:P}=require("url");S=P(path.join(process.cwd(),"repl")).href}catch{}for(;;){try{t.replMode===module.exports.REPL_MODE_STRICT&&!RegExpPrototypeTest(/^\s*$/,a)&&(a=`'use strict'; void 0;
${a}`),x=vm.createScript(a,{filename:c,displayErrors:!0,importModuleDynamically:async P=>b.esmLoader.import(P,S)})}catch(P){if(debug("parse error %j",a,P),N){N=!1,D=!1,a=W,k=P;continue}const C=k||P;isRecoverableError(C,a)?R=new Recoverable(C):R=C}break}}RegExpPrototypeTest(h,ArrayPrototypeJoin(d,m));let F=!1;function B(S,P){if(!F){F=!0;for(let C=1;C<d.length;C+=1)d[C]=RegExp[`$${C}`];E(S,P)}}if(!R){let S;if(t.breakEvalOnSigint){if(!startSigintWatchdog())throw new ERR_CANNOT_WATCH_SIGINT;S=t._setRawMode(!1)}try{try{const P={displayErrors:!1,breakOnSigint:t.breakEvalOnSigint};t.useGlobal?u=x.runInThisContext(P):u=x.runInContext(n,P)}finally{t.breakEvalOnSigint&&(t._setRawMode(S),stopSigintWatchdog()&&t.emit("SIGINT"))}}catch(P){if(R=P,process.domain){debug("not recoverable, send to domain"),process.domain.emit("error",R),process.domain.exit();return}}if(D&&!R){let P;w();let C=u;if(t.breakEvalOnSigint){const L=new Promise((I,z)=>{P=()=>{const K=Error.stackTraceLimit;isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=0);const H=new ERR_SCRIPT_EXECUTION_INTERRUPTED;isErrorStackTraceLimitWritable()&&(Error.stackTraceLimit=K),z(H)},M.add(P)});C=PromiseRace([C,L])}(async()=>{try{const L=await C;B(null,L)}catch(L){if(L&&process.domain){debug("not recoverable, send to domain"),process.domain.emit("error",L),process.domain.exit();return}B(L)}finally{M.delete(P),v()}})()}}(!D||R)&&B(R,u)}t.eval=t._domain.bind(r),t._domain.on("error",function(n){debug("domain error");let c="";if(typeof n=="object"&&n!==null&&(overrideStackTrace.set(n,(E,b)=>{let u;if(typeof b=="object"){const x=ArrayPrototypeFindIndex(ArrayPrototypeReverse(b),k=>k.getFunctionName()===null);u=ArrayPrototypeSplice(b,x+1)}else u=b;return typeof Error.prepareStackTrace=="function"?Error.prepareStackTrace(E,u):(ArrayPrototypePush(u,E),ArrayPrototypeJoin(ArrayPrototypeReverse(u),`
    at `))}),decorateErrorStack(n),n.domainThrown&&(delete n.domain,delete n.domainThrown),isError(n))){if(n.stack)if(n.name==="SyntaxError"){n.stack=StringPrototypeReplace(StringPrototypeReplace(n.stack,/^REPL\d+:\d+\r?\n/,""),/^\s+at\s.*\n?/gm,"");const E="Cannot use import statement outside a module";StringPrototypeIncludes(n.message,E)&&(n.message="Cannot use import statement inside the Node.js REPL, alternatively use dynamic import",n.stack=StringPrototypeReplace(n.stack,/SyntaxError:.*\n/,`SyntaxError: ${n.message}
`))}else t.replMode===module.exports.REPL_MODE_STRICT&&(n.stack=StringPrototypeReplace(n.stack,/(\s+at\s+REPL\d+:)(\d+)/,(E,b,u)=>b+(u-1)));c=t.writer(n),c[0]==="["&&c[c.length-1]==="]"&&(c=StringPrototypeSlice(c,1,-1))}if(t.underscoreErrAssigned||(t.lastError=n),s[kStandaloneREPL]&&process.listenerCount("uncaughtException")!==0)process.nextTick(()=>{process.emit("uncaughtException",n),t.clearBufferedCommand(),t.lines.level=[],t.displayPrompt()});else{c===""&&(c=t.writer(n));const E=StringPrototypeSplit(c,/(?<=\n)/);let b=!1;c="",ArrayPrototypeForEach(E,u=>{!b&&RegExpPrototypeTest(/^\[?([A-Z][a-z0-9_]*)*Error/,u)?(c+=writer.options.breakLength>=u.length?`Uncaught ${u}`:`Uncaught:
${u}`,b=!0):c+=u}),b||(c=`Uncaught${E.length===1?" ":`:
`}${c}`),c+=StringPrototypeEndsWith(c,`
`)?"":`
`,t.output.write(c),t.clearBufferedCommand(),t.lines.level=[],t.displayPrompt()}}),t.clearBufferedCommand();function $(a,n){ReflectApply(complete,t,[a,t.editorMode?t.completeOnEditorMode(n):n])}ReflectApply(Interface,this,[{input:s.input,output:s.output,completer:s.completer||$,terminal:s.terminal,historySize:s.historySize,prompt:e}]),t.resetContext(),this.commands=ObjectCreate(null),defineDefaultCommands(this),t.writer=s.writer||module.exports.writer,t.writer===writer&&(writer.options.colors=t.useColors,s[kStandaloneREPL]&&ObjectDefineProperty(inspect,"replDefaults",{get(){return writer.options},set(a){return validateObject(a,"options"),ObjectAssign(writer.options,a)},enumerable:!0,configurable:!0}));function T(a,n){const c=this.commands[a];return c?(ReflectApply(c.action,this,[n]),!0):!1}t.on("close",function(){if(g){ArrayPrototypePush(f,["close"]);return}t.emit("exit")});let O=!1,q=!1;const M=new SafeSet;t.on("SIGINT",function(){if(M.size>0){for(const E of M)E();return}const n=t.line.length===0;t.clearLine(),_turnOffEditorMode(t);const c=t[kBufferedCommandSymbol];if(!(c&&c.length>0)&&n){if(O){t.close(),O=!1;return}t.output.write(`(To exit, press Ctrl+C again or Ctrl+D or type .exit)
`),O=!0}else O=!1;t.clearBufferedCommand(),t.lines.level=[],t.displayPrompt()}),t.on("line",function(n){if(debug("line %j",n),n=n||"",O=!1,t.editorMode){t[kBufferedCommandSymbol]+=n+`
`;const u=t._sawKeyPress?StringPrototypeMatch(n,/^\s+/):null;if(u){const x=u[0];t.write(x),t.line=x,t.cursor=x.length}ReflectApply(_memory,t,[n]);return}const c=StringPrototypeTrim(n);if(c&&StringPrototypeCharAt(c,0)==="."&&StringPrototypeCharAt(c,1)!=="."&&NumberIsNaN(NumberParseFloat(c))){const u=StringPrototypeMatch(c,/^\.([^\s]+)\s*(.*)$/),x=u&&u[1],k=u&&u[2];if(ReflectApply(T,t,[x,k])===!0)return;if(!t[kBufferedCommandSymbol]){t.output.write(`Invalid REPL keyword
`),b(null);return}}const E=t[kBufferedCommandSymbol]+n+`
`;debug("eval %j",E),t.eval(E,t.context,getREPLResourceName(),b);function b(u,x){if(debug("finish",u,x),ReflectApply(_memory,t,[n]),u&&!t[kBufferedCommandSymbol]&&StringPrototypeStartsWith(StringPrototypeTrim(n),"npm ")){t.output.write(`npm should be run outside of the Node.js REPL, in your normal shell.
(Press Ctrl+D to exit.)
`),t.displayPrompt();return}if(u){if(u instanceof Recoverable&&!q){t[kBufferedCommandSymbol]+=n+`
`,t.displayPrompt();return}t._domain.emit("error",u.err||u)}t.clearBufferedCommand(),q=!1,!u&&arguments.length===2&&(!t.ignoreUndefined||x!==void 0)&&(t.underscoreAssigned||(t.last=x),t.output.write(t.writer(x)+`
`)),u||t.displayPrompt()}}),t.on("SIGCONT",function(){t.editorMode?(t.output.write(`${t._initialPrompt}.editor
`),t.output.write(`// Entering editor mode (Ctrl+D to finish, Ctrl+C to cancel)
`),t.output.write(`${t[kBufferedCommandSymbol]}
`),t.prompt(!0)):t.displayPrompt(!0)});const{reverseSearch:G}=setupReverseSearch(this),{clearPreview:j,showPreview:U}=setupPreview(this,kContextId,kBufferedCommandSymbol,y),A=FunctionPrototypeBind(t._ttyWrite,t);t._ttyWrite=(a,n)=>{if(n=n||{},g&&!(t.breakEvalOnSigint&&n.ctrl&&n.name==="c")){ArrayPrototypePush(f,["key",[a,n],t.isCompletionEnabled]);return}if(!t.editorMode||!t.terminal){n.ctrl&&n.name==="d"&&t.cursor===0&&t.line.length===0&&t.clearLine(),j(n),G(a,n)||(A(a,n),U());return}if(n.ctrl&&!n.shift)switch(n.name){case"d":_turnOffEditorMode(t),q=!0,A(a,{name:"return"});break;case"n":case"p":break;default:A(a,n)}else switch(n.name){case"up":case"down":break;case"tab":t._previousKey=null,A(a,n);break;default:A(a,n)}},t.displayPrompt()}ObjectSetPrototypeOf(REPLServer.prototype,Interface.prototype),ObjectSetPrototypeOf(REPLServer,Interface);function start(e,i,r,o,l,p){return new REPLServer(e,i,r,o,l,p)}REPLServer.prototype.setupHistory=function(i,r){history(this,i,r)},REPLServer.prototype.clearBufferedCommand=function(){this[kBufferedCommandSymbol]=""},REPLServer.prototype.close=function(){if(this.terminal&&this._flushing&&!this._closingOnFlush){this._closingOnFlush=!0,this.once("flushHistory",()=>ReflectApply(Interface.prototype.close,this,[]));return}process.nextTick(()=>ReflectApply(Interface.prototype.close,this,[]))},REPLServer.prototype.createContext=function(){let e;if(this.useGlobal)e=globalThis;else{sendInspectorCommand(o=>{o.post("Runtime.enable"),o.once("Runtime.executionContextCreated",({params:l})=>{this[kContextId]=l.context.id}),e=vm.createContext(),o.post("Runtime.disable")},()=>{e=vm.createContext()}),ArrayPrototypeForEach(ObjectGetOwnPropertyNames(globalThis),o=>{globalBuiltins.has(o)||ObjectDefineProperty(e,o,ObjectGetOwnPropertyDescriptor(globalThis,o))}),e.global=e;const r=new Console(this.output);ObjectDefineProperty(e,"console",{configurable:!0,writable:!0,value:r})}const i=new CJSModule("<repl>");return i.paths=CJSModule._resolveLookupPaths("<repl>",parentModule),ObjectDefineProperty(e,"module",{configurable:!0,writable:!0,value:i}),ObjectDefineProperty(e,"require",{configurable:!0,writable:!0,value:makeRequireFunction(i)}),addBuiltinLibsToObject(e,"<REPL>"),e},REPLServer.prototype.resetContext=function(){this.context=this.createContext(),this.underscoreAssigned=!1,this.underscoreErrAssigned=!1,this.lines=[],this.lines.level=[],ObjectDefineProperty(this.context,"_",{configurable:!0,get:()=>this.last,set:e=>{this.last=e,this.underscoreAssigned||(this.underscoreAssigned=!0,this.output.write(`Expression assignment to _ now disabled.
`))}}),ObjectDefineProperty(this.context,"_error",{configurable:!0,get:()=>this.lastError,set:e=>{this.lastError=e,this.underscoreErrAssigned||(this.underscoreErrAssigned=!0,this.output.write(`Expression assignment to _error now disabled.
`))}}),this.emit("reset",this.context)},REPLServer.prototype.displayPrompt=function(e){let i=this._initialPrompt;if(this[kBufferedCommandSymbol].length){i="...";const r=this.lines.level.length?this.lines.level.length-1:0;i+=StringPrototypeRepeat("..",r)+" "}ReflectApply(Interface.prototype.setPrompt,this,[i]),this.prompt(e)},REPLServer.prototype.setPrompt=function(i){this._initialPrompt=i,ReflectApply(Interface.prototype.setPrompt,this,[i])};const importRE=/\bimport\s*\(\s*['"`](([\w@./:-]+\/)?(?:[\w@./:-]*))(?![^'"`])$/,requireRE=/\brequire\s*\(\s*['"`](([\w@./:-]+\/)?(?:[\w@./:-]*))(?![^'"`])$/,fsAutoCompleteRE=/fs(?:\.promises)?\.\s*[a-z][a-zA-Z]+\(\s*["'](.*)/,simpleExpressionRE=/(?:[a-zA-Z_$](?:\w|\$)*\??\.)*[a-zA-Z_$](?:\w|\$)*\??\.?$/,versionedFileNamesRe=/-\d+\.\d+/;function isIdentifier(e){if(e==="")return!1;const i=StringPrototypeCodePointAt(e,0);if(!isIdentifierStart(i))return!1;const r=i>65535?2:1;for(let o=r;o<e.length;o+=1){const l=StringPrototypeCodePointAt(e,o);if(!isIdentifierChar(l))return!1;l>65535&&(o+=1)}return!0}function isNotLegacyObjectPrototypeMethod(e){return isIdentifier(e)&&e!=="__defineGetter__"&&e!=="__defineSetter__"&&e!=="__lookupGetter__"&&e!=="__lookupSetter__"}function filteredOwnPropertyNames(e){if(!e)return[];let i=!1;if(ObjectGetPrototypeOf(e)===null){const o=ObjectGetOwnPropertyDescriptor(e,"constructor");if(o&&o.value){const l=ObjectGetPrototypeOf(o.value);i=l&&ObjectGetPrototypeOf(l)===e}}const r=ALL_PROPERTIES|SKIP_SYMBOLS;return ArrayPrototypeFilter(getOwnNonIndexProperties(e,r),i?isNotLegacyObjectPrototypeMethod:isIdentifier)}function getGlobalLexicalScopeNames(e){return sendInspectorCommand(i=>{let r=[];return i.post("Runtime.globalLexicalScopeNames",{executionContextId:e},(o,l)=>{o||(r=l.names)}),r},()=>[])}REPLServer.prototype.complete=function(){ReflectApply(this.completer,this,arguments)};function gracefulReaddir(...e){try{return ReflectApply(fs.readdirSync,null,e)}catch{}}function completeFSFunctions(e){let i="",r=StringPrototypeMatch(e,fsAutoCompleteRE)[1],o=gracefulReaddir(r,{withFileTypes:!0});return o||(i=path.basename(r),r=path.dirname(r),o=gracefulReaddir(r,{withFileTypes:!0})||[]),[[ArrayPrototypeMap(ArrayPrototypeFilter(o,p=>StringPrototypeStartsWith(p.name,i)),p=>p.name)],i]}function complete(e,i){let r=[],o,l;e=StringPrototypeTrimLeft(e);let p="";if(RegExpPrototypeTest(/^\s*\.(\w*)$/,e))ArrayPrototypePush(r,ObjectKeys(this.commands)),o=StringPrototypeMatch(e,/^\s*\.(\w*)$/)[1],o.length&&(p=o);else if(RegExpPrototypeTest(requireRE,e)&&this.allowBlockingCompletions){const y=ObjectKeys(this.context.require.extensions),d=ArrayPrototypeMap(y,f=>`index${f}`);ArrayPrototypePush(d,"package.json","index");const m=StringPrototypeMatch(e,requireRE);o=m[1];const h=m[2]||"";p=o,l=[];let t=[];o==="."?l=["./","../"]:o===".."?l=["../"]:RegExpPrototypeTest(/^\.\.?\//,o)?t=[process.cwd()]:t=ArrayPrototypeConcat(module.paths,CJSModule.globalPaths),ArrayPrototypeForEach(t,f=>{f=path.resolve(f,h);const g=gracefulReaddir(f,{withFileTypes:!0})||[];ArrayPrototypeForEach(g,w=>{if(RegExpPrototypeTest(versionedFileNamesRe,w.name)||w.name===".npm")return;const v=path.extname(w.name),_=StringPrototypeSlice(w.name,0,-v.length);if(!w.isDirectory()){StringPrototypeIncludes(y,v)&&(!h||_!=="index")&&ArrayPrototypePush(l,`${h}${_}`);return}ArrayPrototypePush(l,`${h}${w.name}/`);const $=path.resolve(f,w.name);ArrayPrototypeSome(gracefulReaddir($)||[],T=>ArrayPrototypeIncludes(d,T))&&ArrayPrototypePush(l,`${h}${w.name}`)})}),l.length&&ArrayPrototypePush(r,l),h||ArrayPrototypePush(r,_builtinLibs,nodeSchemeBuiltinLibs)}else if(RegExpPrototypeTest(importRE,e)&&this.allowBlockingCompletions){const y=ObjectKeys(getOptionValue("--experimental-specifier-resolution")==="node"?legacyExtensionFormatMap:extensionFormatMap),d=ArrayPrototypeMap(y,f=>`index${f}`);ArrayPrototypePush(d,"package.json");const m=StringPrototypeMatch(e,importRE);o=m[1];const h=m[2]||"";p=o,l=[];let t=[];o==="."?l=["./","../"]:o===".."?l=["../"]:RegExpPrototypeTest(/^\.\.?\//,o)?t=[process.cwd()]:t=ArrayPrototypeSlice(module.paths),ArrayPrototypeForEach(t,f=>{f=path.resolve(f,h);const g=path.basename(f)==="node_modules",w=gracefulReaddir(f,{withFileTypes:!0})||[];ArrayPrototypeForEach(w,v=>{const{name:_}=v;if(!(RegExpPrototypeTest(versionedFileNamesRe,_)||_===".npm")){if(!v.isDirectory()){const $=path.extname(_);StringPrototypeIncludes(y,$)&&ArrayPrototypePush(l,`${h}${_}`);return}if(ArrayPrototypePush(l,`${h}${_}/`),!h&&g){const $=path.resolve(f,_),T=gracefulReaddir($)||[];ArrayPrototypeSome(T,O=>ArrayPrototypeIncludes(d,O))&&ArrayPrototypePush(l,`${h}${_}`)}}})}),l.length&&ArrayPrototypePush(r,l),h||ArrayPrototypePush(r,_builtinLibs,nodeSchemeBuiltinLibs)}else if(RegExpPrototypeTest(fsAutoCompleteRE,e)&&this.allowBlockingCompletions)({0:r,1:o}=completeFSFunctions(e));else if(e.length===0||RegExpPrototypeTest(/\w|\.|\$/,e[e.length-1])){const{0:y}=RegExpPrototypeExec(simpleExpressionRE,e)||[""];if(e.length!==0&&!y){s();return}let d="";if(o=y,StringPrototypeEndsWith(e,"."))d=StringPrototypeSlice(y,0,-1);else if(e.length!==0){const f=StringPrototypeSplit(y,".");p=ArrayPrototypePop(f),d=ArrayPrototypeJoin(f,".")}if(!d){ArrayPrototypePush(r,getGlobalLexicalScopeNames(this[kContextId]));let f=this.context;for(;f=ObjectGetPrototypeOf(f);)ArrayPrototypePush(r,filteredOwnPropertyNames(f));const g=filteredOwnPropertyNames(this.context);this.useGlobal||ArrayPrototypePush(g,...globalBuiltins),ArrayPrototypePush(r,g),p!==""&&addCommonWords(r),s();return}let m=".";StringPrototypeEndsWith(d,"?")&&(d=StringPrototypeSlice(d,0,-1),m="?.");const h=[],t=`try { ${d} } catch {}`;this.eval(t,this.context,getREPLResourceName(),(f,g)=>{try{let w;typeof g=="object"&&g!==null||typeof g=="function"?(h.push(filteredOwnPropertyNames(g)),w=ObjectGetPrototypeOf(g)):w=g.constructor?g.constructor.prototype:null;let v=5;for(;w!==null&&v--!=0;)h.push(filteredOwnPropertyNames(w)),w=ObjectGetPrototypeOf(w)}catch{}h.length&&(d+=m,ArrayPrototypeForEach(h,w=>{ArrayPrototypePush(r,ArrayPrototypeMap(w,v=>`${d}${v}`))}),p&&(p=`${d}${p}`)),s()});return}return s();function s(){if(r.length&&p){const m=[];ArrayPrototypeForEach(r,h=>{const t=ArrayPrototypeFilter(h,f=>StringPrototypeStartsWith(f,p));t.length&&ArrayPrototypePush(m,t)}),r=m}const y=[],d=new SafeSet;d.add(""),ArrayPrototypeForEach(r,m=>{ArrayPrototypeSort(m,(t,f)=>f>t?1:-1);const h=d.size;ArrayPrototypeForEach(m,t=>{d.has(t)||(ArrayPrototypeUnshift(y,t),d.add(t))}),d.size!==h&&ArrayPrototypeUnshift(y,"")}),y[0]===""&&ArrayPrototypeShift(y),i(null,[y,o])}}REPLServer.prototype.completeOnEditorMode=e=>(i,r)=>{if(i)return e(i);const{0:o,1:l=""}=r;let p=ArrayPrototypeFilter(o,Boolean);l&&p.length!==0&&(p=[commonPrefix(p)]),e(null,[p,l])},REPLServer.prototype.defineCommand=function(e,i){typeof i=="function"?i={action:i}:validateFunction(i.action,"cmd.action"),this.commands[e]=i};function _memory(e){const i=this;if(i.lines=i.lines||[],i.lines.level=i.lines.level||[],e){const p=i.lines.level.length?i.lines.level.length-1:0;ArrayPrototypePush(i.lines,StringPrototypeRepeat("  ",p)+e)}else ArrayPrototypePush(i.lines,"");if(!e){i.lines.level=[];return}let r=StringPrototypeMatch(e,/[{(]/g),o=StringPrototypeMatch(e,/[})]/g);o=o?o.length:0,r=r?r.length:0;let l=r-o;l&&function p(){if(l>0)ArrayPrototypePush(i.lines.level,{line:i.lines.length-1,depth:l});else if(l<0){const s=ArrayPrototypePop(i.lines.level);if(s){const y=s.depth+l;y<0?(l+=s.depth,p()):y>0&&(s.depth+=l,ArrayPrototypePush(i.lines.level,s))}}}()}function addCommonWords(e){ArrayPrototypePush(e,["async","await","break","case","catch","const","continue","debugger","default","delete","do","else","export","false","finally","for","function","if","import","in","instanceof","let","new","null","return","switch","this","throw","true","try","typeof","var","void","while","with","yield"])}function _turnOnEditorMode(e){e.editorMode=!0,ReflectApply(Interface.prototype.setPrompt,e,[""])}function _turnOffEditorMode(e){e.editorMode=!1,e.setPrompt(e._initialPrompt)}function defineDefaultCommands(e){e.defineCommand("break",{help:"Sometimes you get stuck, this gets you out",action:function(){this.clearBufferedCommand(),this.displayPrompt()}});let i;e.useGlobal?i="Alias for .break":i="Break, and also clear the local context",e.defineCommand("clear",{help:i,action:function(){this.clearBufferedCommand(),this.useGlobal||(this.output.write(`Clearing context...
`),this.resetContext()),this.displayPrompt()}}),e.defineCommand("exit",{help:"Exit the REPL",action:function(){this.close()}}),e.defineCommand("help",{help:"Print this help message",action:function(){const r=ArrayPrototypeSort(ObjectKeys(this.commands)),o=MathMaxApply(ArrayPrototypeMap(r,l=>l.length));ArrayPrototypeForEach(r,l=>{const p=this.commands[l],s=StringPrototypeRepeat(" ",o-l.length+3),y=`.${l}${p.help?s+p.help:""}
`;this.output.write(y)}),this.output.write(`
Press Ctrl+C to abort current expression, Ctrl+D to exit the REPL
`),this.displayPrompt()}}),e.defineCommand("save",{help:"Save all evaluated commands in this REPL session to a file",action:function(r){try{fs.writeFileSync(r,ArrayPrototypeJoin(this.lines,`
`)),this.output.write(`Session saved to: ${r}
`)}catch{this.output.write(`Failed to save: ${r}
`)}this.displayPrompt()}}),e.defineCommand("load",{help:"Load JS from a file into the REPL session",action:function(r){try{const o=fs.statSync(r);if(o&&o.isFile()){_turnOnEditorMode(this);const l=fs.readFileSync(r,"utf8");this.write(l),_turnOffEditorMode(this),this.write(`
`)}else this.output.write(`Failed to load: ${r} is not a valid file
`)}catch{this.output.write(`Failed to load: ${r}
`)}this.displayPrompt()}}),e.terminal&&e.defineCommand("editor",{help:"Enter editor mode",action(){_turnOnEditorMode(this),this.output.write(`// Entering editor mode (Ctrl+D to finish, Ctrl+C to cancel)
`)}})}function Recoverable(e){this.err=e}ObjectSetPrototypeOf(Recoverable.prototype,SyntaxErrorPrototype),ObjectSetPrototypeOf(Recoverable,SyntaxError),module.exports={start,writer,REPLServer,REPL_MODE_SLOPPY,REPL_MODE_STRICT,Recoverable},ObjectDefineProperty(module.exports,"builtinModules",{get:()=>_builtinLibs,set:e=>_builtinLibs=e,enumerable:!0,configurable:!0}),ObjectDefineProperty(module.exports,"_builtinLibs",{get:pendingDeprecation?deprecate(()=>_builtinLibs,"repl._builtinLibs is deprecated. Check module.builtinModules instead","DEP0142"):()=>_builtinLibs,set:pendingDeprecation?deprecate(e=>_builtinLibs=e,"repl._builtinLibs is deprecated. Check module.builtinModules instead","DEP0142"):e=>_builtinLibs=e,enumerable:!1,configurable:!0});
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ObjectDefineProperty}=primordials,{promisify:{custom:customPromisify}}=require("internal/util"),compose=require("internal/streams/compose"),{pipeline}=require("internal/streams/pipeline"),{destroyer}=require("internal/streams/destroy"),eos=require("internal/streams/end-of-stream"),internalBuffer=require("internal/buffer"),promises=require("stream/promises"),Stream=module.exports=require("internal/streams/legacy").Stream;Stream.isDisturbed=require("internal/streams/utils").isDisturbed,Stream.Readable=require("internal/streams/readable"),Stream.Writable=require("internal/streams/writable"),Stream.Duplex=require("internal/streams/duplex"),Stream.Transform=require("internal/streams/transform"),Stream.PassThrough=require("internal/streams/passthrough"),Stream.pipeline=pipeline;const{addAbortSignal}=require("internal/streams/add-abort-signal");Stream.addAbortSignal=addAbortSignal,Stream.finished=eos,Stream.destroy=destroyer,Stream.compose=compose,ObjectDefineProperty(Stream,"promises",{configurable:!0,enumerable:!0,get(){return promises}}),ObjectDefineProperty(pipeline,customPromisify,{enumerable:!0,get(){return promises.pipeline}}),ObjectDefineProperty(eos,customPromisify,{enumerable:!0,get(){return promises.finished}}),Stream.Stream=Stream,Stream._isUint8Array=require("internal/util/types").isUint8Array,Stream._uint8ArrayToBuffer=function(e){return new internalBuffer.FastBuffer(e.buffer,e.byteOffset,e.byteLength)};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayBufferIsView,ObjectDefineProperties,Symbol,TypedArrayPrototypeSubarray}=primordials,{Buffer}=require("buffer"),{kIncompleteCharactersStart,kIncompleteCharactersEnd,kMissingBytes,kBufferedBytes,kEncodingField,kSize,decode,flush,encodings}=internalBinding("string_decoder"),internalUtil=require("internal/util"),{ERR_INVALID_ARG_TYPE,ERR_UNKNOWN_ENCODING}=require("internal/errors").codes,isEncoding=Buffer[internalUtil.kIsEncodingSymbol],kNativeDecoder=Symbol("kNativeDecoder");function normalizeEncoding(e){const t=internalUtil.normalizeEncoding(e);if(t===void 0){if(Buffer.isEncoding===isEncoding||!Buffer.isEncoding(e))throw new ERR_UNKNOWN_ENCODING(e);return e}return t}const encodingsMap={};for(let e=0;e<encodings.length;++e)encodingsMap[encodings[e]]=e;function StringDecoder(e){this.encoding=normalizeEncoding(e),this[kNativeDecoder]=Buffer.alloc(kSize),this[kNativeDecoder][kEncodingField]=encodingsMap[this.encoding]}StringDecoder.prototype.write=function(t){if(typeof t=="string")return t;if(!ArrayBufferIsView(t))throw new ERR_INVALID_ARG_TYPE("buf",["Buffer","TypedArray","DataView"],t);return decode(this[kNativeDecoder],t)},StringDecoder.prototype.end=function(t){let r="";return t!==void 0&&(r=this.write(t)),this[kNativeDecoder][kBufferedBytes]>0&&(r+=flush(this[kNativeDecoder])),r},StringDecoder.prototype.text=function(t,r){return this[kNativeDecoder][kMissingBytes]=0,this[kNativeDecoder][kBufferedBytes]=0,this.write(t.slice(r))},ObjectDefineProperties(StringDecoder.prototype,{lastChar:{configurable:!0,enumerable:!0,get(){return TypedArrayPrototypeSubarray(this[kNativeDecoder],kIncompleteCharactersStart,kIncompleteCharactersEnd)}},lastNeed:{configurable:!0,enumerable:!0,get(){return this[kNativeDecoder][kMissingBytes]}},lastTotal:{configurable:!0,enumerable:!0,get(){return this[kNativeDecoder][kBufferedBytes]+this[kNativeDecoder][kMissingBytes]}}}),exports.StringDecoder=StringDecoder;
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";module.exports=require("util"),process.emitWarning("sys is deprecated. Use util instead.","DeprecationWarning","DEP0025");
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{MathTrunc,ObjectCreate,ObjectDefineProperty,SymbolToPrimitive}=primordials,{immediateInfo,toggleImmediateRef}=internalBinding("timers"),L=require("internal/linkedlist"),{async_id_symbol,Timeout,Immediate,decRefCount,immediateInfoFields:{kCount,kRefCount},kRefed,kHasPrimitive,getTimerDuration,timerListMap,timerListQueue,immediateQueue,active,unrefActive,insert}=require("internal/timers"),{promisify:{custom:customPromisify},deprecate}=require("internal/util");let debug=require("internal/util/debuglog").debuglog("timer",e=>{debug=e});const{validateCallback}=require("internal/validators");let timersPromises;const{destroyHooksExist,emitDestroy}=require("internal/async_hooks"),knownTimersById=ObjectCreate(null);function unenroll(e){if(!e._destroyed){if(e._destroyed=!0,e[kHasPrimitive]&&delete knownTimersById[e[async_id_symbol]],destroyHooksExist()&&e[async_id_symbol]!==void 0&&emitDestroy(e[async_id_symbol]),L.remove(e),e[kRefed]){const t=MathTrunc(e._idleTimeout),n=timerListMap[t];n!==void 0&&L.isEmpty(n)&&(debug("unenroll: list empty"),timerListQueue.removeAt(n.priorityQueuePosition),delete timerListMap[n.msecs]),decRefCount()}e._idleTimeout=-1}}function enroll(e,t){t=getTimerDuration(t,"msecs"),e._idleNext&&unenroll(e),L.init(e),e._idleTimeout=t}function setTimeout(e,t,n,u,s){validateCallback(e);let r,i;switch(arguments.length){case 1:case 2:break;case 3:i=[n];break;case 4:i=[n,u];break;default:for(i=[n,u,s],r=5;r<arguments.length;r++)i[r-2]=arguments[r];break}const o=new Timeout(e,t,i,!1,!0);return insert(o,o._idleTimeout),o}ObjectDefineProperty(setTimeout,customPromisify,{enumerable:!0,get(){return timersPromises||(timersPromises=require("timers/promises")),timersPromises.setTimeout}});function clearTimeout(e){if(e&&e._onTimeout){e._onTimeout=null,unenroll(e);return}if(typeof e=="number"||typeof e=="string"){const t=knownTimersById[e];t!==void 0&&(t._onTimeout=null,unenroll(t))}}function setInterval(e,t,n,u,s){validateCallback(e);let r,i;switch(arguments.length){case 1:case 2:break;case 3:i=[n];break;case 4:i=[n,u];break;default:for(i=[n,u,s],r=5;r<arguments.length;r++)i[r-2]=arguments[r];break}const o=new Timeout(e,t,i,!0,!0);return insert(o,o._idleTimeout),o}function clearInterval(e){clearTimeout(e)}Timeout.prototype.close=function(){return clearTimeout(this),this},Timeout.prototype[SymbolToPrimitive]=function(){const e=this[async_id_symbol];return this[kHasPrimitive]||(this[kHasPrimitive]=!0,knownTimersById[e]=this),e};function setImmediate(e,t,n,u){validateCallback(e);let s,r;switch(arguments.length){case 1:break;case 2:r=[t];break;case 3:r=[t,n];break;default:for(r=[t,n,u],s=4;s<arguments.length;s++)r[s-1]=arguments[s];break}return new Immediate(e,r)}ObjectDefineProperty(setImmediate,customPromisify,{enumerable:!0,get(){return timersPromises||(timersPromises=require("timers/promises")),timersPromises.setImmediate}});function clearImmediate(e){!e||e._destroyed||(immediateInfo[kCount]--,e._destroyed=!0,e[kRefed]&&--immediateInfo[kRefCount]==0&&toggleImmediateRef(!1),e[kRefed]=null,destroyHooksExist()&&e[async_id_symbol]!==void 0&&emitDestroy(e[async_id_symbol]),e._onImmediate=null,immediateQueue.remove(e))}module.exports={setTimeout,clearTimeout,setImmediate,clearImmediate,setInterval,clearInterval,_unrefActive:deprecate(unrefActive,"timers._unrefActive() is deprecated. Please use timeout.refresh() instead.","DEP0127"),active:deprecate(active,"timers.active() is deprecated. Please use timeout.refresh() instead.","DEP0126"),unenroll:deprecate(unenroll,"timers.unenroll() is deprecated. Please use clearTimeout instead.","DEP0096"),enroll:deprecate(enroll,"timers.enroll() is deprecated. Please use setTimeout instead.","DEP0095")};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Array,ArrayIsArray,ArrayPrototypeForEach,ArrayPrototypeIncludes,ArrayPrototypeJoin,ArrayPrototypePush,ArrayPrototypeReduce,ArrayPrototypeSome,ObjectDefineProperty,ObjectFreeze,RegExpPrototypeTest,StringFromCharCode,StringPrototypeCharCodeAt,StringPrototypeEndsWith,StringPrototypeIncludes,StringPrototypeReplace,StringPrototypeSlice,StringPrototypeSplit,StringPrototypeStartsWith}=primordials,{ERR_TLS_CERT_ALTNAME_INVALID,ERR_OUT_OF_RANGE}=require("internal/errors").codes,internalUtil=require("internal/util");internalUtil.assertCrypto();const{isArrayBufferView}=require("internal/util/types"),net=require("net"),{getOptionValue}=require("internal/options"),{getRootCertificates,getSSLCiphers}=internalBinding("crypto"),{Buffer}=require("buffer"),{URL}=require("internal/url"),{canonicalizeIP}=internalBinding("cares_wrap"),_tls_common=require("_tls_common"),_tls_wrap=require("_tls_wrap"),{createSecurePair}=require("internal/tls/secure-pair"),{parseCertString}=require("internal/tls/parse-cert-string");exports.CLIENT_RENEG_LIMIT=3,exports.CLIENT_RENEG_WINDOW=600,exports.DEFAULT_CIPHERS=getOptionValue("--tls-cipher-list"),exports.DEFAULT_ECDH_CURVE="auto",getOptionValue("--tls-min-v1.0")?exports.DEFAULT_MIN_VERSION="TLSv1":getOptionValue("--tls-min-v1.1")?exports.DEFAULT_MIN_VERSION="TLSv1.1":getOptionValue("--tls-min-v1.2")?exports.DEFAULT_MIN_VERSION="TLSv1.2":getOptionValue("--tls-min-v1.3")?exports.DEFAULT_MIN_VERSION="TLSv1.3":exports.DEFAULT_MIN_VERSION="TLSv1.2",getOptionValue("--tls-max-v1.3")?exports.DEFAULT_MAX_VERSION="TLSv1.3":getOptionValue("--tls-max-v1.2")?exports.DEFAULT_MAX_VERSION="TLSv1.2":exports.DEFAULT_MAX_VERSION="TLSv1.3",exports.getCiphers=internalUtil.cachedResult(()=>internalUtil.filterDuplicateStrings(getSSLCiphers(),!0));let rootCertificates;function cacheRootCertificates(){rootCertificates=ObjectFreeze(getRootCertificates())}ObjectDefineProperty(exports,"rootCertificates",{configurable:!1,enumerable:!0,get:()=>(rootCertificates||cacheRootCertificates(),rootCertificates)});function convertProtocols(t){const e=new Array(t.length),s=Buffer.allocUnsafe(ArrayPrototypeReduce(t,(i,o,a)=>{const n=Buffer.byteLength(o);if(n>255)throw new ERR_OUT_OF_RANGE(`The byte length of the protocol at index ${a} exceeds the maximum length.`,"<= 255",n,!0);return e[a]=n,i+1+n},0));let r=0;for(let i=0,o=t.length;i<o;i++)s[r++]=e[i],s.write(t[i],r),r+=e[i];return s}exports.convertALPNProtocols=function(e,s){ArrayIsArray(e)?s.ALPNProtocols=convertProtocols(e):isArrayBufferView(e)&&(s.ALPNProtocols=Buffer.from(e))};function unfqdn(t){return StringPrototypeReplace(t,/[.]$/,"")}function toLowerCase(t){return StringFromCharCode(32+StringPrototypeCharCodeAt(t,0))}function splitHost(t){return StringPrototypeSplit(StringPrototypeReplace(unfqdn(t),/[A-Z]/g,toLowerCase),".")}function check(t,e,s){if(!e)return!1;const r=splitHost(e);if(t.length!==r.length||ArrayPrototypeIncludes(r,"")||ArrayPrototypeSome(r,f=>RegExpPrototypeTest(/[^\u0021-\u007F]/u,f)))return!1;for(let f=t.length-1;f>0;f-=1)if(t[f]!==r[f])return!1;const o=t[0],a=r[0],n=StringPrototypeSplit(a,"*");if(n.length===1||StringPrototypeIncludes(a,"xn--"))return o===a;if(!s||n.length>2||r.length<=2)return!1;const{0:c,1:p}=n;return!(c.length+p.length>o.length||!StringPrototypeStartsWith(o,c)||!StringPrototypeEndsWith(o,p))}exports.checkServerIdentity=function(e,s){const r=s.subject,i=s.subjectaltname,o=[],a=[],n=[];if(e=""+e,i){const S=StringPrototypeSplit(i,", ");ArrayPrototypeForEach(S,u=>{if(StringPrototypeStartsWith(u,"DNS:"))ArrayPrototypePush(o,StringPrototypeSlice(u,4));else if(StringPrototypeStartsWith(u,"URI:")){const l=new URL(StringPrototypeSlice(u,4));ArrayPrototypePush(a,l.hostname)}else StringPrototypeStartsWith(u,"IP Address:")&&ArrayPrototypePush(n,canonicalizeIP(StringPrototypeSlice(u,11)))})}let c=!1,p="Unknown reason";const f=o.length>0||n.length>0||a.length>0;if(e=unfqdn(e),net.isIP(e))c=ArrayPrototypeIncludes(n,canonicalizeIP(e)),c||(p=`IP: ${e} is not in the cert's list: `+ArrayPrototypeJoin(n,", "));else if(f||r){const S=splitHost(e),u=l=>check(S,l,!0);if(f){const l=g=>check(S,g,!1);c=ArrayPrototypeSome(o,u)||ArrayPrototypeSome(a,l),c||(p=`Host: ${e}. is not in the cert's altnames: ${i}`)}else{const l=r.CN;ArrayIsArray(l)?c=ArrayPrototypeSome(l,u):l&&(c=u(l)),c||(p=`Host: ${e}. is not cert's CN: ${l}`)}}else p="Cert is empty";if(!c)return new ERR_TLS_CERT_ALTNAME_INVALID(p,e,s)},exports.createSecureContext=_tls_common.createSecureContext,exports.SecureContext=_tls_common.SecureContext,exports.TLSSocket=_tls_wrap.TLSSocket,exports.Server=_tls_wrap.Server,exports.createServer=_tls_wrap.createServer,exports.connect=_tls_wrap.connect,exports.parseCertString=internalUtil.deprecate(parseCertString,"tls.parseCertString() is deprecated. Please use querystring.parse() instead.","DEP0076"),exports.createSecurePair=internalUtil.deprecate(createSecurePair,"tls.createSecurePair() is deprecated. Please use tls.TLSSocket instead.","DEP0064");
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,ArrayPrototypeJoin,SafeSet,Symbol}=primordials,{hasTracing}=internalBinding("config"),kHandle=Symbol("handle"),kEnabled=Symbol("enabled"),kCategories=Symbol("categories"),kMaxTracingCount=10,{ERR_TRACE_EVENTS_CATEGORY_REQUIRED,ERR_TRACE_EVENTS_UNAVAILABLE,ERR_INVALID_ARG_TYPE}=require("internal/errors").codes,{ownsProcessState}=require("internal/worker");if(!hasTracing||!ownsProcessState)throw new ERR_TRACE_EVENTS_UNAVAILABLE;const{CategorySet,getEnabledCategories}=internalBinding("trace_events"),{customInspectSymbol}=require("internal/util"),{format}=require("internal/util/inspect"),{validateObject}=require("internal/validators"),enabledTracingObjects=new SafeSet;class Tracing{constructor(t){this[kHandle]=new CategorySet(t),this[kCategories]=t,this[kEnabled]=!1}enable(){this[kEnabled]||(this[kEnabled]=!0,this[kHandle].enable(),enabledTracingObjects.add(this),enabledTracingObjects.size>kMaxTracingCount&&process.emitWarning(`Possible trace_events memory leak detected. There are more than ${kMaxTracingCount} enabled Tracing objects.`))}disable(){this[kEnabled]&&(this[kEnabled]=!1,this[kHandle].disable(),enabledTracingObjects.delete(this))}get enabled(){return this[kEnabled]}get categories(){return ArrayPrototypeJoin(this[kCategories],",")}[customInspectSymbol](t,n){if(typeof t=="number"&&t<0)return this;const r={enabled:this.enabled,categories:this.categories};return`Tracing ${format(r)}`}}function createTracing(e){if(validateObject(e,"options"),!ArrayIsArray(e.categories))throw new ERR_INVALID_ARG_TYPE("options.categories","string[]",e.categories);if(e.categories.length<=0)throw new ERR_TRACE_EVENTS_CATEGORY_REQUIRED;return new Tracing(e.categories)}module.exports={createTracing,getEnabledCategories};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Array,NumberIsInteger,ObjectSetPrototypeOf}=primordials,net=require("net"),{TTY,isTTY}=internalBinding("tty_wrap"),errors=require("internal/errors"),{ERR_INVALID_FD,ERR_TTY_INIT_FAILED}=errors.codes,{getColorDepth,hasColors}=require("internal/tty");let readline;function isatty(e){return NumberIsInteger(e)&&e>=0&&e<=2147483647&&isTTY(e)}function ReadStream(e,t){if(!(this instanceof ReadStream))return new ReadStream(e,t);if(e>>0!==e||e<0)throw new ERR_INVALID_FD(e);const r={},o=new TTY(e,r);if(r.code!==void 0)throw new ERR_TTY_INIT_FAILED(r);net.Socket.call(this,{readableHighWaterMark:0,handle:o,manualStart:!0,...t}),this.isRaw=!1,this.isTTY=!0}ObjectSetPrototypeOf(ReadStream.prototype,net.Socket.prototype),ObjectSetPrototypeOf(ReadStream,net.Socket),ReadStream.prototype.setRawMode=function(e){e=!!e;const t=this._handle.setRawMode(e);return t?(this.emit("error",errors.errnoException(t,"setRawMode")),this):(this.isRaw=e,this)};function WriteStream(e){if(!(this instanceof WriteStream))return new WriteStream(e);if(e>>0!==e||e<0)throw new ERR_INVALID_FD(e);const t={},r=new TTY(e,t);if(t.code!==void 0)throw new ERR_TTY_INIT_FAILED(t);net.Socket.call(this,{readableHighWaterMark:0,handle:r,manualStart:!0}),this._handle.setBlocking(!0);const o=new Array(2);this._handle.getWindowSize(o)||(this.columns=o[0],this.rows=o[1])}ObjectSetPrototypeOf(WriteStream.prototype,net.Socket.prototype),ObjectSetPrototypeOf(WriteStream,net.Socket),WriteStream.prototype.isTTY=!0,WriteStream.prototype.getColorDepth=getColorDepth,WriteStream.prototype.hasColors=hasColors,WriteStream.prototype._refreshSize=function(){const e=this.columns,t=this.rows,r=new Array(2),o=this._handle.getWindowSize(r);if(o){this.emit("error",errors.errnoException(o,"getWindowSize"));return}const{0:n,1:i}=r;(e!==n||t!==i)&&(this.columns=n,this.rows=i,this.emit("resize"))},WriteStream.prototype.cursorTo=function(e,t,r){return readline===void 0&&(readline=require("readline")),readline.cursorTo(this,e,t,r)},WriteStream.prototype.moveCursor=function(e,t,r){return readline===void 0&&(readline=require("readline")),readline.moveCursor(this,e,t,r)},WriteStream.prototype.clearLine=function(e,t){return readline===void 0&&(readline=require("readline")),readline.clearLine(this,e,t)},WriteStream.prototype.clearScreenDown=function(e){return readline===void 0&&(readline=require("readline")),readline.clearScreenDown(this,e)},WriteStream.prototype.getWindowSize=function(){return[this.columns,this.rows]},module.exports={isatty,ReadStream,WriteStream};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Int8Array,ObjectCreate,ObjectKeys,SafeSet,StringPrototypeCharCodeAt,decodeURIComponent}=primordials,{toASCII}=require("internal/idna"),{encodeStr,hexTable}=require("internal/querystring"),querystring=require("querystring"),{ERR_INVALID_ARG_TYPE,ERR_INVALID_URL}=require("internal/errors").codes,{validateString}=require("internal/validators"),{spliceOne}=require("internal/util"),{URL,URLSearchParams,domainToASCII,domainToUnicode,fileURLToPath,formatSymbol,pathToFileURL,urlToHttpOptions}=require("internal/url");function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}const protocolPattern=/^[a-z0-9.+-]+:/i,portPattern=/:[0-9]*$/,hostPattern=/^\/\/[^@/]+@[^@/]+/,simplePathPattern=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,hostnameMaxLen=255,unsafeProtocol=new SafeSet(["javascript","javascript:"]),hostlessProtocol=new SafeSet(["javascript","javascript:"]),slashedProtocol=new SafeSet(["http","http:","https","https:","ftp","ftp:","gopher","gopher:","file","file:","ws","ws:","wss","wss:"]),{CHAR_SPACE,CHAR_TAB,CHAR_CARRIAGE_RETURN,CHAR_LINE_FEED,CHAR_FORM_FEED,CHAR_NO_BREAK_SPACE,CHAR_ZERO_WIDTH_NOBREAK_SPACE,CHAR_HASH,CHAR_FORWARD_SLASH,CHAR_LEFT_SQUARE_BRACKET,CHAR_RIGHT_SQUARE_BRACKET,CHAR_LEFT_ANGLE_BRACKET,CHAR_RIGHT_ANGLE_BRACKET,CHAR_LEFT_CURLY_BRACKET,CHAR_RIGHT_CURLY_BRACKET,CHAR_QUESTION_MARK,CHAR_LOWERCASE_A,CHAR_LOWERCASE_Z,CHAR_UPPERCASE_A,CHAR_UPPERCASE_Z,CHAR_DOT,CHAR_0,CHAR_9,CHAR_HYPHEN_MINUS,CHAR_PLUS,CHAR_UNDERSCORE,CHAR_DOUBLE_QUOTE,CHAR_SINGLE_QUOTE,CHAR_PERCENT,CHAR_SEMICOLON,CHAR_BACKWARD_SLASH,CHAR_CIRCUMFLEX_ACCENT,CHAR_GRAVE_ACCENT,CHAR_VERTICAL_LINE,CHAR_AT}=require("internal/constants");function urlParse(n,s,t){if(n instanceof Url)return n;const i=new Url;return i.parse(n,s,t),i}function isIpv6Hostname(n){return StringPrototypeCharCodeAt(n,0)===CHAR_LEFT_SQUARE_BRACKET&&StringPrototypeCharCodeAt(n,n.length-1)===CHAR_RIGHT_SQUARE_BRACKET}const forbiddenHostChars=/[\t\n\r #%/:<>?@[\\\]^|]/;Url.prototype.parse=function(s,t,i){validateString(s,"url");let c=!1,l=-1,f=-1,e="",h=0;for(let a=0,u=!1,R=!1;a<s.length;++a){const C=s.charCodeAt(a),E=C===CHAR_SPACE||C===CHAR_TAB||C===CHAR_CARRIAGE_RETURN||C===CHAR_LINE_FEED||C===CHAR_FORM_FEED||C===CHAR_NO_BREAK_SPACE||C===CHAR_ZERO_WIDTH_NOBREAK_SPACE;if(l===-1){if(E)continue;h=l=a}else u?E||(f=-1,u=!1):E&&(f=a,u=!0);if(R)!c&&C===CHAR_HASH&&(c=!0);else switch(C){case CHAR_HASH:c=!0;case CHAR_QUESTION_MARK:R=!0;break;case CHAR_BACKWARD_SLASH:a-h>0&&(e+=s.slice(h,a)),e+="/",h=a+1;break}}if(l!==-1&&(h===l?f===-1?l===0?e=s:e=s.slice(l):e=s.slice(l,f):f===-1&&h<s.length?e+=s.slice(h):f!==-1&&h<f&&(e+=s.slice(h,f))),!i&&!c){const a=simplePathPattern.exec(e);if(a)return this.path=e,this.href=e,this.pathname=a[1],a[2]?(this.search=a[2],t?this.query=querystring.parse(this.search.slice(1)):this.query=this.search.slice(1)):t&&(this.search=null,this.query=ObjectCreate(null)),this}let r=protocolPattern.exec(e),p;r&&(r=r[0],p=r.toLowerCase(),this.protocol=p,e=e.slice(r.length));let _;if((i||r||hostPattern.test(e))&&(_=e.charCodeAt(0)===CHAR_FORWARD_SLASH&&e.charCodeAt(1)===CHAR_FORWARD_SLASH,_&&!(r&&hostlessProtocol.has(p))&&(e=e.slice(2),this.slashes=!0)),!hostlessProtocol.has(p)&&(_||r&&!slashedProtocol.has(r))){let a=-1,u=-1,R=-1;for(let d=0;d<e.length;++d){switch(e.charCodeAt(d)){case CHAR_TAB:case CHAR_LINE_FEED:case CHAR_CARRIAGE_RETURN:case CHAR_SPACE:case CHAR_DOUBLE_QUOTE:case CHAR_PERCENT:case CHAR_SINGLE_QUOTE:case CHAR_SEMICOLON:case CHAR_LEFT_ANGLE_BRACKET:case CHAR_RIGHT_ANGLE_BRACKET:case CHAR_BACKWARD_SLASH:case CHAR_CIRCUMFLEX_ACCENT:case CHAR_GRAVE_ACCENT:case CHAR_LEFT_CURLY_BRACKET:case CHAR_VERTICAL_LINE:case CHAR_RIGHT_CURLY_BRACKET:R===-1&&(R=d);break;case CHAR_HASH:case CHAR_FORWARD_SLASH:case CHAR_QUESTION_MARK:R===-1&&(R=d),a=d;break;case CHAR_AT:u=d,R=-1;break}if(a!==-1)break}l=0,u!==-1&&(this.auth=decodeURIComponent(e.slice(0,u)),l=u+1),R===-1?(this.host=e.slice(l),e=""):(this.host=e.slice(l,R),e=e.slice(R)),this.parseHost(),typeof this.hostname!="string"&&(this.hostname="");const C=this.hostname,E=isIpv6Hostname(C);if(E||(e=getHostname(this,e,C)),this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),!E&&this.hostname!==""&&(this.hostname=toASCII(this.hostname,!0),this.hostname===""||forbiddenHostChars.test(this.hostname)))throw new ERR_INVALID_URL(s);const g=this.port?":"+this.port:"",y=this.hostname||"";this.host=y+g,E&&(this.hostname=this.hostname.slice(1,-1),e[0]!=="/"&&(e="/"+e))}unsafeProtocol.has(p)||(e=autoEscapeStr(e));let m=-1,A=-1;for(let a=0;a<e.length;++a){const u=e.charCodeAt(a);if(u===CHAR_HASH){this.hash=e.slice(a),A=a;break}else u===CHAR_QUESTION_MARK&&m===-1&&(m=a)}m!==-1?(A===-1?(this.search=e.slice(m),this.query=e.slice(m+1)):(this.search=e.slice(m,A),this.query=e.slice(m+1,A)),t&&(this.query=querystring.parse(this.query))):t&&(this.search=null,this.query=ObjectCreate(null));const o=m!==-1&&(A===-1||m<A)?m:A;if(o===-1?e.length>0&&(this.pathname=e):o>0&&(this.pathname=e.slice(0,o)),slashedProtocol.has(p)&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){const a=this.pathname||"",u=this.search||"";this.path=a+u}return this.href=this.format(),this};function getHostname(n,s,t){for(let i=0;i<t.length;++i){const c=t.charCodeAt(i);if(!(c>=CHAR_LOWERCASE_A&&c<=CHAR_LOWERCASE_Z||c===CHAR_DOT||c>=CHAR_UPPERCASE_A&&c<=CHAR_UPPERCASE_Z||c>=CHAR_0&&c<=CHAR_9||c===CHAR_HYPHEN_MINUS||c===CHAR_PLUS||c===CHAR_UNDERSCORE||c>127))return n.hostname=t.slice(0,i),`/${t.slice(i)}${s}`}return s}const escapedCodes=["","","","","","","","","","%09","%0A","","","%0D","","","","","","","","","","","","","","","","","","","%20","","%22","","","","","%27","","","","","","","","","","","","","","","","","","","","","%3C","","%3E","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","%5C","","%5E","","%60","","","","","","","","","","","","","","","","","","","","","","","","","","","%7B","%7C","%7D"];function autoEscapeStr(n){let s="",t=0;for(let i=0;i<n.length;++i){const c=escapedCodes[n.charCodeAt(i)];c&&(i>t&&(s+=n.slice(t,i)),s+=c,t=i+1)}return t===0?n:(t<n.length&&(s+=n.slice(t)),s)}function urlFormat(n,s){if(typeof n=="string")n=urlParse(n);else{if(typeof n!="object"||n===null)throw new ERR_INVALID_ARG_TYPE("urlObject",["Object","string"],n);if(!(n instanceof Url)){const t=n[formatSymbol];return t?t.call(n,s):Url.prototype.format.call(n)}}return n.format()}const noEscapeAuth=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0]);Url.prototype.format=function(){let s=this.auth||"";s&&(s=encodeStr(s,noEscapeAuth,hexTable),s+="@");let t=this.protocol||"",i=this.pathname||"",c=this.hash||"",l="",f="";this.host?l=s+this.host:this.hostname&&(l=s+(this.hostname.includes(":")&&!isIpv6Hostname(this.hostname)?"["+this.hostname+"]":this.hostname),this.port&&(l+=":"+this.port)),this.query!==null&&typeof this.query=="object"&&(f=querystring.stringify(this.query));let e=this.search||f&&"?"+f||"";t&&t.charCodeAt(t.length-1)!==58&&(t+=":");let h="",r=0;for(let p=0;p<i.length;++p)switch(i.charCodeAt(p)){case CHAR_HASH:p-r>0&&(h+=i.slice(r,p)),h+="%23",r=p+1;break;case CHAR_QUESTION_MARK:p-r>0&&(h+=i.slice(r,p)),h+="%3F",r=p+1;break}return r>0&&(r!==i.length?i=h+i.slice(r):i=h),(this.slashes||slashedProtocol.has(t))&&(this.slashes||l?(i&&i.charCodeAt(0)!==CHAR_FORWARD_SLASH&&(i="/"+i),l="//"+l):t.length>=4&&t.charCodeAt(0)===102&&t.charCodeAt(1)===105&&t.charCodeAt(2)===108&&t.charCodeAt(3)===101&&(l="//")),e=e.replace(/#/g,"%23"),c&&c.charCodeAt(0)!==CHAR_HASH&&(c="#"+c),e&&e.charCodeAt(0)!==CHAR_QUESTION_MARK&&(e="?"+e),t+l+i+e+c};function urlResolve(n,s){return urlParse(n,!1,!0).resolve(s)}Url.prototype.resolve=function(s){return this.resolveObject(urlParse(s,!1,!0)).format()};function urlResolveObject(n,s){return n?urlParse(n,!1,!0).resolveObject(s):s}Url.prototype.resolveObject=function(s){if(typeof s=="string"){const o=new Url;o.parse(s,!1,!0),s=o}const t=new Url,i=ObjectKeys(this);for(let o=0;o<i.length;o++){const a=i[o];t[a]=this[a]}if(t.hash=s.hash,s.href==="")return t.href=t.format(),t;if(s.slashes&&!s.protocol){const o=ObjectKeys(s);for(let a=0;a<o.length;a++){const u=o[a];u!=="protocol"&&(t[u]=s[u])}return slashedProtocol.has(t.protocol)&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(s.protocol&&s.protocol!==t.protocol){if(!slashedProtocol.has(s.protocol)){const o=ObjectKeys(s);for(let a=0;a<o.length;a++){const u=o[a];t[u]=s[u]}return t.href=t.format(),t}if(t.protocol=s.protocol,!s.host&&!/^file:?$/.test(s.protocol)&&!hostlessProtocol.has(s.protocol)){const o=(s.pathname||"").split("/");for(;o.length&&!(s.host=o.shift()););s.host||(s.host=""),s.hostname||(s.hostname=""),o[0]!==""&&o.unshift(""),o.length<2&&o.unshift(""),t.pathname=o.join("/")}else t.pathname=s.pathname;if(t.search=s.search,t.query=s.query,t.host=s.host||"",t.auth=s.auth,t.hostname=s.hostname||s.host,t.port=s.port,t.pathname||t.search){const o=t.pathname||"",a=t.search||"";t.path=o+a}return t.slashes=t.slashes||s.slashes,t.href=t.format(),t}const c=t.pathname&&t.pathname.charAt(0)==="/",l=s.host||s.pathname&&s.pathname.charAt(0)==="/";let f=l||c||t.host&&s.pathname;const e=f;let h=t.pathname&&t.pathname.split("/")||[];const r=s.pathname&&s.pathname.split("/")||[],p=t.protocol&&!slashedProtocol.has(t.protocol);if(p&&(t.hostname="",t.port=null,t.host&&(h[0]===""?h[0]=t.host:h.unshift(t.host)),t.host="",s.protocol&&(s.hostname=null,s.port=null,t.auth=null,s.host&&(r[0]===""?r[0]=s.host:r.unshift(s.host)),s.host=null),f=f&&(r[0]===""||h[0]==="")),l)(s.host||s.host==="")&&(t.host!==s.host&&(t.auth=null),t.host=s.host,t.port=s.port),(s.hostname||s.hostname==="")&&(t.hostname!==s.hostname&&(t.auth=null),t.hostname=s.hostname),t.search=s.search,t.query=s.query,h=r;else if(r.length)h||(h=[]),h.pop(),h=h.concat(r),t.search=s.search,t.query=s.query;else if(s.search!==null&&s.search!==void 0){if(p){t.hostname=t.host=h.shift();const o=t.host&&t.host.indexOf("@")>0&&t.host.split("@");o&&(t.auth=o.shift(),t.host=t.hostname=o.shift())}return t.search=s.search,t.query=s.query,(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!h.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;let _=h.slice(-1)[0];const m=(t.host||s.host||h.length>1)&&(_==="."||_==="..")||_==="";let A=0;for(let o=h.length-1;o>=0;o--)_=h[o],_==="."?spliceOne(h,o):_===".."?(spliceOne(h,o),A++):A&&(spliceOne(h,o),A--);if(!f&&!e)for(;A--;)h.unshift("..");f&&h[0]!==""&&(!h[0]||h[0].charAt(0)!=="/")&&h.unshift(""),m&&h.join("/").substr(-1)!=="/"&&h.push("");const H=h[0]===""||h[0]&&h[0].charAt(0)==="/";if(p){t.hostname=t.host=H?"":h.length?h.shift():"";const o=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;o&&(t.auth=o.shift(),t.host=t.hostname=o.shift())}return f=f||t.host&&h.length,f&&!H&&h.unshift(""),h.length?t.pathname=h.join("/"):(t.pathname=null,t.path=null),(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=s.auth||t.auth,t.slashes=t.slashes||s.slashes,t.href=t.format(),t},Url.prototype.parseHost=function(){let s=this.host,t=portPattern.exec(s);t&&(t=t[0],t!==":"&&(this.port=t.slice(1)),s=s.slice(0,s.length-t.length)),s&&(this.hostname=s)},module.exports={Url,parse:urlParse,resolve:urlResolve,resolveObject:urlResolveObject,format:urlFormat,URL,URLSearchParams,domainToASCII,domainToUnicode,pathToFileURL,fileURLToPath,urlToHttpOptions};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayIsArray,ArrayPrototypeJoin,ArrayPrototypePop,Date,DatePrototypeGetDate,DatePrototypeGetHours,DatePrototypeGetMinutes,DatePrototypeGetMonth,DatePrototypeGetSeconds,Error,FunctionPrototypeBind,NumberIsSafeInteger,ObjectDefineProperties,ObjectDefineProperty,ObjectGetOwnPropertyDescriptors,ObjectKeys,ObjectPrototypeToString,ObjectSetPrototypeOf,ReflectApply,StringPrototypePadStart}=primordials,{codes:{ERR_FALSY_VALUE_REJECTION,ERR_INVALID_ARG_TYPE,ERR_OUT_OF_RANGE},errnoException,exceptionWithHostPort,hideStackFrames}=require("internal/errors"),{format,formatWithOptions,inspect}=require("internal/util/inspect"),{debuglog}=require("internal/util/debuglog"),{validateFunction,validateNumber}=require("internal/validators"),{TextDecoder,TextEncoder}=require("internal/encoding"),{isBuffer}=require("buffer").Buffer,types=require("internal/util/types"),{deprecate,getSystemErrorMap,getSystemErrorName:internalErrorName,promisify,toUSVString}=require("internal/util");let internalDeepEqual;function isBoolean(e){return typeof e=="boolean"}function isNull(e){return e===null}function isNullOrUndefined(e){return e==null}function isNumber(e){return typeof e=="number"}function isString(e){return typeof e=="string"}function isSymbol(e){return typeof e=="symbol"}function isUndefined(e){return e===void 0}function isObject(e){return e!==null&&typeof e=="object"}function isError(e){return ObjectPrototypeToString(e)==="[object Error]"||e instanceof Error}function isFunction(e){return typeof e=="function"}function isPrimitive(e){return e===null||typeof e!="object"&&typeof e!="function"}function pad(e){return StringPrototypePadStart(e.toString(),2,"0")}const months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){const e=new Date,t=ArrayPrototypeJoin([pad(DatePrototypeGetHours(e)),pad(DatePrototypeGetMinutes(e)),pad(DatePrototypeGetSeconds(e))],":");return`${DatePrototypeGetDate(e)} ${months[DatePrototypeGetMonth(e)]} ${t}`}let console;function log(...e){console||(console=require("internal/console/global")),console.log("%s - %s",timestamp(),format(...e))}function inherits(e,t){if(e==null)throw new ERR_INVALID_ARG_TYPE("ctor","Function",e);if(t==null)throw new ERR_INVALID_ARG_TYPE("superCtor","Function",t);if(t.prototype===void 0)throw new ERR_INVALID_ARG_TYPE("superCtor.prototype","Object",t.prototype);ObjectDefineProperty(e,"super_",{value:t,writable:!0,configurable:!0}),ObjectSetPrototypeOf(e.prototype,t.prototype)}function _extend(e,t){if(t===null||typeof t!="object")return e;const n=ObjectKeys(t);let r=n.length;for(;r--;)e[n[r]]=t[n[r]];return e}const callbackifyOnRejected=hideStackFrames((e,t)=>(e||(e=new ERR_FALSY_VALUE_REJECTION(e)),t(e)));function callbackify(e){validateFunction(e,"original");function t(...r){const o=ArrayPrototypePop(r);validateFunction(o,"last argument");const u=FunctionPrototypeBind(o,this);ReflectApply(e,this,r).then(i=>process.nextTick(u,null,i),i=>process.nextTick(callbackifyOnRejected,i,u))}const n=ObjectGetOwnPropertyDescriptors(e);return typeof n.length.value=="number"&&n.length.value++,typeof n.name.value=="string"&&(n.name.value+="Callbackified"),ObjectDefineProperties(t,n),t}function getSystemErrorName(e){if(validateNumber(e,"err"),e>=0||!NumberIsSafeInteger(e))throw new ERR_OUT_OF_RANGE("err","a negative integer",e);return internalErrorName(e)}module.exports={_errnoException:errnoException,_exceptionWithHostPort:exceptionWithHostPort,_extend,callbackify,debug:debuglog,debuglog,deprecate,format,formatWithOptions,getSystemErrorMap,getSystemErrorName,inherits,inspect,isArray:ArrayIsArray,isBoolean,isBuffer,isDeepStrictEqual(e,t){return internalDeepEqual===void 0&&(internalDeepEqual=require("internal/util/comparisons").isDeepStrictEqual),internalDeepEqual(e,t)},isNull,isNullOrUndefined,isNumber,isString,isSymbol,isUndefined,isRegExp:types.isRegExp,isObject,isDate:types.isDate,isError,isFunction,isPrimitive,log,promisify,toUSVString,TextDecoder,TextEncoder,types};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{Array,ArrayBuffer,ArrayPrototypeForEach,ArrayPrototypePush,DataView,Error,Float32Array,Float64Array,Int16Array,Int32Array,Int8Array,ObjectPrototypeToString,SafeMap,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray}=primordials,{Buffer}=require("buffer"),{validateString}=require("internal/validators"),{Serializer,Deserializer}=internalBinding("serdes");let profiler={};internalBinding("config").hasInspector&&(profiler=internalBinding("profiler"));const assert=require("internal/assert"),{copy}=internalBinding("buffer"),{inspect}=require("internal/util/inspect"),{FastBuffer}=require("internal/buffer"),{getValidatedPath}=require("internal/fs/utils"),{toNamespacedPath}=require("path"),{createHeapSnapshotStream,triggerHeapSnapshot}=internalBinding("heap_utils"),{HeapSnapshotStream}=require("internal/heap_utils");function writeHeapSnapshot(e){return e!==void 0&&(e=getValidatedPath(e),e=toNamespacedPath(e)),triggerHeapSnapshot(e)}function getHeapSnapshot(){const e=createHeapSnapshotStream();return assert(e),new HeapSnapshotStream(e)}const binding=internalBinding("v8"),{cachedDataVersionTag,setFlagsFromString:_setFlagsFromString,updateHeapStatisticsBuffer,updateHeapSpaceStatisticsBuffer,updateHeapCodeStatisticsBuffer,kTotalHeapSizeIndex,kTotalHeapSizeExecutableIndex,kTotalPhysicalSizeIndex,kTotalAvailableSize,kUsedHeapSizeIndex,kHeapSizeLimitIndex,kDoesZapGarbageIndex,kMallocedMemoryIndex,kPeakMallocedMemoryIndex,kNumberOfNativeContextsIndex,kNumberOfDetachedContextsIndex,kHeapSpaces,kSpaceSizeIndex,kSpaceUsedSizeIndex,kSpaceAvailableSizeIndex,kPhysicalSpaceSizeIndex,kCodeAndMetadataSizeIndex,kBytecodeAndMetadataSizeIndex,kExternalScriptSourceSizeIndex}=binding,kNumberOfHeapSpaces=kHeapSpaces.length;function setFlagsFromString(e){validateString(e,"flags"),_setFlagsFromString(e)}function getHeapStatistics(){const e=binding.heapStatisticsBuffer;return updateHeapStatisticsBuffer(),{total_heap_size:e[kTotalHeapSizeIndex],total_heap_size_executable:e[kTotalHeapSizeExecutableIndex],total_physical_size:e[kTotalPhysicalSizeIndex],total_available_size:e[kTotalAvailableSize],used_heap_size:e[kUsedHeapSizeIndex],heap_size_limit:e[kHeapSizeLimitIndex],malloced_memory:e[kMallocedMemoryIndex],peak_malloced_memory:e[kPeakMallocedMemoryIndex],does_zap_garbage:e[kDoesZapGarbageIndex],number_of_native_contexts:e[kNumberOfNativeContextsIndex],number_of_detached_contexts:e[kNumberOfDetachedContextsIndex]}}function getHeapSpaceStatistics(){const e=new Array(kNumberOfHeapSpaces),t=binding.heapSpaceStatisticsBuffer;for(let a=0;a<kNumberOfHeapSpaces;a++)updateHeapSpaceStatisticsBuffer(a),e[a]={space_name:kHeapSpaces[a],space_size:t[kSpaceSizeIndex],space_used_size:t[kSpaceUsedSizeIndex],space_available_size:t[kSpaceAvailableSizeIndex],physical_space_size:t[kPhysicalSpaceSizeIndex]};return e}function getHeapCodeStatistics(){const e=binding.heapCodeStatisticsBuffer;return updateHeapCodeStatisticsBuffer(),{code_and_metadata_size:e[kCodeAndMetadataSizeIndex],bytecode_and_metadata_size:e[kBytecodeAndMetadataSizeIndex],external_script_source_size:e[kExternalScriptSourceSizeIndex]}}Serializer.prototype._getDataCloneError=Error,Deserializer.prototype.readRawBytes=function(t){const a=this._readRawBytes(t);return new FastBuffer(this.buffer.buffer,this.buffer.byteOffset+a,t)};const arrayBufferViewTypes=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,DataView],arrayBufferViewTypeToIndex=new SafeMap;{const e=new ArrayBuffer;ArrayPrototypeForEach(arrayBufferViewTypes,(t,a)=>{const r=ObjectPrototypeToString(new t(e));arrayBufferViewTypeToIndex.set(r,a)})}const bufferConstructorIndex=ArrayPrototypePush(arrayBufferViewTypes,FastBuffer)-1;class DefaultSerializer extends Serializer{constructor(){super();this._setTreatArrayBufferViewsAsHostObjects(!0)}_writeHostObject(t){let a=0;if(t.constructor===Buffer)a=bufferConstructorIndex;else{const r=ObjectPrototypeToString(t);if(a=arrayBufferViewTypeToIndex.get(r),a===void 0)throw new this._getDataCloneError(`Unserializable host object: ${inspect(t)}`)}this.writeUint32(a),this.writeUint32(t.byteLength),this.writeRawBytes(new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}}class DefaultDeserializer extends Deserializer{_readHostObject(){const t=this.readUint32(),a=arrayBufferViewTypes[t],r=this.readUint32(),n=this._readRawBytes(r),s=a.BYTES_PER_ELEMENT||1,o=this.buffer.byteOffset+n;if(o%s==0)return new a(this.buffer.buffer,o,r/s);const i=Buffer.allocUnsafe(r);return copy(this.buffer,i,0,n,n+r),new a(i.buffer,i.byteOffset,r/s)}}function serialize(e){const t=new DefaultSerializer;return t.writeHeader(),t.writeValue(e),t.releaseBuffer()}function deserialize(e){const t=new DefaultDeserializer(e);return t.readHeader(),t.readValue()}module.exports={cachedDataVersionTag,getHeapSnapshot,getHeapStatistics,getHeapSpaceStatistics,getHeapCodeStatistics,setFlagsFromString,Serializer,Deserializer,DefaultSerializer,DefaultDeserializer,deserialize,takeCoverage:profiler.takeCoverage,stopCoverage:profiler.stopCoverage,serialize,writeHeapSnapshot};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeForEach,ArrayPrototypeUnshift,Symbol,PromiseReject,ReflectApply}=primordials,{ContextifyScript,MicrotaskQueue,makeContext,isContext:_isContext,constants,compileFunction:_compileFunction,measureMemory:_measureMemory}=internalBinding("contextify"),{ERR_CONTEXT_NOT_INITIALIZED,ERR_INVALID_ARG_TYPE}=require("internal/errors").codes,{isArrayBufferView}=require("internal/util/types"),{validateArray,validateBoolean,validateBuffer,validateFunction,validateInt32,validateObject,validateOneOf,validateString,validateUint32}=require("internal/validators"),{kVmBreakFirstLineSymbol,emitExperimentalWarning}=require("internal/util"),kParsingContext=Symbol("script parsing context");class Script extends ContextifyScript{constructor(e,n={}){e=`${e}`,typeof n=="string"?n={filename:n}:validateObject(n,"options");const{filename:i="evalmachine.<anonymous>",lineOffset:r=0,columnOffset:c=0,cachedData:a,produceCachedData:s=!1,importModuleDynamically:o,[kParsingContext]:l}=n;if(validateString(i,"options.filename"),validateInt32(r,"options.lineOffset"),validateInt32(c,"options.columnOffset"),a!==void 0&&!isArrayBufferView(a))throw new ERR_INVALID_ARG_TYPE("options.cachedData",["Buffer","TypedArray","DataView"],a);validateBoolean(s,"options.produceCachedData");try{super(e,i,r,c,a,s,l)}catch(d){throw d}if(o!==void 0){validateFunction(o,"options.importModuleDynamically");const{importModuleDynamicallyWrap:d}=require("internal/vm/module"),{callbackMap:u}=internalBinding("module_wrap");u.set(this,{importModuleDynamically:d(o)})}}runInThisContext(e){const{breakOnSigint:n,args:i}=getRunInContextArgs(e);return n&&process.listenerCount("SIGINT")>0?sigintHandlersWrap(super.runInThisContext,this,i):ReflectApply(super.runInThisContext,this,i)}runInContext(e,n){validateContext(e);const{breakOnSigint:i,args:r}=getRunInContextArgs(n);return ArrayPrototypeUnshift(r,e),i&&process.listenerCount("SIGINT")>0?sigintHandlersWrap(super.runInContext,this,r):ReflectApply(super.runInContext,this,r)}runInNewContext(e,n){const i=createContext(e,getContextOptions(n));return this.runInContext(i,n)}}function validateContext(t){if(!isContext(t))throw new ERR_INVALID_ARG_TYPE("contextifiedObject","vm.Context",t)}function getRunInContextArgs(t={}){validateObject(t,"options");let e=t.timeout;e===void 0?e=-1:validateUint32(e,"options.timeout",!0);const{displayErrors:n=!0,breakOnSigint:i=!1,[kVmBreakFirstLineSymbol]:r=!1}=t;return validateBoolean(n,"options.displayErrors"),validateBoolean(i,"options.breakOnSigint"),{breakOnSigint:i,args:[e,n,i,r]}}function getContextOptions(t){if(!t)return{};const e={name:t.contextName,origin:t.contextOrigin,codeGeneration:void 0,microtaskMode:t.microtaskMode};if(e.name!==void 0&&validateString(e.name,"options.contextName"),e.origin!==void 0&&validateString(e.origin,"options.contextOrigin"),t.contextCodeGeneration!==void 0){validateObject(t.contextCodeGeneration,"options.contextCodeGeneration");const{strings:n,wasm:i}=t.contextCodeGeneration;n!==void 0&&validateBoolean(n,"options.contextCodeGeneration.strings"),i!==void 0&&validateBoolean(i,"options.contextCodeGeneration.wasm"),e.codeGeneration={strings:n,wasm:i}}return t.microtaskMode!==void 0&&validateString(t.microtaskMode,"options.microtaskMode"),e}function isContext(t){return validateObject(t,"object",{allowArray:!0}),_isContext(t)}let defaultContextNameIndex=1;function createContext(t={},e={}){if(isContext(t))return t;validateObject(e,"options");const{name:n=`VM Context ${defaultContextNameIndex++}`,origin:i,codeGeneration:r,microtaskMode:c}=e;validateString(n,"options.name"),i!==void 0&&validateString(i,"options.origin"),r!==void 0&&validateObject(r,"options.codeGeneration");let a=!0,s=!0;r!==void 0&&({strings:a=!0,wasm:s=!0}=r,validateBoolean(a,"options.codeGeneration.strings"),validateBoolean(s,"options.codeGeneration.wasm"));let o=null;return c!==void 0&&(validateOneOf(c,"options.microtaskMode",["afterEvaluate",void 0]),c==="afterEvaluate"&&(o=new MicrotaskQueue)),makeContext(t,n,i,a,s,o),t}function createScript(t,e){return new Script(t,e)}function sigintHandlersWrap(t,e,n){const i=process.rawListeners("SIGINT");process.removeAllListeners("SIGINT");try{return ReflectApply(t,e,n)}finally{ArrayPrototypeForEach(i,r=>{process.addListener("SIGINT",r)})}}function runInContext(t,e,n){return validateContext(e),typeof n=="string"?n={filename:n,[kParsingContext]:e}:n={...n,[kParsingContext]:e},createScript(t,n).runInContext(e,n)}function runInNewContext(t,e,n){return typeof n=="string"&&(n={filename:n}),e=createContext(e,getContextOptions(n)),n={...n,[kParsingContext]:e},createScript(t,n).runInNewContext(e,n)}function runInThisContext(t,e){return typeof e=="string"&&(e={filename:e}),createScript(t,e).runInThisContext(e)}function compileFunction(t,e,n={}){validateString(t,"code"),e!==void 0&&(validateArray(e,"params"),ArrayPrototypeForEach(e,(f,m)=>validateString(f,`params[${m}]`)));const{filename:i="",columnOffset:r=0,lineOffset:c=0,cachedData:a=void 0,produceCachedData:s=!1,parsingContext:o=void 0,contextExtensions:l=[],importModuleDynamically:d}=n;if(validateString(i,"options.filename"),validateUint32(r,"options.columnOffset"),validateUint32(c,"options.lineOffset"),a!==void 0&&validateBuffer(a,"options.cachedData"),validateBoolean(s,"options.produceCachedData"),o!==void 0&&(typeof o!="object"||o===null||!isContext(o)))throw new ERR_INVALID_ARG_TYPE("options.parsingContext","Context",o);validateArray(l,"options.contextExtensions"),ArrayPrototypeForEach(l,(f,m)=>{const p=`options.contextExtensions[${m}]`;validateObject(f,p,{nullable:!0})});const u=_compileFunction(t,i,c,r,a,s,o,l,e);if(s&&(u.function.cachedDataProduced=u.cachedDataProduced),u.cachedData&&(u.function.cachedData=u.cachedData),d!==void 0){validateFunction(d,"options.importModuleDynamically");const{importModuleDynamicallyWrap:f}=require("internal/vm/module"),{callbackMap:m}=internalBinding("module_wrap"),p=f(d),y=u.function;m.set(u.cacheKey,{importModuleDynamically:(x,C)=>p(x,y)})}return u.function}const measureMemoryModes={summary:constants.measureMemory.mode.SUMMARY,detailed:constants.measureMemory.mode.DETAILED},measureMemoryExecutions={default:constants.measureMemory.execution.DEFAULT,eager:constants.measureMemory.execution.EAGER};function measureMemory(t={}){emitExperimentalWarning("vm.measureMemory"),validateObject(t,"options");const{mode:e="summary",execution:n="default"}=t;validateOneOf(e,"options.mode",["summary","detailed"]),validateOneOf(n,"options.execution",["default","eager"]);const i=_measureMemory(measureMemoryModes[e],measureMemoryExecutions[n]);return i===void 0?PromiseReject(new ERR_CONTEXT_NOT_INITIALIZED):i}module.exports={Script,createContext,createScript,runInContext,runInNewContext,runInThisContext,isContext,compileFunction,measureMemory};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayPrototypeForEach,ArrayPrototypeMap,ArrayPrototypePush,FunctionPrototypeBind,ObjectEntries,String,Symbol}=primordials,{ERR_INVALID_ARG_TYPE,ERR_WASI_ALREADY_STARTED}=require("internal/errors").codes,{emitExperimentalWarning}=require("internal/util"),{isArrayBuffer}=require("internal/util/types"),{validateArray,validateBoolean,validateFunction,validateInt32,validateObject,validateUndefined}=require("internal/validators"),{WASI:_WASI}=internalBinding("wasi"),kExitCode=Symbol("kExitCode"),kSetMemory=Symbol("kSetMemory"),kStarted=Symbol("kStarted"),kInstance=Symbol("kInstance");emitExperimentalWarning("WASI");function setupInstance(s,t){if(validateObject(t,"instance"),validateObject(t.exports,"instance.exports"),validateObject(t.exports.memory,"instance.exports.memory"),!isArrayBuffer(t.exports.memory.buffer))throw new ERR_INVALID_ARG_TYPE("instance.exports.memory.buffer",["WebAssembly.Memory"],t.exports.memory.buffer);s[kInstance]=t,s[kSetMemory](t.exports.memory)}class WASI{constructor(t={}){validateObject(t,"options"),t.args!==void 0&&validateArray(t.args,"options.args");const n=ArrayPrototypeMap(t.args||[],String),e=[];t.env!==void 0&&(validateObject(t.env,"options.env"),ArrayPrototypeForEach(ObjectEntries(t.env),({0:i,1:a})=>{a!==void 0&&ArrayPrototypePush(e,`${i}=${a}`)}));const o=[];t.preopens!==void 0&&(validateObject(t.preopens,"options.preopens"),ArrayPrototypeForEach(ObjectEntries(t.preopens),({0:i,1:a})=>ArrayPrototypePush(o,String(i),String(a))));const{stdin:c=0,stdout:d=1,stderr:u=2}=t;validateInt32(c,"options.stdin",0),validateInt32(d,"options.stdout",0),validateInt32(u,"options.stderr",0);const p=[c,d,u],r=new _WASI(n,e,o,p);for(const i in r)r[i]=FunctionPrototypeBind(r[i],r);t.returnOnExit!==void 0&&(validateBoolean(t.returnOnExit,"options.returnOnExit"),t.returnOnExit&&(r.proc_exit=FunctionPrototypeBind(wasiReturnOnProcExit,this))),this[kSetMemory]=r._setMemory,delete r._setMemory,this.wasiImport=r,this[kStarted]=!1,this[kExitCode]=0,this[kInstance]=void 0}start(t){if(this[kStarted])throw new ERR_WASI_ALREADY_STARTED;this[kStarted]=!0,setupInstance(this,t);const{_start:n,_initialize:e}=this[kInstance].exports;validateFunction(n,"instance.exports._start"),validateUndefined(e,"instance.exports._initialize");try{n()}catch(o){if(o!==kExitCode)throw o}return this[kExitCode]}initialize(t){if(this[kStarted])throw new ERR_WASI_ALREADY_STARTED;this[kStarted]=!0,setupInstance(this,t);const{_start:n,_initialize:e}=this[kInstance].exports;validateUndefined(n,"instance.exports._start"),e!==void 0&&(validateFunction(e,"instance.exports._initialize"),e())}}module.exports={WASI};function wasiReturnOnProcExit(s){throw this[kExitCode]=s,kExitCode}
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{isMainThread,SHARE_ENV,resourceLimits,setEnvironmentData,getEnvironmentData,threadId,Worker}=require("internal/worker"),{MessagePort,MessageChannel,moveMessagePortToContext,receiveMessageOnPort,BroadcastChannel}=require("internal/worker/io"),{markAsUntransferable}=require("internal/buffer");module.exports={isMainThread,MessagePort,MessageChannel,markAsUntransferable,moveMessagePortToContext,receiveMessageOnPort,resourceLimits,threadId,SHARE_ENV,Worker,parentPort:null,workerData:null,BroadcastChannel,setEnvironmentData,getEnvironmentData};
},
function (exports, require, module, process, internalBinding, primordials) { 
  "use strict";const{ArrayBuffer,ArrayPrototypeForEach,ArrayPrototypeMap,ArrayPrototypePush,Error,FunctionPrototypeBind,MathMaxApply,NumberIsFinite,NumberIsNaN,ObjectDefineProperties,ObjectDefineProperty,ObjectFreeze,ObjectKeys,ObjectSetPrototypeOf,ReflectApply,StringPrototypeStartsWith,Symbol,TypedArrayPrototypeFill,Uint32Array}=primordials,{codes:{ERR_BROTLI_INVALID_PARAM,ERR_BUFFER_TOO_LARGE,ERR_INVALID_ARG_TYPE,ERR_OUT_OF_RANGE,ERR_ZLIB_INITIALIZATION_FAILED},hideStackFrames}=require("internal/errors"),{Transform,finished}=require("stream"),{deprecate}=require("internal/util"),{isArrayBufferView,isAnyArrayBuffer,isUint8Array}=require("internal/util/types"),binding=internalBinding("zlib"),assert=require("internal/assert"),{Buffer,kMaxLength}=require("buffer"),{owner_symbol}=require("internal/async_hooks").symbols,{validateFunction,validateNumber}=require("internal/validators"),kFlushFlag=Symbol("kFlushFlag"),kError=Symbol("kError"),constants=internalBinding("constants").zlib,{Z_NO_FLUSH,Z_BLOCK,Z_PARTIAL_FLUSH,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH,Z_MIN_CHUNK,Z_MIN_WINDOWBITS,Z_MAX_WINDOWBITS,Z_MIN_LEVEL,Z_MAX_LEVEL,Z_MIN_MEMLEVEL,Z_MAX_MEMLEVEL,Z_DEFAULT_CHUNK,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFAULT_WINDOWBITS,Z_DEFAULT_MEMLEVEL,Z_FIXED,DEFLATE,DEFLATERAW,INFLATE,INFLATERAW,GZIP,GUNZIP,UNZIP,BROTLI_DECODE,BROTLI_ENCODE,BROTLI_OPERATION_PROCESS,BROTLI_OPERATION_FLUSH,BROTLI_OPERATION_FINISH,BROTLI_OPERATION_EMIT_METADATA}=constants,codes={Z_OK:constants.Z_OK,Z_STREAM_END:constants.Z_STREAM_END,Z_NEED_DICT:constants.Z_NEED_DICT,Z_ERRNO:constants.Z_ERRNO,Z_STREAM_ERROR:constants.Z_STREAM_ERROR,Z_DATA_ERROR:constants.Z_DATA_ERROR,Z_MEM_ERROR:constants.Z_MEM_ERROR,Z_BUF_ERROR:constants.Z_BUF_ERROR,Z_VERSION_ERROR:constants.Z_VERSION_ERROR};for(const t of ObjectKeys(codes))codes[codes[t]]=t;function zlibBuffer(t,e,o){validateFunction(o,"callback"),isArrayBufferView(e)&&!isUint8Array(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):isAnyArrayBuffer(e)&&(e=Buffer.from(e)),t.buffers=null,t.nread=0,t.cb=o,t.on("data",zlibBufferOnData),t.on("error",zlibBufferOnError),t.on("end",zlibBufferOnEnd),t.end(e)}function zlibBufferOnData(t){this.buffers?ArrayPrototypePush(this.buffers,t):this.buffers=[t],this.nread+=t.length,this.nread>this._maxOutputLength&&(this.close(),this.removeAllListeners("end"),this.cb(new ERR_BUFFER_TOO_LARGE(this._maxOutputLength)))}function zlibBufferOnError(t){this.removeAllListeners("end"),this.cb(t)}function zlibBufferOnEnd(){let t;if(this.nread===0)t=Buffer.alloc(0);else{const e=this.buffers;t=e.length===1?e[0]:Buffer.concat(e,this.nread)}this.close(),this._info?this.cb(null,{buffer:t,engine:this}):this.cb(null,t)}function zlibBufferSync(t,e){if(typeof e=="string")e=Buffer.from(e);else if(!isArrayBufferView(e))if(isAnyArrayBuffer(e))e=Buffer.from(e);else throw new ERR_INVALID_ARG_TYPE("buffer",["string","Buffer","TypedArray","DataView","ArrayBuffer"],e);return e=processChunkSync(t,e,t._finishFlushFlag),t._info?{buffer:e,engine:t}:e}function zlibOnError(t,e,o){const r=this[owner_symbol],n=new Error(t);n.errno=e,n.code=o,r.destroy(n),r[kError]=n}const checkFiniteNumber=hideStackFrames((t,e)=>{if(t===void 0)return!1;if(NumberIsFinite(t))return!0;if(NumberIsNaN(t))return!1;throw validateNumber(t,e),new ERR_OUT_OF_RANGE(e,"a finite number",t)}),checkRangesOrGetDefault=hideStackFrames((t,e,o,r,n)=>{if(!checkFiniteNumber(t,e))return n;if(t<o||t>r)throw new ERR_OUT_OF_RANGE(e,`>= ${o} and <= ${r}`,t);return t}),FLUSH_BOUND=[[Z_NO_FLUSH,Z_BLOCK],[BROTLI_OPERATION_PROCESS,BROTLI_OPERATION_EMIT_METADATA]],FLUSH_BOUND_IDX_NORMAL=0,FLUSH_BOUND_IDX_BROTLI=1;function ZlibBase(t,e,o,{flush:r,finishFlush:n,fullFlush:f}){let s=Z_DEFAULT_CHUNK,l=kMaxLength;assert(typeof e=="number"),assert(e>=DEFLATE&&e<=BROTLI_ENCODE);let a;if(e!==BROTLI_ENCODE&&e!==BROTLI_DECODE?a=FLUSH_BOUND_IDX_NORMAL:a=FLUSH_BOUND_IDX_BROTLI,t){if(s=t.chunkSize,!checkFiniteNumber(s,"options.chunkSize"))s=Z_DEFAULT_CHUNK;else if(s<Z_MIN_CHUNK)throw new ERR_OUT_OF_RANGE("options.chunkSize",`>= ${Z_MIN_CHUNK}`,s);r=checkRangesOrGetDefault(t.flush,"options.flush",FLUSH_BOUND[a][0],FLUSH_BOUND[a][1],r),n=checkRangesOrGetDefault(t.finishFlush,"options.finishFlush",FLUSH_BOUND[a][0],FLUSH_BOUND[a][1],n),l=checkRangesOrGetDefault(t.maxOutputLength,"options.maxOutputLength",1,kMaxLength,kMaxLength),(t.encoding||t.objectMode||t.writableObjectMode)&&(t={...t},t.encoding=null,t.objectMode=!1,t.writableObjectMode=!1)}ReflectApply(Transform,this,[{autoDestroy:!0,...t}]),this[kError]=null,this.bytesWritten=0,this._handle=o,o[owner_symbol]=this,o.onerror=zlibOnError,this._outBuffer=Buffer.allocUnsafe(s),this._outOffset=0,this._chunkSize=s,this._defaultFlushFlag=r,this._finishFlushFlag=n,this._defaultFullFlushFlag=f,this._info=t&&t.info,this._maxOutputLength=l}ObjectSetPrototypeOf(ZlibBase.prototype,Transform.prototype),ObjectSetPrototypeOf(ZlibBase,Transform),ObjectDefineProperty(ZlibBase.prototype,"_closed",{configurable:!0,enumerable:!0,get(){return!this._handle}}),ObjectDefineProperty(ZlibBase.prototype,"bytesRead",{configurable:!0,enumerable:!0,get:deprecate(function(){return this.bytesWritten},"zlib.bytesRead is deprecated and will change its meaning in the future. Use zlib.bytesWritten instead.","DEP0108"),set:deprecate(function(t){this.bytesWritten=t},"Setting zlib.bytesRead is deprecated. This feature will be removed in the future.","DEP0108")}),ZlibBase.prototype.reset=function(){return this._handle||assert(!1,"zlib binding closed"),this._handle.reset()},ZlibBase.prototype._flush=function(t){this._transform(Buffer.alloc(0),"",t)},ZlibBase.prototype._final=function(t){t()};const flushiness=[];let i=0;const kFlushFlagList=[Z_NO_FLUSH,Z_BLOCK,Z_PARTIAL_FLUSH,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH];for(const t of kFlushFlagList)flushiness[t]=i++;function maxFlush(t,e){return flushiness[t]>flushiness[e]?t:e}const kFlushBuffers=[];{const t=new ArrayBuffer;for(const e of kFlushFlagList)kFlushBuffers[e]=Buffer.from(t),kFlushBuffers[e][kFlushFlag]=e}ZlibBase.prototype.flush=function(t,e){(typeof t=="function"||t===void 0&&!e)&&(e=t,t=this._defaultFullFlushFlag),this.writableFinished?e&&process.nextTick(e):this.writableEnded?e&&this.once("end",e):this.write(kFlushBuffers[t],"",e)},ZlibBase.prototype.close=function(t){t&&finished(this,t),this.destroy()},ZlibBase.prototype._destroy=function(t,e){_close(this),e(t)},ZlibBase.prototype._transform=function(t,e,o){let r=this._defaultFlushFlag;typeof t[kFlushFlag]=="number"&&(r=t[kFlushFlag]),this.writableEnded&&this.writableLength===t.byteLength&&(r=maxFlush(r,this._finishFlushFlag)),processChunk(this,t,r,o)},ZlibBase.prototype._processChunk=function(t,e,o){if(typeof o=="function")processChunk(this,t,e,o);else return processChunkSync(this,t,e)};function processChunkSync(t,e,o){let r=e.byteLength,n=t._chunkSize-t._outOffset,f=0,s,l,a=null,c=0,R=0;const w=t._writeState,E=t._handle;let _=t._outBuffer,u=t._outOffset;const p=t._chunkSize;let y;for(t.on("error",function(h){y=h});;){if(E.writeSync(o,e,f,r,_,u,n),y)throw y;if(t[kError])throw t[kError];s=w[0],l=w[1];const d=r-l;R+=d;const h=n-s;if(h>0){const O=_.slice(u,u+h);if(u+=h,a?ArrayPrototypePush(a,O):a=[O],c+=O.byteLength,c>t._maxOutputLength)throw _close(t),new ERR_BUFFER_TOO_LARGE(t._maxOutputLength)}else assert(h===0,"have should not go down");if((s===0||u>=p)&&(n=p,u=0,_=Buffer.allocUnsafe(p)),s===0)f+=d,r=l;else break}return t.bytesWritten=R,_close(t),c===0?Buffer.alloc(0):a.length===1?a[0]:Buffer.concat(a,c)}function processChunk(t,e,o,r){const n=t._handle;if(!n)return process.nextTick(r);n.buffer=e,n.cb=r,n.availOutBefore=t._chunkSize-t._outOffset,n.availInBefore=e.byteLength,n.inOff=0,n.flushFlag=o,n.write(o,e,0,n.availInBefore,t._outBuffer,t._outOffset,n.availOutBefore)}function processCallback(){const t=this,e=this[owner_symbol],o=e._writeState;if(e.destroyed){this.buffer=null,this.cb();return}const r=o[0],n=o[1],f=t.availInBefore-n;e.bytesWritten+=f;const s=t.availOutBefore-r;if(s>0){const l=e._outBuffer.slice(e._outOffset,e._outOffset+s);e._outOffset+=s,e.push(l)}else assert(s===0,"have should not go down");if(e.destroyed){this.cb();return}if((r===0||e._outOffset>=e._chunkSize)&&(t.availOutBefore=e._chunkSize,e._outOffset=0,e._outBuffer=Buffer.allocUnsafe(e._chunkSize)),r===0){t.inOff+=f,t.availInBefore=n,this.write(t.flushFlag,this.buffer,t.inOff,t.availInBefore,e._outBuffer,e._outOffset,e._chunkSize);return}n>0&&e.push(null),this.buffer=null,this.cb()}function _close(t){!t._handle||(t._handle.close(),t._handle=null)}const zlibDefaultOpts={flush:Z_NO_FLUSH,finishFlush:Z_FINISH,fullFlush:Z_FULL_FLUSH};function Zlib(t,e){let o=Z_DEFAULT_WINDOWBITS,r=Z_DEFAULT_COMPRESSION,n=Z_DEFAULT_MEMLEVEL,f=Z_DEFAULT_STRATEGY,s;if(t){if((t.windowBits==null||t.windowBits===0)&&(e===INFLATE||e===GUNZIP||e===UNZIP))o=0;else{const a=Z_MIN_WINDOWBITS+(e===GZIP?1:0);o=checkRangesOrGetDefault(t.windowBits,"options.windowBits",a,Z_MAX_WINDOWBITS,Z_DEFAULT_WINDOWBITS)}if(r=checkRangesOrGetDefault(t.level,"options.level",Z_MIN_LEVEL,Z_MAX_LEVEL,Z_DEFAULT_COMPRESSION),n=checkRangesOrGetDefault(t.memLevel,"options.memLevel",Z_MIN_MEMLEVEL,Z_MAX_MEMLEVEL,Z_DEFAULT_MEMLEVEL),f=checkRangesOrGetDefault(t.strategy,"options.strategy",Z_DEFAULT_STRATEGY,Z_FIXED,Z_DEFAULT_STRATEGY),s=t.dictionary,s!==void 0&&!isArrayBufferView(s))if(isAnyArrayBuffer(s))s=Buffer.from(s);else throw new ERR_INVALID_ARG_TYPE("options.dictionary",["Buffer","TypedArray","DataView","ArrayBuffer"],s)}const l=new binding.Zlib(e);this._writeState=new Uint32Array(2),l.init(o,r,n,f,this._writeState,processCallback,s),ReflectApply(ZlibBase,this,[t,e,l,zlibDefaultOpts]),this._level=r,this._strategy=f}ObjectSetPrototypeOf(Zlib.prototype,ZlibBase.prototype),ObjectSetPrototypeOf(Zlib,ZlibBase);function paramsAfterFlushCallback(t,e,o){assert(this._handle,"zlib binding closed"),this._handle.params(t,e),this.destroyed||(this._level=t,this._strategy=e,o&&o())}Zlib.prototype.params=function(e,o,r){checkRangesOrGetDefault(e,"level",Z_MIN_LEVEL,Z_MAX_LEVEL),checkRangesOrGetDefault(o,"strategy",Z_DEFAULT_STRATEGY,Z_FIXED),this._level!==e||this._strategy!==o?this.flush(Z_SYNC_FLUSH,FunctionPrototypeBind(paramsAfterFlushCallback,this,e,o,r)):process.nextTick(r)};function Deflate(t){if(!(this instanceof Deflate))return new Deflate(t);ReflectApply(Zlib,this,[t,DEFLATE])}ObjectSetPrototypeOf(Deflate.prototype,Zlib.prototype),ObjectSetPrototypeOf(Deflate,Zlib);function Inflate(t){if(!(this instanceof Inflate))return new Inflate(t);ReflectApply(Zlib,this,[t,INFLATE])}ObjectSetPrototypeOf(Inflate.prototype,Zlib.prototype),ObjectSetPrototypeOf(Inflate,Zlib);function Gzip(t){if(!(this instanceof Gzip))return new Gzip(t);ReflectApply(Zlib,this,[t,GZIP])}ObjectSetPrototypeOf(Gzip.prototype,Zlib.prototype),ObjectSetPrototypeOf(Gzip,Zlib);function Gunzip(t){if(!(this instanceof Gunzip))return new Gunzip(t);ReflectApply(Zlib,this,[t,GUNZIP])}ObjectSetPrototypeOf(Gunzip.prototype,Zlib.prototype),ObjectSetPrototypeOf(Gunzip,Zlib);function DeflateRaw(t){if(t&&t.windowBits===8&&(t.windowBits=9),!(this instanceof DeflateRaw))return new DeflateRaw(t);ReflectApply(Zlib,this,[t,DEFLATERAW])}ObjectSetPrototypeOf(DeflateRaw.prototype,Zlib.prototype),ObjectSetPrototypeOf(DeflateRaw,Zlib);function InflateRaw(t){if(!(this instanceof InflateRaw))return new InflateRaw(t);ReflectApply(Zlib,this,[t,INFLATERAW])}ObjectSetPrototypeOf(InflateRaw.prototype,Zlib.prototype),ObjectSetPrototypeOf(InflateRaw,Zlib);function Unzip(t){if(!(this instanceof Unzip))return new Unzip(t);ReflectApply(Zlib,this,[t,UNZIP])}ObjectSetPrototypeOf(Unzip.prototype,Zlib.prototype),ObjectSetPrototypeOf(Unzip,Zlib);function createConvenienceMethod(t,e){return e?function(r,n){return zlibBufferSync(new t(n),r)}:function(r,n,f){return typeof n=="function"&&(f=n,n={}),zlibBuffer(new t(n),r,f)}}const kMaxBrotliParam=MathMaxApply(ArrayPrototypeMap(ObjectKeys(constants),t=>StringPrototypeStartsWith(t,"BROTLI_PARAM_")?constants[t]:0)),brotliInitParamsArray=new Uint32Array(kMaxBrotliParam+1),brotliDefaultOpts={flush:BROTLI_OPERATION_PROCESS,finishFlush:BROTLI_OPERATION_FINISH,fullFlush:BROTLI_OPERATION_FLUSH};function Brotli(t,e){assert(e===BROTLI_DECODE||e===BROTLI_ENCODE),TypedArrayPrototypeFill(brotliInitParamsArray,-1),t?.params&&ArrayPrototypeForEach(ObjectKeys(t.params),r=>{const n=+r;if(NumberIsNaN(n)||n<0||n>kMaxBrotliParam||(brotliInitParamsArray[n]|0)!=-1)throw new ERR_BROTLI_INVALID_PARAM(r);const f=t.params[r];if(typeof f!="number"&&typeof f!="boolean")throw new ERR_INVALID_ARG_TYPE("options.params[key]","number",t.params[r]);brotliInitParamsArray[n]=f});const o=e===BROTLI_DECODE?new binding.BrotliDecoder(e):new binding.BrotliEncoder(e);if(this._writeState=new Uint32Array(2),!o.init(brotliInitParamsArray,this._writeState,processCallback))throw new ERR_ZLIB_INITIALIZATION_FAILED;ReflectApply(ZlibBase,this,[t,e,o,brotliDefaultOpts])}ObjectSetPrototypeOf(Brotli.prototype,Zlib.prototype),ObjectSetPrototypeOf(Brotli,Zlib);function BrotliCompress(t){if(!(this instanceof BrotliCompress))return new BrotliCompress(t);ReflectApply(Brotli,this,[t,BROTLI_ENCODE])}ObjectSetPrototypeOf(BrotliCompress.prototype,Brotli.prototype),ObjectSetPrototypeOf(BrotliCompress,Brotli);function BrotliDecompress(t){if(!(this instanceof BrotliDecompress))return new BrotliDecompress(t);ReflectApply(Brotli,this,[t,BROTLI_DECODE])}ObjectSetPrototypeOf(BrotliDecompress.prototype,Brotli.prototype),ObjectSetPrototypeOf(BrotliDecompress,Brotli);function createProperty(t){return{configurable:!0,enumerable:!0,value:function(e){return new t(e)}}}ObjectDefineProperty(binding.Zlib.prototype,"jsref",{get(){return this[owner_symbol]},set(t){return this[owner_symbol]=t}}),module.exports={Deflate,Inflate,Gzip,Gunzip,DeflateRaw,InflateRaw,Unzip,BrotliCompress,BrotliDecompress,deflate:createConvenienceMethod(Deflate,!1),deflateSync:createConvenienceMethod(Deflate,!0),gzip:createConvenienceMethod(Gzip,!1),gzipSync:createConvenienceMethod(Gzip,!0),deflateRaw:createConvenienceMethod(DeflateRaw,!1),deflateRawSync:createConvenienceMethod(DeflateRaw,!0),unzip:createConvenienceMethod(Unzip,!1),unzipSync:createConvenienceMethod(Unzip,!0),inflate:createConvenienceMethod(Inflate,!1),inflateSync:createConvenienceMethod(Inflate,!0),gunzip:createConvenienceMethod(Gunzip,!1),gunzipSync:createConvenienceMethod(Gunzip,!0),inflateRaw:createConvenienceMethod(InflateRaw,!1),inflateRawSync:createConvenienceMethod(InflateRaw,!0),brotliCompress:createConvenienceMethod(BrotliCompress,!1),brotliCompressSync:createConvenienceMethod(BrotliCompress,!0),brotliDecompress:createConvenienceMethod(BrotliDecompress,!1),brotliDecompressSync:createConvenienceMethod(BrotliDecompress,!0)},ObjectDefineProperties(module.exports,{createDeflate:createProperty(Deflate),createInflate:createProperty(Inflate),createDeflateRaw:createProperty(DeflateRaw),createInflateRaw:createProperty(InflateRaw),createGzip:createProperty(Gzip),createGunzip:createProperty(Gunzip),createUnzip:createProperty(Unzip),createBrotliCompress:createProperty(BrotliCompress),createBrotliDecompress:createProperty(BrotliDecompress),constants:{configurable:!1,enumerable:!0,value:constants},codes:{enumerable:!0,writable:!1,value:ObjectFreeze(codes)}});for(const t of ObjectKeys(constants))StringPrototypeStartsWith(t,"BROTLI")||ObjectDefineProperty(module.exports,t,{enumerable:!1,value:constants[t],writable:!1});
}
]